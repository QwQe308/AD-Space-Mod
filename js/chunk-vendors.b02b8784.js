(self["webpackChunk"]=self["webpackChunk"]||[]).push([[504],{6743:(t,e,n)=>{"use strict";n.d(e,{$L:()=>B,$g:()=>A,A4:()=>f,Am:()=>X,As:()=>U,Cv:()=>W,FA:()=>F,Fy:()=>T,Hk:()=>o,I9:()=>Q,Im:()=>$,K3:()=>l,KA:()=>c,Ku:()=>lt,OE:()=>at,T9:()=>x,Tj:()=>w,Uj:()=>h,XA:()=>E,ZQ:()=>O,bD:()=>K,cY:()=>S,dI:()=>ot,eX:()=>P,g:()=>L,gR:()=>V,gz:()=>tt,hp:()=>J,jZ:()=>C,kH:()=>q,kj:()=>st,lT:()=>M,lV:()=>N,qc:()=>Y,sr:()=>I,tD:()=>et,u:()=>d,vA:()=>r,yU:()=>k,yw:()=>G,zW:()=>D});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},a=function(t){const e=[];let n=0,i=0;while(n<t.length){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=t[n++],s=t[n++],a=t[n++],l=((7&r)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],o=r+1<t.length,s=o?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,u=e>>2,c=(3&e)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),i.push(n[u],n[c],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],o=r<t.length,s=o?n[t.charAt(r)]:0;++r;const a=r<t.length,l=a?n[t.charAt(r)]:64;++r;const c=r<t.length,h=c?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==l||null==h)throw new u;const d=e<<2|s>>4;if(i.push(d),64!==l){const t=s<<4&240|l>>2;if(i.push(t),64!==h){const t=l<<6&192|h;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c=function(t){const e=s(t);return l.encodeByteArray(e,!0)},h=function(t){return c(t).replace(/\./g,"")},d=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&v(n)&&(t[n]=p(t[n],e[n]));return t}function v(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m=()=>g().__FIREBASE_DEFAULTS__,y=()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",BASE_URL:""}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0},_=()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&d(t[1]);return e&&JSON.parse(e)},b=()=>{try{return m()||y()||_()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},w=t=>{var e,n;return null===(n=null===(e=b())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},k=t=>{const e=w(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},x=()=>{var t;return null===(t=b())||void 0===t?void 0:t.config},E=t=>{var e;return null===(e=b())||void 0===e?void 0:e[`_${t}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[h(JSON.stringify(n)),h(JSON.stringify(s)),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function C(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function I(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function N(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function M(){const t=O();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function A(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function D(){try{return"object"===typeof indexedDB}catch(t){return!1}}function P(){return new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const R="FirebaseError";class L extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=R,Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,F.prototype.create)}}class F{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],o=r?j(r,n):"Error",s=`${this.serviceName}: ${o} (${i}).`,a=new L(i,s,n);return a}}function j(t,e){return t.replace(z,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}const z=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t){return JSON.parse(t)}function U(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=B(d(o[0])||""),n=B(d(o[1])||""),r=o[2],i=n["d"]||{},delete n["d"]}catch(o){}return{header:e,claims:n,data:i,signature:r}},W=function(t){const e=H(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},Y=function(t){const e=H(t).claims;return"object"===typeof e&&!0===e["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function G(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function $(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function q(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function K(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],o=e[r];if(Z(n)&&Z(o)){if(!K(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Z(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function X(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Q(t){const e={},n=t.replace(/^\?/,"").split("&");return n.forEach((t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}})),e}function J(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const n=this.W_;if("string"===typeof t)for(let c=0;c<16;c++)n[c]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let c=0;c<16;c++)n[c]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let c=16;c<80;c++){const t=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(t<<1|t>>>31)}let i,r,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(i=l^s&(a^l),r=1518500249):(i=s^a^l,r=1859775393):c<60?(i=s&a|l&(s|a),r=2400959708):(i=s^a^l,r=3395469782);const t=(o<<5|o>>>27)+i+u+r+n[c]&4294967295;u=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const n=e-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;while(i<e){if(0===o)while(i<=n)this.compress_(t,i),i+=this.blockSize;if("string"===typeof t){while(i<e)if(r[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else while(i<e)if(r[o]=t[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let e=24;e>=0;e-=8)t[n]=this.chain_[i]>>e&255,++n;return t}}function et(t,e){const n=new nt(t,e);return n.subscribe.bind(n)}class nt{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=it(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=rt),void 0===i.error&&(i.error=rt),void 0===i.complete&&(i.complete=rt);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}})),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function it(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}function rt(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){return`${t} failed: ${e} argument `}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const st=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const e=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate.");const n=t.charCodeAt(i)-56320;o=65536+(e<<10)+n}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},at=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function lt(t){return t&&t._delegate?t._delegate:t}},845:(t,e,n)=>{"use strict";function i(t,e,n,i,r,o,s,a){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=l):r&&(l=a?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:u}}n.d(e,{A:()=>i})},659:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ExtendedLogarithmNotation:()=>p,ExtendedScientificNotation:()=>v,SemiStackedScientificNotation:()=>m,StackedScientificNotation:()=>g,TetrationalNotation:()=>y,TrueTetrationalNotation:()=>_});var i=n(1635),r=n(9158),o=function(){function t(){}return t}(),s={isInfinite:function(t){return t.gte(r.A.tetrate(10,1e16))},numCommas:1e5,exponentDefaultPlaces:3};function a(t,e){return 0===e?t.slice(-3):t.slice(-3*(e+1),-3*e)}function l(t){return Array.from(Array(Math.ceil(t.length/3))).map((function(e,n){return a(t,n)})).reverse().join(",")}function u(t,e,n){if(n||0===e){var i=parseFloat(t.toPrecision(Math.max(e,1))).toString();return i}return t.toPrecision(e)}function c(t,e,n){if(t<=s.numCommas)return u(t,e,n);if(t<=1e9)return l(u(t,e,n));var i=t/Math.pow(10,Math.floor(Math.log10(t))),r=Math.floor(Math.log10(t));return"".concat(u(i,e,!1),"e").concat(u(r,e,!0))}function h(t,e){return t<1e9?"".concat(c(Math.pow(10,t%1),e,!1),"e").concat(c(Math.floor(t),String(Math.floor(t)).length,!0)):"e".concat(c(t,4,!0))}function d(t,e){var n=Number(u(t.mag,e,!0)),i=t;return n>=9e15&&(i.mag=Math.log10(i.mag),i.layer+=1),n<15.9&&(i.mag=Math.pow(10,i.mag),i.layer-=1),i}function f(t,e,n,i){var r={mag:t.mag,layer:t.layer,sign:t.sign};r=d(r,e);var o=i;return r.sign<=0&&(o="-".concat(o)),o+=c(r.layer-1,0,!1),o+=n,o+=h(r.mag,e),o}var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Extended Logarithm"},enumerable:!1,configurable:!0}),e.prototype.formatLDecimal=function(t,e){return t.isFinite?"".concat(-1===t.sign?"-":"","F").concat(c(t.abs().slog().toNumber(),e,!1)):"".concat(-1===t.sign?"-":"","Infinity")},e}(o),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Extended Scientific"},enumerable:!1,configurable:!0}),e.prototype.formatLDecimal=function(t,e){return t.isFinite?f(t,e,"E","F"):"".concat(-1===t.sign?"-":"","Infinity")},e}(o),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Stacked Scientific"},enumerable:!1,configurable:!0}),e.prototype.formatLDecimal=function(t,e){if(!t.isFinite)return"".concat(-1===t.sign?"-":"","Infinity");if(t.layer<=4){var n="";return n+="e".repeat(t.layer-1),"".concat(n).concat(c(Math.pow(10,t.mag%1),e,!1),"e").concat(c(Math.floor(t.mag),99,!0))}return f(t,e,"]","[e^")},e}(o),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Semi-Stacked Scientific"},enumerable:!1,configurable:!0}),e.prototype.formatLDecimal=function(t,e){if(!t.isFinite)return"".concat(-1===t.sign?"-":"","Infinity");if(t.layer<=4){var n="";return n+="e".repeat(t.layer-1),"".concat(n).concat(c(Math.pow(10,t.mag%1),e,!1),"e").concat(c(Math.floor(t.mag),99,!0))}return f(t,e,"E","F")},e}(o),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Tetrational"},enumerable:!1,configurable:!0}),e.prototype.formatLDecimal=function(t,e){return t.isFinite?f(t,e,"^","10^^"):"".concat(-1===t.sign?"-":"","Infinity")},e}(o),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"True Tetrational"},enumerable:!1,configurable:!0}),e.prototype.formatLDecimal=function(t,e){return t.isFinite?"".concat(-1===t.sign?"-":"","10^^").concat(c(t.abs().slog().toNumber(),e,!1)):"".concat(-1===t.sign?"-":"","Infinity")},e}(o)},7339:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AllNotation:()=>zt,BarNotation:()=>Et,BlindNotation:()=>Ft,BlobsNotation:()=>Lt,BracketsNotation:()=>L,ClockNotation:()=>at,CustomNotation:()=>x,DotsNotation:()=>Y,EmojiNotation:()=>O,EngineeringNotation:()=>k,HexNotation:()=>Z,ImperialNotation:()=>rt,InfinityNotation:()=>F,LettersNotation:()=>S,LogarithmNotation:()=>D,MixedEngineeringNotation:()=>A,MixedLogarithmSciNotation:()=>R,MixedScientificNotation:()=>N,Notation:()=>b,PrimeNotation:()=>bt,RomanNotation:()=>H,ScientificNotation:()=>w,Settings:()=>o,ShiNotation:()=>Tt,StandardNotation:()=>C,ZalgoNotation:()=>q,abbreviateStandard:()=>f,formatMantissa:()=>_,formatMantissaBaseTen:()=>y,formatMantissaWithExponent:()=>m});var i=n(9158),r=n(1635),o={isInfinite:function(t){return t.gte(new i.A("1e9000000000000000"))},exponentCommas:{show:!0,min:1e5,max:1e9},exponentDefaultPlaces:3};function s(t,e){return 0===e?t.slice(-3):t.slice(-3*(e+1),-3*e)}function a(t){return Array.from(Array(Math.ceil(t.length/3))).map((function(e,n){return s(t,n)})).reverse().join(",")}function l(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\w+$/g,a),e.join(".")}function u(t){var e=t.exponent%3;return i.A.fromMantissaExponent_noNormalize(t.mantissa*Math.pow(10,e),t.exponent-e)}var c=["K","M","B","T","Qa","Qt","Sx","Sp","Oc","No"],h=[["","U","D","T","Qa","Qt","Sx","Sp","O","N"],["","Dc","Vg","Tg","Qd","Qi","Se","St","Og","Nn"],["","Ce","Dn","Tc","Qe","Qu","Sc","Si","Oe","Ne"]],d=["","MI-","MC-","NA-","PC-","FM-","AT-","ZP-"];function f(t){var e=t-1;if(-1===e)return"";if(e<c.length)return c[e];var n=[],i=e;while(i>0)n.push(h[n.length%3][i%10]),i=Math.floor(i/10);while(n.length%3!==0)n.push("");for(var r="",o=n.length/3-1;o>=0;o--)r+=n.slice(3*o,3*o+3).join("")+d[o];return r.replace(/-[A-Z]{2}-/g,"-").replace(/U([A-Z]{2}-)/g,"$1").replace(/-$/,"")}function p(t){return t<o.exponentCommas.min}function v(t){return o.exponentCommas.show&&t<o.exponentCommas.max}function g(t){return p(t)||v(t)}function m(t,e,n,r,o,s,a){return void 0===s&&(s="e"),void 0===a&&(a=!1),function(l,u,c){var h=Math.pow(n,r),d=Math.floor(l.exponent/Math.log10(h))*r;a&&(d=Math.max(d,0));var f=l.div(i.A.pow(n,d)).toNumber();if(!(1<=f&&f<h)){var p=Math.floor(Math.log(f)/Math.log(h));f/=Math.pow(h,p),d+=r*p}var v=t(f,u);if(v===t(h,u)&&(v=t(1,u),d+=r),0===d)return v;var m=e(d,c);return"undefined"===typeof o||g(d)||(v=o(f,u)),"".concat(v).concat(s).concat(m)}}function y(t,e){return t.toFixed(Math.max(0,e))}function _(t,e){return function(n,i){var r=Math.round(n*Math.pow(t,Math.max(0,i))),o=[];while(r>0||0===o.length)o.push(e[r%t]),r=Math.floor(r/t);var s=o.reverse().join("");return i>0&&(s=s.padStart(i+1,"0"),s="".concat(s.slice(0,-i),".").concat(s.slice(-i))),s}}var b=function(){function t(){}return t.prototype.format=function(t,e,n,r){if(void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=e),"number"===typeof t&&!Number.isFinite(t))return this.infinite;var s=i.A.fromValue_noAlloc(t);if(s.exponent<-300)return s.sign<0?this.formatVerySmallNegativeDecimal(s.abs(),n):this.formatVerySmallDecimal(s,n);if(s.exponent<3){var a=s.toNumber();return a<0?this.formatNegativeUnder1000(Math.abs(a),n):this.formatUnder1000(a,n)}return o.isInfinite(s.abs())?s.sign<0?this.negativeInfinite:this.infinite:s.sign<0?this.formatNegativeDecimal(s.abs(),e,r):this.formatDecimal(s,e,r)},Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return"-".concat(this.infinite)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"Infinite"},enumerable:!1,configurable:!0}),t.prototype.formatVerySmallNegativeDecimal=function(t,e){return"-".concat(this.formatVerySmallDecimal(t,e))},t.prototype.formatVerySmallDecimal=function(t,e){return this.formatUnder1000(t.toNumber(),e)},t.prototype.formatNegativeUnder1000=function(t,e){return"-".concat(this.formatUnder1000(t,e))},t.prototype.formatUnder1000=function(t,e){return t.toFixed(e)},t.prototype.formatNegativeDecimal=function(t,e,n){return"-".concat(this.formatDecimal(t,e,n))},t.prototype.formatExponent=function(t,e,n,i){return void 0===e&&(e=o.exponentDefaultPlaces),void 0===n&&(n=function(t,e){return t.toString()}),void 0===i&&(i=Math.max(2,e)),p(t)?n(t,Math.max(e,1)):v(t)?l(n(t,0)):this.format(t,i,i)},t}(),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Scientific"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){return m(y,this.formatExponent.bind(this),10,1,(function(t,e){return y(t,0)}))(t,e,n)},e}(b),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Engineering"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){return m(y,this.formatExponent.bind(this),10,3,(function(t,e){return y(t,0)}))(t,e,n)},e}(b),x=function(t){function e(e,n,i){void 0===n&&(n=""),void 0===i&&(i="");var r=this;if(e.length<2)throw new Error("The supplied letter sequence must contain at least 2 letters");return r=t.call(this)||this,r.letters=e,r.mantissaExponentSeparator=n,r.separator=i,r}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Custom"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e){var n=u(t),i=n.mantissa.toFixed(e);return i+this.mantissaExponentSeparator+this.transcribe(n.exponent).join(this.separator)},e.prototype.transcribe=function(t){var e=t/3,n=this.letters.length;if(e<=n)return[this.letters[e-1]];var i=[];while(e>n){var r=e%n,o=(0===r?n:r)-1;i.push(this.letters[o]),e=(e-r)/n,0===r&&e--}return i.push(this.letters[e-1]),i.reverse()},e}(k),E="abcdefghijklmnopqrstuvwxyz",S=function(t){function e(){return t.call(this,E)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Letters"},enumerable:!1,configurable:!0}),e}(x),T=["üò†","üéÇ","üéÑ","üíÄ","üçÜ","üë™","üåà","üíØ","üç¶","üéÉ","üíã","üòÇ","üåô","‚õî","üêô","üí©","‚ùì","‚ò¢","üôà","üëç","‚òÇ","‚úå","‚ö†","‚ùå","üòã","‚ö°"],O=function(t){function e(){return t.call(this,T)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Emoji"},enumerable:!1,configurable:!0}),e}(x),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Standard",e}return(0,r.C6)(e,t),e.prototype.formatDecimal=function(t,e,n){return m(y,f,1e3,1,void 0," ",!0)(t,e,n)},e}(b),I=new C,N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Mixed scientific"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){return t.max(1).log10().lt(33)?I.formatDecimal(t,e,n):m(y,this.formatExponent.bind(this),10,1,(function(t,e){return y(t,0)}))(t,e,n)},e}(b),M=new C,A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Mixed engineering"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){return t.max(1).log10().lt(33)?M.formatDecimal(t,e,n):m(y,this.formatExponent.bind(this),10,3,(function(t,e){return y(t,0)}))(t,e,n)},e}(b),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Logarithm"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){var i=t.max(1).log10().toNumber();return"e".concat(this.formatExponent(i,e,(function(t,e){return t.toFixed(e)}),n))},e}(b),P=new w,R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Mixed Logarithm (Sci)"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){if(t.lt(1e33))return P.formatDecimal(t,e,n);var i=t.max(1).log10().toNumber();return"e".concat(this.formatExponent(i,e,(function(t,e){return t.toFixed(e)}),n))},e}(b),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Brackets"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t){var e=[")","[","{","]","(","}"],n=Math.LN10/Math.log(6)*t.max(1).log10().toNumber(),i=Math.floor(n),r=n-i,o=Math.floor(36*r),s="";while(i>=6){var a=i%6;i-=a,i/=6,s=e[a]+s}return s="e".concat(e[i]).concat(s,"."),s+=e[Math.floor(o/6)],s+=e[o%6],s},e}(b),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Infinity"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e){var n=t.log(Number.MAX_VALUE),i=n.lt(1e3)?4:3,r=n.toFixed(Math.max(i,e));return o.exponentCommas.show?"".concat(l(r),"‚àû"):"".concat(r,"‚àû")},e}(b),j=[[1e6,"MÃÑ"],[9e5,"CÃÑMÃÑ"],[5e5,"DÃÑ"],[4e5,"CÃÑDÃÑ"],[1e5,"CÃÑ"],[9e4,"XÃÑCÃÑ"],[5e4,"LÃÑ"],[4e4,"XÃÑLÃÑ"],[1e4,"XÃÑ"],[9e3,"‚ÖØXÃÑ"],[5e3,"VÃÑ"],[4e3,"‚ÖØVÃÑ"],[1e3,"‚ÖØ"],[900,"‚Ö≠‚ÖØ"],[500,"‚ÖÆ"],[400,"‚Ö≠‚ÖÆ"],[100,"‚Ö≠"],[90,"‚Ö©‚Ö≠"],[50,"‚Ö¨"],[40,"‚Ö©‚Ö¨"],[10,"‚Ö©"],[9,"‚Ö†‚Ö©"],[5,"‚Ö§"],[4,"‚Ö†‚Ö§"],[1,"‚Ö†"]],z=["","¬∑",":","‚à¥","‚à∑","‚Åô"],B=4e6,U=Math.log10(B),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Roman"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"Infinitus"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(t){return this.romanize(t)},e.prototype.formatDecimal=function(t){if(t.lt(B))return this.romanize(t.toNumber());var e=t.max(1).log10().toNumber(),n=e/U,r=Math.pow(B,n-Math.floor(n));return"".concat(this.romanize(r),"‚Üë").concat(this.formatDecimal(new i.A(n)))},e.prototype.romanize=function(t){for(var e="",n=0,i=j;n<i.length;n++){var r=i[n],o=r[0],s=r[1];while(o<=t)e+=s,t-=o}var a=Math.round(1.2*Math.floor(10*t));return 0===a?""===e?"nulla":e:(a>5&&(a-=6,e+="Ôº≥"),e+=z[a],e)},e}(b),W="‚†Ä‚†Å‚†Ç‚†É‚†Ñ‚†Ö‚†Ü‚†á‚†à‚†â‚†ä‚†ã‚†å‚†ç‚†é‚†è‚†ê‚†ë‚†í‚†ì‚†î‚†ï‚†ñ‚†ó‚†ò‚†ô‚†ö‚†õ‚†ú‚†ù‚†û‚†ü‚††‚†°‚†¢‚†£‚†§‚†•‚†¶‚†ß‚†®‚†©‚†™‚†´‚†¨‚†≠‚†Æ‚†Ø‚†∞‚†±‚†≤‚†≥‚†¥‚†µ‚†∂‚†∑‚†∏‚†π‚†∫‚†ª‚†º‚†Ω‚†æ‚†ø‚°Ä‚°Å‚°Ç‚°É‚°Ñ‚°Ö‚°Ü‚°á‚°à‚°â‚°ä‚°ã‚°å‚°ç‚°é‚°è‚°ê‚°ë‚°í‚°ì‚°î‚°ï‚°ñ‚°ó‚°ò‚°ô‚°ö‚°õ‚°ú‚°ù‚°û‚°ü‚°†‚°°‚°¢‚°£‚°§‚°•‚°¶‚°ß‚°®‚°©‚°™‚°´‚°¨‚°≠‚°Æ‚°Ø‚°∞‚°±‚°≤‚°≥‚°¥‚°µ‚°∂‚°∑‚°∏‚°π‚°∫‚°ª‚°º‚°Ω‚°æ‚°ø‚¢Ä‚¢Å‚¢Ç‚¢É‚¢Ñ‚¢Ö‚¢Ü‚¢á‚¢à‚¢â‚¢ä‚¢ã‚¢å‚¢ç‚¢é‚¢è‚¢ê‚¢ë‚¢í‚¢ì‚¢î‚¢ï‚¢ñ‚¢ó‚¢ò‚¢ô‚¢ö‚¢õ‚¢ú‚¢ù‚¢û‚¢ü‚¢†‚¢°‚¢¢‚¢£‚¢§‚¢•‚¢¶‚¢ß‚¢®‚¢©‚¢™‚¢´‚¢¨‚¢≠‚¢Æ‚¢Ø‚¢∞‚¢±‚¢≤‚¢≥‚¢¥‚¢µ‚¢∂‚¢∑‚¢∏‚¢π‚¢∫‚¢ª‚¢º‚¢Ω‚¢æ‚¢ø‚£Ä‚£Å‚£Ç‚£É‚£Ñ‚£Ö‚£Ü‚£á‚£à‚£â‚£ä‚£ã‚£å‚£ç‚£é‚£è‚£ê‚£ë‚£í‚£ì‚£î‚£ï‚£ñ‚£ó‚£ò‚£ô‚£ö‚£õ‚£ú‚£ù‚£û‚£ü‚£†‚£°‚£¢‚££‚£§‚£•‚£¶‚£ß‚£®‚£©‚£™‚£´‚£¨‚£≠‚£Æ‚£Ø‚£∞‚£±‚£≤‚£≥‚£¥‚£µ‚£∂‚£∑‚£∏‚£π‚£∫‚£ª‚£º‚£Ω‚£æ‚£ø",Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Dots"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"‚£ø‚†Ä‚£ø"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(t){return this.dotify(254*t)},e.prototype.formatDecimal=function(t){if(t.lt(16387063.9980315))return this.dotify(254*t.toNumber());var e=t.max(1).log10().toNumber()/Math.log10(254),n=Math.floor(e-2),i=Math.pow(254,e-n);return"".concat(this.dotify(n),"‚£ø").concat(this.dotify(254*i))},e.prototype.dotify=function(t,e){void 0===e&&(e=!1);var n=Math.round(t);return!e&&n<254?W[n+1]:n<64516?W[Math.floor(n/254)+1]+W[n%254+1]:this.dotify(Math.floor(n/64516))+this.dotify(n%64516,!0)},e}(b),V=["Ãç","Ã∂","Õì","Ãø","“â","Ã∞","Ãö","Ã∏","Õö","Ã∑"],G=["H","E"," ","C","O","M","E","S"];function $(t){return t[Math.floor(Math.random()*t.length)]}for(var q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Zalgo"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return G.map((function(t){return t+$(V)})).join("")},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(t){return this.heComes(new i.A(t))},e.prototype.formatDecimal=function(t){return this.heComes(t)},e.prototype.heComes=function(t){for(var e=(t.plus(1).exponent+Math.log(Math.max(t.mantissa,1)))/66666*1e3,n=Number(e.toFixed(2)),i=Math.floor(Math.abs(Math.pow(2,30)*(e-n))),r=Array.from(l(n)),o=Array.from(i.toString()+e.toFixed(0)),s=0;s<o.length;s++){var a=parseInt(o[s],10),u=37*s%r.length;r[u]+=V[a]}return r.join("")},e}(b),K={positive:0,negative:1},Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Hex"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return"00000000"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"FFFFFFFF"},enumerable:!1,configurable:!0}),e.prototype.formatVerySmallNegativeDecimal=function(t){return this.formatDecimal(t.negate())},e.prototype.formatVerySmallDecimal=function(t){return this.formatDecimal(t)},e.prototype.formatNegativeUnder1000=function(t){return this.formatDecimal(new i.A(-t))},e.prototype.formatUnder1000=function(t){return this.formatDecimal(new i.A(t))},e.prototype.formatNegativeDecimal=function(t){return this.formatDecimal(t.negate())},e.prototype.formatDecimal=function(t){return this.rawValue(t,32).toString(16).toUpperCase().padStart(8,"0")},e.prototype.modifiedLogarithm=function(t){var e=Math.floor(t.max(1).log10().toNumber()/Math.log10(2)),n=i.A.pow(2,e),r=i.A.div(t,n).toNumber()-1;return e+r},e.prototype.isFinite=function(t){return"number"===typeof t?isFinite(t):isFinite(t.e)&&isFinite(t.mantissa)},e.prototype.rawValue=function(t,e){for(var n=t,r=[],o=0;o<e;o++){if(!this.isFinite(n))break;i.A.lt(n,0)?(r.push(K.negative),n=-this.modifiedLogarithm(i.A.times(n,-1))):(r.push(K.positive),n=this.modifiedLogarithm(n))}var s=parseInt(r.map((function(t){return t===K.positive?1:0})).join("").padEnd(e,"0"),2);return s!==Math.pow(2,e)-1&&(n>0||0===n&&s%2===1)&&(s+=1),s},e}(b),X=[[0,"pL",0],[61611520,"minim",0],[3696691200,"dram",1],[29573529600,"ounce",2],[118294118400,"gill",2],[236588236800,"cup",3],[473176473600,"pint",4],[946352947200,"quart",4],[3785411788800,"gallon",4],[0xf7e1e900000,"pin",3],[34068706099200,"firkin",3],[68137412198400,"kilderkin",4],[0x7bf0f4800000,"barrel",4],[0xb9e96ec00000,"hogshead",5],[0xf7e1e9000000,"puncheon",6],[408824473190400,"butt",7],[817648946380800,"tun",7]],Q=X[1],J=["minute ","tiny ","petite ","small ","modest ","medium ","generous ","large ","great ","grand ","huge ","gigantic ","immense ","colossal ","vast ","galactic ","cosmic ","infinite ","eternal "],tt=new Set("aeiouAEIOU"),et=10*X[X.length-1][0],nt=Math.log10(et),it=Math.log10(et/Q[0]),rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Imperial"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(t){return this.formatDecimal(new i.A(t))},e.prototype.formatDecimal=function(t){if(t.lt(et))return this.convertToVolume(t.toNumber(),J[0]);var e=new i.A(10).pow(t.max(1).log10().min(nt)).exponent+Number(Math.log(Math.max(new i.A(10).pow(t.max(1).log10().min(nt)).mantissa,1))),n=1;while(e>it)n++,e/=it;return this.convertToVolume(Math.pow(10,e)*Q[0],J[n])},e.prototype.convertToVolume=function(t,e){var n=this.findVolumeUnit(t);if(0===n)return this.formatMetric(t);var i=this.checkSmallUnits(e,t,n);if(void 0!==i)return i;var r=X[n],o=Math.floor(t/r[0]),s=t-o*r[0];if(n<X.length-1){var a=this.checkAlmost(e,t,0,n+1);if(void 0!==a)return a}var l=this.checkAlmost(e,s,o,n);if(void 0!==l)return l;if(s<X[n-r[2]][0])return this.pluralOrArticle(o,e+r[1]);for(var u=Math.floor(s/X[n-1][0]),c=n-1,h=s-u*X[n-1][0],d=n-2;d>0&&d>n-r[2];--d){var f=X[d],p=Math.floor(s/f[0]);if(p>9&&1!==d)break;var v=s-p*f[0];v<.99*h&&(u=p,c=d,h=v)}return this.bigAndSmall(e,o,r,u,X[c])},e.prototype.formatMetric=function(t){return t<1e3?"".concat(t<10||t===Math.round(t)?t.toFixed(2):t.toFixed(0),"pL"):t<1e6?"".concat((t/1e3).toPrecision(4),"nL"):"".concat((t/1e6).toPrecision(4),"ŒºL")},e.prototype.checkSmallUnits=function(t,e,n){var i=X[n];if(n<=3&&e+9.5*Q[0]>X[n+1][0])return this.almostOrShortOf(e,t,1,X[n+1],Q);if(1===n){var r=Math.round(10*e/i[0]);if(10===r)return this.addArticle(t+i[1]);var o=r<100?1:0;return"".concat((r/10).toFixed(o)," ").concat(t).concat(i[1],"s")}if(2===n){var s=Math.floor(e/i[0]),a=e-s*i[0];if(a>50.5*Q[0])return this.almostOrShortOf(e,t,s+1,i,Q);var l=Math.round(a/Q[0]);return this.bigAndSmall(t,s,i,l,Q)}},e.prototype.findVolumeUnit=function(t){var e=0,n=X.length,i=0;while(n-e>1)i=Math.floor((e+n)/2),X[i][0]>t?n=i:e=i;return e},e.prototype.checkAlmost=function(t,e,n,i){var r=X[i];if(e+X[i-r[2]][0]>=r[0])return this.almost(t,n+1,r);var o=X[i+1-r[2]];return e+o[0]>=r[0]?this.shortOf(t,n+1,r,1,o):void 0},e.prototype.bigAndSmall=function(t,e,n,i,r){var o=this.pluralOrArticle(e,t+n[1]);return 0===i?o:"".concat(o," and ").concat(this.pluralOrArticle(i,r[1]))},e.prototype.almost=function(t,e,n){return"almost ".concat(this.pluralOrArticle(e,t+n[1]))},e.prototype.almostOrShortOf=function(t,e,n,i,r){var o=Math.round((n*i[0]-t)/r[0]);return 0===o?this.almost(e,n,i):this.shortOf(e,n,i,o,r)},e.prototype.shortOf=function(t,e,n,i,r){return"".concat(this.pluralOrArticle(i,r[1])," short of ").concat(this.pluralOrArticle(e,t+n[1]))},e.prototype.pluralOrArticle=function(t,e){return 1===t?this.addArticle(e):"".concat(t," ").concat(e,"s")},e.prototype.addArticle=function(t){return(tt.has(t[0])?"an ":"a ")+t},e}(b),ot=["üïõ","üïê","üïë","üïí","üïì","üïî","üïï","üïñ","üïó","üïò","üïô","üïö"],st=Math.log10(12),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Clock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"üïõüï°"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(t){return this.clockwise(new i.A(t))},e.prototype.formatDecimal=function(t){return this.clockwise(t)},e.prototype.clockwise=function(t){if(t.lt(12))return this.hour(t.toNumber());var e=t.max(1).log10().toNumber()/st,n=Math.floor(e);if(e<301){var i=(Math.pow(12,e-n+1)-12)/11;if(n<13)return this.hour(n-1)+this.hour(i);n-=13;var r="";return n>=144&&(r=this.hour(0),n-=144),r+this.hour(n/12)+this.hour(n%12)+this.hour(i)}n-=301;var o=1;while(n>=1728)n=(n-1728)/12,++o;return this.hour(o)+this.hour(n/144)+this.hour(n%144/12)+this.hour(n%12)},e.prototype.hour=function(t){return ot[Math.max(Math.min(Math.floor(t),11),0)]},e}(b),lt=10006,ut=new i.A(lt),ct=Math.log10(lt),ht=[],dt=new Array(lt).fill(!1),ft=Math.ceil(Math.sqrt(lt)),pt=2;pt<ft;pt++)if(!dt[pt]){ht.push(pt);for(var vt=pt;vt<=lt;vt+=pt)dt[vt]=!0}for(pt=ft;pt<lt;pt++)dt[pt]||ht.push(pt);for(var gt,mt=ht.length-1,yt=ht[mt],_t=["‚Å∞","¬π","¬≤","¬≥","‚Å¥","‚Åµ","‚Å∂","‚Å∑","‚Å∏","‚Åπ","¬π‚Å∞","¬π¬π","¬π¬≤","¬π¬≥"],bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Prime"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"Primefinity?"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(t){return this.primify(new i.A(t))},e.prototype.formatDecimal=function(t){return this.primify(t)},e.prototype.primify=function(t){if(t.lte(ut)){var e=Math.floor(t.toNumber());return 0===e?"0":1===e?"1":this.formatFromList(this.primesFromInt(e))}var n=(t.exponent+Math.log(Math.max(t.mantissa,1)))/ct,i=Math.pow(lt,n/Math.ceil(n));if(n<=lt)return this.formatBaseExp(i,n);var r=Math.log10(n)/Math.log10(lt),o=Math.ceil(r);n=Math.pow(lt,r/o),i=Math.pow(lt,n/Math.ceil(n));var s=this.primesFromInt(o),a=1===s.length?_t[s[0]]:"^(".concat(this.formatFromList(s),")");return this.formatBaseExp(i,n)+a},e.prototype.formatBaseExp=function(t,e){var n=this.formatFromList(this.primesFromInt(Math.floor(t))),i=this.formatFromList(this.primesFromInt(Math.ceil(e)));return"(".concat(n,")^(").concat(i,")")},e.prototype.formatFromList=function(t){for(var e=[],n=0,i=0,r=0;r<t.length;r++)t[r]===n?i++:(n>0&&(i>1?e.push("".concat(n).concat(_t[i])):e.push(n)),n=t[r],i=1),r===t.length-1&&(i>1?e.push("".concat(t[r]).concat(_t[i])):e.push(t[r]));return e.join("√ó")},e.prototype.findGreatestLtePrimeIndex=function(t){if(t>=yt)return mt;var e=0,n=mt;while(n!==e+1){var i=Math.floor((n+e)/2),r=ht[i];if(r===t)return i;t<r?n=i:e=i}return e},e.prototype.primesFromInt=function(t){var e=[],n=t;while(1!==n){var i=this.findGreatestLtePrimeIndex(n),r=ht[i];if(r===n){e.push(n);break}var o=n/2,s=this.findGreatestLtePrimeIndex(o),a=void 0;while(void 0===a){var l=ht[s--];n%l===0&&(a=l)}n/=a,e.push(a)}return e.reverse()},e}(b),wt=["Ôê°","Ôê¢","Ôê£","Ôê§","Ôê•","Ôê¶","Ôêß","Ôê®"],kt=["Ôê±","Ôê≤","Ôê≥","Ôê¥","Ôêµ","Ôê∂","Ôê∑","Ôê∏"],xt=Math.log(8),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Bar"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return"Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏Ôê∏"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®Ôê®"},enumerable:!1,configurable:!0}),e.prototype.formatVerySmallNegativeDecimal=function(t){return this.flipBars(this.formatDecimal(t))},e.prototype.formatVerySmallDecimal=function(t){return this.formatDecimal(t)},e.prototype.formatNegativeUnder1000=function(t){return this.flipBars(this.formatDecimal(new i.A(t)))},e.prototype.formatUnder1000=function(t){return this.formatDecimal(new i.A(t))},e.prototype.formatNegativeDecimal=function(t){return this.flipBars(this.formatDecimal(t))},e.prototype.formatDecimal=function(t){if(t.eq(0))return"0";if(t.lessThan(1)&&t.greaterThan(0))return"/".concat(this.formatDecimal(i.A.div(1,t)));var e=Math.LN10/xt*t.max(1).log10().floor().toNumber(),n=Math.floor(e),r=e-n,o=Math.floor(64*r),s=[wt[o%8],wt[Math.floor(o/8)]];while(n>=8){var a=n%8;n=(n-a)/8,s.push(wt[a])}return s.push(wt[n]),s.join("")},e.prototype.flipBars=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var r=i[n];e.push(kt[wt.indexOf(r)])}return e.join("")},e}(b),St="‰∏ñ‰Ωø‰æçÂã¢ÂçÅÂè≤ÂóúÂ£´ÂßãÂÆ§ÂØ¶Â±çÂ∏ÇÊÅÉÊã≠ÊãæÊñΩÊòØÊôÇÊ∞èÊøïÁçÖÁü¢Áü≥Ë¶ñË©¶Ë©©Ë™ìË≠òÈÄùÈÅ©ÈáãÈ£ü",Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Shi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return this.shi(new i.A(Number.MAX_VALUE))},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(t){return this.shi(new i.A(t))},e.prototype.formatDecimal=function(t){return this.shi(t)},e.prototype.getShiCharacter=function(t){return St[Math.floor(t)%St.length]},e.prototype.shi=function(t){for(var e=Math.pow(1e3*t.plus(1).max(1).log10().floor().toNumber(),.08),n="",i=0;i<3;i++)n+=this.getShiCharacter(e*Math.pow(St.length,i));return n},e}(b),Ot=23,Ct="ÓÄê",It=null!==(gt=Ct.codePointAt(0))&&void 0!==gt?gt:65,Nt="ÓÄß",Mt="ÓÄ®",At=[],Dt=0;Dt<Ot;Dt++){var Pt=String.fromCharCode(It+Dt);At.push(Pt)}var Rt=Math.log10(3),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Blobs"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"".concat(Nt)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return"".concat(Mt).concat(Nt)},enumerable:!1,configurable:!0}),e.prototype.formatNegativeUnder1000=function(t){return"".concat(Mt).concat(this.blobify(new i.A(t-1)))},e.prototype.formatNegativeDecimal=function(t){return"".concat(Mt).concat(this.blobify(t.minus(1)))},e.prototype.formatUnder1000=function(t){return this.blobify(new i.A(t))},e.prototype.formatDecimal=function(t){return this.blobify(t)},e.prototype.blobify=function(t){var e=this.reduceNumber(t.abs());return e<Ot?At[Math.floor(e)]:Math.floor(e/Ot)<Ot+1?At[Math.floor(e/Ot)-1]+At[Math.floor(e%Ot)]:this.blobify(i.A.floor(e/Ot-1))+At[Math.floor(e%Ot)]},e.prototype.reduceNumber=function(t){return t.lte(1e3)?t.toNumber():(Math.log10(t.max(1).log10().toNumber())-Rt)/Math.log10(1.0002)+1e3},e}(b),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Blind"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return" "},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return" "},enumerable:!1,configurable:!0}),e.prototype.formatVerySmallNegativeDecimal=function(){return" "},e.prototype.formatVerySmallDecimal=function(){return" "},e.prototype.formatNegativeUnder1000=function(){return" "},e.prototype.formatUnder1000=function(){return" "},e.prototype.formatNegativeDecimal=function(){return" "},e.prototype.formatDecimal=function(){return" "},e}(b),jt=[new w,new S,new C,new D,new L,new F,new H,new Y,new q,new Z,new rt,new at,new bt,new Et,new Tt,new Lt,new Ft],zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"ALL"},enumerable:!1,configurable:!0}),e.prototype.formatNegativeUnder1000=function(t,e){return this.formatDecimal(new i.A(-t),e)},e.prototype.formatUnder1000=function(t,e){return this.formatDecimal(new i.A(t),e)},e.prototype.formatNegativeDecimal=function(t,e){return this.formatDecimal(new i.A(-t),e)},e.prototype.formatDecimal=function(t,e){var n=Math.floor(Math.log2(t.abs().plus(2).max(1).log10().toNumber()/Math.log10(2))),i=jt[n%jt.length];return i.format(t,e,e)},e}(b)},9158:(t,e,n)=>{"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,{A:()=>N});var s=function(){function t(e){i(this,t),this.map=new Map,this.first=void 0,this.last=void 0,this.maxSize=e}return o(t,[{key:"size",get:function(){return this.map.size}},{key:"get",value:function(t){var e=this.map.get(t);if(void 0!==e)return e!==this.first&&(e===this.last?(this.last=e.prev,this.last.next=void 0):(e.prev.next=e.next,e.next.prev=e.prev),e.next=this.first,this.first.prev=e,this.first=e),e.value}},{key:"set",value:function(t,e){if(!(this.maxSize<1)){if(this.map.has(t))throw new Error("Cannot update existing keys in the cache");var n=new a(t,e);void 0===this.first?(this.first=n,this.last=n):(n.next=this.first,this.first.prev=n,this.first=n),this.map.set(t,n);while(this.map.size>this.maxSize){var i=this.last;this.map["delete"](i.key),this.last=i.prev,this.last.next=void 0}}}}]),t}(),a=o((function t(e,n){i(this,t),this.next=void 0,this.prev=void 0,this.key=e,this.value=n})),l=17,u=9e15,c=Math.log10(9e15),h=1/9e15,d=308,f=-324,p=5,v=1023,g=function(){for(var t=[],e=f+1;e<=d;e++)t.push(Number("1e"+e));var n=323;return function(e){return t[e+n]}}(),m=[2,Math.E,3,4,5,6,7,8,9,10],y=[[1,1.0891180521811203,1.1789767925673957,1.2701455431742086,1.3632090180450092,1.4587818160364217,1.5575237916251419,1.6601571006859253,1.767485818836978,1.8804192098842727,2],[1,1.1121114330934079,1.231038924931609,1.3583836963111375,1.4960519303993531,1.6463542337511945,1.8121385357018724,1.996971324618307,2.2053895545527546,2.4432574483385254,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.1840100246247336,1.4061375836156955,1.6802272208863964,2.026757028388619,2.4770056063449646,3.080525271755482,3.9191964192627284,5.135152840833187,6.989961179534715,10]],_=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]],b=function(t){return N.fromValue_noAlloc(t)},w=function(t,e,n){return N.fromComponents(t,e,n)},k=function(t,e,n){return N.fromComponents_noNormalize(t,e,n)},x=function(t,e){var n=e+1,i=Math.ceil(Math.log10(Math.abs(t))),r=Math.round(t*Math.pow(10,n-i))*Math.pow(10,i-n);return parseFloat(r.toFixed(Math.max(n-i,0)))},E=function(t){return Math.sign(t)*Math.log10(Math.abs(t))},S=function(t){if(!isFinite(t))return t;if(t<-50)return t===Math.trunc(t)?Number.NEGATIVE_INFINITY:0;var e=1;while(t<10)e*=t,++t;t-=1;var n=.9189385332046727;n+=(t+.5)*Math.log(t),n-=t;var i=t*t,r=t;return n+=1/(12*r),r*=i,n+=1/(360*r),r*=i,n+=1/(1260*r),r*=i,n+=1/(1680*r),r*=i,n+=1/(1188*r),r*=i,n+=691/(360360*r),r*=i,n+=7/(1092*r),r*=i,n+=3617/(122400*r),Math.exp(n)/e},T=.36787944117144233,O=.5671432904097838,C=function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-10;if(!Number.isFinite(t))return t;if(0===t)return t;if(1===t)return O;e=t<10?0:Math.log(t)-Math.log(Math.log(t));for(var r=0;r<100;++r){if(n=(t*Math.exp(-e)+e*e)/(e+1),Math.abs(n-e)<i*Math.abs(n))return n;e=n}throw Error("Iteration failed to converge: ".concat(t.toString()))};function I(t){var e,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-10;if(!Number.isFinite(t.mag))return t;if(t.eq(N.dZero))return t;if(t.eq(N.dOne))return N.fromNumber(O);e=N.ln(t);for(var s=0;s<100;++s){if(n=e.neg().exp(),i=e.sub(t.mul(n)),r=e.sub(i.div(e.add(1).sub(e.add(2).mul(i).div(N.mul(2,e).add(2))))),N.abs(r.sub(e)).lt(N.abs(r).mul(o)))return r;e=r}throw Error("Iteration failed to converge: ".concat(t.toString()))}var N=function(){function t(e){i(this,t),this.sign=0,this.mag=0,this.layer=0,e instanceof t?this.fromDecimal(e):"number"===typeof e?this.fromNumber(e):"string"===typeof e&&this.fromString(e)}return o(t,[{key:"m",get:function(){if(0===this.sign)return 0;if(0===this.layer){var t,e=Math.floor(Math.log10(this.mag));return t=5e-324===this.mag?5:this.mag/g(e),this.sign*t}if(1===this.layer){var n=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,n)}return this.sign},set:function(t){this.layer<=2?this.fromMantissaExponent(t,this.e):(this.sign=Math.sign(t),0===this.sign&&(this.layer=0,this.exponent=0))}},{key:"e",get:function(){return 0===this.sign?0:0===this.layer?Math.floor(Math.log10(this.mag)):1===this.layer?Math.floor(this.mag):2===this.layer?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY},set:function(t){this.fromMantissaExponent(this.m,t)}},{key:"s",get:function(){return this.sign},set:function(t){0===t?(this.sign=0,this.layer=0,this.mag=0):this.sign=t}},{key:"mantissa",get:function(){return this.m},set:function(t){this.m=t}},{key:"exponent",get:function(){return this.e},set:function(t){this.e=t}},{key:"normalize",value:function(){if(0===this.sign||0===this.mag&&0===this.layer||this.mag===Number.NEGATIVE_INFINITY&&this.layer>0&&Number.isFinite(this.layer))return this.sign=0,this.mag=0,this.layer=0,this;if(0===this.layer&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY||this.mag===Number.NEGATIVE_INFINITY||this.layer===Number.NEGATIVE_INFINITY)return 1==this.sign?(this.mag=Number.POSITIVE_INFINITY,this.layer=Number.POSITIVE_INFINITY):-1==this.sign&&(this.mag=Number.NEGATIVE_INFINITY,this.layer=Number.NEGATIVE_INFINITY),this;if(0===this.layer&&this.mag<h)return this.layer+=1,this.mag=Math.log10(this.mag),this;var t=Math.abs(this.mag),e=Math.sign(this.mag);if(t>=u)return this.layer+=1,this.mag=e*Math.log10(t),this;while(t<c&&this.layer>0)this.layer-=1,0===this.layer?this.mag=Math.pow(10,this.mag):(this.mag=e*Math.pow(10,t),t=Math.abs(this.mag),e=Math.sign(this.mag));return 0===this.layer&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):0===this.mag&&(this.sign=0)),(Number.isNaN(this.sign)||Number.isNaN(this.layer)||Number.isNaN(this.mag))&&(this.sign=Number.NaN,this.layer=Number.NaN,this.mag=Number.NaN),this}},{key:"fromComponents",value:function(t,e,n){return this.sign=t,this.layer=e,this.mag=n,this.normalize(),this}},{key:"fromComponents_noNormalize",value:function(t,e,n){return this.sign=t,this.layer=e,this.mag=n,this}},{key:"fromMantissaExponent",value:function(t,e){return this.layer=1,this.sign=Math.sign(t),t=Math.abs(t),this.mag=e+Math.log10(t),this.normalize(),this}},{key:"fromMantissaExponent_noNormalize",value:function(t,e){return this.fromMantissaExponent(t,e),this}},{key:"fromDecimal",value:function(t){return this.sign=t.sign,this.layer=t.layer,this.mag=t.mag,this}},{key:"fromNumber",value:function(t){return this.mag=Math.abs(t),this.sign=Math.sign(t),this.layer=0,this.normalize(),this}},{key:"fromString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e,r=t.fromStringCache.get(i);if(void 0!==r)return this.fromDecimal(r);e=e.replace(",","");var o=e.split("^^^");if(2===o.length){var s=parseFloat(o[0]),a=parseFloat(o[1]),l=o[1].split(";"),u=1;if(2===l.length&&(u=parseFloat(l[1]),isFinite(u)||(u=1)),isFinite(s)&&isFinite(a)){var c=t.pentate(s,a,u,n);return this.sign=c.sign,this.layer=c.layer,this.mag=c.mag,t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}}var h=e.split("^^");if(2===h.length){var d=parseFloat(h[0]),f=parseFloat(h[1]),p=h[1].split(";"),v=1;if(2===p.length&&(v=parseFloat(p[1]),isFinite(v)||(v=1)),isFinite(d)&&isFinite(f)){var g=t.tetrate(d,f,v,n);return this.sign=g.sign,this.layer=g.layer,this.mag=g.mag,t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}}var m,y,_=e.split("^");if(2===_.length){var k=parseFloat(_[0]),x=parseFloat(_[1]);if(isFinite(k)&&isFinite(x)){var S=t.pow(k,x);return this.sign=S.sign,this.layer=S.layer,this.mag=S.mag,t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}}e=e.trim().toLowerCase();var T=e.split("pt");if(2===T.length){m=10,y=parseFloat(T[0]),T[1]=T[1].replace("(",""),T[1]=T[1].replace(")","");var O=parseFloat(T[1]);if(isFinite(O)||(O=1),isFinite(m)&&isFinite(y)){var C=t.tetrate(m,y,O,n);return this.sign=C.sign,this.layer=C.layer,this.mag=C.mag,t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}}if(T=e.split("p"),2===T.length){m=10,y=parseFloat(T[0]),T[1]=T[1].replace("(",""),T[1]=T[1].replace(")","");var I=parseFloat(T[1]);if(isFinite(I)||(I=1),isFinite(m)&&isFinite(y)){var N=t.tetrate(m,y,I,n);return this.sign=N.sign,this.layer=N.layer,this.mag=N.mag,t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}}if(T=e.split("f"),2===T.length){m=10,T[0]=T[0].replace("(",""),T[0]=T[0].replace(")","");var M=parseFloat(T[0]);if(T[1]=T[1].replace("(",""),T[1]=T[1].replace(")",""),y=parseFloat(T[1]),isFinite(M)||(M=1),isFinite(m)&&isFinite(y)){var A=t.tetrate(m,y,M,n);return this.sign=A.sign,this.layer=A.layer,this.mag=A.mag,t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}}var D=e.split("e"),P=D.length-1;if(0===P){var R=parseFloat(e);if(isFinite(R))return this.fromNumber(R),t.fromStringCache.size>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}else if(1===P){var L=parseFloat(e);if(isFinite(L)&&0!==L)return this.fromNumber(L),t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}var F=e.split("e^");if(2===F.length){this.sign=1,"-"==F[0].charAt(0)&&(this.sign=-1);for(var j="",z=0;z<F[1].length;++z){var B=F[1].charCodeAt(z);if(!(B>=43&&B<=57||101===B))return this.layer=parseFloat(j),this.mag=parseFloat(F[1].substr(z+1)),this.normalize(),t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this;j+=F[1].charAt(z)}}if(P<1)return this.sign=0,this.layer=0,this.mag=0,t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this;var U=parseFloat(D[0]);if(0===U)return this.sign=0,this.layer=0,this.mag=0,t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this;var H=parseFloat(D[D.length-1]);if(P>=2){var W=parseFloat(D[D.length-2]);isFinite(W)&&(H*=Math.sign(W),H+=E(W))}if(isFinite(U))if(1===P)this.sign=Math.sign(U),this.layer=1,this.mag=H+Math.log10(Math.abs(U));else{if(this.sign=Math.sign(U),this.layer=P,2===P){var Y=t.mul(w(1,2,H),b(U));return this.sign=Y.sign,this.layer=Y.layer,this.mag=Y.mag,t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}this.mag=H}else this.sign="-"===D[0]?-1:1,this.layer=P,this.mag=H;return this.normalize(),t.fromStringCache.maxSize>=1&&t.fromStringCache.set(i,t.fromDecimal(this)),this}},{key:"fromValue",value:function(e){return e instanceof t?this.fromDecimal(e):"number"===typeof e?this.fromNumber(e):"string"===typeof e?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}},{key:"toNumber",value:function(){return this.mag===Number.POSITIVE_INFINITY&&this.layer===Number.POSITIVE_INFINITY&&1===this.sign?Number.POSITIVE_INFINITY:this.mag===Number.NEGATIVE_INFINITY&&this.layer===Number.NEGATIVE_INFINITY&&-1===this.sign?Number.NEGATIVE_INFINITY:Number.isFinite(this.layer)?0===this.layer?this.sign*this.mag:1===this.layer?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}},{key:"mantissaWithDecimalPlaces",value:function(t){return isNaN(this.m)?Number.NaN:0===this.m?0:x(this.m,t)}},{key:"magnitudeWithDecimalPlaces",value:function(t){return isNaN(this.mag)?Number.NaN:0===this.mag?0:x(this.mag,t)}},{key:"toString",value:function(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY||this.mag===Number.NEGATIVE_INFINITY||this.layer===Number.NEGATIVE_INFINITY?1===this.sign?"Infinity":"-Infinity":0===this.layer?this.mag<1e21&&this.mag>1e-7||0===this.mag?(this.sign*this.mag).toString():this.m+"e"+this.e:1===this.layer?this.m+"e"+this.e:this.layer<=p?(-1===this.sign?"-":"")+"e".repeat(this.layer)+this.mag:(-1===this.sign?"-":"")+"(e^"+this.layer+")"+this.mag}},{key:"toExponential",value:function(t){return 0===this.layer?(this.sign*this.mag).toExponential(t):this.toStringWithDecimalPlaces(t)}},{key:"toFixed",value:function(t){return 0===this.layer?(this.sign*this.mag).toFixed(t):this.toStringWithDecimalPlaces(t)}},{key:"toPrecision",value:function(t){return this.e<=-7?this.toExponential(t-1):t>this.e?this.toFixed(t-this.exponent-1):this.toExponential(t-1)}},{key:"valueOf",value:function(){return this.toString()}},{key:"toJSON",value:function(){return this.toString()}},{key:"toStringWithDecimalPlaces",value:function(t){return 0===this.layer?this.mag<1e21&&this.mag>1e-7||0===this.mag?(this.sign*this.mag).toFixed(t):x(this.m,t)+"e"+x(this.e,t):1===this.layer?x(this.m,t)+"e"+x(this.e,t):this.layer<=p?(-1===this.sign?"-":"")+"e".repeat(this.layer)+x(this.mag,t):(-1===this.sign?"-":"")+"(e^"+this.layer+")"+x(this.mag,t)}},{key:"abs",value:function(){return k(0===this.sign?0:1,this.layer,this.mag)}},{key:"neg",value:function(){return k(-this.sign,this.layer,this.mag)}},{key:"negate",value:function(){return this.neg()}},{key:"negated",value:function(){return this.neg()}},{key:"sgn",value:function(){return this.sign}},{key:"round",value:function(){return this.mag<0?t.dZero:0===this.layer?w(this.sign,0,Math.round(this.mag)):this}},{key:"floor",value:function(){return this.mag<0?-1===this.sign?t.dNegOne:t.dZero:-1===this.sign?this.neg().ceil().neg():0===this.layer?w(this.sign,0,Math.floor(this.mag)):this}},{key:"ceil",value:function(){return this.mag<0?1===this.sign?t.dOne:t.dZero:-1===this.sign?this.neg().floor().neg():0===this.layer?w(this.sign,0,Math.ceil(this.mag)):this}},{key:"trunc",value:function(){return this.mag<0?t.dZero:0===this.layer?w(this.sign,0,Math.trunc(this.mag)):this}},{key:"add",value:function(e){var n,i,r=b(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(r.layer))return r;if(0===this.sign)return r;if(0===r.sign)return this;if(this.sign===-r.sign&&this.layer===r.layer&&this.mag===r.mag)return k(0,0,0);if(this.layer>=2||r.layer>=2)return this.maxabs(r);if(t.cmpabs(this,r)>0?(n=this,i=r):(n=r,i=this),0===n.layer&&0===i.layer)return t.fromNumber(n.sign*n.mag+i.sign*i.mag);var o=n.layer*Math.sign(n.mag),s=i.layer*Math.sign(i.mag);if(o-s>=2)return n;if(0===o&&-1===s){if(Math.abs(i.mag-Math.log10(n.mag))>l)return n;var a=Math.pow(10,Math.log10(n.mag)-i.mag),u=i.sign+n.sign*a;return w(Math.sign(u),1,i.mag+Math.log10(Math.abs(u)))}if(1===o&&0===s){if(Math.abs(n.mag-Math.log10(i.mag))>l)return n;var c=Math.pow(10,n.mag-Math.log10(i.mag)),h=i.sign+n.sign*c;return w(Math.sign(h),1,Math.log10(i.mag)+Math.log10(Math.abs(h)))}if(Math.abs(n.mag-i.mag)>l)return n;var d=Math.pow(10,n.mag-i.mag),f=i.sign+n.sign*d;return w(Math.sign(f),1,i.mag+Math.log10(Math.abs(f)))}},{key:"plus",value:function(t){return this.add(t)}},{key:"sub",value:function(t){return this.add(b(t).neg())}},{key:"subtract",value:function(t){return this.sub(t)}},{key:"minus",value:function(t){return this.sub(t)}},{key:"mul",value:function(e){var n,i,r=b(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(r.layer))return r;if(0===this.sign||0===r.sign)return k(0,0,0);if(this.layer===r.layer&&this.mag===-r.mag)return k(this.sign*r.sign,0,1);if(this.layer>r.layer||this.layer==r.layer&&Math.abs(this.mag)>Math.abs(r.mag)?(n=this,i=r):(n=r,i=this),0===n.layer&&0===i.layer)return t.fromNumber(n.sign*i.sign*n.mag*i.mag);if(n.layer>=3||n.layer-i.layer>=2)return w(n.sign*i.sign,n.layer,n.mag);if(1===n.layer&&0===i.layer)return w(n.sign*i.sign,1,n.mag+Math.log10(i.mag));if(1===n.layer&&1===i.layer)return w(n.sign*i.sign,1,n.mag+i.mag);if(2===n.layer&&1===i.layer){var o=w(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(w(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)));return w(n.sign*i.sign,o.layer+1,o.sign*o.mag)}if(2===n.layer&&2===i.layer){var s=w(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(w(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)));return w(n.sign*i.sign,s.layer+1,s.sign*s.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}},{key:"multiply",value:function(t){return this.mul(t)}},{key:"times",value:function(t){return this.mul(t)}},{key:"div",value:function(t){var e=b(t);return this.mul(e.recip())}},{key:"divide",value:function(t){return this.div(t)}},{key:"divideBy",value:function(t){return this.div(t)}},{key:"dividedBy",value:function(t){return this.div(t)}},{key:"recip",value:function(){return 0===this.mag?t.dNaN:0===this.layer?w(this.sign,0,1/this.mag):w(this.sign,this.layer,-this.mag)}},{key:"reciprocal",value:function(){return this.recip()}},{key:"reciprocate",value:function(){return this.recip()}},{key:"mod",value:function(e){var n=b(e).abs();if(n.eq(t.dZero))return t.dZero;var i=this.toNumber(),r=n.toNumber();return isFinite(i)&&isFinite(r)&&0!=i&&0!=r?new t(i%r):this.sub(n).eq(this)?t.dZero:n.sub(this).eq(n)?this:-1==this.sign?this.abs().mod(n).neg():this.sub(this.div(n).floor().mul(n))}},{key:"modulo",value:function(t){return this.mod(t)}},{key:"modular",value:function(t){return this.mod(t)}},{key:"cmp",value:function(t){var e=b(t);return this.sign>e.sign?1:this.sign<e.sign?-1:this.sign*this.cmpabs(t)}},{key:"cmpabs",value:function(t){var e=b(t),n=this.mag>0?this.layer:-this.layer,i=e.mag>0?e.layer:-e.layer;return n>i?1:n<i?-1:this.mag>e.mag?1:this.mag<e.mag?-1:0}},{key:"compare",value:function(t){return this.cmp(t)}},{key:"isNan",value:function(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}},{key:"isFinite",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}))},{key:"eq",value:function(t){var e=b(t);return this.sign===e.sign&&this.layer===e.layer&&this.mag===e.mag}},{key:"equals",value:function(t){return this.eq(t)}},{key:"neq",value:function(t){return!this.eq(t)}},{key:"notEquals",value:function(t){return this.neq(t)}},{key:"lt",value:function(t){return-1===this.cmp(t)}},{key:"lte",value:function(t){return!this.gt(t)}},{key:"gt",value:function(t){return 1===this.cmp(t)}},{key:"gte",value:function(t){return!this.lt(t)}},{key:"max",value:function(t){var e=b(t);return this.lt(e)?e:this}},{key:"min",value:function(t){var e=b(t);return this.gt(e)?e:this}},{key:"maxabs",value:function(t){var e=b(t);return this.cmpabs(e)<0?e:this}},{key:"minabs",value:function(t){var e=b(t);return this.cmpabs(e)>0?e:this}},{key:"clamp",value:function(t,e){return this.max(t).min(e)}},{key:"clampMin",value:function(t){return this.max(t)}},{key:"clampMax",value:function(t){return this.min(t)}},{key:"cmp_tolerance",value:function(t,e){var n=b(t);return this.eq_tolerance(n,e)?0:this.cmp(n)}},{key:"compare_tolerance",value:function(t,e){return this.cmp_tolerance(t,e)}},{key:"eq_tolerance",value:function(t,e){var n=b(t);if(null==e&&(e=1e-7),this.sign!==n.sign)return!1;if(Math.abs(this.layer-n.layer)>1)return!1;var i=this.mag,r=n.mag;return this.layer>n.layer&&(r=E(r)),this.layer<n.layer&&(i=E(i)),Math.abs(i-r)<=e*Math.max(Math.abs(i),Math.abs(r))}},{key:"equals_tolerance",value:function(t,e){return this.eq_tolerance(t,e)}},{key:"neq_tolerance",value:function(t,e){return!this.eq_tolerance(t,e)}},{key:"notEquals_tolerance",value:function(t,e){return this.neq_tolerance(t,e)}},{key:"lt_tolerance",value:function(t,e){var n=b(t);return!this.eq_tolerance(n,e)&&this.lt(n)}},{key:"lte_tolerance",value:function(t,e){var n=b(t);return this.eq_tolerance(n,e)||this.lt(n)}},{key:"gt_tolerance",value:function(t,e){var n=b(t);return!this.eq_tolerance(n,e)&&this.gt(n)}},{key:"gte_tolerance",value:function(t,e){var n=b(t);return this.eq_tolerance(n,e)||this.gt(n)}},{key:"pLog10",value:function(){return this.lt(t.dZero)?t.dZero:this.log10()}},{key:"absLog10",value:function(){return 0===this.sign?t.dNaN:this.layer>0?w(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):w(1,0,Math.log10(this.mag))}},{key:"log10",value:function(){return this.sign<=0?t.dNaN:this.layer>0?w(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):w(this.sign,0,Math.log10(this.mag))}},{key:"log",value:function(e){return e=b(e),this.sign<=0||e.sign<=0||1===e.sign&&0===e.layer&&1===e.mag?t.dNaN:0===this.layer&&0===e.layer?w(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):t.div(this.log10(),e.log10())}},{key:"log2",value:function(){return this.sign<=0?t.dNaN:0===this.layer?w(this.sign,0,Math.log2(this.mag)):1===this.layer?w(Math.sign(this.mag),0,3.321928094887362*Math.abs(this.mag)):2===this.layer?w(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):w(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}},{key:"ln",value:function(){return this.sign<=0?t.dNaN:0===this.layer?w(this.sign,0,Math.log(this.mag)):1===this.layer?w(Math.sign(this.mag),0,2.302585092994046*Math.abs(this.mag)):2===this.layer?w(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):w(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}},{key:"logarithm",value:function(t){return this.log(t)}},{key:"pow",value:function(e){var n=b(e),i=this,r=n;if(0===i.sign)return r.eq(0)?k(1,0,1):i;if(1===i.sign&&0===i.layer&&1===i.mag)return i;if(0===r.sign)return k(1,0,1);if(1===r.sign&&0===r.layer&&1===r.mag)return i;var o=i.absLog10().mul(r).pow10();return-1===this.sign?Math.abs(r.toNumber()%2)%2===1?o.neg():Math.abs(r.toNumber()%2)%2===0?o:t.dNaN:o}},{key:"pow10",value:function(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return t.dNaN;var e=this;if(0===e.layer){var n=Math.pow(10,e.sign*e.mag);if(Number.isFinite(n)&&Math.abs(n)>=.1)return w(1,0,n);if(0===e.sign)return t.dOne;e=k(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?w(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?w(-e.sign,e.layer+1,-e.mag):t.dOne}},{key:"pow_base",value:function(t){return b(t).pow(this)}},{key:"root",value:function(t){var e=b(t);return this.pow(e.recip())}},{key:"factorial",value:function(){return this.mag<0||0===this.layer?this.add(1).gamma():1===this.layer?t.exp(t.mul(this,t.ln(this).sub(1))):t.exp(this)}},{key:"gamma",value:function(){if(this.mag<0)return this.recip();if(0===this.layer){if(this.lt(k(1,0,24)))return t.fromNumber(S(this.sign*this.mag));var e=this.mag-1,n=.9189385332046727;n+=(e+.5)*Math.log(e),n-=e;var i=e*e,r=e,o=12*r,s=1/o,a=n+s;if(a===n)return t.exp(n);if(n=a,r*=i,o=360*r,s=1/o,a=n-s,a===n)return t.exp(n);n=a,r*=i,o=1260*r;var l=1/o;return n+=l,r*=i,o=1680*r,l=1/o,n-=l,t.exp(n)}return 1===this.layer?t.exp(t.mul(this,t.ln(this).sub(1))):t.exp(this)}},{key:"lngamma",value:function(){return this.gamma().ln()}},{key:"exp",value:function(){return this.mag<0?t.dOne:0===this.layer&&this.mag<=709.7?t.fromNumber(Math.exp(this.sign*this.mag)):0===this.layer?w(1,1,this.sign*Math.log10(Math.E)*this.mag):1===this.layer?w(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):w(1,this.layer+1,this.sign*this.mag)}},{key:"sqr",value:function(){return this.pow(2)}},{key:"sqrt",value:function(){if(0===this.layer)return t.fromNumber(Math.sqrt(this.sign*this.mag));if(1===this.layer)return w(1,2,Math.log10(this.mag)-.3010299956639812);var e=t.div(k(this.sign,this.layer-1,this.mag),k(1,0,2));return e.layer+=1,e.normalize(),e}},{key:"cube",value:function(){return this.pow(3)}},{key:"cbrt",value:function(){return this.pow(1/3)}},{key:"tetrate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k(1,0,1),i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===e)return t.pow(this,n);if(0===e)return new t(n);if(this.eq(t.dOne))return t.dOne;if(this.eq(-1))return t.pow(this,n);if(e===Number.POSITIVE_INFINITY){var r=this.toNumber();if(r<=1.444667861009766&&r>=.06598803584531254){if(r>1.444667861009099)return t.fromNumber(Math.E);var o=t.ln(this).neg();return o.lambertw().div(o)}return r>1.444667861009766?t.fromNumber(Number.POSITIVE_INFINITY):t.dNaN}if(this.eq(t.dZero)){var s=Math.abs((e+1)%2);return s>1&&(s=2-s),t.fromNumber(s)}if(e<0)return t.iteratedlog(n,this,-e,i);n=b(n);var a=e;e=Math.trunc(e);var l=a-e;if(this.gt(t.dZero)&&this.lte(1.444667861009766)&&(a>1e4||!i)){e=Math.min(1e4,e);for(var u=0;u<e;++u){var c=n;if(n=this.pow(n),c.eq(n))return n}if(0!=l||a>1e4){var h=this.pow(n);return a<=1e4||Math.ceil(a)%2==0?n.mul(1-l).add(h.mul(l)):n.mul(l).add(h.mul(1-l))}return n}0!==l&&(n.eq(t.dOne)?this.gt(10)||i?n=this.pow(l):(n=t.fromNumber(t.tetrate_critical(this.toNumber(),l)),this.lt(2)&&(n=n.sub(1).mul(this.minus(1)).plus(1))):n=this.eq(10)?n.layeradd10(l,i):n.layeradd(l,this,i));for(var d=0;d<e;++d){if(n=this.pow(n),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(n.layer-this.layer>3)return k(n.sign,n.layer+(e-d-1),n.mag);if(d>1e4)return n}return n}},{key:"iteratedexp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k(1,0,1),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.tetrate(t,e,n)}},{key:"iteratedlog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n<0)return t.tetrate(e,-n,this,i);e=b(e);var r=t.fromDecimal(this),o=n;n=Math.trunc(n);var s=o-n;if(r.layer-e.layer>3){var a=Math.min(n,r.layer-e.layer-3);n-=a,r.layer-=a}for(var l=0;l<n;++l){if(r=r.log(e),!isFinite(r.layer)||!isFinite(r.mag))return r.normalize();if(l>1e4)return r}return s>0&&s<1&&(r=e.eq(10)?r.layeradd10(-s,i):r.layeradd(-s,e,i)),r}},{key:"slog",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=.001,o=!1,s=!1,a=this.slog_internal(e,i).toNumber(),l=1;l<n;++l){var u=new t(e).tetrate(a,t.dOne,i),c=u.gt(this);if(l>1&&s!=c&&(o=!0),s=c,o?r/=2:r*=2,r=Math.abs(r)*(c?-1:1),a+=r,0===r)break}return t.fromNumber(a)}},{key:"slog_internal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=b(e),e.lte(t.dZero))return t.dNaN;if(e.eq(t.dOne))return t.dNaN;if(e.lt(t.dOne))return this.eq(t.dOne)?t.dZero:this.eq(t.dZero)?t.dNegOne:t.dNaN;if(this.mag<0||this.eq(t.dZero))return t.dNegOne;var i=0,r=t.fromDecimal(this);if(r.layer-e.layer>3){var o=r.layer-e.layer-3;i+=o,r.layer-=o}for(var s=0;s<100;++s)if(r.lt(t.dZero))r=t.pow(e,r),i-=1;else{if(r.lte(t.dOne))return n?t.fromNumber(i+r.toNumber()-1):t.fromNumber(i+t.slog_critical(e.toNumber(),r.toNumber()));i+=1,r=t.log(r,e)}return t.fromNumber(i)}},{key:"layeradd10",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=t.fromValue_noAlloc(e).toNumber();var i=t.fromDecimal(this);if(e>=1){i.mag<0&&i.layer>0?(i.sign=0,i.mag=0,i.layer=0):-1===i.sign&&0==i.layer&&(i.sign=1,i.mag=-i.mag);var r=Math.trunc(e);e-=r,i.layer+=r}if(e<=-1){var o=Math.trunc(e);if(e-=o,i.layer+=o,i.layer<0)for(var s=0;s<100;++s){if(i.layer++,i.mag=Math.log10(i.mag),!isFinite(i.mag))return 0===i.sign&&(i.sign=1),i.layer<0&&(i.layer=0),i.normalize();if(i.layer>=0)break}}while(i.layer<0)i.layer++,i.mag=Math.log10(i.mag);return 0===i.sign&&(i.sign=1,0===i.mag&&i.layer>=1&&(i.layer-=1,i.mag=1)),i.normalize(),0!==e?i.layeradd(e,10,n):i}},{key:"layeradd",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.slog(n).toNumber(),o=r+e;return o>=0?t.tetrate(n,o,t.dOne,i):Number.isFinite(o)?o>=-1?t.log(t.tetrate(n,o+1,t.dOne,i),n):t.log(t.log(t.tetrate(n,o+2,t.dOne,i),n),n):t.dNaN}},{key:"lambertw",value:function(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return t.fromNumber(C(this.toNumber()));if(0===this.layer)return t.fromNumber(C(this.sign*this.mag));if(1===this.layer)return I(this);if(2===this.layer)return I(this);if(this.layer>=3)return k(this.sign,this.layer-1,this.mag);throw"Unhandled behavior in lambertw()"}},{key:"ssqrt",value:function(){return this.linear_sroot(2)}},{key:"linear_sroot",value:function(e){if(1==e)return this;if(this.eq(t.dInf))return t.dInf;if(!this.isFinite())return t.dNaN;if(e>0&&e<1)return this.root(e);if(e>-2&&e<-1)return t.fromNumber(e).add(2).pow(this.recip());if(e<=0)return t.dNaN;if(e==Number.POSITIVE_INFINITY){var n=this.toNumber();return n<Math.E&&n>T?this.pow(this.recip()):t.dNaN}if(this.eq(1))return t.dOne;if(this.lt(0))return t.dNaN;if(this.lte("1ee-16"))return e%2==1?this:t.dNaN;if(this.gt(1)){var i=t.dTen;this.gte(t.tetrate(10,e,1,!0))&&(i=this.iteratedlog(10,e-1,!0)),e<=1&&(i=this.root(e));var r=t.dZero,o=i.layer,s=i.iteratedlog(10,o,!0),a=s,l=s.div(2),u=!0;while(u)l=r.add(s).div(2),t.iteratedexp(10,o,l,!0).tetrate(e,1,!0).gt(this)?s=l:r=l,l.eq(a)?u=!1:a=l;return t.iteratedexp(10,o,l,!0)}var c=1,h=w(1,10,1),d=w(1,10,1),f=w(1,10,1),p=w(1,1,-16),v=t.dZero,g=w(1,10,1),m=p.pow10().recip(),y=t.dZero,_=m,b=m,k=Math.ceil(e)%2==0,x=0,E=w(1,10,1),S=!1,O=t.dZero,C=!1;while(c<4){if(2==c){if(k)break;f=w(1,10,1),p=h,c=3,g=w(1,10,1),E=w(1,10,1)}S=!1;while(p.neq(f)){if(O=p,p.pow10().recip().tetrate(e,1,!0).eq(1)&&p.pow10().recip().lt(.4))m=p.pow10().recip(),_=p.pow10().recip(),b=p.pow10().recip(),y=t.dZero,x=-1,3==c&&(E=p);else if(p.pow10().recip().tetrate(e,1,!0).eq(p.pow10().recip())&&!k&&p.pow10().recip().lt(.4))m=p.pow10().recip(),_=p.pow10().recip(),b=p.pow10().recip(),y=t.dZero,x=0;else if(p.pow10().recip().tetrate(e,1,!0).eq(p.pow10().recip().mul(2).tetrate(e,1,!0)))m=p.pow10().recip(),_=t.dZero,b=m.mul(2),y=m,x=k?-1:0;else{v=p.mul(12e-17),m=p.pow10().recip(),_=p.add(v).pow10().recip(),y=m.sub(_),b=m.add(y);while(_.tetrate(e,1,!0).eq(m.tetrate(e,1,!0))||b.tetrate(e,1,!0).eq(m.tetrate(e,1,!0))||_.gte(m)||b.lte(m))v=v.mul(2),_=p.add(v).pow10().recip(),y=m.sub(_),b=m.add(y);if((1==c&&b.tetrate(e,1,!0).gt(m.tetrate(e,1,!0))&&_.tetrate(e,1,!0).gt(m.tetrate(e,1,!0))||3==c&&b.tetrate(e,1,!0).lt(m.tetrate(e,1,!0))&&_.tetrate(e,1,!0).lt(m.tetrate(e,1,!0)))&&(E=p),b.tetrate(e,1,!0).lt(m.tetrate(e,1,!0)))x=-1;else if(k)x=1;else if(3==c&&p.gt_tolerance(h,1e-8))x=0;else{while(_.tetrate(e,1,!0).eq_tolerance(m.tetrate(e,1,!0),1e-8)||b.tetrate(e,1,!0).eq_tolerance(m.tetrate(e,1,!0),1e-8)||_.gte(m)||b.lte(m))v=v.mul(2),_=p.add(v).pow10().recip(),y=m.sub(_),b=m.add(y);x=b.tetrate(e,1,!0).sub(m.tetrate(e,1,!0)).lt(m.tetrate(e,1,!0).sub(_.tetrate(e,1,!0)))?0:1}}if(-1==x&&(C=!0),1==c&&1==x||3==c&&0!=x)if(f.eq(w(1,10,1)))p=p.mul(2);else{var I=!1;if(S&&(1==x&&1==c||-1==x&&3==c)&&(I=!0),p=p.add(f).div(2),I)break}else if(f.eq(w(1,10,1)))f=p,p=p.div(2);else{var N=!1;if(S&&(1==x&&1==c||-1==x&&3==c)&&(N=!0),f=f.sub(g),p=p.sub(g),N)break}if(f.sub(p).div(2).abs().gt(g.mul(1.5))&&(S=!0),g=f.sub(p).div(2).abs(),p.gt("1e18"))break;if(p.eq(O))break}if(p.gt("1e18"))break;if(!C)break;if(E==w(1,10,1))break;1==c?h=E:3==c&&(d=E),c++}f=h,p=w(1,1,-18);var M=p,A=t.dZero,D=!0;while(D)if(A=f.eq(w(1,10,1))?p.mul(2):f.add(p).div(2),t.pow(10,A).recip().tetrate(e,1,!0).gt(this)?p=A:f=A,A.eq(M)?D=!1:M=A,p.gt("1e18"))return t.dNaN;if(A.eq_tolerance(h,1e-15)){if(d.eq(w(1,10,1)))return t.dNaN;f=w(1,10,1),p=d,M=p,A=t.dZero,D=!0;while(D)if(A=f.eq(w(1,10,1))?p.mul(2):f.add(p).div(2),t.pow(10,A).recip().tetrate(e,1,!0).gt(this)?p=A:f=A,A.eq(M)?D=!1:M=A,p.gt("1e18"))return t.dNaN;return A.pow10().recip()}return A.pow10().recip()}},{key:"pentate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k(1,0,1),i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n=b(n);var r=e;e=Math.trunc(e);var o=r-e;0!==o&&(n.eq(t.dOne)?(++e,n=t.fromNumber(o)):n=this.eq(10)?n.layeradd10(o,i):n.layeradd(o,this,i));for(var s=0;s<e;++s){if(n=this.tetrate(n.toNumber(),t.dOne,i),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(s>10)return n}return n}},{key:"sin",value:function(){return this.mag<0?this:0===this.layer?t.fromNumber(Math.sin(this.sign*this.mag)):k(0,0,0)}},{key:"cos",value:function(){return this.mag<0?t.dOne:0===this.layer?t.fromNumber(Math.cos(this.sign*this.mag)):k(0,0,0)}},{key:"tan",value:function(){return this.mag<0?this:0===this.layer?t.fromNumber(Math.tan(this.sign*this.mag)):k(0,0,0)}},{key:"asin",value:function(){return this.mag<0?this:0===this.layer?t.fromNumber(Math.asin(this.sign*this.mag)):k(Number.NaN,Number.NaN,Number.NaN)}},{key:"acos",value:function(){return this.mag<0?t.fromNumber(Math.acos(this.toNumber())):0===this.layer?t.fromNumber(Math.acos(this.sign*this.mag)):k(Number.NaN,Number.NaN,Number.NaN)}},{key:"atan",value:function(){return this.mag<0?this:0===this.layer?t.fromNumber(Math.atan(this.sign*this.mag)):t.fromNumber(Math.atan(Infinity*this.sign))}},{key:"sinh",value:function(){return this.exp().sub(this.negate().exp()).div(2)}},{key:"cosh",value:function(){return this.exp().add(this.negate().exp()).div(2)}},{key:"tanh",value:function(){return this.sinh().div(this.cosh())}},{key:"asinh",value:function(){return t.ln(this.add(this.sqr().add(1).sqrt()))}},{key:"acosh",value:function(){return t.ln(this.add(this.sqr().sub(1).sqrt()))}},{key:"atanh",value:function(){return this.abs().gte(1)?k(Number.NaN,Number.NaN,Number.NaN):t.ln(this.add(1).div(t.fromNumber(1).sub(this))).div(2)}},{key:"ascensionPenalty",value:function(e){return 0===e?this:this.root(t.pow(10,e))}},{key:"egg",value:function(){return this.add(9)}},{key:"lessThanOrEqualTo",value:function(t){return this.cmp(t)<1}},{key:"lessThan",value:function(t){return this.cmp(t)<0}},{key:"greaterThanOrEqualTo",value:function(t){return this.cmp(t)>-1}},{key:"greaterThan",value:function(t){return this.cmp(t)>0}}],[{key:"fromComponents",value:function(e,n,i){return(new t).fromComponents(e,n,i)}},{key:"fromComponents_noNormalize",value:function(e,n,i){return(new t).fromComponents_noNormalize(e,n,i)}},{key:"fromMantissaExponent",value:function(e,n){return(new t).fromMantissaExponent(e,n)}},{key:"fromMantissaExponent_noNormalize",value:function(e,n){return(new t).fromMantissaExponent_noNormalize(e,n)}},{key:"fromDecimal",value:function(e){return(new t).fromDecimal(e)}},{key:"fromNumber",value:function(e){return(new t).fromNumber(e)}},{key:"fromString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(new t).fromString(e,n)}},{key:"fromValue",value:function(e){return(new t).fromValue(e)}},{key:"fromValue_noAlloc",value:function(e){if(e instanceof t)return e;if("string"===typeof e){var n=t.fromStringCache.get(e);return void 0!==n?n:t.fromString(e)}return"number"===typeof e?t.fromNumber(e):t.dZero}},{key:"abs",value:function(t){return b(t).abs()}},{key:"neg",value:function(t){return b(t).neg()}},{key:"negate",value:function(t){return b(t).neg()}},{key:"negated",value:function(t){return b(t).neg()}},{key:"sign",value:function(t){return b(t).sign}},{key:"sgn",value:function(t){return b(t).sign}},{key:"round",value:function(t){return b(t).round()}},{key:"floor",value:function(t){return b(t).floor()}},{key:"ceil",value:function(t){return b(t).ceil()}},{key:"trunc",value:function(t){return b(t).trunc()}},{key:"add",value:function(t,e){return b(t).add(e)}},{key:"plus",value:function(t,e){return b(t).add(e)}},{key:"sub",value:function(t,e){return b(t).sub(e)}},{key:"subtract",value:function(t,e){return b(t).sub(e)}},{key:"minus",value:function(t,e){return b(t).sub(e)}},{key:"mul",value:function(t,e){return b(t).mul(e)}},{key:"multiply",value:function(t,e){return b(t).mul(e)}},{key:"times",value:function(t,e){return b(t).mul(e)}},{key:"div",value:function(t,e){return b(t).div(e)}},{key:"divide",value:function(t,e){return b(t).div(e)}},{key:"recip",value:function(t){return b(t).recip()}},{key:"reciprocal",value:function(t){return b(t).recip()}},{key:"reciprocate",value:function(t){return b(t).reciprocate()}},{key:"mod",value:function(t,e){return b(t).mod(e)}},{key:"modulo",value:function(t,e){return b(t).modulo(e)}},{key:"modular",value:function(t,e){return b(t).modular(e)}},{key:"cmp",value:function(t,e){return b(t).cmp(e)}},{key:"cmpabs",value:function(t,e){return b(t).cmpabs(e)}},{key:"compare",value:function(t,e){return b(t).cmp(e)}},{key:"isNaN",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return t=b(t),isNaN(t.sign)||isNaN(t.layer)||isNaN(t.mag)}))},{key:"isFinite",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return t=b(t),isFinite(t.sign)&&isFinite(t.layer)&&isFinite(t.mag)}))},{key:"eq",value:function(t,e){return b(t).eq(e)}},{key:"equals",value:function(t,e){return b(t).eq(e)}},{key:"neq",value:function(t,e){return b(t).neq(e)}},{key:"notEquals",value:function(t,e){return b(t).notEquals(e)}},{key:"lt",value:function(t,e){return b(t).lt(e)}},{key:"lte",value:function(t,e){return b(t).lte(e)}},{key:"gt",value:function(t,e){return b(t).gt(e)}},{key:"gte",value:function(t,e){return b(t).gte(e)}},{key:"max",value:function(t,e){return b(t).max(e)}},{key:"min",value:function(t,e){return b(t).min(e)}},{key:"minabs",value:function(t,e){return b(t).minabs(e)}},{key:"maxabs",value:function(t,e){return b(t).maxabs(e)}},{key:"clamp",value:function(t,e,n){return b(t).clamp(e,n)}},{key:"clampMin",value:function(t,e){return b(t).clampMin(e)}},{key:"clampMax",value:function(t,e){return b(t).clampMax(e)}},{key:"cmp_tolerance",value:function(t,e,n){return b(t).cmp_tolerance(e,n)}},{key:"compare_tolerance",value:function(t,e,n){return b(t).cmp_tolerance(e,n)}},{key:"eq_tolerance",value:function(t,e,n){return b(t).eq_tolerance(e,n)}},{key:"equals_tolerance",value:function(t,e,n){return b(t).eq_tolerance(e,n)}},{key:"neq_tolerance",value:function(t,e,n){return b(t).neq_tolerance(e,n)}},{key:"notEquals_tolerance",value:function(t,e,n){return b(t).notEquals_tolerance(e,n)}},{key:"lt_tolerance",value:function(t,e,n){return b(t).lt_tolerance(e,n)}},{key:"lte_tolerance",value:function(t,e,n){return b(t).lte_tolerance(e,n)}},{key:"gt_tolerance",value:function(t,e,n){return b(t).gt_tolerance(e,n)}},{key:"gte_tolerance",value:function(t,e,n){return b(t).gte_tolerance(e,n)}},{key:"pLog10",value:function(t){return b(t).pLog10()}},{key:"absLog10",value:function(t){return b(t).absLog10()}},{key:"log10",value:function(t){return b(t).log10()}},{key:"log",value:function(t,e){return b(t).log(e)}},{key:"log2",value:function(t){return b(t).log2()}},{key:"ln",value:function(t){return b(t).ln()}},{key:"logarithm",value:function(t,e){return b(t).logarithm(e)}},{key:"pow",value:function(t,e){return b(t).pow(e)}},{key:"pow10",value:function(t){return b(t).pow10()}},{key:"root",value:function(t,e){return b(t).root(e)}},{key:"factorial",value:function(t,e){return b(t).factorial()}},{key:"gamma",value:function(t,e){return b(t).gamma()}},{key:"lngamma",value:function(t,e){return b(t).lngamma()}},{key:"exp",value:function(t){return b(t).exp()}},{key:"sqr",value:function(t){return b(t).sqr()}},{key:"sqrt",value:function(t){return b(t).sqrt()}},{key:"cube",value:function(t){return b(t).cube()}},{key:"cbrt",value:function(t){return b(t).cbrt()}},{key:"tetrate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k(1,0,1),i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return b(t).tetrate(e,n,i)}},{key:"iteratedexp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k(1,0,1),i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return b(t).iteratedexp(e,n,i)}},{key:"iteratedlog",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return b(t).iteratedlog(e,n,i)}},{key:"layeradd10",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(t).layeradd10(e,n)}},{key:"layeradd",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return b(t).layeradd(e,n,i)}},{key:"slog",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(t).slog(e,100,n)}},{key:"lambertw",value:function(t){return b(t).lambertw()}},{key:"ssqrt",value:function(t){return b(t).ssqrt()}},{key:"linear_sroot",value:function(t,e){return b(t).linear_sroot(e)}},{key:"pentate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k(1,0,1),i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return b(t).pentate(e,n,i)}},{key:"sin",value:function(t){return b(t).sin()}},{key:"cos",value:function(t){return b(t).cos()}},{key:"tan",value:function(t){return b(t).tan()}},{key:"asin",value:function(t){return b(t).asin()}},{key:"acos",value:function(t){return b(t).acos()}},{key:"atan",value:function(t){return b(t).atan()}},{key:"sinh",value:function(t){return b(t).sinh()}},{key:"cosh",value:function(t){return b(t).cosh()}},{key:"tanh",value:function(t){return b(t).tanh()}},{key:"asinh",value:function(t){return b(t).asinh()}},{key:"acosh",value:function(t){return b(t).acosh()}},{key:"atanh",value:function(t){return b(t).atanh()}},{key:"affordGeometricSeries",value:function(t,e,n,i){return this.affordGeometricSeries_core(b(t),b(e),b(n),i)}},{key:"sumGeometricSeries",value:function(t,e,n,i){return this.sumGeometricSeries_core(t,b(e),b(n),i)}},{key:"affordArithmeticSeries",value:function(t,e,n,i){return this.affordArithmeticSeries_core(b(t),b(e),b(n),b(i))}},{key:"sumArithmeticSeries",value:function(t,e,n,i){return this.sumArithmeticSeries_core(b(t),b(e),b(n),b(i))}},{key:"efficiencyOfPurchase",value:function(t,e,n){return this.efficiencyOfPurchase_core(b(t),b(e),b(n))}},{key:"randomDecimalForTesting",value:function(t){if(20*Math.random()<1)return k(0,0,0);var e=Math.random()>.5?1:-1;if(20*Math.random()<1)return k(e,0,1);var n=Math.floor(Math.random()*(t+1)),i=0===n?616*Math.random()-308:16*Math.random();Math.random()>.9&&(i=Math.trunc(i));var r=Math.pow(10,i);return Math.random()>.9&&(r=Math.trunc(r)),w(e,n,r)}},{key:"affordGeometricSeries_core",value:function(e,n,i,r){var o=n.mul(i.pow(r));return t.floor(e.div(o).mul(i.sub(1)).add(1).log10().div(i.log10()))}},{key:"sumGeometricSeries_core",value:function(e,n,i,r){return n.mul(i.pow(r)).mul(t.sub(1,i.pow(e))).div(t.sub(1,i))}},{key:"affordArithmeticSeries_core",value:function(t,e,n,i){var r=e.add(i.mul(n)),o=r.sub(n.div(2)),s=o.pow(2);return o.neg().add(s.add(n.mul(t).mul(2)).sqrt()).div(n).floor()}},{key:"sumArithmeticSeries_core",value:function(t,e,n,i){var r=e.add(i.mul(n));return t.div(2).mul(r.mul(2).plus(t.sub(1).mul(n)))}},{key:"efficiencyOfPurchase_core",value:function(t,e,n){return t.div(e).add(t.div(n))}},{key:"slog_critical",value:function(e,n){return e>10?n-1:t.critical_section(e,n,_)}},{key:"tetrate_critical",value:function(e,n){return t.critical_section(e,n,y)}},{key:"critical_section",value:function(t,e,n){e*=10,e<0&&(e=0),e>10&&(e=10),t<2&&(t=2),t>10&&(t=10);for(var i=0,r=0,o=0;o<m.length;++o){if(m[o]==t){i=n[o][Math.floor(e)],r=n[o][Math.ceil(e)];break}if(m[o]<t&&m[o+1]>t){var s=(t-m[o])/(m[o+1]-m[o]);i=n[o][Math.floor(e)]*(1-s)+n[o+1][Math.floor(e)]*s,r=n[o][Math.ceil(e)]*(1-s)+n[o+1][Math.ceil(e)]*s;break}}var a=e-Math.floor(e);return i<=0||r<=0?i*(1-a)+r*a:Math.pow(t,Math.log(i)/Math.log(t)*(1-a)+Math.log(r)/Math.log(t)*a)}}]),t}();N.dZero=k(0,0,0),N.dOne=k(1,0,1),N.dNegOne=k(-1,0,1),N.dTwo=k(1,0,2),N.dTen=k(1,0,10),N.dNaN=k(Number.NaN,Number.NaN,Number.NaN),N.dInf=k(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),N.dNegInf=k(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),N.dNumberMax=w(1,0,Number.MAX_VALUE),N.dNumberMin=w(1,0,Number.MIN_VALUE),N.fromStringCache=new s(v),b=N.fromValue_noAlloc,w=N.fromComponents,k=N.fromComponents_noNormalize,N.fromMantissaExponent,N.fromMantissaExponent_noNormalize},1419:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6312),r=n(127),o=n(9399),s=n(109),a=n(4927),l=n(870),u=n(5994),c=n(9499),h=n(148),d=n(9931),f=n(4902),p=n(433),v={};v.VERSION=a.VERSION,v.Parser=i.Parser,v.CstParser=i.CstParser,v.EmbeddedActionsParser=i.EmbeddedActionsParser;v.ParserDefinitionErrorType=i.ParserDefinitionErrorType,v.Lexer=r.Lexer,v.LexerDefinitionErrorType=r.LexerDefinitionErrorType,v.EOF=o.EOF,v.tokenName=o.tokenName,v.tokenLabel=o.tokenLabel,v.tokenMatcher=o.tokenMatcher,v.createToken=o.createToken,v.createTokenInstance=o.createTokenInstance,v.EMPTY_ALT=i.EMPTY_ALT,v.defaultParserErrorProvider=l.defaultParserErrorProvider,v.isRecognitionException=s.isRecognitionException,v.EarlyExitException=s.EarlyExitException,v.MismatchedTokenException=s.MismatchedTokenException,v.NotAllInputParsedException=s.NotAllInputParsedException,v.NoViableAltException=s.NoViableAltException,v.defaultLexerErrorProvider=p.defaultLexerErrorProvider,v.Flat=h.Flat,v.Repetition=h.Repetition,v.RepetitionWithSeparator=h.RepetitionWithSeparator,v.RepetitionMandatory=h.RepetitionMandatory,v.RepetitionMandatoryWithSeparator=h.RepetitionMandatoryWithSeparator,v.Option=h.Option,v.Alternation=h.Alternation,v.NonTerminal=h.NonTerminal,v.Terminal=h.Terminal,v.Rule=h.Rule,v.GAstVisitor=c.GAstVisitor,v.serializeGrammar=h.serializeGrammar,v.serializeProduction=h.serializeProduction,v.resolveGrammar=d.resolveGrammar,v.defaultGrammarResolverErrorProvider=l.defaultGrammarResolverErrorProvider,v.validateGrammar=d.validateGrammar,v.defaultGrammarValidatorErrorProvider=l.defaultGrammarValidatorErrorProvider,v.assignOccurrenceIndices=d.assignOccurrenceIndices,v.clearCache=function(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")},v.createSyntaxDiagramsCode=u.createSyntaxDiagramsCode,v.generateParserFactory=f.generateParserFactory,v.generateParserModule=f.generateParserModule,t.exports=v},5994:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4927);function r(t,e){var n=void 0===e?{}:e,r=n.resourceBase,o=void 0===r?"https://unpkg.com/chevrotain@"+i.VERSION+"/diagrams/":r,s=n.css,a=void 0===s?"https://unpkg.com/chevrotain@"+i.VERSION+"/diagrams/diagrams.css":s,l='\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n',u="\n<link rel='stylesheet' href='"+a+"'>\n",c="\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n",h='\n<div id="diagrams" align="center"></div>    \n',d="\n<script>\n    window.serializedGrammar = "+JSON.stringify(t,null,"  ")+";\n<\/script>\n",f='\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n';return l+u+c+h+d+f}e.createSyntaxDiagramsCode=r},2392:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620),r=n(9399),o=n(148),s="\n";function a(t){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+u(t)+"\n    \nreturn {\n    "+t.name+": "+t.name+" \n}\n}));\n"}function l(t){return"    \n"+u(t)+"\nreturn new "+t.name+"(tokenVocabulary, config)    \n"}function u(t){var e="\nfunction "+t.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+c(t.rules)+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+t.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+t.name+".prototype.constructor = "+t.name+"    \n    ";return e}function c(t){var e=i.map(t,(function(t){return h(t,1)}));return e.join("\n")}function h(t,e){var n=b(e,'$.RULE("'+t.name+'", function() {')+s;return n+=_(t.definition,e+1),n+=b(e+1,"})")+s,n}function d(t,e){var n=r.tokenName(t.terminalType);return b(e,"$.CONSUME"+t.idx+"(this.tokensMap."+n+")"+s)}function f(t,e){return b(e,"$.SUBRULE"+t.idx+"($."+t.nonTerminalName+")"+s)}function p(t,e){var n=b(e,"$.OR"+t.idx+"([")+s,r=i.map(t.definition,(function(t){return v(t,e+1)}));return n+=r.join(","+s),n+=s+b(e,"])"+s),n}function v(t,e){var n=b(e,"{")+s;return t.name&&(n+=b(e+1,'NAME: "'+t.name+'",')+s),n+=b(e+1,"ALT: function() {")+s,n+=_(t.definition,e+1),n+=b(e+1,"}")+s,n+=b(e,"}"),n}function g(t,e){if(t instanceof o.NonTerminal)return f(t,e);if(t instanceof o.Option)return m("OPTION",t,e);if(t instanceof o.RepetitionMandatory)return m("AT_LEAST_ONE",t,e);if(t instanceof o.RepetitionMandatoryWithSeparator)return m("AT_LEAST_ONE_SEP",t,e);if(t instanceof o.RepetitionWithSeparator)return m("MANY_SEP",t,e);if(t instanceof o.Repetition)return m("MANY",t,e);if(t instanceof o.Alternation)return p(t,e);if(t instanceof o.Terminal)return d(t,e);if(t instanceof o.Flat)return _(t.definition,e);throw Error("non exhaustive match")}function m(t,e,n){var i=b(n,"$."+(t+e.idx)+"(");return e.name||e.separator?(i+="{"+s,e.name&&(i+=b(n+1,'NAME: "'+e.name+'"')+","+s),e.separator&&(i+=b(n+1,"SEP: this.tokensMap."+r.tokenName(e.separator))+","+s),i+="DEF: "+y(e.definition,n+2)+s,i+=b(n,"}")+s):i+=y(e.definition,n+1),i+=b(n,")")+s,i}function y(t,e){var n="function() {"+s;return n+=_(t,e),n+=b(e,"}")+s,n}function _(t,e){var n="";return i.forEach(t,(function(t){n+=g(t,e+1)})),n}function b(t,e){var n=Array(4*t+1).join(" ");return n+e}e.genUmdModule=a,e.genWrapperFunction=l,e.genClass=u,e.genAllRules=c,e.genRule=h,e.genTerminal=d,e.genNonTerminal=f,e.genAlternation=p,e.genSingleAlt=v},4902:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2392);function r(t){var e=i.genWrapperFunction({name:t.name,rules:t.rules}),r=new Function("tokenVocabulary","config","chevrotain",e);return function(e){return r(t.tokenVocabulary,e,n(1419))}}function o(t){return i.genUmdModule({name:t.name,rules:t.rules})}e.generateParserFactory=r,e.generateParserModule=o},2195:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620);function r(t){return a(t.constructor)}e.classNameFromInstance=r;var o=/^\s*function\s*(\S*)\s*\(/,s="name";function a(t){var e=t.name;if(e)return e;var n=t.toString().match(o)[1];return n}function l(t,e){var n=Object.getOwnPropertyDescriptor(t,s);return!(!i.isUndefined(n)&&!n.configurable)&&(Object.defineProperty(t,s,{enumerable:!1,configurable:!0,writable:!1,value:e}),!0)}e.functionName=a,e.defineNameProp=l;var u=function(){function t(){this._state={}}return t.prototype.keys=function(){return i.keys(this._state)},t.prototype.values=function(){return i.values(this._state)},t.prototype.put=function(t,e){this._state[t]=e},t.prototype.putAll=function(t){this._state=i.assign(this._state,t._state)},t.prototype.get=function(t){return this._state[t]},t.prototype.containsKey=function(t){return i.has(this._state,t)},t.prototype.clear=function(){this._state={}},t}();e.HashTable=u},5010:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IN="_~IN~_"},6960:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(7620),o=n(2195),s=n(7045),a=n(148),l=n(9499);function u(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset===!0&&(t.endOffset=e.endOffset)}function c(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset===!0&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function h(t,e,n){void 0===t.children[n]?t.children[n]=[e]:t.children[n].push(e)}function d(t,e,n){void 0===t.children[e]?t.children[e]=[n]:t.children[e].push(n)}e.setNodeLocationOnlyOffset=u,e.setNodeLocationFull=c,e.addTerminalToCst=h,e.addNoneTerminalToCst=d;var f=function(t){function e(e){var n=t.call(this)||this;return n.result=[],n.ruleIdx=e,n}return i(e,t),e.prototype.collectNamedDSLMethod=function(t,e,n){if(!r.isUndefined(t.name)){var i=void 0;if(t instanceof a.Option||t instanceof a.Repetition||t instanceof a.RepetitionMandatory||t instanceof a.Alternation)i=new e({definition:t.definition,idx:t.idx});else{if(!(t instanceof a.RepetitionMandatoryWithSeparator||t instanceof a.RepetitionWithSeparator))throw Error("non exhaustive match");i=new e({definition:t.definition,idx:t.idx,separator:t.separator})}var o=[i],l=s.getKeyForAutomaticLookahead(this.ruleIdx,n,t.idx);this.result.push({def:o,key:l,name:t.name,orgProd:t})}},e.prototype.visitOption=function(t){this.collectNamedDSLMethod(t,a.Option,s.OPTION_IDX)},e.prototype.visitRepetition=function(t){this.collectNamedDSLMethod(t,a.Repetition,s.MANY_IDX)},e.prototype.visitRepetitionMandatory=function(t){this.collectNamedDSLMethod(t,a.RepetitionMandatory,s.AT_LEAST_ONE_IDX)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.collectNamedDSLMethod(t,a.RepetitionMandatoryWithSeparator,s.AT_LEAST_ONE_SEP_IDX)},e.prototype.visitRepetitionWithSeparator=function(t){this.collectNamedDSLMethod(t,a.RepetitionWithSeparator,s.MANY_SEP_IDX)},e.prototype.visitAlternation=function(t){var e=this;this.collectNamedDSLMethod(t,a.Alternation,s.OR_IDX);var n=t.definition.length>1;r.forEach(t.definition,(function(i,o){if(!r.isUndefined(i.name)){var l=i.definition;l=n?[new a.Option({definition:i.definition})]:i.definition;var u=s.getKeyForAltIndex(e.ruleIdx,s.OR_IDX,t.idx,o);e.result.push({def:l,key:u,name:i.name,orgProd:i})}}))},e}(l.GAstVisitor);function p(t,e){var n={dictDef:new o.HashTable,allRuleNames:[]};return r.forEach(t,(function(t){var i=e.get(t.name);n.allRuleNames.push(t.name);var o=new f(i);t.accept(o),r.forEach(o.result,(function(e){e.def,e.key;var i=e.name;n.allRuleNames.push(t.name+i)}))})),n}e.NamedDSLMethodsCollectorVisitor=f,e.analyzeCst=p},9697:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(7620),o=n(2195),s=n(500);function a(t,e){for(var n=r.keys(t),i=n.length,o=0;o<i;o++)for(var s=n[o],a=t[s],l=a.length,u=0;u<l;u++){var c=a[u];void 0===c.tokenTypeIdx&&(void 0!==c.fullName?this[c.fullName](c.children,e):this[c.name](c.children,e))}}function l(t,e){var n=function(){};o.defineNameProp(n,t+"BaseSemantics");var i={visit:function(t,e){if(r.isArray(t)&&(t=t[0]),!r.isUndefined(t))return void 0!==t.fullName?this[t.fullName](t.children,e):this[t.name](t.children,e)},validateVisitor:function(){var t=c(this,e);if(!r.isEmpty(t)){var n=r.map(t,(function(t){return t.msg}));throw Error("Errors Detected in CST Visitor <"+o.functionName(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}};return n.prototype=i,n.prototype.constructor=n,n._RULE_NAMES=e,n}function u(t,e,n){var i=function(){};o.defineNameProp(i,t+"BaseSemanticsWithDefaults");var s=Object.create(n.prototype);return r.forEach(e,(function(t){s[t]=a})),i.prototype=s,i.prototype.constructor=i,i}function c(t,e){var n=h(t,e),i=f(t,e);return n.concat(i)}function h(t,e){var n=r.map(e,(function(e){if(!r.isFunction(t[e]))return{msg:"Missing visitor method: <"+e+"> on "+o.functionName(t.constructor)+" CST Visitor.",type:i.MISSING_METHOD,methodName:e}}));return r.compact(n)}e.defaultVisit=a,e.createBaseSemanticVisitorConstructor=l,e.createBaseVisitorConstructorWithDefaults=u,function(t){t[t["REDUNDANT_METHOD"]=0]="REDUNDANT_METHOD",t[t["MISSING_METHOD"]=1]="MISSING_METHOD"}(i=e.CstVisitorDefinitionError||(e.CstVisitorDefinitionError={})),e.validateVisitor=c,e.validateMissingCstMethods=h;var d=["constructor","visit","validateVisitor"];function f(t,e){var n=[];for(var a in t)s.validTermsPattern.test(a)&&r.isFunction(t[a])&&!r.contains(d,a)&&!r.contains(e,a)&&n.push({msg:"Redundant visitor method: <"+a+"> on "+o.functionName(t.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+s.validTermsPattern.source+"/.",type:i.REDUNDANT_METHOD,methodName:a});return n}e.validateRedundantMethods=f},870:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9399),r=n(7620),o=n(7620),s=n(148),a=n(6742),l=n(500),u=n(4927),c=n(6312);e.defaultParserErrorProvider={buildMismatchTokenMessage:function(t){var e=t.expected,n=t.actual,r=(t.previous,t.ruleName,i.hasTokenLabel(e)),o=r?"--\x3e "+i.tokenLabel(e)+" <--":"token of type --\x3e "+i.tokenName(e)+" <--",s="Expecting "+o+" but found --\x3e '"+n.image+"' <--";return s},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant;t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,n=t.actual,r=(t.previous,t.customUserDescription),s=(t.ruleName,"Expecting: "),a=o.first(n).image,l="\nbut found: '"+a+"'";if(r)return s+r+l;var u=o.reduce(e,(function(t,e){return t.concat(e)}),[]),c=o.map(u,(function(t){return"["+o.map(t,(function(t){return i.tokenLabel(t)})).join(", ")+"]"})),h=o.map(c,(function(t,e){return"  "+(e+1)+". "+t})),d="one of these possible Token sequences:\n"+h.join("\n");return s+d+l},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,n=t.actual,r=t.customUserDescription,s=(t.ruleName,"Expecting: "),a=o.first(n).image,l="\nbut found: '"+a+"'";if(r)return s+r+l;var u=o.map(e,(function(t){return"["+o.map(t,(function(t){return i.tokenLabel(t)})).join(",")+"]"})),c="expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+u.join(" ,")+">";return s+c+l}},Object.freeze(e.defaultParserErrorProvider),e.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(t,e){var n="Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-";return n}},e.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(t,e){function n(t){return t instanceof s.Terminal?i.tokenName(t.terminalType):t instanceof s.NonTerminal?t.nonTerminalName:""}var r=t.name,l=o.first(e),u=l.idx,c=a.getProductionDslName(l),h=n(l),d="->"+c+"<- with numerical suffix: ->"+u+"<-\n                  "+(h?"and argument: ->"+h+"<-":"")+"\n                  appears more than once ("+e.length+" times) in the top level rule: ->"+r+"<-.\n                  "+(0===u?"Also note that numerical suffix 0 means "+c+" without any suffix.":"")+"\n                  To fix this make sure each usage of "+c+" "+(h?"with the argument: ->"+h+"<-":"")+"\n                  in the rule ->"+r+"<- has a different occurrence index (0-5), as that combination acts as a unique\n                  position key in the grammar, which is needed by the parsing engine.\n                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return d=d.replace(/[ \t]+/g," "),d=d.replace(/\s\s+/g,"\n"),d},buildInvalidNestedRuleNameError:function(t,e){var n="Invalid nested rule name: ->"+e.name+"<- inside rule: ->"+t.name+"<-\nit must match the pattern: ->"+l.validNestedRuleName.toString()+"<-.\nNote that this means a nested rule name must start with the '$'(dollar) sign.";return n},buildDuplicateNestedRuleNameError:function(t,e){var n=o.first(e).name,i="Duplicate nested rule name: ->"+n+"<- inside rule: ->"+t.name+"<-\nA nested name must be unique in the scope of a top level grammar rule.";return i},buildNamespaceConflictError:function(t){var e="Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+t.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.";return e},buildAlternationPrefixAmbiguityError:function(t){var e=o.map(t.prefixPath,(function(t){return i.tokenLabel(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx,r="Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\nhttps://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.";return r},buildAlternationAmbiguityError:function(t){var e=o.map(t.prefixPath,(function(t){return i.tokenLabel(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx,r="Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\n",s=u.VERSION.replace(/\./g,"_");return r=r+"To Resolve this, try one of of the following: \n1. Refactor your grammar to be LL(K) for the current value of k (by default k="+c.DEFAULT_PARSER_CONFIG.maxLookahead+"})\n2. Increase the value of K for your grammar by providing a larger 'maxLookahead' value in the parser's config\n3. This issue can be ignored (if you know what you are doing...), see https://sap.github.io/chevrotain/documentation/"+s+"/interfaces/iparserconfig.html#ignoredissues for more details\n",r},buildEmptyRepetitionError:function(t){var e=a.getProductionDslName(t.repetition);0!==t.repetition.idx&&(e+=t.repetition.idx);var n="The repetition <"+e+"> within Rule <"+t.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop.";return n},buildTokenNameError:function(t){var e=i.tokenName(t.tokenType),n="Invalid Grammar Token name: ->"+e+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-";return n},buildEmptyAlternationError:function(t){var e="Ambiguous empty alternative: <"+(t.emptyChoiceIdx+1)+"> in <OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative.";return e},buildTooManyAlternativesError:function(t){var e="An Alternation cannot have more than 256 alternatives:\n<OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\n has "+(t.alternation.definition.length+1)+" alternatives.";return e},buildLeftRecursionError:function(t){var e=t.topLevelRule.name,n=r.map(t.leftRecursionPath,(function(t){return t.name})),i=e+" --\x3e "+n.concat([e]).join(" --\x3e "),o="Left Recursion found in grammar.\nrule: <"+e+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+i+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.";return o},buildInvalidRuleNameError:function(t){var e=t.topLevelRule.name,n=t.expectedPattern.toString(),i="Invalid grammar rule name: ->"+e+"<- it must match the pattern: ->"+n+"<-";return i},buildDuplicateRuleNameError:function(t){var e;e=t.topLevelRule instanceof s.Rule?t.topLevelRule.name:t.topLevelRule;var n="Duplicate definition, rule: ->"+e+"<- is already defined in the grammar: ->"+t.grammarName+"<-";return n}}},109:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620),r="MismatchedTokenException",o="NoViableAltException",s="EarlyExitException",a="NotAllInputParsedException",l=[r,o,s,a];function u(t){return i.contains(l,t.name)}function c(t,e,n){this.name=r,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function h(t,e,n){this.name=o,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function d(t,e){this.name=a,this.message=t,this.token=e,this.resyncedTokens=[]}function f(t,e,n){this.name=s,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(l),e.isRecognitionException=u,e.MismatchedTokenException=c,c.prototype=Error.prototype,e.NoViableAltException=h,h.prototype=Error.prototype,e.NotAllInputParsedException=d,d.prototype=Error.prototype,e.EarlyExitException=f,f.prototype=Error.prototype},1788:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(7597),o=n(7620),s=n(148);(function(t){t[t["OPTION"]=0]="OPTION",t[t["OR"]=1]="OR",t[t["MANY"]=2]="MANY",t[t["MANY_SEP"]=3]="MANY_SEP",t[t["AT_LEAST_ONE"]=4]="AT_LEAST_ONE",t[t["AT_LEAST_ONE_SEP"]=5]="AT_LEAST_ONE_SEP",t[t["REF"]=6]="REF",t[t["TERMINAL"]=7]="TERMINAL",t[t["FLAT"]=8]="FLAT"})(i=e.ProdType||(e.ProdType={}));var a=/(?:\s*{\s*NAME\s*:\s*["'`]([\w$]*)["'`])?/,l=new RegExp(a.source.replace("{","").replace(")?","\\s*,)?")),u=/\.\s*CONSUME(\d+)?\s*\(\s*(?:[a-zA-Z_$]\w*\s*\.\s*)*([a-zA-Z_$]\w*)/,c=new RegExp(u.source,"g"),h=/\.\s*SUBRULE(\d+)?\s*\(\s*(?:[a-zA-Z_$]\w*\s*\.\s*)*([a-zA-Z_$]\w*)/,d=new RegExp(h.source,"g"),f=/\.\s*OPTION(\d+)?\s*\(/,p=new RegExp(f.source+a.source),v=new RegExp(f.source,"g"),g=/\.\s*MANY(\d+)?\s*\(/,m=new RegExp(g.source+a.source),y=new RegExp(g.source,"g"),_=/\s*SEP\s*:\s*(?:[a-zA-Z_$]\w*\s*\.\s*)*([a-zA-Z_$]\w*)/,b=/\.\s*MANY_SEP(\d+)?\s*\(\s*{/,w=new RegExp(b.source+l.source+_.source),k=new RegExp(w.source,"g"),x=/\.\s*AT_LEAST_ONE_SEP(\d+)?\s*\(\s*{/,E=new RegExp(x.source+l.source+_.source),S=new RegExp(E.source,"g"),T=/\.\s*AT_LEAST_ONE(\d+)?\s*\(/,O=new RegExp(T.source+a.source),C=new RegExp(T.source,"g"),I=/\.\s*OR(\d+)?\s*\(/,N=new RegExp(I.source+a.source),M=new RegExp(I.source,"g"),A=/\s*(ALT)\s*:/,D=new RegExp(l.source+A.source),P=new RegExp(D.source,"g");function R(t,n,i){e.terminalNameToConstructor=i;var o=" "+t,s=et(" "+o),a=it(s),l=rt(a),u=new r.Range(0,t.length+2),c=L(n,u,l,t);return c}function L(t,e,n,i){var r=new s.Rule({name:t,definition:[],orgText:i});return K(r,e,n,t)}function F(t,e,n){switch(t.type){case i.AT_LEAST_ONE:return U(t,e,n);case i.AT_LEAST_ONE_SEP:return H(t,e,n);case i.MANY_SEP:return Y(t,e,n);case i.MANY:return W(t,e,n);case i.OPTION:return G(t,e,n);case i.OR:return $(t,e,n);case i.FLAT:return q(t,e,n);case i.REF:return j(t);case i.TERMINAL:return z(t,n);default:throw Error("non exhaustive match")}}function j(t){var e=h.exec(t.text),n=void 0===e[1],i=n?0:parseInt(e[1],10),r=e[2],o=new s.NonTerminal({nonTerminalName:r,idx:i});return o}function z(t,n){var i=u.exec(t.text),r=void 0===i[1],o=r?0:parseInt(i[1],10),a=i[2],l=e.terminalNameToConstructor[a];if(!l)throw Error("Terminal Token name: <"+a+"> not found in rule: <"+n+">  \n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#TERMINAL_NAME_NOT_FOUND\n\tFor Further details.");var c=new s.Terminal({terminalType:l,idx:o});return c}function B(t,e,n,i,r){var s=t.exec(n.text),a=void 0===s[1];e.idx=a?0:parseInt(s[1],10);var l=s[2];return o.isUndefined(l)||(e.name=l),K(e,n.range,i,r)}function U(t,e,n){return B(O,new s.RepetitionMandatory({definition:[]}),t,e,n)}function H(t,e,n){return V(t,e,s.RepetitionMandatoryWithSeparator,E,n)}function W(t,e,n){return B(m,new s.Repetition({definition:[]}),t,e,n)}function Y(t,e,n){return V(t,e,s.RepetitionWithSeparator,w,n)}function V(t,n,i,r,s){var a=r.exec(t.text),l=void 0===a[1],u=l?0:parseInt(a[1],10),c=a[3],h=e.terminalNameToConstructor[c];if(!h)throw Error("Separator Terminal Token name: "+c+" not found");var d=new i({definition:[],separator:h,idx:u}),f=a[2];return o.isUndefined(f)||(d.name=f),K(d,t.range,n,s)}function G(t,e,n){return B(p,new s.Option({definition:[]}),t,e,n)}function $(t,e,n){return B(N,new s.Alternation({definition:[]}),t,e,n)}function q(t,e,n){var i=new s.Flat({definition:[]}),r=D.exec(t.text),a=r[1];return o.isUndefined(a)||(i.name=a),K(i,t.range,e,n)}function K(t,e,n,i){var r=Z(e,n),s=o.sortBy(r,(function(t){return t.range.start})),a=[];return o.forEach(s,(function(t){a.push(F(t,n,i))})),t.definition=a,t}function Z(t,e){return o.filter(e,(function(n){var i=t.strictlyContainsRange(n.range),r=o.every(e,(function(e){var i=e.range.strictlyContainsRange(n.range),r=e.range.isStrictlyContainedInRange(t);return!(i&&r)}));return i&&r}))}e.terminalNameToConstructor={},e.buildTopProduction=R,e.buildProdGast=F,e.getDirectlyContainedRanges=Z;var X=/\/\/.*/g,Q=/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,J=/(NAME\s*:\s*)?"([^\\"]|\\([bfnrtv"\\/]|u[0-9a-fA-F]{4}))*"/g,tt=/(NAME\s*:\s*)?'([^\\']|\\([bfnrtv'\\/]|u[0-9a-fA-F]{4}))*'/g;function et(t){var e=t.replace(X,""),n=e.replace(Q,"");return n}function nt(t,e){return void 0!==e?t:""}function it(t){var e=t.replace(J,nt),n=e.replace(tt,nt);return n}function rt(t){var e=ot(t),n=st(t),i=at(t),r=lt(t),o=ut(t),s=ct(t),a=ht(t),l=dt(t);return[].concat(e,n,i,r,o,s,a,l)}function ot(t){return gt(t,i.TERMINAL,c)}function st(t){return gt(t,i.REF,d)}function at(t){return mt(t,i.AT_LEAST_ONE,C)}function lt(t){return mt(t,i.AT_LEAST_ONE_SEP,S)}function ut(t){return mt(t,i.MANY,y)}function ct(t){return mt(t,i.MANY_SEP,k)}function ht(t){return mt(t,i.OPTION,v)}function dt(t){var e=mt(t,i.OR,M),n=vt(e);return e.concat(n)}e.removeComments=et,e.removeStringLiterals=it,e.createRanges=rt,e.createTerminalRanges=ot,e.createRefsRanges=st,e.createAtLeastOneRanges=at,e.createAtLeastOneSepRanges=lt,e.createManyRanges=ut,e.createManySepRanges=ct,e.createOptionRanges=ht,e.createOrRanges=dt;var ft=o.partial(_t,"{","}"),pt=o.partial(_t,"(",")");function vt(t){var e=[];o.forEach(t,(function(t){var n=yt(t.text,i.FLAT,P,ft),r=t.range.start;o.forEach(n,(function(t){t.range.start+=r,t.range.end+=r})),e=e.concat(n)}));var n=o.uniq(e,(function(t){return t.type+"~"+t.range.start+"~"+t.range.end+"~"+t.text}));return n}function gt(t,e,n){var i,o=[];while(i=n.exec(t)){var s=i.index,a=n.lastIndex,l=new r.Range(s,a),u=i[0];o.push({range:l,text:u,type:e})}return o}function mt(t,e,n){return yt(t,e,n,pt)}function yt(t,e,n,i){var o,s=[];while(o=n.exec(t)){var a=o.index,l=i(a+o[0].length,t),u=new r.Range(a,l),c=t.substr(a,l-a+1);s.push({range:u,text:c,type:e})}return s}function _t(t,e,n,i){var r=[1],s=-1;while(!o.isEmpty(r)&&s+n<i.length){s++;var a=i.charAt(n+s);a===t?r.push(1):a===e&&r.pop()}if(o.isEmpty(r))return s+n;throw new Error("INVALID INPUT TEXT, UNTERMINATED PARENTHESIS")}function bt(t,e){return o.map(t,(function(t){return wt(t,e)}))}function wt(t,e){switch(t.type){case"NonTerminal":return new s.NonTerminal({nonTerminalName:t.name,idx:t.idx});case"Flat":return new s.Flat({name:t.name,definition:bt(t.definition,e)});case"Option":return new s.Option({name:t.name,idx:t.idx,definition:bt(t.definition,e)});case"RepetitionMandatory":return new s.RepetitionMandatory({name:t.name,idx:t.idx,definition:bt(t.definition,e)});case"RepetitionMandatoryWithSeparator":return new s.RepetitionMandatoryWithSeparator({name:t.name,idx:t.idx,separator:e[t.separator.name],definition:bt(t.definition,e)});case"RepetitionWithSeparator":return new s.RepetitionWithSeparator({name:t.name,idx:t.idx,separator:e[t.separator.name],definition:bt(t.definition,e)});case"Repetition":return new s.Repetition({name:t.name,idx:t.idx,definition:bt(t.definition,e)});case"Alternation":return new s.Alternation({name:t.name,idx:t.idx,definition:bt(t.definition,e)});case"Terminal":return new s.Terminal({terminalType:e[t.name],idx:t.idx});case"Rule":return new s.Rule({name:t.name,orgText:t.orgText,definition:bt(t.definition,e)});default:}}e.createOrPartRanges=vt,e.findClosingOffset=_t,e.deserializeGrammar=bt,e.deserializeProduction=wt},500:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(7620),o=n(7620),s=n(6312),a=n(6742),l=n(9399),u=n(8737),c=n(6960),h=n(4471),d=n(148),f=n(9499);function p(t,e,n,i,s,a){var l=r.map(t,(function(t){return g(t,s)})),u=r.map(t,(function(t){return S(t,t,s)})),c=[],h=[],d=[];o.every(u,o.isEmpty)&&(c=o.map(t,(function(t){return C(t,s)})),h=o.map(t,(function(t){return I(t,e,i,s)})),d=A(t,e,s));var f=R(t,n,s),p=r.map(n,(function(t){return k(t,s)})),m=v(t,s),y=L(t,s),_=o.map(t,(function(t){return M(t,s)})),w=o.map(t,(function(t){return b(t,s)})),E=o.map(t,(function(e){return x(e,t,a,s)}));return r.flatten(l.concat(p,m,y,d,u,c,h,f,_,w,E))}function v(t,e){var n=[];return o.forEach(t,(function(t){var i=new c.NamedDSLMethodsCollectorVisitor("");t.accept(i);var r=o.map(i.result,(function(t){return t.orgProd}));n.push(o.map(r,(function(n){return w(t,n,e)})))})),o.flatten(n)}function g(t,e){var n=new _;t.accept(n);var i=n.allProductions,o=r.groupBy(i,m),l=r.pick(o,(function(t){return t.length>1})),u=r.map(r.values(l),(function(n){var i=r.first(n),o=e.buildDuplicateFoundError(t,n),l=a.getProductionDslName(i),u={message:o,type:s.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:l,occurrence:i.idx},c=y(i);return c&&(u.parameter=c),u}));return u}function m(t){return a.getProductionDslName(t)+"_#_"+t.idx+"_#_"+y(t)}function y(t){return t instanceof d.Terminal?l.tokenName(t.terminalType):t instanceof d.NonTerminal?t.nonTerminalName:""}e.validateGrammar=p,e.identifyProductionForDuplicates=m;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return i(e,t),e.prototype.visitNonTerminal=function(t){this.allProductions.push(t)},e.prototype.visitOption=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e.prototype.visitAlternation=function(t){this.allProductions.push(t)},e.prototype.visitTerminal=function(t){this.allProductions.push(t)},e}(f.GAstVisitor);function b(t,n){var i=[],r=t.name;return r.match(e.validTermsPattern)||i.push({message:n.buildInvalidRuleNameError({topLevelRule:t,expectedPattern:e.validTermsPattern}),type:s.ParserDefinitionErrorType.INVALID_RULE_NAME,ruleName:r}),i}function w(t,n,i){var r,o=[];return n.name.match(e.validNestedRuleName)||(r=i.buildInvalidNestedRuleNameError(t,n),o.push({message:r,type:s.ParserDefinitionErrorType.INVALID_NESTED_RULE_NAME,ruleName:t.name})),o}function k(t,n){var i=[],r=l.tokenName(t);return r.match(e.validTermsPattern)||i.push({message:n.buildTokenNameError({tokenType:t,expectedPattern:e.validTermsPattern}),type:s.ParserDefinitionErrorType.INVALID_TOKEN_NAME}),i}function x(t,e,n,i){var r=[],a=o.reduce(e,(function(e,n){return n.name===t.name?e+1:e}),0);if(a>1){var l=i.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});r.push({message:l,type:s.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:t.name})}return r}function E(t,e,n){var i,o=[];return r.contains(e,t)||(i="Invalid rule override, rule: ->"+t+"<- cannot be overridden in the grammar: ->"+n+"<-as it is not defined in any of the super grammars ",o.push({message:i,type:s.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:t})),o}function S(t,e,n,i){void 0===i&&(i=[]);var o=[],a=T(e.definition);if(r.isEmpty(a))return[];var l=t.name,u=r.contains(a,t);u&&o.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:i}),type:s.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:l});var c=r.difference(a,i.concat([t])),h=r.map(c,(function(e){var o=r.cloneArr(i);return o.push(e),S(t,e,n,o)}));return o.concat(r.flatten(h))}function T(t){var e=[];if(r.isEmpty(t))return e;var n=r.first(t);if(n instanceof d.NonTerminal)e.push(n.referencedRule);else if(n instanceof d.Flat||n instanceof d.Option||n instanceof d.RepetitionMandatory||n instanceof d.RepetitionMandatoryWithSeparator||n instanceof d.RepetitionWithSeparator||n instanceof d.Repetition)e=e.concat(T(n.definition));else if(n instanceof d.Alternation)e=r.flatten(r.map(n.definition,(function(t){return T(t.definition)})));else if(!(n instanceof d.Terminal))throw Error("non exhaustive match");var i=a.isOptionalProd(n),o=t.length>1;if(i&&o){var s=r.drop(t);return e.concat(T(s))}return e}e.OccurrenceValidationCollector=_,e.validTermsPattern=/^[a-zA-Z_]\w*$/,e.validNestedRuleName=new RegExp(e.validTermsPattern.source.replace("^","^\\$")),e.validateRuleName=b,e.validateNestedRuleName=w,e.validateTokenName=k,e.validateRuleDoesNotAlreadyExist=x,e.validateRuleIsOverridden=E,e.validateNoLeftRecursion=S,e.getFirstNoneTerminal=T;var O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alternations=[],e}return i(e,t),e.prototype.visitAlternation=function(t){this.alternations.push(t)},e}(f.GAstVisitor);function C(t,e){var n=new O;t.accept(n);var i=n.alternations,o=r.reduce(i,(function(n,i){var o=r.dropRight(i.definition),a=r.map(o,(function(n,o){var a=h.nextPossibleTokensAfter([n],[],null,1);return r.isEmpty(a)?{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:i,emptyChoiceIdx:o}),type:s.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:i.idx,alternative:o+1}:null}));return n.concat(r.compact(a))}),[]);return o}function I(t,e,n,i){var s=new O;t.accept(s);var l=s.alternations,c=n[t.name];c&&(l=o.reject(l,(function(t){return c[a.getProductionDslName(t)+(0===t.idx?"":t.idx)]})));var h=r.reduce(l,(function(n,r){var o=r.idx,s=u.getLookaheadPathsForOr(o,t,e),a=D(s,r,t,i),l=P(s,r,t,i);return n.concat(a,l)}),[]);return h}e.validateEmptyOrAlternative=C,e.validateAmbiguousAlternationAlternatives=I;var N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return i(e,t),e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e}(f.GAstVisitor);function M(t,e){var n=new O;t.accept(n);var i=n.alternations,o=r.reduce(i,(function(n,i){return i.definition.length>255&&n.push({message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:i}),type:s.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:t.name,occurrence:i.idx}),n}),[]);return o}function A(t,e,n){var i=[];return o.forEach(t,(function(t){var r=new N;t.accept(r);var a=r.allProductions;o.forEach(a,(function(r){var a=u.getProdType(r),l=r.idx,c=u.getLookaheadPathsForOptionalProd(l,t,a,e),h=c[0];if(o.isEmpty(o.flatten(h))){var d=n.buildEmptyRepetitionError({topLevelRule:t,repetition:r});i.push({message:d,type:s.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}}))})),i}function D(t,e,n,i){var a=[],l=o.reduce(t,(function(e,n,i){return o.forEach(n,(function(n){var r=[i];o.forEach(t,(function(t,e){i!==e&&u.containsPath(t,n)&&r.push(e)})),r.length>1&&!u.containsPath(a,n)&&(a.push(n),e.push({alts:r,path:n}))})),e}),[]),c=r.map(l,(function(t){var r=o.map(t.alts,(function(t){return t+1})),a=i.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:r,prefixPath:t.path});return{message:a,type:s.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:[t.alts]}}));return c}function P(t,e,n,i){var r=[],a=o.reduce(t,(function(t,e,n){var i=o.map(e,(function(t){return{idx:n,path:t}}));return t.concat(i)}),[]);return o.forEach(a,(function(t){var l=t.idx,c=t.path,h=o.findAll(a,(function(t){return t.idx<l&&u.isStrictPrefixOfPath(t.path,c)})),d=o.map(h,(function(t){var r=[t.idx+1,l+1],o=0===e.idx?"":e.idx,a=i.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:r,prefixPath:t.path});return{message:a,type:s.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:r}}));r=r.concat(d)})),r}function R(t,e,n){var i=[],r=o.map(e,(function(t){return l.tokenName(t)}));return o.forEach(t,(function(t){var e=t.name;if(o.contains(r,e)){var a=n.buildNamespaceConflictError(t);i.push({message:a,type:s.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}})),i}function L(t,e){var n=[];return o.forEach(t,(function(t){var i=new c.NamedDSLMethodsCollectorVisitor("");t.accept(i);var r=o.groupBy(i.result,(function(t){return t.name})),a=o.pick(r,(function(t){return t.length>1}));o.forEach(o.values(a),(function(i){var r=o.map(i,(function(t){return t.orgProd})),a=e.buildDuplicateNestedRuleNameError(t,r);n.push({message:a,type:s.ParserDefinitionErrorType.DUPLICATE_NESTED_NAME,ruleName:t.name})}))})),n}e.RepetionCollector=N,e.validateTooManyAlts=M,e.validateSomeNonEmptyLookaheadPath=A,e.checkPrefixAlternativesAmbiguities=P},7433:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620),r=n(148),o=n(6742);function s(t){if(t instanceof r.NonTerminal)return s(t.referencedRule);if(t instanceof r.Terminal)return u(t);if(o.isSequenceProd(t))return a(t);if(o.isBranchingProd(t))return l(t);throw Error("non exhaustive match")}function a(t){var e,n=[],r=t.definition,a=0,l=r.length>a,u=!0;while(l&&u)e=r[a],u=o.isOptionalProd(e),n=n.concat(s(e)),a+=1,l=r.length>a;return i.uniq(n)}function l(t){var e=i.map(t.definition,(function(t){return s(t)}));return i.uniq(i.flatten(e))}function u(t){return[t.terminalType]}e.first=s,e.firstForSequence=a,e.firstForBranching=l,e.firstForTerminal=u},6184:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(3131),o=n(2195),s=n(7433),a=n(7620),l=n(5010),u=n(9399),c=n(148),h=function(t){function e(e){var n=t.call(this)||this;return n.topProd=e,n.follows=new o.HashTable,n}return i(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(t,e,n){},e.prototype.walkProdRef=function(t,e,n){var i=f(t.referencedRule,t.idx)+this.topProd.name,r=e.concat(n),o=new c.Flat({definition:r}),a=s.first(o);this.follows.put(i,a)},e}(r.RestWalker);function d(t){var e=new o.HashTable;return a.forEach(t,(function(t){var n=new h(t).startWalking();e.putAll(n)})),e}function f(t,e){return t.name+e+l.IN}function p(t){var e=u.tokenName(t.terminalType);return e+t.idx+l.IN}e.ResyncFollowsWalker=h,e.computeAllProdsFollows=d,e.buildBetweenProdsFollowPrefix=f,e.buildInProdFollowPrefix=p},6742:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(7620),o=n(148),s=n(9499),a=n(9399);function l(t){return t instanceof o.Flat||t instanceof o.Option||t instanceof o.Repetition||t instanceof o.RepetitionMandatory||t instanceof o.RepetitionMandatoryWithSeparator||t instanceof o.RepetitionWithSeparator||t instanceof o.Terminal||t instanceof o.Rule}function u(t,e){void 0===e&&(e=[]);var n=t instanceof o.Option||t instanceof o.Repetition||t instanceof o.RepetitionWithSeparator;return!!n||(t instanceof o.Alternation?r.some(t.definition,(function(t){return u(t,e)})):!(t instanceof o.NonTerminal&&r.contains(e,t))&&(t instanceof o.AbstractProduction&&(t instanceof o.NonTerminal&&e.push(t),r.every(t.definition,(function(t){return u(t,e)})))))}function c(t){return t instanceof o.Alternation}function h(t){if(t instanceof o.NonTerminal)return"SUBRULE";if(t instanceof o.Option)return"OPTION";if(t instanceof o.Alternation)return"OR";if(t instanceof o.RepetitionMandatory)return"AT_LEAST_ONE";if(t instanceof o.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(t instanceof o.RepetitionWithSeparator)return"MANY_SEP";if(t instanceof o.Repetition)return"MANY";if(t instanceof o.Terminal)return"CONSUME";throw Error("non exhaustive match")}e.isSequenceProd=l,e.isOptionalProd=u,e.isBranchingProd=c,e.getProductionDslName=h;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.separator="-",e.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return i(e,t),e.prototype.visitTerminal=function(t){var e=a.tokenName(t.terminalType)+this.separator+"Terminal";r.has(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitNonTerminal=function(t){var e=t.nonTerminalName+this.separator+"Terminal";r.has(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitOption=function(t){this.dslMethods.option.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.dslMethods.repetitionWithSeparator.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.dslMethods.repetitionMandatory.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)},e.prototype.visitRepetition=function(t){this.dslMethods.repetition.push(t)},e.prototype.visitAlternation=function(t){this.dslMethods.alternation.push(t)},e}(s.GAstVisitor);e.DslMethodsCollectorVisitor=d},148:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(7620),o=n(9399),s=function(){function t(t){this.definition=t}return t.prototype.accept=function(t){t.visit(this),r.forEach(this.definition,(function(e){e.accept(t)}))},t}();e.AbstractProduction=s;var a=function(t){function e(e){var n=t.call(this,[])||this;return n.idx=1,r.assign(n,r.pick(e,(function(t){return void 0!==t}))),n}return i(e,t),Object.defineProperty(e.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.accept=function(t){t.visit(this)},e}(s);e.NonTerminal=a;var l=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.orgText="",r.assign(n,r.pick(e,(function(t){return void 0!==t}))),n}return i(e,t),e}(s);e.Rule=l;var u=function(t){function e(e){var n=t.call(this,e.definition)||this;return r.assign(n,r.pick(e,(function(t){return void 0!==t}))),n}return i(e,t),e}(s);e.Flat=u;var c=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,r.assign(n,r.pick(e,(function(t){return void 0!==t}))),n}return i(e,t),e}(s);e.Option=c;var h=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,r.assign(n,r.pick(e,(function(t){return void 0!==t}))),n}return i(e,t),e}(s);e.RepetitionMandatory=h;var d=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,r.assign(n,r.pick(e,(function(t){return void 0!==t}))),n}return i(e,t),e}(s);e.RepetitionMandatoryWithSeparator=d;var f=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,r.assign(n,r.pick(e,(function(t){return void 0!==t}))),n}return i(e,t),e}(s);e.Repetition=f;var p=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,r.assign(n,r.pick(e,(function(t){return void 0!==t}))),n}return i(e,t),e}(s);e.RepetitionWithSeparator=p;var v=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,r.assign(n,r.pick(e,(function(t){return void 0!==t}))),n}return i(e,t),e}(s);e.Alternation=v;var g=function(){function t(t){this.idx=1,r.assign(this,r.pick(t,(function(t){return void 0!==t})))}return t.prototype.accept=function(t){t.visit(this)},t}();function m(t){return r.map(t,y)}function y(t){function e(t){return r.map(t,y)}if(t instanceof a)return{type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};if(t instanceof u)return{type:"Flat",definition:e(t.definition)};if(t instanceof c)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof h)return{type:"RepetitionMandatory",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof d)return{type:"RepetitionMandatoryWithSeparator",name:t.name,idx:t.idx,separator:y(new g({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof p)return{type:"RepetitionWithSeparator",name:t.name,idx:t.idx,separator:y(new g({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof f)return{type:"Repetition",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof v)return{type:"Alternation",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof g){var n={type:"Terminal",name:o.tokenName(t.terminalType),label:o.tokenLabel(t.terminalType),idx:t.idx},i=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=r.isRegExp(i)?i.source:i),n}if(t instanceof l)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}e.Terminal=g,e.serializeGrammar=m,e.serializeProduction=y},9931:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620),r=n(2195),o=n(3931),s=n(500),a=n(870),l=n(6742);function u(t){t=i.defaults(t,{errMsgProvider:a.defaultGrammarResolverErrorProvider});var e=new r.HashTable;return i.forEach(t.rules,(function(t){e.put(t.name,t)})),o.resolveGrammar(e,t.errMsgProvider)}function c(t){return t=i.defaults(t,{errMsgProvider:a.defaultGrammarValidatorErrorProvider,ignoredIssues:{}}),s.validateGrammar(t.rules,t.maxLookahead,t.tokenTypes,t.ignoredIssues,t.errMsgProvider,t.grammarName)}function h(t){i.forEach(t.rules,(function(t){var e=new l.DslMethodsCollectorVisitor;t.accept(e),i.forEach(e.dslMethods,(function(t){i.forEach(t,(function(t,e){t.idx=e+1}))}))}))}e.resolveGrammar=u,e.validateGrammar=c,e.assignOccurrenceIndices=h},9499:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(148),r=function(){function t(){}return t.prototype.visit=function(t){if(t instanceof i.NonTerminal)return this.visitNonTerminal(t);if(t instanceof i.Flat)return this.visitFlat(t);if(t instanceof i.Option)return this.visitOption(t);if(t instanceof i.RepetitionMandatory)return this.visitRepetitionMandatory(t);if(t instanceof i.RepetitionMandatoryWithSeparator)return this.visitRepetitionMandatoryWithSeparator(t);if(t instanceof i.RepetitionWithSeparator)return this.visitRepetitionWithSeparator(t);if(t instanceof i.Repetition)return this.visitRepetition(t);if(t instanceof i.Alternation)return this.visitAlternation(t);if(t instanceof i.Terminal)return this.visitTerminal(t);if(t instanceof i.Rule)return this.visitRule(t);throw Error("non exhaustive match")},t.prototype.visitNonTerminal=function(t){},t.prototype.visitFlat=function(t){},t.prototype.visitOption=function(t){},t.prototype.visitRepetition=function(t){},t.prototype.visitRepetitionMandatory=function(t){},t.prototype.visitRepetitionMandatoryWithSeparator=function(t){},t.prototype.visitRepetitionWithSeparator=function(t){},t.prototype.visitAlternation=function(t){},t.prototype.visitTerminal=function(t){},t.prototype.visitRule=function(t){},t}();e.GAstVisitor=r},4471:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(3131),o=n(7620),s=n(9399),a=n(7433),l=n(148),u=function(t){function e(e,n){var i=t.call(this)||this;return i.topProd=e,i.path=n,i.possibleTokTypes=[],i.nextProductionName="",i.nextProductionOccurrence=0,i.found=!1,i.isAtEndOfPath=!1,i}return i(e,t),e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=o.cloneArr(this.path.ruleStack).reverse(),this.occurrenceStack=o.cloneArr(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(e,n){void 0===n&&(n=[]),this.found||t.prototype.walk.call(this,e,n)},e.prototype.walkProdRef=function(t,e,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){var i=e.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}},e.prototype.updateExpectedNext=function(){o.isEmpty(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(r.RestWalker);e.AbstractNextPossibleTokensWalker=u;var c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.path=n,i.nextTerminalName="",i.nextTerminalOccurrence=0,i.nextTerminalName=s.tokenName(i.path.lastTok),i.nextTerminalOccurrence=i.path.lastTokOccurrence,i}return i(e,t),e.prototype.walkTerminal=function(t,e,n){if(this.isAtEndOfPath&&s.tokenName(t.terminalType)===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){var i=e.concat(n),r=new l.Flat({definition:i});this.possibleTokTypes=a.first(r),this.found=!0}},e}(u);e.NextAfterTokenWalker=c;var h=function(t){function e(e,n){var i=t.call(this)||this;return i.topRule=e,i.occurrence=n,i.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},i}return i(e,t),e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(r.RestWalker);e.AbstractNextTerminalAfterProductionWalker=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.walkMany=function(e,n,i){if(e.idx===this.occurrence){var r=o.first(n.concat(i));this.result.isEndOfRule=void 0===r,r instanceof l.Terminal&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else t.prototype.walkMany.call(this,e,n,i)},e}(h);e.NextTerminalAfterManyWalker=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.walkManySep=function(e,n,i){if(e.idx===this.occurrence){var r=o.first(n.concat(i));this.result.isEndOfRule=void 0===r,r instanceof l.Terminal&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else t.prototype.walkManySep.call(this,e,n,i)},e}(h);e.NextTerminalAfterManySepWalker=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.walkAtLeastOne=function(e,n,i){if(e.idx===this.occurrence){var r=o.first(n.concat(i));this.result.isEndOfRule=void 0===r,r instanceof l.Terminal&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else t.prototype.walkAtLeastOne.call(this,e,n,i)},e}(h);e.NextTerminalAfterAtLeastOneWalker=p;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.walkAtLeastOneSep=function(e,n,i){if(e.idx===this.occurrence){var r=o.first(n.concat(i));this.result.isEndOfRule=void 0===r,r instanceof l.Terminal&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else t.prototype.walkAtLeastOneSep.call(this,e,n,i)},e}(h);function g(t,e,n){void 0===n&&(n=[]),n=o.cloneArr(n);var i=[],r=0;function s(e){return e.concat(o.drop(t,r+1))}function a(t){var r=g(s(t),e,n);return i.concat(r)}while(n.length<e&&r<t.length){var u=t[r];if(u instanceof l.Flat)return a(u.definition);if(u instanceof l.NonTerminal)return a(u.definition);if(u instanceof l.Option)i=a(u.definition);else{if(u instanceof l.RepetitionMandatory){var c=u.definition.concat([new l.Repetition({definition:u.definition})]);return a(c)}if(u instanceof l.RepetitionMandatoryWithSeparator){c=[new l.Flat({definition:u.definition}),new l.Repetition({definition:[new l.Terminal({terminalType:u.separator})].concat(u.definition)})];return a(c)}if(u instanceof l.RepetitionWithSeparator){c=u.definition.concat([new l.Repetition({definition:[new l.Terminal({terminalType:u.separator})].concat(u.definition)})]);i=a(c)}else if(u instanceof l.Repetition){c=u.definition.concat([new l.Repetition({definition:u.definition})]);i=a(c)}else{if(u instanceof l.Alternation)return o.forEach(u.definition,(function(t){i=a(t.definition)})),i;if(!(u instanceof l.Terminal))throw Error("non exhaustive match");n.push(u.terminalType)}}r++}return i.push({partialPath:n,suffixDef:o.drop(t,r)}),i}function m(t,e,n,i){var r="EXIT_NONE_TERMINAL",s=[r],a="EXIT_ALTERNATIVE",u=!1,c=e.length,h=c-i-1,d=[],f=[];f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});while(!o.isEmpty(f)){var p=f.pop();if(p!==a){var v=p.def,g=p.idx,m=p.ruleStack,_=p.occurrenceStack;if(!o.isEmpty(v)){var b=v[0];if(b===r){var w={idx:g,def:o.drop(v),ruleStack:o.dropRight(m),occurrenceStack:o.dropRight(_)};f.push(w)}else if(b instanceof l.Terminal)if(g<c-1){var k=g+1,x=e[k];if(n(x,b.terminalType)){w={idx:k,def:o.drop(v),ruleStack:m,occurrenceStack:_};f.push(w)}}else{if(g!==c-1)throw Error("non exhaustive match");d.push({nextTokenType:b.terminalType,nextTokenOccurrence:b.idx,ruleStack:m,occurrenceStack:_}),u=!0}else if(b instanceof l.NonTerminal){var E=o.cloneArr(m);E.push(b.nonTerminalName);var S=o.cloneArr(_);S.push(b.idx);w={idx:g,def:b.definition.concat(s,o.drop(v)),ruleStack:E,occurrenceStack:S};f.push(w)}else if(b instanceof l.Option){var T={idx:g,def:o.drop(v),ruleStack:m,occurrenceStack:_};f.push(T),f.push(a);var O={idx:g,def:b.definition.concat(o.drop(v)),ruleStack:m,occurrenceStack:_};f.push(O)}else if(b instanceof l.RepetitionMandatory){var C=new l.Repetition({definition:b.definition,idx:b.idx}),I=b.definition.concat([C],o.drop(v));w={idx:g,def:I,ruleStack:m,occurrenceStack:_};f.push(w)}else if(b instanceof l.RepetitionMandatoryWithSeparator){var N=new l.Terminal({terminalType:b.separator});C=new l.Repetition({definition:[N].concat(b.definition),idx:b.idx}),I=b.definition.concat([C],o.drop(v)),w={idx:g,def:I,ruleStack:m,occurrenceStack:_};f.push(w)}else if(b instanceof l.RepetitionWithSeparator){T={idx:g,def:o.drop(v),ruleStack:m,occurrenceStack:_};f.push(T),f.push(a);N=new l.Terminal({terminalType:b.separator});var M=new l.Repetition({definition:[N].concat(b.definition),idx:b.idx});I=b.definition.concat([M],o.drop(v)),O={idx:g,def:I,ruleStack:m,occurrenceStack:_};f.push(O)}else if(b instanceof l.Repetition){T={idx:g,def:o.drop(v),ruleStack:m,occurrenceStack:_};f.push(T),f.push(a);M=new l.Repetition({definition:b.definition,idx:b.idx}),I=b.definition.concat([M],o.drop(v)),O={idx:g,def:I,ruleStack:m,occurrenceStack:_};f.push(O)}else if(b instanceof l.Alternation)for(var A=b.definition.length-1;A>=0;A--){var D=b.definition[A],P={idx:g,def:D.definition.concat(o.drop(v)),ruleStack:m,occurrenceStack:_};f.push(P),f.push(a)}else if(b instanceof l.Flat)f.push({idx:g,def:b.definition.concat(o.drop(v)),ruleStack:m,occurrenceStack:_});else{if(!(b instanceof l.Rule))throw Error("non exhaustive match");f.push(y(b,g,m,_))}}}else u&&o.last(f).idx<=h&&f.pop()}return d}function y(t,e,n,i){var r=o.cloneArr(n);r.push(t.name);var s=o.cloneArr(i);return s.push(1),{idx:e,def:t.definition,ruleStack:r,occurrenceStack:s}}e.NextTerminalAfterAtLeastOneSepWalker=v,e.possiblePathsFrom=g,e.nextPossibleTokensAfter=m},7045:(t,e)=>{"use strict";function n(t,e,n){return n|e|t}Object.defineProperty(e,"__esModule",{value:!0}),e.BITS_FOR_METHOD_IDX=4,e.BITS_FOR_OCCURRENCE_IDX=4,e.BITS_FOR_RULE_IDX=24,e.BITS_FOR_ALT_IDX=8,e.OR_IDX=1<<e.BITS_FOR_METHOD_IDX,e.OPTION_IDX=2<<e.BITS_FOR_METHOD_IDX,e.MANY_IDX=3<<e.BITS_FOR_METHOD_IDX,e.AT_LEAST_ONE_IDX=4<<e.BITS_FOR_METHOD_IDX,e.MANY_SEP_IDX=5<<e.BITS_FOR_METHOD_IDX,e.AT_LEAST_ONE_SEP_IDX=6<<e.BITS_FOR_METHOD_IDX,e.getKeyForAutomaticLookahead=n;var i=32-e.BITS_FOR_ALT_IDX;function r(t,e,r,o){var s=o+1<<i;return n(t,e,r)|s}e.getKeyForAltIndex=r},8737:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(7620),s=n(4471),a=n(3131),l=n(3087),u=n(148),c=n(9499);function h(t){if(t instanceof u.Option)return r.OPTION;if(t instanceof u.Repetition)return r.REPETITION;if(t instanceof u.RepetitionMandatory)return r.REPETITION_MANDATORY;if(t instanceof u.RepetitionMandatoryWithSeparator)return r.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof u.RepetitionWithSeparator)return r.REPETITION_WITH_SEPARATOR;if(t instanceof u.Alternation)return r.ALTERNATION;throw Error("non exhaustive match")}function d(t,e,n,i,r,o){var s=_(t,e,n),a=x(s)?l.tokenStructuredMatcherNoCategories:l.tokenStructuredMatcher;return o(s,i,a,r)}function f(t,e,n,i,r,o){var s=b(t,e,r,n),a=x(s)?l.tokenStructuredMatcherNoCategories:l.tokenStructuredMatcher;return o(s[0],a,i)}function p(t,e,n,i){var r=t.length,s=o.every(t,(function(t){return o.every(t,(function(t){return 1===t.length}))}));if(e)return function(e){for(var i=o.map(e,(function(t){return t.GATE})),s=0;s<r;s++){var a=t[s],l=a.length,u=i[s];if(void 0===u||!1!==u.call(this))t:for(var c=0;c<l;c++){for(var h=a[c],d=h.length,f=0;f<d;f++){var p=this.LA(f+1);if(!1===n(p,h[f]))continue t}return s}}};if(s&&!i){var a=o.map(t,(function(t){return o.flatten(t)})),l=o.reduce(a,(function(t,e,n){return o.forEach(e,(function(e){o.has(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=n),o.forEach(e.categoryMatches,(function(e){o.has(t,e)||(t[e]=n)}))})),t}),[]);return function(){var t=this.LA(1);return l[t.tokenTypeIdx]}}return function(){for(var e=0;e<r;e++){var i=t[e],o=i.length;t:for(var s=0;s<o;s++){for(var a=i[s],l=a.length,u=0;u<l;u++){var c=this.LA(u+1);if(!1===n(c,a[u]))continue t}return e}}}}function v(t,e,n){var i=o.every(t,(function(t){return 1===t.length})),r=t.length;if(i&&!n){var s=o.flatten(t);if(1===s.length&&o.isEmpty(s[0].categoryMatches)){var a=s[0],l=a.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===l}}var u=o.reduce(s,(function(t,e,n){return t[e.tokenTypeIdx]=!0,o.forEach(e.categoryMatches,(function(e){t[e]=!0})),t}),[]);return function(){var t=this.LA(1);return!0===u[t.tokenTypeIdx]}}return function(){t:for(var n=0;n<r;n++){for(var i=t[n],o=i.length,s=0;s<o;s++){var a=this.LA(s+1);if(!1===e(a,i[s]))continue t}return!0}return!1}}(function(t){t[t["OPTION"]=0]="OPTION",t[t["REPETITION"]=1]="REPETITION",t[t["REPETITION_MANDATORY"]=2]="REPETITION_MANDATORY",t[t["REPETITION_MANDATORY_WITH_SEPARATOR"]=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t["REPETITION_WITH_SEPARATOR"]=4]="REPETITION_WITH_SEPARATOR",t[t["ALTERNATION"]=5]="ALTERNATION"})(r=e.PROD_TYPE||(e.PROD_TYPE={})),e.getProdType=h,e.buildLookaheadFuncForOr=d,e.buildLookaheadFuncForOptionalProd=f,e.buildAlternativesLookAheadFunc=p,e.buildSingleAlternativeLookaheadFunction=v;var g=function(t){function e(e,n,i){var r=t.call(this)||this;return r.topProd=e,r.targetOccurrence=n,r.targetProdType=i,r}return i(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(t,e,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=n.concat(i),!0)},e.prototype.walkOption=function(e,n,i){this.checkIsTarget(e,r.OPTION,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkAtLeastOne=function(e,n,i){this.checkIsTarget(e,r.REPETITION_MANDATORY,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkAtLeastOneSep=function(e,n,i){this.checkIsTarget(e,r.REPETITION_MANDATORY_WITH_SEPARATOR,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkMany=function(e,n,i){this.checkIsTarget(e,r.REPETITION,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkManySep=function(e,n,i){this.checkIsTarget(e,r.REPETITION_WITH_SEPARATOR,n,i)||t.prototype.walkOption.call(this,e,n,i)},e}(a.RestWalker),m=function(t){function e(e,n){var i=t.call(this)||this;return i.targetOccurrence=e,i.targetProdType=n,i.result=[],i}return i(e,t),e.prototype.checkIsTarget=function(t,e){t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.result=t.definition)},e.prototype.visitOption=function(t){this.checkIsTarget(t,r.OPTION)},e.prototype.visitRepetition=function(t){this.checkIsTarget(t,r.REPETITION)},e.prototype.visitRepetitionMandatory=function(t){this.checkIsTarget(t,r.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.checkIsTarget(t,r.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(t){this.checkIsTarget(t,r.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(t){this.checkIsTarget(t,r.ALTERNATION)},e}(c.GAstVisitor);function y(t,e){function n(t,e){return o.reduce(t,(function(t,n,i){if(i!==e){var r=o.map(n,(function(t){return t.partialPath}));return t.concat(r)}return t}),[])}function i(t,e){return void 0===o.find(t,(function(t){return o.every(e,(function(e,n){return r(e,t[n])}))}))}function r(t,e){return t===e||t&&e&&(t.categoryMatchesMap[e.tokenTypeIdx]||e.categoryMatchesMap[t.tokenTypeIdx])}function a(t){for(var e=[],n=0;n<t;n++)e.push([]);return e}for(var l=o.map(t,(function(t){return s.possiblePathsFrom([t],1)})),u=a(l.length),c=l,h=1;h<=e;h++){var d=c;c=a(d.length);for(var f=0;f<d.length;f++)for(var p=d[f],v=n(d,f),g=0;g<p.length;g++){var m=p[g].partialPath,y=p[g].suffixDef,_=i(v,m);if(_||o.isEmpty(y)||m.length===e){var b=u[f];w(b,m)||b.push(m)}else{var k=s.possiblePathsFrom(y,h+1,m);c[f]=c[f].concat(k)}}}return u}function _(t,e,n){var i=new m(t,r.ALTERNATION);return e.accept(i),y(i.result,n)}function b(t,e,n,i){var r=new m(t,n);e.accept(r);var o=r.result,s=new g(e,t,n),a=s.startWalking(),l=new u.Flat({definition:o}),c=new u.Flat({definition:a});return y([l,c],i)}function w(t,e){var n=o.find(t,(function(t){return e.length===t.length&&o.every(e,(function(e,n){return e===t[n]||t[n].categoryMatchesMap[e.tokenTypeIdx]}))}));return void 0!==n}function k(t,e){return t.length<e.length&&o.every(t,(function(t,n){var i=e[n];return t===i||i.categoryMatchesMap[t.tokenTypeIdx]}))}function x(t){return o.every(t,(function(t){return o.every(t,(function(t){return o.every(t,(function(t){return o.isEmpty(t.categoryMatches)}))}))}))}e.lookAheadSequenceFromAlternatives=y,e.getLookaheadPathsForOr=_,e.getLookaheadPathsForOptionalProd=b,e.containsPath=w,e.isStrictPrefixOfPath=k,e.areTokenCategoriesNotUsed=x},3931:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(6312),o=n(7620),s=n(9499);function a(t,e){var n=new l(t,e);return n.resolveRefs(),n.errors}e.resolveGrammar=a;var l=function(t){function e(e,n){var i=t.call(this)||this;return i.nameToTopRule=e,i.errMsgProvider=n,i.errors=[],i}return i(e,t),e.prototype.resolveRefs=function(){var t=this;o.forEach(this.nameToTopRule.values(),(function(e){t.currTopLevel=e,e.accept(t)}))},e.prototype.visitNonTerminal=function(t){var e=this.nameToTopRule.get(t.nonTerminalName);if(e)t.referencedRule=e;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:r.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}},e}(s.GAstVisitor);e.GastRefResolverVisitor=l},3131:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620),r=n(148),o=function(){function t(){}return t.prototype.walk=function(t,e){var n=this;void 0===e&&(e=[]),i.forEach(t.definition,(function(o,s){var a=i.drop(t.definition,s+1);if(o instanceof r.NonTerminal)n.walkProdRef(o,a,e);else if(o instanceof r.Terminal)n.walkTerminal(o,a,e);else if(o instanceof r.Flat)n.walkFlat(o,a,e);else if(o instanceof r.Option)n.walkOption(o,a,e);else if(o instanceof r.RepetitionMandatory)n.walkAtLeastOne(o,a,e);else if(o instanceof r.RepetitionMandatoryWithSeparator)n.walkAtLeastOneSep(o,a,e);else if(o instanceof r.RepetitionWithSeparator)n.walkManySep(o,a,e);else if(o instanceof r.Repetition)n.walkMany(o,a,e);else{if(!(o instanceof r.Alternation))throw Error("non exhaustive match");n.walkOr(o,a,e)}}))},t.prototype.walkTerminal=function(t,e,n){},t.prototype.walkProdRef=function(t,e,n){},t.prototype.walkFlat=function(t,e,n){var i=e.concat(n);this.walk(t,i)},t.prototype.walkOption=function(t,e,n){var i=e.concat(n);this.walk(t,i)},t.prototype.walkAtLeastOne=function(t,e,n){var i=[new r.Option({definition:t.definition})].concat(e,n);this.walk(t,i)},t.prototype.walkAtLeastOneSep=function(t,e,n){var i=s(t,e,n);this.walk(t,i)},t.prototype.walkMany=function(t,e,n){var i=[new r.Option({definition:t.definition})].concat(e,n);this.walk(t,i)},t.prototype.walkManySep=function(t,e,n){var i=s(t,e,n);this.walk(t,i)},t.prototype.walkOr=function(t,e,n){var o=this,s=e.concat(n);i.forEach(t.definition,(function(t){var e=new r.Flat({definition:[t]});o.walk(e,s)}))},t}();function s(t,e,n){var i=[new r.Option({definition:[new r.Terminal({terminalType:t.separator})].concat(t.definition)})],o=i.concat(e,n);return o}e.RestWalker=o},6312:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2195),o=n(7620),s=n(6184),a=n(9399),l=n(1788),u=n(6960),c=n(870),h=n(9931),d=n(8205),f=n(2056),p=n(7437),v=n(935),g=n(1120),m=n(7212),y=n(7756),_=n(626);function b(t){return void 0===t&&(t=void 0),function(){return t}}e.END_OF_FILE=a.createTokenInstance(a.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(e.END_OF_FILE),e.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:4,ignoredIssues:{},dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:c.defaultParserErrorProvider,serializedGrammar:null,nodeLocationTracking:"none"}),e.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),function(t){t[t["INVALID_RULE_NAME"]=0]="INVALID_RULE_NAME",t[t["DUPLICATE_RULE_NAME"]=1]="DUPLICATE_RULE_NAME",t[t["INVALID_RULE_OVERRIDE"]=2]="INVALID_RULE_OVERRIDE",t[t["DUPLICATE_PRODUCTIONS"]=3]="DUPLICATE_PRODUCTIONS",t[t["UNRESOLVED_SUBRULE_REF"]=4]="UNRESOLVED_SUBRULE_REF",t[t["LEFT_RECURSION"]=5]="LEFT_RECURSION",t[t["NONE_LAST_EMPTY_ALT"]=6]="NONE_LAST_EMPTY_ALT",t[t["AMBIGUOUS_ALTS"]=7]="AMBIGUOUS_ALTS",t[t["CONFLICT_TOKENS_RULES_NAMESPACE"]=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t["INVALID_TOKEN_NAME"]=9]="INVALID_TOKEN_NAME",t[t["INVALID_NESTED_RULE_NAME"]=10]="INVALID_NESTED_RULE_NAME",t[t["DUPLICATE_NESTED_NAME"]=11]="DUPLICATE_NESTED_NAME",t[t["NO_NON_EMPTY_LOOKAHEAD"]=12]="NO_NON_EMPTY_LOOKAHEAD",t[t["AMBIGUOUS_PREFIX_ALTS"]=13]="AMBIGUOUS_PREFIX_ALTS",t[t["TOO_MANY_ALTS"]=14]="TOO_MANY_ALTS"}(e.ParserDefinitionErrorType||(e.ParserDefinitionErrorType={})),e.EMPTY_ALT=b;var w=function(){function t(t,n){void 0===n&&(n=e.DEFAULT_PARSER_CONFIG),this.ignoredIssues=e.DEFAULT_PARSER_CONFIG.ignoredIssues,this.definitionErrors=[],this.selfAnalysisDone=!1;var i=this;i.initErrorHandler(n),i.initLexerAdapter(),i.initLooksAhead(n),i.initRecognizerEngine(t,n),i.initRecoverable(n),i.initTreeBuilder(n),i.initContentAssist(),this.ignoredIssues=o.has(n,"ignoredIssues")?n.ignoredIssues:e.DEFAULT_PARSER_CONFIG.ignoredIssues,o.toFastProperties(this)}return t.performSelfAnalysis=function(t){t.performSelfAnalysis()},t.prototype.performSelfAnalysis=function(){var e,n=this;this.selfAnalysisDone=!0;var i=r.classNameFromInstance(this),a=this.gastProductionsCache;if(this.serializedGrammar){var d=l.deserializeGrammar(this.serializedGrammar,this.tokensMap);o.forEach(d,(function(t){n.gastProductionsCache.put(t.name,t)}))}var f=h.resolveGrammar({rules:a.values()});if(this.definitionErrors.push.apply(this.definitionErrors,f),o.isEmpty(f)){var p=h.validateGrammar({rules:a.values(),maxLookahead:this.maxLookahead,tokenTypes:o.values(this.tokensMap),ignoredIssues:this.ignoredIssues,errMsgProvider:c.defaultGrammarValidatorErrorProvider,grammarName:i});this.definitionErrors.push.apply(this.definitionErrors,p)}if(o.isEmpty(this.definitionErrors)){var v=s.computeAllProdsFollows(a.values());this.resyncFollows=v}var g=u.analyzeCst(a.values(),this.fullRuleNameToShort);if(this.allRuleNames=g.allRuleNames,!t.DEFER_DEFINITION_ERRORS_HANDLING&&!o.isEmpty(this.definitionErrors))throw e=o.map(this.definitionErrors,(function(t){return t.message})),new Error("Parser Definition Errors detected:\n "+e.join("\n-------------------------------\n"))},t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();e.Parser=w,o.applyMixins(w,[d.Recoverable,f.LooksAhead,p.TreeBuilder,v.LexerAdapter,m.RecognizerEngine,g.RecognizerApi,y.ErrorHandler,_.ContentAssist]);var k=function(t){function n(n,i){void 0===i&&(i=e.DEFAULT_PARSER_CONFIG);var r=this,s=o.cloneObj(i);return s.outputCst=!0,r=t.call(this,n,s)||this,r}return i(n,t),n}(w);e.CstParser=k;var x=function(t){function n(n,i){void 0===i&&(i=e.DEFAULT_PARSER_CONFIG);var r=this,s=o.cloneObj(i);return s.outputCst=!1,r=t.call(this,n,s)||this,r}return i(n,t),n}(w);e.EmbeddedActionsParser=x},626:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4471),r=n(7620),o=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(t,e){var n=this.gastProductionsCache.get(t);if(r.isUndefined(n))throw Error("Rule ->"+t+"<- does not exist in this grammar.");return i.nextPossibleTokensAfter([n],e,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(t){var e=r.first(t.ruleStack),n=this.getGAstProductions(),o=n.get(e),s=new i.NextAfterTokenWalker(o,t).startWalking();return s},t}();e.ContentAssist=o},7756:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(109),r=n(7620),o=n(8737),s=n(6312),a=function(){function t(){}return t.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=r.defaults(t.errorMessageProvider,s.DEFAULT_PARSER_CONFIG.errorMessageProvider)},t.prototype.SAVE_ERROR=function(t){if(i.isRecognitionException(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:r.cloneArr(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(t.prototype,"errors",{get:function(){return r.cloneArr(this._errors)},set:function(t){this._errors=t},enumerable:!0,configurable:!0}),t.prototype.raiseEarlyExitException=function(t,e,n){for(var r=this.getCurrRuleFullName(),s=this.getGAstProductions().get(r),a=o.getLookaheadPathsForOptionalProd(t,s,e,this.maxLookahead),l=a[0],u=[],c=1;c<this.maxLookahead;c++)u.push(this.LA(c));var h=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:l,actual:u,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new i.EarlyExitException(h,this.LA(1),this.LA(0)))},t.prototype.raiseNoAltException=function(t,e){for(var n=this.getCurrRuleFullName(),r=this.getGAstProductions().get(n),s=o.getLookaheadPathsForOr(t,r,this.maxLookahead),a=[],l=1;l<=this.maxLookahead;l++)a.push(this.LA(l));var u=this.LA(0),c=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:a,previous:u,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new i.NoViableAltException(c,this.LA(1),u))},t}();e.ErrorHandler=a},935:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6312),r=function(){function t(){}return t.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(t){this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!0,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):i.END_OF_FILE},t.prototype.LA=function(t){return this.currIdx+t<0||this.tokVectorLength<=this.currIdx+t?i.END_OF_FILE:this.tokVector[this.currIdx+t]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(t){this.currIdx=t},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.getLexerPosition=function(){return this.exportLexerState()},t}();e.LexerAdapter=r},2056:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8737),r=n(7620),o=n(6312),s=n(7045),a=function(){function t(){}return t.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=r.has(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:o.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=r.has(t,"maxLookahead")?t.maxLookahead:o.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=r.isES2015MapSupported()?new Map:[],r.isES2015MapSupported()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},t.prototype.lookAheadBuilderForOptional=function(t,e,n){return i.buildSingleAlternativeLookaheadFunction(t,e,n)},t.prototype.lookAheadBuilderForAlternatives=function(t,e,n,r){return i.buildAlternativesLookAheadFunc(t,e,n,r)},t.prototype.getKeyForAutomaticLookahead=function(t,e){var n=this.getLastExplicitRuleShortName();return s.getKeyForAutomaticLookahead(n,t,e)},t.prototype.getLookaheadFuncForOr=function(t,e){var n=this.getKeyForAutomaticLookahead(s.OR_IDX,t),o=this.getLaFuncFromCache(n);if(void 0===o){var a=this.getCurrRuleFullName(),l=this.getGAstProductions().get(a),u=r.some(e,(function(t){return r.isFunction(t.GATE)}));return o=i.buildLookaheadFuncForOr(t,l,this.maxLookahead,u,this.dynamicTokensEnabled,this.lookAheadBuilderForAlternatives),this.setLaFuncCache(n,o),o}return o},t.prototype.getLookaheadFuncForOption=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,i.PROD_TYPE.OPTION)},t.prototype.getLookaheadFuncForMany=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,i.PROD_TYPE.REPETITION)},t.prototype.getLookaheadFuncForManySep=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,i.PROD_TYPE.REPETITION_WITH_SEPARATOR)},t.prototype.getLookaheadFuncForAtLeastOne=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,i.PROD_TYPE.REPETITION_MANDATORY)},t.prototype.getLookaheadFuncForAtLeastOneSep=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,i.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.getLookaheadFuncFor=function(t,e,n,r){var o=this.getLaFuncFromCache(t);if(void 0===o){var s=this.getCurrRuleFullName(),a=this.getGAstProductions().get(s);return o=i.buildLookaheadFuncForOptionalProd(e,a,n,this.dynamicTokensEnabled,r,this.lookAheadBuilderForOptional),this.setLaFuncCache(t,o),o}return o},t.prototype.getLaFuncFromCache=function(t){},t.prototype.getLaFuncFromMap=function(t){return this.lookAheadFuncsCache.get(t)},t.prototype.getLaFuncFromObj=function(t){return this.lookAheadFuncsCache[t]},t.prototype.setLaFuncCache=function(t,e){},t.prototype.setLaFuncCacheUsingMap=function(t,e){this.lookAheadFuncsCache.set(t,e)},t.prototype.setLaFuncUsingObj=function(t,e){this.lookAheadFuncsCache[t]=e},t}();e.LooksAhead=a},1120:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620),r=n(109),o=n(6312),s=n(870),a=n(1788),l=n(500),u=n(148),c=function(){function t(){}return t.prototype.CONSUME=function(t,e){return this.consumeInternal(t,0,e)},t.prototype.CONSUME1=function(t,e){return this.consumeInternal(t,1,e)},t.prototype.CONSUME2=function(t,e){return this.consumeInternal(t,2,e)},t.prototype.CONSUME3=function(t,e){return this.consumeInternal(t,3,e)},t.prototype.CONSUME4=function(t,e){return this.consumeInternal(t,4,e)},t.prototype.CONSUME5=function(t,e){return this.consumeInternal(t,5,e)},t.prototype.CONSUME6=function(t,e){return this.consumeInternal(t,6,e)},t.prototype.CONSUME7=function(t,e){return this.consumeInternal(t,7,e)},t.prototype.CONSUME8=function(t,e){return this.consumeInternal(t,8,e)},t.prototype.CONSUME9=function(t,e){return this.consumeInternal(t,9,e)},t.prototype.SUBRULE=function(t,e){return this.subruleInternal(t,0,e)},t.prototype.SUBRULE1=function(t,e){return this.subruleInternal(t,1,e)},t.prototype.SUBRULE2=function(t,e){return this.subruleInternal(t,2,e)},t.prototype.SUBRULE3=function(t,e){return this.subruleInternal(t,3,e)},t.prototype.SUBRULE4=function(t,e){return this.subruleInternal(t,4,e)},t.prototype.SUBRULE5=function(t,e){return this.subruleInternal(t,5,e)},t.prototype.SUBRULE6=function(t,e){return this.subruleInternal(t,6,e)},t.prototype.SUBRULE7=function(t,e){return this.subruleInternal(t,7,e)},t.prototype.SUBRULE8=function(t,e){return this.subruleInternal(t,8,e)},t.prototype.SUBRULE9=function(t,e){return this.subruleInternal(t,9,e)},t.prototype.OPTION=function(t){return this.optionInternal(t,0)},t.prototype.OPTION1=function(t){return this.optionInternal(t,1)},t.prototype.OPTION2=function(t){return this.optionInternal(t,2)},t.prototype.OPTION3=function(t){return this.optionInternal(t,3)},t.prototype.OPTION4=function(t){return this.optionInternal(t,4)},t.prototype.OPTION5=function(t){return this.optionInternal(t,5)},t.prototype.OPTION6=function(t){return this.optionInternal(t,6)},t.prototype.OPTION7=function(t){return this.optionInternal(t,7)},t.prototype.OPTION8=function(t){return this.optionInternal(t,8)},t.prototype.OPTION9=function(t){return this.optionInternal(t,9)},t.prototype.OR=function(t){return this.orInternal(t,0)},t.prototype.OR1=function(t){return this.orInternal(t,1)},t.prototype.OR2=function(t){return this.orInternal(t,2)},t.prototype.OR3=function(t){return this.orInternal(t,3)},t.prototype.OR4=function(t){return this.orInternal(t,4)},t.prototype.OR5=function(t){return this.orInternal(t,5)},t.prototype.OR6=function(t){return this.orInternal(t,6)},t.prototype.OR7=function(t){return this.orInternal(t,7)},t.prototype.OR8=function(t){return this.orInternal(t,8)},t.prototype.OR9=function(t){return this.orInternal(t,9)},t.prototype.MANY=function(t){this.manyInternal(0,t)},t.prototype.MANY1=function(t){this.manyInternal(1,t)},t.prototype.MANY2=function(t){this.manyInternal(2,t)},t.prototype.MANY3=function(t){this.manyInternal(3,t)},t.prototype.MANY4=function(t){this.manyInternal(4,t)},t.prototype.MANY5=function(t){this.manyInternal(5,t)},t.prototype.MANY6=function(t){this.manyInternal(6,t)},t.prototype.MANY7=function(t){this.manyInternal(7,t)},t.prototype.MANY8=function(t){this.manyInternal(8,t)},t.prototype.MANY9=function(t){this.manyInternal(9,t)},t.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},t.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},t.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},t.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},t.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},t.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},t.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},t.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},t.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},t.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},t.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},t.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},t.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},t.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},t.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},t.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},t.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},t.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},t.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},t.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},t.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},t.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},t.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},t.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},t.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},t.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},t.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},t.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},t.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},t.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},t.prototype.RULE=function(t,e,n){if(void 0===n&&(n=o.DEFAULT_RULE_CONFIG),i.contains(this.definedRulesNames,t)){var r=s.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),l={message:r,type:o.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(l)}if(this.definedRulesNames.push(t),!this.gastProductionsCache.containsKey(t)&&!this.serializedGrammar){var u=a.buildTopProduction(e.toString(),t,this.tokensMap);this.gastProductionsCache.put(t,u)}var c=this.defineRule(t,e,n);return this[t]=c,c},t.prototype.OVERRIDE_RULE=function(t,e,n){void 0===n&&(n=o.DEFAULT_RULE_CONFIG);var i=[];if(i=i.concat(l.validateRuleIsOverridden(t,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,i),!this.serializedGrammar){var r=a.buildTopProduction(e.toString(),t,this.tokensMap);this.gastProductionsCache.put(t,r)}var s=this.defineRule(t,e,n);return this[t]=s,s},t.prototype.BACKTRACK=function(t,e){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return t.apply(this,e),!0}catch(i){if(r.isRecognitionException(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},t.prototype.getGAstProductions=function(){return this.gastProductionsCache},t.prototype.getSerializedGastProductions=function(){return u.serializeGrammar(this.gastProductionsCache.values())},t}();e.RecognizerApi=c},7212:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620),r=n(7045),o=n(109),s=n(8737),a=n(4471),l=n(6312),u=n(8205),c=n(9399),h=n(3087),d=n(2195),f=function(){function t(){}return t.prototype.initRecognizerEngine=function(t,e){if(this.className=d.classNameFromInstance(this),this.shortRuleNameToFull=new d.HashTable,this.fullRuleNameToShort=new d.HashTable,this.ruleShortNameIdx=256,this.tokenMatcher=h.tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.allRuleNames=[],this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache=new d.HashTable,this.serializedGrammar=i.has(e,"serializedGrammar")?e.serializedGrammar:l.DEFAULT_PARSER_CONFIG.serializedGrammar,i.isArray(t)){if(i.isEmpty(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"===typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(i.isArray(t))this.tokensMap=i.reduce(t,(function(t,e){return t[c.tokenName(e)]=e,t}),{});else if(i.has(t,"modes")&&i.every(i.flatten(i.values(t.modes)),h.isTokenType)){var n=i.flatten(i.values(t.modes)),r=i.uniq(n);this.tokensMap=i.reduce(r,(function(t,e){return t[c.tokenName(e)]=e,t}),{})}else{if(!i.isObject(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=i.cloneObj(t)}this.tokensMap["EOF"]=c.EOF;var o=i.every(i.values(t),(function(t){return i.isEmpty(t.categoryMatches)}));this.tokenMatcher=o?h.tokenStructuredMatcherNoCategories:h.tokenStructuredMatcher,h.augmentTokenTypes(i.values(this.tokensMap))},t.prototype.defineRule=function(t,e,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+t+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var s,a=i.has(n,"resyncEnabled")?n.resyncEnabled:l.DEFAULT_RULE_CONFIG.resyncEnabled,u=i.has(n,"recoveryValueFunc")?n.recoveryValueFunc:l.DEFAULT_RULE_CONFIG.recoveryValueFunc,c=this.ruleShortNameIdx<<r.BITS_FOR_METHOD_IDX+r.BITS_FOR_OCCURRENCE_IDX;function h(t){try{if(!0===this.outputCst){e.apply(this,t);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return e.apply(this,t)}catch(c){var i=1===this.RULE_STACK.length,r=a&&!this.isBackTracking()&&this.recoveryEnabled;if(o.isRecognitionException(c)){if(r){var s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s)){if(c.resyncedTokens=this.reSyncTo(s),this.outputCst){var l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}return u()}if(this.outputCst){l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,c.partialCstResult=l}throw c}if(i)return this.moveToTerminatedState(),u();throw c}throw c}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull.put(c,t),this.fullRuleNameToShort.put(t,c),s=function(e,n){return void 0===e&&(e=0),this.ruleInvocationStateUpdate(c,t,e),h.call(this,n)};var d="ruleName";return s[d]=t,s},t.prototype.optionInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(r.OPTION_IDX,e),i=this.nestedRuleBeforeClause(t,n);try{return this.optionInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.optionInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(r.OPTION_IDX,e);return this.optionInternalLogic(t,e,n)},t.prototype.optionInternalLogic=function(t,e,n){var i,r,o=this,s=this.getLookaheadFuncForOption(n,e);if(void 0!==t.DEF){if(i=t.DEF,r=t.GATE,void 0!==r){var a=s;s=function(){return r.call(o)&&a.call(o)}}}else i=t;if(!0===s.call(this))return i.call(this)},t.prototype.atLeastOneInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(r.AT_LEAST_ONE_IDX,t),i=this.nestedRuleBeforeClause(e,n);try{return this.atLeastOneInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.atLeastOneInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(r.AT_LEAST_ONE_IDX,t);this.atLeastOneInternalLogic(t,e,n)},t.prototype.atLeastOneInternalLogic=function(t,e,n){var i,o,l=this,u=this.getLookaheadFuncForAtLeastOne(n,t);if(void 0!==e.DEF){if(i=e.DEF,o=e.GATE,void 0!==o){var c=u;u=function(){return o.call(l)&&c.call(l)}}}else i=e;if(!0!==u.call(this))throw this.raiseEarlyExitException(t,s.PROD_TYPE.REPETITION_MANDATORY,e.ERR_MSG);var h=this.doSingleRepetition(i);while(!0===u.call(this)&&!0===h)h=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],u,r.AT_LEAST_ONE_IDX,t,a.NextTerminalAfterAtLeastOneWalker)},t.prototype.atLeastOneSepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(r.AT_LEAST_ONE_SEP_IDX,t),i=this.nestedRuleBeforeClause(e,n);try{this.atLeastOneSepFirstInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.atLeastOneSepFirstInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(r.AT_LEAST_ONE_SEP_IDX,t);this.atLeastOneSepFirstInternalLogic(t,e,n)},t.prototype.atLeastOneSepFirstInternalLogic=function(t,e,n){var i=this,o=e.DEF,l=e.SEP,u=this.getLookaheadFuncForAtLeastOneSep(n,t);if(!0!==u.call(this))throw this.raiseEarlyExitException(t,s.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);o.call(this);var c=function(){return i.tokenMatcher(i.LA(1),l)};while(!0===this.tokenMatcher(this.LA(1),l))this.CONSUME(l),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,l,c,o,a.NextTerminalAfterAtLeastOneSepWalker],c,r.AT_LEAST_ONE_SEP_IDX,t,a.NextTerminalAfterAtLeastOneSepWalker)},t.prototype.manyInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(r.MANY_IDX,t),i=this.nestedRuleBeforeClause(e,n);try{return this.manyInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.manyInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(r.MANY_IDX,t);return this.manyInternalLogic(t,e,n)},t.prototype.manyInternalLogic=function(t,e,n){var i,o,s=this,l=this.getLookaheadFuncForMany(n,t);if(void 0!==e.DEF){if(i=e.DEF,o=e.GATE,void 0!==o){var u=l;l=function(){return o.call(s)&&u.call(s)}}}else i=e;var c=!0;while(!0===l.call(this)&&!0===c)c=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],l,r.MANY_IDX,t,a.NextTerminalAfterManyWalker,c)},t.prototype.manySepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(r.MANY_SEP_IDX,t),i=this.nestedRuleBeforeClause(e,n);try{this.manySepFirstInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.manySepFirstInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(r.MANY_SEP_IDX,t);this.manySepFirstInternalLogic(t,e,n)},t.prototype.manySepFirstInternalLogic=function(t,e,n){var i=this,o=e.DEF,s=e.SEP,l=this.getLookaheadFuncForManySep(n,t);if(!0===l.call(this)){o.call(this);var u=function(){return i.tokenMatcher(i.LA(1),s)};while(!0===this.tokenMatcher(this.LA(1),s))this.CONSUME(s),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,s,u,o,a.NextTerminalAfterManySepWalker],u,r.MANY_SEP_IDX,t,a.NextTerminalAfterManySepWalker)}},t.prototype.repetitionSepSecondInternal=function(t,e,n,i,o){while(n())this.CONSUME(e),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,i,o],n,r.AT_LEAST_ONE_SEP_IDX,t,o)},t.prototype.doSingleRepetition=function(t){var e=this.getLexerPosition();t.call(this);var n=this.getLexerPosition();return n>e},t.prototype.orInternalNoCst=function(t,e){var n=i.isArray(t)?t:t.DEF,r=this.getLookaheadFuncForOr(e,n),o=r.call(this,n);if(void 0!==o){var s=n[o];return s.ALT.call(this)}this.raiseNoAltException(e,t.ERR_MSG)},t.prototype.orInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(r.OR_IDX,e),o=this.nestedRuleBeforeClause(t,n);try{var s=i.isArray(t)?t:t.DEF,a=this.getLookaheadFuncForOr(e,s),l=a.call(this,s);if(void 0!==l){var u=s[l],c=this.nestedAltBeforeClause(u,e,r.OR_IDX,l);try{return u.ALT.call(this)}finally{void 0!==c&&this.nestedRuleFinallyClause(c.shortName,c.nestedName)}}this.raiseNoAltException(e,t.ERR_MSG)}finally{void 0!==o&&this.nestedRuleFinallyClause(n,o)}},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!this.isAtEndOfInput()){var t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new o.NotAllInputParsedException(e,t))}},t.prototype.subruleInternal=function(t,e,n){var i;try{var r=void 0!==n?n.ARGS:void 0;return i=t.call(this,e,r),this.cstPostNonTerminal(i,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),i}catch(s){throw o.isRecognitionException(s)&&void 0!==s.partialCstResult&&(this.cstPostNonTerminal(s.partialCstResult,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),delete s.partialCstResult),s}},t.prototype.consumeInternal=function(t,e,n){var i;try{var r=this.LA(1);if(!0!==this.tokenMatcher(r,t)){var s=void 0,a=this.LA(0);throw s=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:a,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new o.MismatchedTokenException(s,r,a))}this.consumeToken(),i=r}catch(c){if(!this.recoveryEnabled||"MismatchedTokenException"!==c.name||this.isBackTracking())throw c;var l=this.getFollowsForInRuleRecovery(t,e);try{i=this.tryInRuleRecovery(t,l)}catch(h){throw h.name===u.IN_RULE_RECOVERY_EXCEPTION?c:h}}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:t.tokenName,i),i},t.prototype.saveRecogState=function(){var t=this.errors,e=i.cloneArr(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK,LAST_EXPLICIT_RULE_STACK:this.LAST_EXPLICIT_RULE_STACK}},t.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},t.prototype.ruleInvocationStateUpdate=function(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e,t)},t.prototype.isBackTracking=function(){return!i.isEmpty(this.isBackTrackingStack)},t.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull.get(t)},t.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull.get(t)},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),c.EOF)},t.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t}();e.RecognizerEngine=f},8205:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9399),r=n(7620),o=n(109),s=n(5010),a=n(2195),l=n(6312);function u(t){this.name=e.IN_RULE_RECOVERY_EXCEPTION,this.message=t}e.EOF_FOLLOW_KEY={},e.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException",e.InRuleRecoveryException=u,u.prototype=Error.prototype;var c=function(){function t(){}return t.prototype.initRecoverable=function(t){this.firstAfterRepMap=new a.HashTable,this.resyncFollows=new a.HashTable,this.recoveryEnabled=r.has(t,"recoveryEnabled")?t.recoveryEnabled:l.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=h)},t.prototype.getTokenToInsert=function(t){var e=i.createTokenInstance(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e},t.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},t.prototype.tryInRepetitionRecovery=function(t,e,n,i){var s=this,a=this.findReSyncTokenType(),l=this.exportLexerState(),u=[],c=!1,h=this.LA(1),d=this.LA(1),f=function(){var t=s.LA(0),e=s.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:h,previous:t,ruleName:s.getCurrRuleFullName()}),n=new o.MismatchedTokenException(e,h,s.LA(0));n.resyncedTokens=r.dropRight(u),s.SAVE_ERROR(n)};while(!c){if(this.tokenMatcher(d,i))return void f();if(n.call(this))return f(),void t.apply(this,e);this.tokenMatcher(d,a)?c=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,u))}this.importLexerState(l)},t.prototype.shouldInRepetitionRecoveryBeTried=function(t,e,n){return!1!==n&&(void 0!==t&&void 0!==e&&(!this.tokenMatcher(this.LA(1),t)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e)))))},t.prototype.getFollowsForInRuleRecovery=function(t,e){var n=this.getCurrentGrammarPath(t,e),i=this.getNextPossibleTokenTypes(n);return i},t.prototype.tryInRuleRecovery=function(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e)){var n=this.getTokenToInsert(t);return n}if(this.canRecoverWithSingleTokenDeletion(t)){var i=this.SKIP_TOKEN();return this.consumeToken(),i}throw new u("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)},t.prototype.canRecoverWithSingleTokenInsertion=function(t,e){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if(r.isEmpty(e))return!1;var i=this.LA(1),o=void 0!==r.find(e,(function(t){return n.tokenMatcher(i,t)}));return o},t.prototype.canRecoverWithSingleTokenDeletion=function(t){var e=this.tokenMatcher(this.LA(2),t);return e},t.prototype.isInCurrentRuleReSyncSet=function(t){var e=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(e);return r.contains(n,t)},t.prototype.findReSyncTokenType=function(){var t=this.flattenFollowSet(),e=this.LA(1),n=2;while(1){var i=e.tokenType;if(r.contains(t,i))return i;e=this.LA(n),n++}},t.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return e.EOF_FOLLOW_KEY;var t=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),i=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(i)}},t.prototype.buildFullFollowKeyStack=function(){var t=this,n=this.RULE_STACK,i=this.RULE_OCCURRENCE_STACK;return r.isEmpty(this.LAST_EXPLICIT_RULE_STACK)||(n=r.map(this.LAST_EXPLICIT_RULE_STACK,(function(e){return t.RULE_STACK[e]})),i=r.map(this.LAST_EXPLICIT_RULE_STACK,(function(e){return t.RULE_OCCURRENCE_STACK[e]}))),r.map(n,(function(r,o){return 0===o?e.EOF_FOLLOW_KEY:{ruleName:t.shortRuleNameToFullName(r),idxInCallingRule:i[o],inRule:t.shortRuleNameToFullName(n[o-1])}}))},t.prototype.flattenFollowSet=function(){var t=this,e=r.map(this.buildFullFollowKeyStack(),(function(e){return t.getFollowSetFromFollowKey(e)}));return r.flatten(e)},t.prototype.getFollowSetFromFollowKey=function(t){if(t===e.EOF_FOLLOW_KEY)return[i.EOF];var n=t.ruleName+t.idxInCallingRule+s.IN+t.inRule;return this.resyncFollows.get(n)},t.prototype.addToResyncTokens=function(t,e){return this.tokenMatcher(t,i.EOF)||e.push(t),e},t.prototype.reSyncTo=function(t){var e=[],n=this.LA(1);while(!1===this.tokenMatcher(n,t))n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return r.dropRight(e)},t.prototype.attemptInRepetitionRecovery=function(t,e,n,i,r,o,s){},t.prototype.getCurrentGrammarPath=function(t,e){var n=this.getHumanReadableRuleStack(),i=r.cloneArr(this.RULE_OCCURRENCE_STACK),o={ruleStack:n,occurrenceStack:i,lastTok:t,lastTokOccurrence:e};return o},t.prototype.getHumanReadableRuleStack=function(){var t=this;return r.isEmpty(this.LAST_EXPLICIT_RULE_STACK)?r.map(this.RULE_STACK,(function(e){return t.shortRuleNameToFullName(e)})):r.map(this.LAST_EXPLICIT_RULE_STACK,(function(e){return t.shortRuleNameToFullName(t.RULE_STACK[e])}))},t}();function h(t,e,n,r,o,s,a){var l=this.getKeyForAutomaticLookahead(r,o),u=this.firstAfterRepMap.get(l);if(void 0===u){var c=this.getCurrRuleFullName(),h=this.getGAstProductions().get(c),d=new s(h,o);u=d.startWalking(),this.firstAfterRepMap.put(l,u)}var f=u.token,p=u.occurrence,v=u.isEndOfRule;1===this.RULE_STACK.length&&v&&void 0===f&&(f=i.EOF,p=1),this.shouldInRepetitionRecoveryBeTried(f,p,a)&&this.tryInRepetitionRecovery(t,e,n,f)}e.Recoverable=c,e.attemptInRepetitionRecovery=h},7437:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6960),r=n(7620),o=n(9697),s=n(7045),a=n(6312),l=function(){function t(){}return t.prototype.initTreeBuilder=function(t){if(this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.outputCst=r.has(t,"outputCst")?t.outputCst:a.DEFAULT_PARSER_CONFIG.outputCst,this.nodeLocationTracking=r.has(t,"nodeLocationTracking")?t.nodeLocationTracking:a.DEFAULT_PARSER_CONFIG.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=i.setNodeLocationFull,this.setNodeLocationFromNode=i.setNodeLocationFull,this.cstPostRule=r.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=r.NOOP,this.setNodeLocationFromNode=r.NOOP,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=i.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=i.setNodeLocationOnlyOffset,this.cstPostRule=r.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=r.NOOP,this.setNodeLocationFromNode=r.NOOP,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+t.nodeLocationTracking+'"');this.setNodeLocationFromToken=r.NOOP,this.setNodeLocationFromNode=r.NOOP,this.cstPostRule=r.NOOP,this.setInitialNodeLocation=r.NOOP}else this.cstInvocationStateUpdate=r.NOOP,this.cstFinallyStateUpdate=r.NOOP,this.cstPostTerminal=r.NOOP,this.cstPostNonTerminal=r.NOOP,this.cstPostRule=r.NOOP,this.getLastExplicitRuleShortName=this.getLastExplicitRuleShortNameNoCst,this.getPreviousExplicitRuleShortName=this.getPreviousExplicitRuleShortNameNoCst,this.getLastExplicitRuleOccurrenceIndex=this.getLastExplicitRuleOccurrenceIndexNoCst,this.manyInternal=this.manyInternalNoCst,this.orInternal=this.orInternalNoCst,this.optionInternal=this.optionInternalNoCst,this.atLeastOneInternal=this.atLeastOneInternalNoCst,this.manySepFirstInternal=this.manySepFirstInternalNoCst,this.atLeastOneSepFirstInternal=this.atLeastOneSepFirstInternalNoCst},t.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},t.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},t.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.setInitialNodeLocationFullRegular=function(t){var e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.cstNestedInvocationStateUpdate=function(t,e){var n={name:t,fullName:this.shortRuleNameToFull.get(this.getLastExplicitRuleShortName())+t,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstInvocationStateUpdate=function(t,e){this.LAST_EXPLICIT_RULE_STACK.push(this.RULE_STACK.length-1);var n={name:t,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstFinallyStateUpdate=function(){this.LAST_EXPLICIT_RULE_STACK.pop(),this.CST_STACK.pop()},t.prototype.cstNestedFinallyStateUpdate=function(){var t=this.CST_STACK.pop();this.cstPostRule(t)},t.prototype.cstPostRuleFull=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset===!0?(n.endOffset=e.endOffset,n.endLine=e.endLine,n.endColumn=e.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},t.prototype.cstPostRuleOnlyOffset=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset===!0?n.endOffset=e.endOffset:n.startOffset=NaN},t.prototype.cstPostTerminal=function(t,e){var n=this.CST_STACK[this.CST_STACK.length-1];i.addTerminalToCst(n,e,t),this.setNodeLocationFromToken(n.location,e)},t.prototype.cstPostNonTerminal=function(t,e){var n=this.CST_STACK[this.CST_STACK.length-1];i.addNoneTerminalToCst(n,e,t),this.setNodeLocationFromNode(n.location,t.location)},t.prototype.getBaseCstVisitorConstructor=function(){if(r.isUndefined(this.baseCstVisitorConstructor)){var t=o.createBaseSemanticVisitorConstructor(this.className,this.allRuleNames);return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(r.isUndefined(this.baseCstVisitorWithDefaultsConstructor)){var t=o.createBaseVisitorConstructorWithDefaults(this.className,this.allRuleNames,this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},t.prototype.nestedRuleBeforeClause=function(t,e){var n;return void 0!==t.NAME?(n=t.NAME,this.nestedRuleInvocationStateUpdate(n,e),n):void 0},t.prototype.nestedAltBeforeClause=function(t,e,n,i){var r,o=this.getLastExplicitRuleShortName(),a=s.getKeyForAltIndex(o,n,e,i);return void 0!==t.NAME?(r=t.NAME,this.nestedRuleInvocationStateUpdate(r,a),{shortName:a,nestedName:r}):void 0},t.prototype.nestedRuleFinallyClause=function(t,e){var n=this.CST_STACK,r=n[n.length-1];this.nestedRuleFinallyStateUpdate();var o=n[n.length-1];i.addNoneTerminalToCst(o,e,r),this.setNodeLocationFromNode(o.location,r.location)},t.prototype.getLastExplicitRuleShortName=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_STACK[t]},t.prototype.getLastExplicitRuleShortNameNoCst=function(){var t=this.RULE_STACK;return t[t.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-2];return this.RULE_STACK[t]},t.prototype.getPreviousExplicitRuleShortNameNoCst=function(){var t=this.RULE_STACK;return t[t.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_OCCURRENCE_STACK[t]},t.prototype.getLastExplicitRuleOccurrenceIndexNoCst=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},t.prototype.nestedRuleInvocationStateUpdate=function(t,e){this.RULE_OCCURRENCE_STACK.push(1),this.RULE_STACK.push(e),this.cstNestedInvocationStateUpdate(t,e)},t.prototype.nestedRuleFinallyStateUpdate=function(){this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstNestedFinallyStateUpdate()},t}();e.TreeBuilder=l},5063:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(7713),o=n(9399),s=n(127),a=n(7620),l=n(6195),u=new r.RegExpParser,c="PATTERN";function h(){e.SUPPORT_STICKY=!1}function d(){e.SUPPORT_STICKY=!0}function f(t,n){n=a.defaults(n,{useSticky:e.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"]});var i=a.reject(t,(function(t){return t[c]===s.Lexer.NA})),r=!1,u=a.map(i,(function(t){var e=t[c];if(a.isRegExp(e)){var i=e.source;return 1===i.length&&"^"!==i&&"$"!==i&&"."!==i?i:2!==i.length||"\\"!==i[0]||a.contains(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],i[1])?n.useSticky?M(e):N(e):i[1]}if(a.isFunction(e))return r=!0,{exec:e};if(a.has(e,"exec"))return r=!0,e;if("string"===typeof e){if(1===e.length)return e;var o=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=new RegExp(o);return n.useSticky?M(s):N(s)}throw Error("non exhaustive match")})),h=a.map(i,(function(t){return t.tokenTypeIdx})),d=a.map(i,(function(t){var e=t.GROUP;if(e!==s.Lexer.SKIPPED){if(a.isString(e))return e;if(a.isUndefined(e))return!1;throw Error("non exhaustive match")}})),f=a.map(i,(function(t){var e=t.LONGER_ALT;if(e){var n=a.indexOf(i,e);return n}})),p=a.map(i,(function(t){return t.PUSH_MODE})),v=a.map(i,(function(t){return a.has(t,"POP_MODE")})),g=z(n.lineTerminatorCharacters),m=a.map(i,(function(t){return!1}));"onlyOffset"!==n.positionTracking&&(m=a.map(i,(function(t){return a.has(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===F(t,g)?l.canMatchCharCode(g,t.PATTERN):void 0})));var y=a.map(i,R),_=a.map(u,L),b=a.reduce(i,(function(t,e){var n=e.GROUP;return a.isString(n)&&n!==s.Lexer.SKIPPED&&(t[n]=[]),t}),{}),w=a.map(u,(function(t,e){return{pattern:u[e],longerAlt:f[e],canLineTerminator:m[e],isCustom:y[e],short:_[e],group:d[e],push:p[e],pop:v[e],tokenTypeIdx:h[e],tokenType:i[e]}}));function k(t,e,n){void 0===t[e]&&(t[e]=[]),t[e].push(n)}var x=!0,E=[];return n.safeMode||(E=a.reduce(i,(function(t,e,i){if("string"===typeof e.PATTERN){var r=e.PATTERN.charCodeAt(0);k(t,r,w[i])}else if(a.isArray(e.START_CHARS_HINT))a.forEach(e.START_CHARS_HINT,(function(e){var n="string"===typeof e?e.charCodeAt(0):e;k(t,n,w[i])}));else if(a.isRegExp(e.PATTERN))if(e.PATTERN.unicode)x=!1,n.ensureOptimizations&&a.PRINT_ERROR(l.failedOptimizationPrefixMsg+"\tUnable to analyze < "+e.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var s=l.getStartCodes(e.PATTERN,n.ensureOptimizations);a.isEmpty(s)&&(x=!1),a.forEach(s,(function(e){k(t,e,w[i])}))}else n.ensureOptimizations&&a.PRINT_ERROR(l.failedOptimizationPrefixMsg+"\tTokenType: <"+o.tokenName(e)+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),x=!1;return t}),[])),x&&E.length<65536&&(E=a.packArray(E)),{emptyGroups:b,patternIdxToConfig:w,charCodeToPatternIdxToConfig:E,hasCustom:r,canBeOptimized:x}}function p(t,e){var n=[],i=g(t);n=n.concat(i.errors);var r=m(i.valid),o=r.valid;return n=n.concat(r.errors),n=n.concat(v(o)),n=n.concat(S(o)),n=n.concat(T(o,e)),n=n.concat(O(o)),n}function v(t){var e=[],n=a.filter(t,(function(t){return a.isRegExp(t[c])}));return e=e.concat(_(n)),e=e.concat(k(n)),e=e.concat(x(n)),e=e.concat(E(n)),e=e.concat(b(n)),e}function g(t){var e=a.filter(t,(function(t){return!a.has(t,c)})),n=a.map(e,(function(t){return{message:"Token Type: ->"+o.tokenName(t)+"<- missing static 'PATTERN' property",type:s.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[t]}})),i=a.difference(t,e);return{errors:n,valid:i}}function m(t){var e=a.filter(t,(function(t){var e=t[c];return!a.isRegExp(e)&&!a.isFunction(e)&&!a.has(e,"exec")&&!a.isString(e)})),n=a.map(e,(function(t){return{message:"Token Type: ->"+o.tokenName(t)+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:s.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[t]}})),i=a.difference(t,e);return{errors:n,valid:i}}e.DEFAULT_MODE="defaultMode",e.MODES="modes",e.SUPPORT_STICKY="boolean"===typeof new RegExp("(?:)").sticky,e.disableSticky=h,e.enableSticky=d,e.analyzeTokenTypes=f,e.validatePatterns=p,e.findMissingPatterns=g,e.findInvalidPatterns=m;var y=/[^\\][\$]/;function _(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return i(e,t),e.prototype.visitEndAnchor=function(t){this.found=!0},e}(r.BaseRegExpVisitor),n=a.filter(t,(function(t){var n=t[c];try{var i=u.pattern(n.toString()),r=new e;return r.visit(i),r.found}catch(o){return y.test(n.source)}})),l=a.map(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+o.tokenName(t)+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:s.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[t]}}));return l}function b(t){var e=a.filter(t,(function(t){var e=t[c];return e.test("")})),n=a.map(e,(function(t){return{message:"Token Type: ->"+o.tokenName(t)+"<- static 'PATTERN' must not match an empty string",type:s.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[t]}}));return n}e.findEndOfInputAnchor=_,e.findEmptyMatchRegExps=b;var w=/[^\\[][\^]|^\^/;function k(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return i(e,t),e.prototype.visitStartAnchor=function(t){this.found=!0},e}(r.BaseRegExpVisitor),n=a.filter(t,(function(t){var n=t[c];try{var i=u.pattern(n.toString()),r=new e;return r.visit(i),r.found}catch(o){return w.test(n.source)}})),l=a.map(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+o.tokenName(t)+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:s.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[t]}}));return l}function x(t){var e=a.filter(t,(function(t){var e=t[c];return e instanceof RegExp&&(e.multiline||e.global)})),n=a.map(e,(function(t){return{message:"Token Type: ->"+o.tokenName(t)+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:s.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[t]}}));return n}function E(t){var e=[],n=a.map(t,(function(n){return a.reduce(t,(function(t,i){return n.PATTERN.source!==i.PATTERN.source||a.contains(e,i)||i.PATTERN===s.Lexer.NA||(e.push(i),t.push(i)),t}),[])}));n=a.compact(n);var i=a.filter(n,(function(t){return t.length>1})),r=a.map(i,(function(t){var e=a.map(t,(function(t){return o.tokenName(t)})),n=a.first(t).PATTERN;return{message:"The same RegExp pattern ->"+n+"<-has been used in all of the following Token Types: "+e.join(", ")+" <-",type:s.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:t}}));return r}function S(t){var e=a.filter(t,(function(t){if(!a.has(t,"GROUP"))return!1;var e=t.GROUP;return e!==s.Lexer.SKIPPED&&e!==s.Lexer.NA&&!a.isString(e)})),n=a.map(e,(function(t){return{message:"Token Type: ->"+o.tokenName(t)+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:s.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[t]}}));return n}function T(t,e){var n=a.filter(t,(function(t){return void 0!==t.PUSH_MODE&&!a.contains(e,t.PUSH_MODE)})),i=a.map(n,(function(t){var e="Token Type: ->"+o.tokenName(t)+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+t.PUSH_MODE+"<-which does not exist";return{message:e,type:s.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[t]}}));return i}function O(t){var e=[],n=a.reduce(t,(function(t,e,n){var i=e.PATTERN;return i===s.Lexer.NA||(a.isString(i)?t.push({str:i,idx:n,tokenType:e}):a.isRegExp(i)&&I(i)&&t.push({str:i.source,idx:n,tokenType:e})),t}),[]);return a.forEach(t,(function(t,i){a.forEach(n,(function(n){var r=n.str,a=n.idx,l=n.tokenType;if(i<a&&C(r,t.PATTERN)){var u="Token: ->"+o.tokenName(l)+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+o.tokenName(t)+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";e.push({message:u,type:s.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[t,l]})}}))})),e}function C(t,e){if(a.isRegExp(e)){var n=e.exec(t);return null!==n&&0===n.index}if(a.isFunction(e))return e(t,0,[],{});if(a.has(e,"exec"))return e.exec(t,0,[],{});if("string"===typeof e)return e===t;throw Error("non exhaustive match")}function I(t){var e=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return void 0===a.find(e,(function(e){return-1!==t.source.indexOf(e)}))}function N(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:"+t.source+")",e)}function M(t){var e=t.ignoreCase?"iy":"y";return new RegExp(""+t.source,e)}function A(t,n,i){var r=[];return a.has(t,e.DEFAULT_MODE)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.DEFAULT_MODE+"> property in its definition\n",type:s.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),a.has(t,e.MODES)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.MODES+"> property in its definition\n",type:s.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),a.has(t,e.MODES)&&a.has(t,e.DEFAULT_MODE)&&!a.has(t.modes,t.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a "+e.DEFAULT_MODE+": <"+t.defaultMode+">which does not exist\n",type:s.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),a.has(t,e.MODES)&&a.forEach(t.modes,(function(t,e){a.forEach(t,(function(t,n){a.isUndefined(t)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+e+"> at index: <"+n+">\n",type:s.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}function D(t,e,n){var i=[],r=!1,o=a.compact(a.flatten(a.mapValues(t.modes,(function(t){return t})))),u=a.reject(o,(function(t){return t[c]===s.Lexer.NA})),h=z(n);return e&&a.forEach(u,(function(t){var e=F(t,h);if(!1!==e){var n=j(t,e),o={message:n,type:e.issue,tokenType:t};i.push(o)}else a.has(t,"LINE_BREAKS")?!0===t.LINE_BREAKS&&(r=!0):l.canMatchCharCode(h,t.PATTERN)&&(r=!0)})),e&&!r&&i.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:s.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),i}function P(t){var e={},n=a.keys(t);return a.forEach(n,(function(n){var i=t[n];if(!a.isArray(i))throw Error("non exhaustive match");e[n]=[]})),e}function R(t){var e=t.PATTERN;if(a.isRegExp(e))return!1;if(a.isFunction(e))return!0;if(a.has(e,"exec"))return!0;if(a.isString(e))return!1;throw Error("non exhaustive match")}function L(t){return!(!a.isString(t)||1!==t.length)&&t.charCodeAt(0)}function F(t,e){if(a.has(t,"LINE_BREAKS"))return!1;if(a.isRegExp(t.PATTERN)){try{l.canMatchCharCode(e,t.PATTERN)}catch(n){return{issue:s.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if(a.isString(t.PATTERN))return!1;if(R(t))return{issue:s.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function j(t,e){if(e.issue===s.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+t.name+"> Token Type\n\t Root cause: "+e.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(e.issue===s.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+t.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}function z(t){var e=a.map(t,(function(t){return a.isString(t)&&t.length>0?t.charCodeAt(0):t}));return e}e.findStartOfInputAnchor=k,e.findUnsupportedFlags=x,e.findDuplicatePatterns=E,e.findInvalidGroupType=S,e.findModesThatDoNotExist=T,e.findUnreachablePatterns=O,e.addStartOfInput=N,e.addStickyFlag=M,e.performRuntimeChecks=A,e.performWarningRuntimeChecks=D,e.cloneEmptyGroups=P,e.isCustomPattern=R,e.isShortPattern=L,e.LineTerminatorOptimizedTester={test:function(t){for(var e=t.length,n=this.lastIndex;n<e;n++){var i=t.charCodeAt(n);if(10===i)return this.lastIndex=n+1,!0;if(13===i)return 10===t.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0},e.buildLineBreakIssueMessage=j},433:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(t,e,n,i,r){return"unexpected character: ->"+t.charAt(e)+"<- at offset: "+e+", skipped "+n+" characters."}}},127:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5063),r=n(7620),o=n(3087),s=n(433);(function(t){t[t["MISSING_PATTERN"]=0]="MISSING_PATTERN",t[t["INVALID_PATTERN"]=1]="INVALID_PATTERN",t[t["EOI_ANCHOR_FOUND"]=2]="EOI_ANCHOR_FOUND",t[t["UNSUPPORTED_FLAGS_FOUND"]=3]="UNSUPPORTED_FLAGS_FOUND",t[t["DUPLICATE_PATTERNS_FOUND"]=4]="DUPLICATE_PATTERNS_FOUND",t[t["INVALID_GROUP_TYPE_FOUND"]=5]="INVALID_GROUP_TYPE_FOUND",t[t["PUSH_MODE_DOES_NOT_EXIST"]=6]="PUSH_MODE_DOES_NOT_EXIST",t[t["MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE"]=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t["MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY"]=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t["MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST"]=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t["LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED"]=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t["SOI_ANCHOR_FOUND"]=11]="SOI_ANCHOR_FOUND",t[t["EMPTY_MATCH_PATTERN"]=12]="EMPTY_MATCH_PATTERN",t[t["NO_LINE_BREAKS_FLAGS"]=13]="NO_LINE_BREAKS_FLAGS",t[t["UNREACHABLE_PATTERN"]=14]="UNREACHABLE_PATTERN",t[t["IDENTIFY_TERMINATOR"]=15]="IDENTIFY_TERMINATOR",t[t["CUSTOM_LINE_BREAK"]=16]="CUSTOM_LINE_BREAK"})(e.LexerDefinitionErrorType||(e.LexerDefinitionErrorType={}));var a={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:s.defaultLexerErrorProvider};Object.freeze(a);var l=function(){function t(t,e){var n=this;if(void 0===e&&(e=a),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"===typeof e)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");if(this.config=r.merge(a,e),this.config.lineTerminatorsPattern===a.lineTerminatorsPattern)this.config.lineTerminatorsPattern=i.LineTerminatorOptimizedTester;else if(this.config.lineTerminatorCharacters===a.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(e.safeMode&&e.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking);var s,l=!0;r.isArray(t)?(s={modes:{}},s.modes[i.DEFAULT_MODE]=r.cloneArr(t),s[i.DEFAULT_MODE]=i.DEFAULT_MODE):(l=!1,s=r.cloneObj(t)),this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(i.performRuntimeChecks(s,this.trackStartLines,this.config.lineTerminatorCharacters)),this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(i.performWarningRuntimeChecks(s,this.trackStartLines,this.config.lineTerminatorCharacters)),s.modes=s.modes?s.modes:{},r.forEach(s.modes,(function(t,e){s.modes[e]=r.reject(t,(function(t){return r.isUndefined(t)}))}));var u=r.keys(s.modes);if(r.forEach(s.modes,(function(t,s){if(n.modes.push(s),n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(i.validatePatterns(t,u)),r.isEmpty(n.lexerDefinitionErrors)){o.augmentTokenTypes(t);var a=i.analyzeTokenTypes(t,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:e.positionTracking,ensureOptimizations:e.ensureOptimizations,safeMode:e.safeMode});n.patternIdxToConfig[s]=a.patternIdxToConfig,n.charCodeToPatternIdxToConfig[s]=a.charCodeToPatternIdxToConfig,n.emptyGroups=r.merge(n.emptyGroups,a.emptyGroups),n.hasCustom=a.hasCustom||n.hasCustom,n.canModeBeOptimized[s]=a.canBeOptimized}})),this.defaultMode=s.defaultMode,!r.isEmpty(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){var c=r.map(this.lexerDefinitionErrors,(function(t){return t.message})),h=c.join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+h)}if(r.forEach(this.lexerDefinitionWarning,(function(t){r.PRINT_WARNING(t.message)})),i.SUPPORT_STICKY?(this.chopInput=r.IDENTITY,this.match=this.matchWithTest):(this.updateLastIndex=r.NOOP,this.match=this.matchWithExec),l&&(this.handleModes=r.NOOP),!1===this.trackStartLines&&(this.computeNewColumn=r.IDENTITY),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=r.NOOP),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+this.config.positionTracking+'"');this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom);var d=r.reduce(this.canModeBeOptimized,(function(t,e,n){return!1===e&&t.push(n),t}),[]);if(e.ensureOptimizations&&!r.isEmpty(d))throw Error("Lexer Modes: < "+d.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.');r.toFastProperties(this)}return t.prototype.tokenize=function(t,e){if(void 0===e&&(e=this.defaultMode),!r.isEmpty(this.lexerDefinitionErrors)){var n=r.map(this.lexerDefinitionErrors,(function(t){return t.message})),i=n.join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+i)}var o=this.tokenizeInternal(t,e);return o},t.prototype.tokenizeInternal=function(t,e){var n,o,s,a,l,u,c,h,d,f,p,v,g,m,y=this,_=t,b=_.length,w=0,k=0,x=this.hasCustom?0:Math.floor(t.length/10),E=new Array(x),S=[],T=this.trackStartLines?1:void 0,O=this.trackStartLines?1:void 0,C=i.cloneEmptyGroups(this.emptyGroups),I=this.trackStartLines,N=this.config.lineTerminatorsPattern,M=0,A=[],D=[],P=[],R=[];Object.freeze(R);var L,F=void 0,j=function(t){if(1===P.length&&void 0===t.tokenType.PUSH_MODE){var e=y.config.errorMessageProvider.buildUnableToPopLexerModeMessage(t);S.push({offset:t.startOffset,line:void 0!==t.startLine?t.startLine:void 0,column:void 0!==t.startColumn?t.startColumn:void 0,length:t.image.length,message:e})}else{P.pop();var n=r.last(P);A=y.patternIdxToConfig[n],D=y.charCodeToPatternIdxToConfig[n],M=A.length;var i=y.canModeBeOptimized[n]&&!1===y.config.safeMode;F=D&&i?function(t){var e=D[t];return void 0===e?R:e}:function(){return A}}};function z(t){P.push(t),D=this.charCodeToPatternIdxToConfig[t],A=this.patternIdxToConfig[t],M=A.length,M=A.length;var e=this.canModeBeOptimized[t]&&!1===this.config.safeMode;F=D&&e?function(t){var e=D[t];return void 0===e?R:e}:function(){return A}}z.call(this,e);while(w<b){l=null;var B=_.charCodeAt(w),U=F(B),H=U.length;for(n=0;n<H;n++){L=U[n];var W=L.pattern;u=null;var Y=L.short;if(!1!==Y?B===Y&&(l=W):!0===L.isCustom?(m=W.exec(_,w,E,C),null!==m?(l=m[0],void 0!==m.payload&&(u=m.payload)):l=null):(this.updateLastIndex(W,w),l=this.match(W,t,w)),null!==l){if(a=L.longerAlt,void 0!==a){var V=A[a],G=V.pattern;c=null,!0===V.isCustom?(m=G.exec(_,w,E,C),null!==m?(s=m[0],void 0!==m.payload&&(c=m.payload)):s=null):(this.updateLastIndex(G,w),s=this.match(G,t,w)),s&&s.length>l.length&&(l=s,u=c,L=V)}break}}if(null!==l){if(h=l.length,d=L.group,void 0!==d&&(f=L.tokenTypeIdx,p=this.createTokenInstance(l,w,f,L.tokenType,T,O,h),this.handlePayload(p,u),!1===d?k=this.addToken(E,k,p):C[d].push(p)),t=this.chopInput(t,h),w+=h,O=this.computeNewColumn(O,h),!0===I&&!0===L.canLineTerminator){var $=0,q=void 0,K=void 0;N.lastIndex=0;do{q=N.test(l),!0===q&&(K=N.lastIndex-1,$++)}while(!0===q);0!==$&&(T+=$,O=h-K,this.updateTokenEndLineColumnLocation(p,d,K,$,T,O,h))}this.handleModes(L,j,z,p)}else{var Z=w,X=T,Q=O,J=!1;while(!J&&w<b)for(_.charCodeAt(w),t=this.chopInput(t,1),w++,o=0;o<M;o++){var tt=A[o];W=tt.pattern,Y=tt.short;if(!1!==Y?_.charCodeAt(w)===Y&&(J=!0):!0===tt.isCustom?J=null!==W.exec(_,w,E,C):(this.updateLastIndex(W,w),J=null!==W.exec(t)),!0===J)break}v=w-Z,g=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(_,Z,v,X,Q),S.push({offset:Z,line:X,column:Q,length:v,message:g})}}return this.hasCustom||(E.length=k),{tokens:E,groups:C,errors:S}},t.prototype.handleModes=function(t,e,n,i){if(!0===t.pop){var r=t.push;e(i),void 0!==r&&n.call(this,r)}else void 0!==t.push&&n.call(this,t.push)},t.prototype.chopInput=function(t,e){return t.substring(e)},t.prototype.updateLastIndex=function(t,e){t.lastIndex=e},t.prototype.updateTokenEndLineColumnLocation=function(t,e,n,i,r,o,s){var a,l;void 0!==e&&(a=n===s-1,l=a?-1:0,1===i&&!0===a||(t.endLine=r+l,t.endColumn=o-1-l))},t.prototype.computeNewColumn=function(t,e){return t+e},t.prototype.createTokenInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return null},t.prototype.createOffsetOnlyToken=function(t,e,n,i){return{image:t,startOffset:e,tokenTypeIdx:n,tokenType:i}},t.prototype.createStartOnlyToken=function(t,e,n,i,r,o){return{image:t,startOffset:e,startLine:r,startColumn:o,tokenTypeIdx:n,tokenType:i}},t.prototype.createFullToken=function(t,e,n,i,r,o,s){return{image:t,startOffset:e,endOffset:e+s-1,startLine:r,endLine:r,startColumn:o,endColumn:o+s-1,tokenTypeIdx:n,tokenType:i}},t.prototype.addToken=function(t,e,n){return 666},t.prototype.addTokenUsingPush=function(t,e,n){return t.push(n),e},t.prototype.addTokenUsingMemberAccess=function(t,e,n){return t[e]=n,e++,e},t.prototype.handlePayload=function(t,e){},t.prototype.handlePayloadNoCustom=function(t,e){},t.prototype.handlePayloadWithCustom=function(t,e){null!==e&&(t.payload=e)},t.prototype.match=function(t,e,n){return null},t.prototype.matchWithTest=function(t,e,n){var i=t.test(e);return!0===i?e.substring(n,t.lastIndex):null},t.prototype.matchWithExec=function(t,e){var n=t.exec(e);return null!==n?n[0]:n},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();e.Lexer=l},6195:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(7713),o=n(7620),s=new r.RegExpParser,a="Complement Sets are not supported for first char optimization";function l(t,n){void 0===n&&(n=!1);try{var i=s.pattern(t.toString()),l=u(i.value);return i.flags.ignoreCase&&(l=c(l)),l}catch(d){if(d.message===a)n&&o.PRINT_WARNING(e.failedOptimizationPrefixMsg+"\tUnable to optimize: < "+t.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var h="";n&&(h="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),o.PRINT_ERROR(e.failedOptimizationPrefixMsg+"\n\tFailed parsing: < "+t.toString()+" >\n\tUsing the regexp-to-ast library version: "+r.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+h)}}return[]}function u(t){switch(t.type){case"Disjunction":return o.flatten(o.map(t.value,u));case"Alternative":for(var e=[],n=t.value,i=0;i<n.length;i++){var r=n[i];if(!o.contains(["GroupBackReference","Lookahead","NegativeLookahead","StartAnchor","EndAnchor","WordBoundary","NonWordBoundary"],r.type)){var s=r;switch(s.type){case"Character":e.push(s.value);break;case"Set":if(!0===s.complement)throw Error(a);o.forEach(s.value,(function(t){if("number"===typeof t)e.push(t);else for(var n=t,i=n.from;i<=n.to;i++)e.push(i)}));break;case"Group":var l=u(s.value);o.forEach(l,(function(t){return e.push(t)}));break;default:throw Error("Non Exhaustive Match")}var c=void 0!==s.quantifier&&0===s.quantifier.atLeast;if("Group"===s.type&&!1===d(s)||"Group"!==s.type&&!1===c)break}}return e;default:throw Error("non exhaustive match!")}}function c(t){var e=[];return o.forEach(t,(function(t){e.push(t);var n=String.fromCharCode(t);n.toUpperCase()!==n?e.push(n.toUpperCase().charCodeAt(0)):n.toLowerCase()!==n&&e.push(n.toLowerCase().charCodeAt(0))})),e}function h(t,e){return o.find(t.value,(function(t){if("number"===typeof t)return o.contains(e,t);var n=t;return void 0!==o.find(e,(function(t){return n.from<=t&&t<=n.to}))}))}function d(t){return!(!t.quantifier||0!==t.quantifier.atLeast)||!!t.value&&(o.isArray(t.value)?o.every(t.value,d):d(t.value))}e.failedOptimizationPrefixMsg='Unable to use "first char" lexer optimizations:\n',e.getStartCodes=l,e.firstChar=u,e.applyIgnoreCase=c;var f=function(t){function e(e){var n=t.call(this)||this;return n.targetCharCodes=e,n.found=!1,n}return i(e,t),e.prototype.visitChildren=function(e){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}t.prototype.visitChildren.call(this,e)},e.prototype.visitCharacter=function(t){o.contains(this.targetCharCodes,t.value)&&(this.found=!0)},e.prototype.visitSet=function(t){t.complement?void 0===h(t,this.targetCharCodes)&&(this.found=!0):void 0!==h(t,this.targetCharCodes)&&(this.found=!0)},e}(r.BaseRegExpVisitor);function p(t,e){if(e instanceof RegExp){var n=s.pattern(e.toString()),i=new f(t);return i.visit(n),i.found}return void 0!==o.find(e,(function(e){return o.contains(t,e.charCodeAt(0))}))}e.canMatchCharCode=p},3087:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620),r=n(2195),o=n(9399);function s(t,e){var n=t.tokenTypeIdx;return n===e.tokenTypeIdx||!0===e.isParent&&!0===e.categoryMatchesMap[n]}function a(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}function l(t){var e=u(t);c(e),d(e),h(e),i.forEach(e,(function(t){t.isParent=t.categoryMatches.length>0}))}function u(t){var e=i.cloneArr(t),n=t,r=!0;while(r){n=i.compact(i.flatten(i.map(n,(function(t){return t.CATEGORIES}))));var o=i.difference(n,e);e=e.concat(o),i.isEmpty(o)?r=!1:n=o}return e}function c(t){i.forEach(t,(function(t){p(t)||(e.tokenIdxToClass.put(e.tokenShortNameIdx,t),t.tokenTypeIdx=e.tokenShortNameIdx++),v(t)&&!i.isArray(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),v(t)||(t.CATEGORIES=[]),g(t)||(t.categoryMatches=[]),m(t)||(t.categoryMatchesMap={}),y(t)||(t.tokenName=o.tokenName(t))}))}function h(t){i.forEach(t,(function(t){t.categoryMatches=[],i.forEach(t.categoryMatchesMap,(function(n,i){t.categoryMatches.push(e.tokenIdxToClass.get(i).tokenTypeIdx)}))}))}function d(t){i.forEach(t,(function(t){f([],t)}))}function f(t,e){i.forEach(t,(function(t){e.categoryMatchesMap[t.tokenTypeIdx]=!0})),i.forEach(e.CATEGORIES,(function(n){var r=t.concat(e);i.contains(r,n)||f(r,n)}))}function p(t){return i.has(t,"tokenTypeIdx")}function v(t){return i.has(t,"CATEGORIES")}function g(t){return i.has(t,"categoryMatches")}function m(t){return i.has(t,"categoryMatchesMap")}function y(t){return i.has(t,"tokenName")}function _(t){return i.has(t,"tokenTypeIdx")}e.tokenStructuredMatcher=s,e.tokenStructuredMatcherNoCategories=a,e.tokenShortNameIdx=1,e.tokenIdxToClass=new r.HashTable,e.augmentTokenTypes=l,e.expandCategories=u,e.assignTokenDefaultProps=c,e.assignCategoriesTokensProp=h,e.assignCategoriesMapProp=d,e.singleAssignCategoriesToksMap=f,e.hasShortKeyProperty=p,e.hasCategoriesProperty=v,e.hasExtendingTokensTypesProperty=g,e.hasExtendingTokensTypesMapProperty=m,e.hasTokenNameProperty=y,e.isTokenType=_},9399:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7620),r=n(2195),o=n(127),s=n(3087);function a(t){return l(t)?t.LABEL:u(t)}function l(t){return i.isString(t.LABEL)&&""!==t.LABEL}function u(t){return i.isObject(t)&&t.hasOwnProperty("tokenName")&&i.isString(t.tokenName)?t.tokenName:r.functionName(t)}e.tokenLabel=a,e.hasTokenLabel=l,e.tokenName=u;var c="parent",h="categories",d="label",f="group",p="push_mode",v="pop_mode",g="longer_alt",m="line_breaks",y="start_chars_hint";function _(t){return b(t)}function b(t){var e=t.name,n=t.pattern,o={};if(r.defineNameProp(o,e)||(o.tokenName=e),i.isUndefined(n)||(o.PATTERN=n),i.has(t,c))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";return i.has(t,h)&&(o.CATEGORIES=t[h]),s.augmentTokenTypes([o]),i.has(t,d)&&(o.LABEL=t[d]),i.has(t,f)&&(o.GROUP=t[f]),i.has(t,v)&&(o.POP_MODE=t[v]),i.has(t,p)&&(o.PUSH_MODE=t[p]),i.has(t,g)&&(o.LONGER_ALT=t[g]),i.has(t,m)&&(o.LINE_BREAKS=t[m]),i.has(t,y)&&(o.START_CHARS_HINT=t[y]),o}function w(t,e,n,i,r,o,s,a){return{image:e,startOffset:n,endOffset:i,startLine:r,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function k(t,e){return s.tokenStructuredMatcher(t,e)}e.createToken=_,e.EOF=_({name:"EOF",pattern:o.Lexer.NA}),s.augmentTokenTypes([e.EOF]),e.createTokenInstance=w,e.tokenMatcher=k},7597:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){if(this.start=t,this.end=e,!i(t,e))throw new Error("INVALID RANGE")}return t.prototype.contains=function(t){return this.start<=t&&this.end>=t},t.prototype.containsRange=function(t){return this.start<=t.start&&this.end>=t.end},t.prototype.isContainedInRange=function(t){return t.containsRange(this)},t.prototype.strictlyContainsRange=function(t){return this.start<t.start&&this.end>t.end},t.prototype.isStrictlyContainedInRange=function(t){return t.strictlyContainsRange(this)},t}();function i(t,e){return!(t<0||e<t)}e.Range=n,e.isValidRange=i},7620:(t,e)=>{"use strict";function n(t){return t&&0===t.length}function i(t){return void 0===t||null===t?[]:Object.keys(t)}function r(t){for(var e=[],n=Object.keys(t),i=0;i<n.length;i++)e.push(t[n[i]]);return e}function o(t,e){for(var n=[],r=i(t),o=0;o<r.length;o++){var s=r[o];n.push(e.call(null,t[s],s))}return n}function s(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e.call(null,t[i],i));return n}function a(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?e=e.concat(a(i)):e.push(i)}return e}function l(t){return n(t)?void 0:t[0]}function u(t){var e=t&&t.length;return e?t[e-1]:void 0}function c(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e.call(null,t[n],n);else{if(!M(t))throw Error("non exhaustive match");var r=i(t);for(n=0;n<r.length;n++){var o=r[n],s=t[o];e.call(null,s,o)}}}function h(t){return"string"===typeof t}function d(t){return void 0===t}function f(t){return t instanceof Function}function p(t,e){return void 0===e&&(e=1),t.slice(e,t.length)}function v(t,e){return void 0===e&&(e=1),t.slice(0,t.length-e)}function g(t,e){var n=[];if(Array.isArray(t))for(var i=0;i<t.length;i++){var r=t[i];e.call(null,r)&&n.push(r)}return n}function m(t,e){return g(t,(function(t){return!e(t)}))}function y(t,e){for(var n=Object.keys(t),i={},r=0;r<n.length;r++){var o=n[r],s=t[o];e(s)&&(i[o]=s)}return i}function _(t,e){return!!M(t)&&t.hasOwnProperty(e)}function b(t,e){return void 0!==x(t,(function(t){return t===e}))}function w(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function k(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function x(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(e.call(null,i))return i}}function E(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];e.call(null,r)&&n.push(r)}return n}function S(t,e,n){for(var o=Array.isArray(t),s=o?t:r(t),a=o?[]:i(t),l=n,u=0;u<s.length;u++)l=e.call(null,l,s[u],o?u:a[u]);return l}function T(t){return m(t,(function(t){return null===t||void 0===t}))}function O(t,e){void 0===e&&(e=function(t){return t});var n=[];return S(t,(function(t,i){var r=e(i);return b(n,r)?t:(n.push(r),t.concat(i))}),[])}function C(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=[null],r=i.concat(e);return Function.bind.apply(t,r)}function I(t){return Array.isArray(t)}function N(t){return t instanceof RegExp}function M(t){return t instanceof Object}function A(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}function D(t,e){return m(t,(function(t){return b(e,t)}))}function P(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function R(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function L(t,e){var n=w(t);return n.sort((function(t,n){return e(t)-e(n)})),n}function F(t,e){if(t.length!==e.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},i=0;i<t.length;i++)n[t[i]]=e[i];return n}function j(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var o=e[r],s=i(o),a=0;a<s.length;a++){var l=s[a];t[l]=o[l]}return t}function z(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=e[r];if(!d(o))for(var s=i(o),a=0;a<s.length;a++){var l=s[a];_(t,l)||(t[l]=o[l])}}return t}function B(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return z.apply(null,[{}].concat(t))}function U(t,e){var n={};return c(t,(function(t){var i=e(t),r=n[i];r?r.push(t):n[i]=[t]})),n}function H(t,e){for(var n=k(t),r=i(e),o=0;o<r.length;o++){var s=r[o],a=e[s];n[s]=a}return n}function W(){}function Y(t){return t}function V(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];e.push(void 0!==i?i:void 0)}return e}function G(t){console&&console.error&&console.error("Error: "+t)}function $(t){console&&console.warn&&console.warn("Warning: "+t)}function q(){return"function"===typeof Map}function K(t,e){e.forEach((function(e){var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(i){if("constructor"!==i){var r=Object.getOwnPropertyDescriptor(n,i);r&&(r.get||r.set)?Object.defineProperty(t.prototype,i,r):t.prototype[i]=e.prototype[i]}}))}))}function Z(t){function e(){}e.prototype=t;var n=new e;function i(){return typeof n.bar}return i(),i(),t}Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=n,e.keys=i,e.values=r,e.mapValues=o,e.map=s,e.flatten=a,e.first=l,e.last=u,e.forEach=c,e.isString=h,e.isUndefined=d,e.isFunction=f,e.drop=p,e.dropRight=v,e.filter=g,e.reject=m,e.pick=y,e.has=_,e.contains=b,e.cloneArr=w,e.cloneObj=k,e.find=x,e.findAll=E,e.reduce=S,e.compact=T,e.uniq=O,e.partial=C,e.isArray=I,e.isRegExp=N,e.isObject=M,e.every=A,e.difference=D,e.some=P,e.indexOf=R,e.sortBy=L,e.zipObject=F,e.assign=j,e.assignNoOverwrite=z,e.defaults=B,e.groupBy=U,e.merge=H,e.NOOP=W,e.IDENTITY=Y,e.packArray=V,e.PRINT_ERROR=G,e.PRINT_WARNING=$,e.isES2015MapSupported=q,e.applyMixins=K,e.toFastProperties=Z},4927:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION="4.8.1"},5218:(t,e,n)=>{(function(t){t(n(5237))})((function(t){var e={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},n=t.Pos;function i(t,n){return"pairs"==n&&"string"==typeof t?t:"object"==typeof t&&null!=t[n]?t[n]:e[n]}t.defineOption("autoCloseBrackets",!1,(function(e,n,s){s&&s!=t.Init&&(e.removeKeyMap(r),e.state.closeBrackets=null),n&&(o(i(n,"pairs")),e.state.closeBrackets=n,e.addKeyMap(r))}));var r={Backspace:l,Enter:u};function o(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),i="'"+n+"'";r[i]||(r[i]=s(n))}}function s(t){return function(e){return d(e,t)}}function a(t){var e=t.state.closeBrackets;if(!e||e.override)return e;var n=t.getModeAt(t.getCursor());return n.closeBrackets||e}function l(e){var r=a(e);if(!r||e.getOption("disableInput"))return t.Pass;for(var o=i(r,"pairs"),s=e.listSelections(),l=0;l<s.length;l++){if(!s[l].empty())return t.Pass;var u=f(e,s[l].head);if(!u||o.indexOf(u)%2!=0)return t.Pass}for(l=s.length-1;l>=0;l--){var c=s[l].head;e.replaceRange("",n(c.line,c.ch-1),n(c.line,c.ch+1),"+delete")}}function u(e){var n=a(e),r=n&&i(n,"explode");if(!r||e.getOption("disableInput"))return t.Pass;for(var o=e.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return t.Pass;var l=f(e,o[s].head);if(!l||r.indexOf(l)%2!=0)return t.Pass}e.operation((function(){var t=e.lineSeparator()||"\n";e.replaceSelection(t+t,null),c(e,-1),o=e.listSelections();for(var n=0;n<o.length;n++){var i=o[n].head.line;e.indentLine(i,null,!0),e.indentLine(i+1,null,!0)}}))}function c(t,e){for(var n=[],i=t.listSelections(),r=0,o=0;o<i.length;o++){var s=i[o];s.head==t.getCursor()&&(r=o);var a=s.head.ch||e>0?{line:s.head.line,ch:s.head.ch+e}:{line:s.head.line-1};n.push({anchor:a,head:a})}t.setSelections(n,r)}function h(e){var i=t.cmpPos(e.anchor,e.head)>0;return{anchor:new n(e.anchor.line,e.anchor.ch+(i?-1:1)),head:new n(e.head.line,e.head.ch+(i?1:-1))}}function d(e,r){var o=a(e);if(!o||e.getOption("disableInput"))return t.Pass;var s=i(o,"pairs"),l=s.indexOf(r);if(-1==l)return t.Pass;for(var u,d=i(o,"closeBefore"),f=i(o,"triples"),v=s.charAt(l+1)==r,g=e.listSelections(),m=l%2==0,y=0;y<g.length;y++){var _,b=g[y],w=b.head,k=e.getRange(w,n(w.line,w.ch+1));if(m&&!b.empty())_="surround";else if(!v&&m||k!=r)if(v&&w.ch>1&&f.indexOf(r)>=0&&e.getRange(n(w.line,w.ch-2),w)==r+r){if(w.ch>2&&/\bstring/.test(e.getTokenTypeAt(n(w.line,w.ch-2))))return t.Pass;_="addFour"}else if(v){var x=0==w.ch?" ":e.getRange(n(w.line,w.ch-1),w);if(t.isWordChar(k)||x==r||t.isWordChar(x))return t.Pass;_="both"}else{if(!m||!(0===k.length||/\s/.test(k)||d.indexOf(k)>-1))return t.Pass;_="both"}else _=v&&p(e,w)?"both":f.indexOf(r)>=0&&e.getRange(w,n(w.line,w.ch+3))==r+r+r?"skipThree":"skip";if(u){if(u!=_)return t.Pass}else u=_}var E=l%2?s.charAt(l-1):r,S=l%2?r:s.charAt(l+1);e.operation((function(){if("skip"==u)c(e,1);else if("skipThree"==u)c(e,3);else if("surround"==u){for(var t=e.getSelections(),n=0;n<t.length;n++)t[n]=E+t[n]+S;e.replaceSelections(t,"around"),t=e.listSelections().slice();for(n=0;n<t.length;n++)t[n]=h(t[n]);e.setSelections(t)}else"both"==u?(e.replaceSelection(E+S,null),e.triggerElectric(E+S),c(e,-1)):"addFour"==u&&(e.replaceSelection(E+E+E+E,"before"),c(e,1))}))}function f(t,e){var i=t.getRange(n(e.line,e.ch-1),n(e.line,e.ch+1));return 2==i.length?i:null}function p(t,e){var i=t.getTokenAt(n(e.line,e.ch+1));return/\bstring/.test(i.type)&&i.start==e.ch&&(0==e.ch||!/\bstring/.test(t.getTokenTypeAt(e)))}o(e.pairs+"`")}))},9751:(t,e,n)=>{(function(t){t(n(5237))})((function(t){"use strict";var e="CodeMirror-hint",n="CodeMirror-hint-active";function i(t,e){if(this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var n=this;t.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}}t.showHint=function(t,e,n){if(!e)return t.showHint(n);n&&n.async&&(e.async=!0);var i={hint:e};if(n)for(var r in n)i[r]=n[r];return t.showHint(i)},t.defineExtension("showHint",(function(e){e=s(this,this.getCursor("start"),e);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!e.hint.supportsSelection)return;for(var r=0;r<n.length;r++)if(n[r].head.line!=n[r].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new i(this,e);o.options.hint&&(t.signal(this,"startCompletion",this),o.update(!0))}})),t.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var r=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function s(t,e,n){var i=t.options.hintOptions,r={};for(var o in p)r[o]=p[o];if(i)for(var o in i)void 0!==i[o]&&(r[o]=i[o]);if(n)for(var o in n)void 0!==n[o]&&(r[o]=n[o]);return r.hint.resolve&&(r.hint=r.hint.resolve(t,e)),r}function a(t){return"string"==typeof t?t:t.text}function l(t,e){var n={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(1-e.menuSize(),!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close},i=/Mac/.test(navigator.platform);i&&(n["Ctrl-P"]=function(){e.moveFocus(-1)},n["Ctrl-N"]=function(){e.moveFocus(1)});var r=t.options.customKeys,o=r?{}:n;function s(t,i){var r;r="string"!=typeof i?function(t){return i(t,e)}:n.hasOwnProperty(i)?n[i]:i,o[t]=r}if(r)for(var a in r)r.hasOwnProperty(a)&&s(a,r[a]);var l=t.options.extraKeys;if(l)for(var a in l)l.hasOwnProperty(a)&&s(a,l[a]);return o}function u(t,e){while(e&&e!=t){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function c(i,r){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=i,this.data=r,this.picked=!1;var o=this,s=i.cm,c=s.getInputField().ownerDocument,h=c.defaultView||c.parentWindow,d=this.hints=c.createElement("ul");d.setAttribute("role","listbox"),d.setAttribute("aria-expanded","true"),d.id=this.id;var f=i.cm.options.theme;d.className="CodeMirror-hints "+f,this.selectedHint=r.selectedHint||0;for(var p=r.list,v=0;v<p.length;++v){var g=d.appendChild(c.createElement("li")),m=p[v],y=e+(v!=this.selectedHint?"":" "+n);null!=m.className&&(y=m.className+" "+y),g.className=y,v==this.selectedHint&&g.setAttribute("aria-selected","true"),g.id=this.id+"-"+v,g.setAttribute("role","option"),m.render?m.render(g,r,m):g.appendChild(c.createTextNode(m.displayText||a(m))),g.hintId=v}var _=i.options.container||c.body,b=s.cursorCoords(i.options.alignWithWord?r.from:null),w=b.left,k=b.bottom,x=!0,E=0,S=0;if(_!==c.body){var T=-1!==["absolute","relative","fixed"].indexOf(h.getComputedStyle(_).position),O=T?_:_.offsetParent,C=O.getBoundingClientRect(),I=c.body.getBoundingClientRect();E=C.left-I.left-O.scrollLeft,S=C.top-I.top-O.scrollTop}d.style.left=w-E+"px",d.style.top=k-S+"px";var N=h.innerWidth||Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),M=h.innerHeight||Math.max(c.body.offsetHeight,c.documentElement.offsetHeight);_.appendChild(d),s.getInputField().setAttribute("aria-autocomplete","list"),s.getInputField().setAttribute("aria-owns",this.id),s.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var A,D=i.options.moveOnOverlap?d.getBoundingClientRect():new DOMRect,P=!!i.options.paddingForScrollbar&&d.scrollHeight>d.clientHeight+1;setTimeout((function(){A=s.getScrollInfo()}));var R=D.bottom-M;if(R>0){var L=D.bottom-D.top,F=D.top-(b.bottom-b.top)-2;M-D.top<F?(L>F&&(d.style.height=(L=F)+"px"),d.style.top=(k=b.top-L)+S+"px",x=!1):d.style.height=M-D.top-2+"px"}var j,z=D.right-N;if(P&&(z+=s.display.nativeBarWidth),z>0&&(D.right-D.left>N&&(d.style.width=N-5+"px",z-=D.right-D.left-N),d.style.left=(w=Math.max(b.left-z-E,0))+"px"),P)for(var B=d.firstChild;B;B=B.nextSibling)B.style.paddingRight=s.display.nativeBarWidth+"px";(s.addKeyMap(this.keyMap=l(i,{moveFocus:function(t,e){o.changeActive(o.selectedHint+t,e)},setFocus:function(t){o.changeActive(t)},menuSize:function(){return o.screenAmount()},length:p.length,close:function(){i.close()},pick:function(){o.pick()},data:r})),i.options.closeOnUnfocus)&&(s.on("blur",this.onBlur=function(){j=setTimeout((function(){i.close()}),100)}),s.on("focus",this.onFocus=function(){clearTimeout(j)}));s.on("scroll",this.onScroll=function(){var t=s.getScrollInfo(),e=s.getWrapperElement().getBoundingClientRect();A||(A=s.getScrollInfo());var n=k+A.top-t.top,r=n-(h.pageYOffset||(c.documentElement||c.body).scrollTop);if(x||(r+=d.offsetHeight),r<=e.top||r>=e.bottom)return i.close();d.style.top=n+"px",d.style.left=w+A.left-t.left+"px"}),t.on(d,"dblclick",(function(t){var e=u(d,t.target||t.srcElement);e&&null!=e.hintId&&(o.changeActive(e.hintId),o.pick())})),t.on(d,"click",(function(t){var e=u(d,t.target||t.srcElement);e&&null!=e.hintId&&(o.changeActive(e.hintId),i.options.completeOnSingleClick&&o.pick())})),t.on(d,"mousedown",(function(){setTimeout((function(){s.focus()}),20)}));var U=this.getSelectedHintRange();return 0===U.from&&0===U.to||this.scrollToActive(),t.signal(r,"select",p[this.selectedHint],d.childNodes[this.selectedHint]),!0}function h(t,e){if(!t.somethingSelected())return e;for(var n=[],i=0;i<e.length;i++)e[i].supportsSelection&&n.push(e[i]);return n}function d(t,e,n,i){if(t.async)t(e,i,n);else{var r=t(e,n);r&&r.then?r.then(i):i(r)}}function f(e,n){var i,r=e.getHelpers(n,"hint");if(r.length){var o=function(t,e,n){var i=h(t,r);function o(r){if(r==i.length)return e(null);d(i[r],t,n,(function(t){t&&t.list.length>0?e(t):o(r+1)}))}o(0)};return o.async=!0,o.supportsSelection=!0,o}return(i=e.getHelper(e.getCursor(),"hintWords"))?function(e){return t.hint.fromList(e,{words:i})}:t.hint.anyword?function(e,n){return t.hint.anyword(e,n)}:function(){}}i.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,n){var i=e.list[n],r=this;this.cm.operation((function(){i.hint?i.hint(r.cm,e,i):r.cm.replaceRange(a(i),i.from||e.from,i.to||e.to,"complete"),t.signal(e,"pick",i),r.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var t=this.startPos;this.data&&(t=this.data.from);var e=this.cm.getCursor(),n=this.cm.getLine(e.line);if(e.line!=this.startPos.line||n.length-e.ch!=this.startLen-this.startPos.ch||e.ch<t.ch||this.cm.somethingSelected()||!e.ch||this.options.closeCharacters.test(n.charAt(e.ch-1)))this.close();else{var i=this;this.debounce=r((function(){i.update()})),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var e=this,n=++this.tick;d(this.options.hint,this.cm,this.options,(function(i){e.tick==n&&e.finishUpdate(i,t)}))}},finishUpdate:function(e,n){this.data&&t.signal(this.data,"update");var i=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=e,e&&e.list.length&&(i&&1==e.list.length?this.pick(e,0):(this.widget=new c(this,e),t.signal(e,"shown")))}},c.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm.getInputField();t.removeAttribute("aria-activedescendant"),t.removeAttribute("aria-owns");var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,i){if(e>=this.data.list.length?e=i?this.data.list.length-1:0:e<0&&(e=i?0:this.data.list.length-1),this.selectedHint!=e){var r=this.hints.childNodes[this.selectedHint];r&&(r.className=r.className.replace(" "+n,""),r.removeAttribute("aria-selected")),r=this.hints.childNodes[this.selectedHint=e],r.className+=" "+n,r.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",r.id),this.scrollToActive(),t.signal(this.data,"select",this.data.list[this.selectedHint],r)}},scrollToActive:function(){var t=this.getSelectedHintRange(),e=this.hints.childNodes[t.from],n=this.hints.childNodes[t.to],i=this.hints.firstChild;e.offsetTop<this.hints.scrollTop?this.hints.scrollTop=e.offsetTop-i.offsetTop:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+i.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var t=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-t),to:Math.min(this.data.list.length-1,this.selectedHint+t)}}},t.registerHelper("hint","auto",{resolve:f}),t.registerHelper("hint","fromList",(function(e,n){var i,r=e.getCursor(),o=e.getTokenAt(r),s=t.Pos(r.line,o.start),a=r;o.start<r.ch&&/\w/.test(o.string.charAt(r.ch-o.start-1))?i=o.string.substr(0,r.ch-o.start):(i="",s=r);for(var l=[],u=0;u<n.words.length;u++){var c=n.words[u];c.slice(0,i.length)==i&&l.push(c)}if(l.length)return{list:l,from:s,to:a}})),t.commands.autocomplete=t.showHint;var p={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};t.defineOption("hintOptions",null)}))},1561:(t,e,n)=>{(function(t){t(n(5237))})((function(t){"use strict";var e="CodeMirror-lint-markers",n="CodeMirror-lint-line-";function i(e,n,i){var r=document.createElement("div");function o(e){if(!r.parentNode)return t.off(document,"mousemove",o);var n=Math.max(0,e.clientY-r.offsetHeight-5),i=Math.max(0,Math.min(e.clientX+5,r.ownerDocument.defaultView.innerWidth-r.offsetWidth));r.style.top=n+"px",r.style.left=i+"px"}return r.className="CodeMirror-lint-tooltip cm-s-"+e.options.theme,r.appendChild(i.cloneNode(!0)),e.state.lint.options.selfContain?e.getWrapperElement().appendChild(r):document.body.appendChild(r),t.on(document,"mousemove",o),o(n),null!=r.style.opacity&&(r.style.opacity=1),r}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function o(t){t.parentNode&&(null==t.style.opacity&&r(t),t.style.opacity=0,setTimeout((function(){r(t)}),600))}function s(e,n,r,s){var a=i(e,n,r);function l(){t.off(s,"mouseout",l),a&&(o(a),a=null)}var u=setInterval((function(){if(a)for(var t=s;;t=t.parentNode){if(t&&11==t.nodeType&&(t=t.host),t==document.body)return;if(!t){l();break}}if(!a)return clearInterval(u)}),400);t.on(s,"mouseout",l)}function a(t,e,n){for(var i in this.marked=[],e instanceof Function&&(e={getAnnotations:e}),e&&!0!==e||(e={}),this.options={},this.linterOptions=e.options||{},l)this.options[i]=l[i];for(var i in e)l.hasOwnProperty(i)?null!=e[i]&&(this.options[i]=e[i]):e.options||(this.linterOptions[i]=e[i]);this.timeout=null,this.hasGutter=n,this.onMouseOver=function(e){b(t,e)},this.waitingFor=0}var l={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function u(t){var n=t.state.lint;n.hasGutter&&t.clearGutter(e),n.options.highlightLines&&c(t);for(var i=0;i<n.marked.length;++i)n.marked[i].clear();n.marked.length=0}function c(t){t.eachLine((function(e){var n=e.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(e.wrapClass);n&&t.removeLineClass(e,"wrap",n[0])}))}function h(e,n,i,r,o){var a=document.createElement("div"),l=a;return a.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+i,r&&(l=a.appendChild(document.createElement("div")),l.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),0!=o&&t.on(l,"mouseover",(function(t){s(e,t,n,l)})),a}function d(t,e){return"error"==t?t:e}function f(t){for(var e=[],n=0;n<t.length;++n){var i=t[n],r=i.from.line;(e[r]||(e[r]=[])).push(i)}return e}function p(t){var e=t.severity;e||(e="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message CodeMirror-lint-message-"+e,"undefined"!=typeof t.messageHTML?n.innerHTML=t.messageHTML:n.appendChild(document.createTextNode(t.message)),n}function v(e,n){var i=e.state.lint,r=++i.waitingFor;function o(){r=-1,e.off("change",o)}e.on("change",o),n(e.getValue(),(function(n,s){e.off("change",o),i.waitingFor==r&&(s&&n instanceof t&&(n=s),e.operation((function(){m(e,n)})))}),i.linterOptions,e)}function g(e){var n=e.state.lint;if(n){var i=n.options,r=i.getAnnotations||e.getHelper(t.Pos(0,0),"lint");if(r)if(i.async||r.async)v(e,r);else{var o=r(e.getValue(),n.linterOptions,e);if(!o)return;o.then?o.then((function(t){e.operation((function(){m(e,t)}))})):e.operation((function(){m(e,o)}))}}}function m(t,i){var r=t.state.lint;if(r){var o=r.options;u(t);for(var s=f(i),a=0;a<s.length;++a){var l=s[a];if(l){for(var c=null,v=r.hasGutter&&document.createDocumentFragment(),g=0;g<l.length;++g){var m=l[g],y=m.severity;y||(y="error"),c=d(c,y),o.formatAnnotation&&(m=o.formatAnnotation(m)),r.hasGutter&&v.appendChild(p(m)),m.to&&r.marked.push(t.markText(m.from,m.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+y,__annotation:m}))}r.hasGutter&&t.setGutterMarker(a,e,h(t,v,c,l.length>1,o.tooltips)),o.highlightLines&&t.addLineClass(a,"wrap",n+c)}}o.onUpdateLinting&&o.onUpdateLinting(i,s,t)}}function y(t){var e=t.state.lint;e&&(clearTimeout(e.timeout),e.timeout=setTimeout((function(){g(t)}),e.options.delay))}function _(t,e,n){for(var i=n.target||n.srcElement,r=document.createDocumentFragment(),o=0;o<e.length;o++){var a=e[o];r.appendChild(p(a))}s(t,n,r,i)}function b(t,e){var n=e.target||e.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var i=n.getBoundingClientRect(),r=(i.left+i.right)/2,o=(i.top+i.bottom)/2,s=t.findMarksAt(t.coordsChar({left:r,top:o},"client")),a=[],l=0;l<s.length;++l){var u=s[l].__annotation;u&&a.push(u)}a.length&&_(t,a,e)}}t.defineOption("lint",!1,(function(n,i,r){if(r&&r!=t.Init&&(u(n),!1!==n.state.lint.options.lintOnChange&&n.off("change",y),t.off(n.getWrapperElement(),"mouseover",n.state.lint.onMouseOver),clearTimeout(n.state.lint.timeout),delete n.state.lint),i){for(var o=n.getOption("gutters"),s=!1,l=0;l<o.length;++l)o[l]==e&&(s=!0);var c=n.state.lint=new a(n,i,s);c.options.lintOnChange&&n.on("change",y),0!=c.options.tooltips&&"gutter"!=c.options.tooltips&&t.on(n.getWrapperElement(),"mouseover",c.onMouseOver),g(n)}})),t.defineExtension("performLint",(function(){g(this)}))}))},4856:(t,e,n)=>{(function(t){t(n(5237))})((function(t){"use strict";function e(t,e){if(!t.hasOwnProperty(e))throw new Error("Undefined state "+e+" in simple mode")}function n(t,e){if(!t)return/(?:)/;var n="";return t instanceof RegExp?(t.ignoreCase&&(n="i"),t.unicode&&(n+="u"),t=t.source):t=String(t),new RegExp((!1===e?"":"^")+"(?:"+t+")",n)}function i(t){if(!t)return null;if(t.apply)return t;if("string"==typeof t)return t.replace(/\./g," ");for(var e=[],n=0;n<t.length;n++)e.push(t[n]&&t[n].replace(/\./g," "));return e}function r(t,r){(t.next||t.push)&&e(r,t.next||t.push),this.regex=n(t.regex),this.token=i(t.token),this.data=t}function o(t,e){return function(n,i){if(i.pending){var r=i.pending.shift();return 0==i.pending.length&&(i.pending=null),n.pos+=r.text.length,r.token}if(i.local){if(i.local.end&&n.match(i.local.end)){var o=i.local.endToken||null;return i.local=i.localState=null,o}var s;o=i.local.mode.token(n,i.localState);return i.local.endScan&&(s=i.local.endScan.exec(n.current()))&&(n.pos=n.start+s.index),o}for(var l=t[i.state],u=0;u<l.length;u++){var c=l[u],h=(!c.data.sol||n.sol())&&n.match(c.regex);if(h){c.data.next?i.state=c.data.next:c.data.push?((i.stack||(i.stack=[])).push(i.state),i.state=c.data.push):c.data.pop&&i.stack&&i.stack.length&&(i.state=i.stack.pop()),c.data.mode&&a(e,i,c.data.mode,c.token),c.data.indent&&i.indent.push(n.indentation()+e.indentUnit),c.data.dedent&&i.indent.pop();var d=c.token;if(d&&d.apply&&(d=d(h)),h.length>2&&c.token&&"string"!=typeof c.token){for(var f=2;f<h.length;f++)h[f]&&(i.pending||(i.pending=[])).push({text:h[f],token:c.token[f-1]});return n.backUp(h[0].length-(h[1]?h[1].length:0)),d[0]}return d&&d.join?d[0]:d}}return n.next(),null}}function s(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=0;for(var i in t)if(t.hasOwnProperty(i)){if(!e.hasOwnProperty(i)||!s(t[i],e[i]))return!1;n++}for(var i in e)e.hasOwnProperty(i)&&n--;return 0==n}function a(e,i,r,o){var a;if(r.persistent)for(var l=i.persistentStates;l&&!a;l=l.next)(r.spec?s(r.spec,l.spec):r.mode==l.mode)&&(a=l);var u=a?a.mode:r.mode||t.getMode(e,r.spec),c=a?a.state:t.startState(u);r.persistent&&!a&&(i.persistentStates={mode:u,spec:r.spec,state:c,next:i.persistentStates}),i.localState=c,i.local={mode:u,end:r.end&&n(r.end),endScan:r.end&&!1!==r.forceEnd&&n(r.end,!1),endToken:o&&o.join?o[o.length-1]:o}}function l(t,e){for(var n=0;n<e.length;n++)if(e[n]===t)return!0}function u(e,n){return function(i,r,o){if(i.local&&i.local.mode.indent)return i.local.mode.indent(i.localState,r,o);if(null==i.indent||i.local||n.dontIndentStates&&l(i.state,n.dontIndentStates)>-1)return t.Pass;var s=i.indent.length-1,a=e[i.state];t:for(;;){for(var u=0;u<a.length;u++){var c=a[u];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var h=c.regex.exec(r);if(h&&h[0]){s--,(c.next||c.push)&&(a=e[c.next||c.push]),r=r.slice(h[0].length);continue t}}}break}return s<0?0:i.indent[s]}}t.defineSimpleMode=function(e,n){t.defineMode(e,(function(e){return t.simpleMode(e,n)}))},t.simpleMode=function(n,i){e(i,"start");var s={},a=i.meta||{},l=!1;for(var c in i)if(c!=a&&i.hasOwnProperty(c))for(var h=s[c]=[],d=i[c],f=0;f<d.length;f++){var p=d[f];h.push(new r(p,i)),(p.indent||p.dedent)&&(l=!0)}var v={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:l?[]:null}},copyState:function(e){var n={state:e.state,pending:e.pending,local:e.local,localState:null,indent:e.indent&&e.indent.slice(0)};e.localState&&(n.localState=t.copyState(e.local.mode,e.localState)),e.stack&&(n.stack=e.stack.slice(0));for(var i=e.persistentStates;i;i=i.next)n.persistentStates={mode:i.mode,spec:i.spec,state:i.state==e.localState?n.localState:t.copyState(i.mode,i.state),next:n.persistentStates};return n},token:o(s,n),innerMode:function(t){return t.local&&{mode:t.local.mode,state:t.localState}},indent:u(s,a)};if(a)for(var g in a)a.hasOwnProperty(g)&&(v[g]=a[g]);return v}}))},436:(t,e,n)=>{(function(t){t(n(5237))})((function(t){"use strict";var e="CodeMirror-activeline",n="CodeMirror-activeline-background",i="CodeMirror-activeline-gutter";function r(t){for(var r=0;r<t.state.activeLines.length;r++)t.removeLineClass(t.state.activeLines[r],"wrap",e),t.removeLineClass(t.state.activeLines[r],"background",n),t.removeLineClass(t.state.activeLines[r],"gutter",i)}function o(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function s(t,s){for(var a=[],l=0;l<s.length;l++){var u=s[l],c=t.getOption("styleActiveLine");if("object"==typeof c&&c.nonEmpty?u.anchor.line==u.head.line:u.empty()){var h=t.getLineHandleVisualStart(u.head.line);a[a.length-1]!=h&&a.push(h)}}o(t.state.activeLines,a)||t.operation((function(){r(t);for(var o=0;o<a.length;o++)t.addLineClass(a[o],"wrap",e),t.addLineClass(a[o],"background",n),t.addLineClass(a[o],"gutter",i);t.state.activeLines=a}))}function a(t,e){s(t,e.ranges)}t.defineOption("styleActiveLine",!1,(function(e,n,i){var o=i!=t.Init&&i;n!=o&&(o&&(e.off("beforeSelectionChange",a),r(e),delete e.state.activeLines),n&&(e.state.activeLines=[],s(e,e.listSelections()),e.on("beforeSelectionChange",a)))}))}))},5237:function(t){(function(e,n){t.exports=n()})(0,(function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),i=/MSIE \d/.test(t),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),s=i||r||o,a=s&&(i?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(t),u=l&&/Qt\/\d+\.\d+/.test(t),c=!o&&/Chrome\/(\d+)/.exec(t),h=c&&+c[1],d=/Opera\//.test(t),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),v=/PhantomJS/.test(t),g=f&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),m=/Android/.test(t),y=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),_=g||/Mac/.test(e),b=/\bCrOS\b/.test(t),w=/win/i.test(e),k=d&&t.match(/Version\/(\d*\.\d*)/);k&&(k=Number(k[1])),k&&k>=15&&(d=!1,l=!0);var x=_&&(u||d&&(null==k||k<12.11)),E=n||s&&a>=9;function S(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var T,O=function(t,e){var n=t.className,i=S(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function C(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function I(t,e){return C(t).appendChild(e)}function N(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function M(t,e,n,i){var r=N(t,e,n,i);return r.setAttribute("role","presentation"),r}function A(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function D(t){var e,n=t.ownerDocument||t;try{e=t.activeElement}catch(i){e=n.body||null}while(e&&e.shadowRoot&&e.shadowRoot.activeElement)e=e.shadowRoot.activeElement;return e}function P(t,e){var n=t.className;S(e).test(n)||(t.className+=(n?" ":"")+e)}function R(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!S(n[i]).test(e)&&(e+=" "+n[i]);return e}T=document.createRange?function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var L=function(t){t.select()};function F(t){return t.display.wrapper.ownerDocument}function j(t){return z(t.display.wrapper)}function z(t){return t.getRootNode?t.getRootNode():t.ownerDocument}function B(t){return F(t).defaultView}function U(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function H(t,e,n){for(var i in e||(e={}),t)!t.hasOwnProperty(i)||!1===n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function W(t,e,n,i,r){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=i||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}}g?L=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:s&&(L=function(t){try{t.select()}catch(e){}});var Y=function(){this.id=null,this.f=null,this.time=0,this.handler=U(this.onTimeout,this)};function V(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}Y.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},Y.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};var G=50,$={toString:function(){return"CodeMirror.Pass"}},q={scroll:!1},K={origin:"*mouse"},Z={origin:"+move"};function X(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("\t",i);-1==o&&(o=t.length);var s=o-i;if(o==t.length||r+s>=e)return i+Math.min(s,e-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=e)return i}}var Q=[""];function J(t){while(Q.length<=t)Q.push(tt(Q)+" ");return Q[t]}function tt(t){return t[t.length-1]}function et(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function nt(t,e,n){var i=0,r=n(e);while(i<t.length&&n(t[i])<=r)i++;t.splice(i,0,e)}function it(){}function rt(t,e){var n;return Object.create?n=Object.create(t):(it.prototype=t,n=new it),e&&H(e,n),n}var ot=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function st(t){return/\w/.test(t)||t>"¬Ä"&&(t.toUpperCase()!=t.toLowerCase()||ot.test(t))}function at(t,e){return e?!!(e.source.indexOf("\\w")>-1&&st(t))||e.test(t):st(t)}function lt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var ut=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ct(t){return t.charCodeAt(0)>=768&&ut.test(t)}function ht(t,e,n){while((n<0?e>0:e<t.length)&&ct(t.charAt(e)))e+=n;return e}function dt(t,e,n){for(var i=e>n?-1:1;;){if(e==n)return e;var r=(e+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+i}}function ft(t,e,n,i){if(!t)return i(e,n,"ltr",0);for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),r=!0)}r||i(e,n,"ltr")}var pt=null;function vt(t,e,n){var i;pt=null;for(var r=0;r<t.length;++r){var o=t[r];if(o.from<e&&o.to>e)return r;o.to==e&&(o.from!=o.to&&"before"==n?i=r:pt=r),o.from==e&&(o.from!=o.to&&"before"!=n?i=r:pt=r)}return null!=i?i:pt}var gt=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?t.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?e.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;function l(t,e,n){this.level=t,this.from=e,this.to=n}return function(t,e){var u="ltr"==e?"L":"R";if(0==t.length||"ltr"==e&&!i.test(t))return!1;for(var c=t.length,h=[],d=0;d<c;++d)h.push(n(t.charCodeAt(d)));for(var f=0,p=u;f<c;++f){var v=h[f];"m"==v?h[f]=p:p=v}for(var g=0,m=u;g<c;++g){var y=h[g];"1"==y&&"r"==m?h[g]="n":o.test(y)&&(m=y,"r"==y&&(h[g]="R"))}for(var _=1,b=h[0];_<c-1;++_){var w=h[_];"+"==w&&"1"==b&&"1"==h[_+1]?h[_]="1":","!=w||b!=h[_+1]||"1"!=b&&"n"!=b||(h[_]=b),b=w}for(var k=0;k<c;++k){var x=h[k];if(","==x)h[k]="N";else if("%"==x){var E=void 0;for(E=k+1;E<c&&"%"==h[E];++E);for(var S=k&&"!"==h[k-1]||E<c&&"1"==h[E]?"1":"N",T=k;T<E;++T)h[T]=S;k=E-1}}for(var O=0,C=u;O<c;++O){var I=h[O];"L"==C&&"1"==I?h[O]="L":o.test(I)&&(C=I)}for(var N=0;N<c;++N)if(r.test(h[N])){var M=void 0;for(M=N+1;M<c&&r.test(h[M]);++M);for(var A="L"==(N?h[N-1]:u),D="L"==(M<c?h[M]:u),P=A==D?A?"L":"R":u,R=N;R<M;++R)h[R]=P;N=M-1}for(var L,F=[],j=0;j<c;)if(s.test(h[j])){var z=j;for(++j;j<c&&s.test(h[j]);++j);F.push(new l(0,z,j))}else{var B=j,U=F.length,H="rtl"==e?1:0;for(++j;j<c&&"L"!=h[j];++j);for(var W=B;W<j;)if(a.test(h[W])){B<W&&(F.splice(U,0,new l(1,B,W)),U+=H);var Y=W;for(++W;W<j&&a.test(h[W]);++W);F.splice(U,0,new l(2,Y,W)),U+=H,B=W}else++W;B<j&&F.splice(U,0,new l(1,B,j))}return"ltr"==e&&(1==F[0].level&&(L=t.match(/^\s+/))&&(F[0].from=L[0].length,F.unshift(new l(0,0,L[0].length))),1==tt(F).level&&(L=t.match(/\s+$/))&&(tt(F).to-=L[0].length,F.push(new l(0,c-L[0].length,c)))),"rtl"==e?F.reverse():F}}();function mt(t,e){var n=t.order;return null==n&&(n=t.order=gt(t.text,e)),n}var yt=[],_t=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});i[e]=(i[e]||yt).concat(n)}};function bt(t,e){return t._handlers&&t._handlers[e]||yt}function wt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers,r=i&&i[e];if(r){var o=V(r,n);o>-1&&(i[e]=r.slice(0,o).concat(r.slice(o+1)))}}}function kt(t,e){var n=bt(t,e);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function xt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),kt(t,n||e.type,t,e),It(e)||e.codemirrorIgnore}function Et(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==V(n,e[i])&&n.push(e[i])}function St(t,e){return bt(t,e).length>0}function Tt(t){t.prototype.on=function(t,e){_t(this,t,e)},t.prototype.off=function(t,e){wt(this,t,e)}}function Ot(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Ct(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function It(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Nt(t){Ot(t),Ct(t)}function Mt(t){return t.target||t.srcElement}function At(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),_&&t.ctrlKey&&1==e&&(e=3),e}var Dt,Pt,Rt=function(){if(s&&a<9)return!1;var t=N("div");return"draggable"in t||"dragDrop"in t}();function Lt(t){if(null==Dt){var e=N("span","‚Äã");I(t,N("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Dt=e.offsetWidth<=1&&e.offsetHeight>2&&!(s&&a<8))}var n=Dt?N("span","‚Äã"):N("span","¬†",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ft(t){if(null!=Pt)return Pt;var e=I(t,document.createTextNode("AÿÆA")),n=T(e,0,1).getBoundingClientRect(),i=T(e,1,2).getBoundingClientRect();return C(t),!(!n||n.left==n.right)&&(Pt=i.right-n.right<3)}var jt=3!="\n\nb".split(/\n/).length?function(t){var e=0,n=[],i=t.length;while(e<=i){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},zt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(n){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Bt=function(){var t=N("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Ut=null;function Ht(t){if(null!=Ut)return Ut;var e=I(t,N("span","x")),n=e.getBoundingClientRect(),i=T(e,0,1).getBoundingClientRect();return Ut=Math.abs(n.left-i.left)>1}var Wt={},Yt={};function Vt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Wt[t]=e}function Gt(t,e){Yt[t]=e}function $t(t){if("string"==typeof t&&Yt.hasOwnProperty(t))t=Yt[t];else if(t&&"string"==typeof t.name&&Yt.hasOwnProperty(t.name)){var e=Yt[t.name];"string"==typeof e&&(e={name:e}),t=rt(e,t),t.name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return $t("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return $t("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function qt(t,e){e=$t(e);var n=Wt[e.name];if(!n)return qt(t,"text/plain");var i=n(t,e);if(Kt.hasOwnProperty(e.name)){var r=Kt[e.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)i[s]=e.modeProps[s];return i}var Kt={};function Zt(t,e){var n=Kt.hasOwnProperty(t)?Kt[t]:Kt[t]={};H(e,n)}function Xt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Qt(t,e){var n;while(t.innerMode){if(n=t.innerMode(e),!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}}function Jt(t,e,n){return!t.startState||t.startState(e,n)}var te=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function ee(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");var n=t;while(!n.lines)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(e<o){n=r;break}e-=o}return n.lines[e]}function ne(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,(function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r})),i}function ie(t,e,n){var i=[];return t.iter(e,n,(function(t){i.push(t.text)})),i}function re(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function oe(t){if(null==t.parent)return null;for(var e=t.parent,n=V(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;;++r){if(i.children[r]==e)break;n+=i.children[r].chunkSize()}return n+e.first}function se(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(e<o){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s],l=a.height;if(e<l)break;e-=l}return n+s}function ae(t,e){return e>=t.first&&e<t.first+t.size}function le(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function ue(t,e,n){if(void 0===n&&(n=null),!(this instanceof ue))return new ue(t,e,n);this.line=t,this.ch=e,this.sticky=n}function ce(t,e){return t.line-e.line||t.ch-e.ch}function he(t,e){return t.sticky==e.sticky&&0==ce(t,e)}function de(t){return ue(t.line,t.ch)}function fe(t,e){return ce(t,e)<0?e:t}function pe(t,e){return ce(t,e)<0?t:e}function ve(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function ge(t,e){if(e.line<t.first)return ue(t.first,0);var n=t.first+t.size-1;return e.line>n?ue(n,ee(t,n).text.length):me(e,ee(t,e.line).text.length)}function me(t,e){var n=t.ch;return null==n||n>e?ue(t.line,e):n<0?ue(t.line,0):t}function ye(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=ge(t,e[i]);return n}te.prototype.eol=function(){return this.pos>=this.string.length},te.prototype.sol=function(){return this.pos==this.lineStart},te.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},te.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},te.prototype.eat=function(t){var e,n=this.string.charAt(this.pos);if(e="string"==typeof t?n==t:n&&(t.test?t.test(n):t(n)),e)return++this.pos,n},te.prototype.eatWhile=function(t){var e=this.pos;while(this.eat(t));return this.pos>e},te.prototype.eatSpace=function(){var t=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>t},te.prototype.skipToEnd=function(){this.pos=this.string.length},te.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},te.prototype.backUp=function(t){this.pos-=t},te.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=W(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?W(this.string,this.lineStart,this.tabSize):0)},te.prototype.indentation=function(){return W(this.string,null,this.tabSize)-(this.lineStart?W(this.string,this.lineStart,this.tabSize):0)},te.prototype.match=function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(r(o)==r(t))return!1!==e&&(this.pos+=t.length),!0},te.prototype.current=function(){return this.string.slice(this.start,this.pos)},te.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},te.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},te.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var _e=function(t,e){this.state=t,this.lookAhead=e},be=function(t,e,n,i){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function we(t,e,n,i){var r=[t.state.modeGen],o={};Ne(t,e.text,t.doc.mode,n,(function(t,e){return r.push(t,e)}),o,i);for(var s=n.state,a=function(i){n.baseTokens=r;var a=t.state.overlays[i],l=1,u=0;n.state=!0,Ne(t,e.text,a.mode,n,(function(t,e){var n=l;while(u<t){var i=r[l];i>t&&r.splice(l,1,t,r[l+1],i),l+=2,u=Math.min(t,i)}if(e)if(a.opaque)r.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+e}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)a(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function ke(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=xe(t,oe(e)),r=e.text.length>t.options.maxHighlightLength&&Xt(t.doc.mode,i.state),o=we(t,e,i);r&&(i.state=r),e.stateAfter=i.save(!r),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function xe(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return new be(i,!0,e);var o=Me(t,e,n),s=o>i.first&&ee(i,o-1).stateAfter,a=s?be.fromSaved(i,s,o):new be(i,Jt(i.mode),o);return i.iter(o,e,(function(n){Ee(t,n.text,a);var i=a.line;n.stateAfter=i==e-1||i%5==0||i>=r.viewFrom&&i<r.viewTo?a.save():null,a.nextLine()})),n&&(i.modeFrontier=a.line),a}function Ee(t,e,n,i){var r=t.doc.mode,o=new te(e,t.options.tabSize,n);o.start=o.pos=i||0,""==e&&Se(r,n.state);while(!o.eol())Te(r,o,n.state),o.start=o.pos}function Se(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Qt(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Te(t,e,n,i){for(var r=0;r<10;r++){i&&(i[0]=Qt(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}be.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},be.prototype.baseToken=function(t){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=t)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},be.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},be.fromSaved=function(t,e,n){return e instanceof _e?new be(t,Xt(t.mode,e.state),n,e.lookAhead):new be(t,Xt(t.mode,e),n)},be.prototype.save=function(t){var e=!1!==t?Xt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new _e(e,this.maxLookAhead):e};var Oe=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function Ce(t,e,n,i){var r,o=t.doc,s=o.mode;e=ge(o,e);var a,l=ee(o,e.line),u=xe(t,e.line,n),c=new te(l.text,t.options.tabSize,u);i&&(a=[]);while((i||c.pos<e.ch)&&!c.eol())c.start=c.pos,r=Te(s,c,u.state),i&&a.push(new Oe(c,r,Xt(o.mode,u.state)));return i?a:new Oe(c,r,u.state)}function Ie(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(e[i])||(e[i]+=" "+n[2])}return t}function Ne(t,e,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,u=0,c=null,h=new te(e,t.options.tabSize,i),d=t.options.addModeClass&&[null];""==e&&Ie(Se(n,i.state),o);while(!h.eol()){if(h.pos>t.options.maxHighlightLength?(a=!1,s&&Ee(t,e,i,h.pos),h.pos=e.length,l=null):l=Ie(Te(n,h,i.state,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||c!=l){while(u<h.start)u=Math.min(h.start,u+5e3),r(u,c);c=l}h.start=h.pos}while(u<h.pos){var p=Math.min(h.pos,u+5e3);r(p,c),u=p}}function Me(t,e,n){for(var i,r,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=ee(o,a-1),u=l.stateAfter;if(u&&(!n||a+(u instanceof _e?u.lookAhead:0)<=o.modeFrontier))return a;var c=W(l.text,null,t.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function Ae(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,i=e-1;i>n;i--){var r=ee(t,i).stateAfter;if(r&&(!(r instanceof _e)||i+r.lookAhead<e)){n=i+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}var De=!1,Pe=!1;function Re(){De=!0}function Le(){Pe=!0}function Fe(t,e,n){this.marker=t,this.from=e,this.to=n}function je(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function ze(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function Be(t,e,n){var i=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));i&&t.markedSpans&&i.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],i&&i.add(t.markedSpans)),e.marker.attachLine(t)}function Ue(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new Fe(s,o.from,l?null:o.to))}}return i}function He(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new Fe(s,l?null:o.from-e,null==o.to?null:o.to-e))}}return i}function We(t,e){if(e.full)return null;var n=ae(t,e.from.line)&&ee(t,e.from.line).markedSpans,i=ae(t,e.to.line)&&ee(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=0==ce(e.from,e.to),a=Ue(n,r,s),l=He(i,o,s),u=1==e.text.length,c=tt(e.text).length+(u?r:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var f=je(l,d.marker);f?u&&(d.to=null==f.to?null:f.to+c):d.to=r}}if(l)for(var p=0;p<l.length;++p){var v=l[p];if(null!=v.to&&(v.to+=c),null==v.from){var g=je(a,v.marker);g||(v.from=c,u&&(a||(a=[])).push(v))}else v.from+=c,u&&(a||(a=[])).push(v)}a&&(a=Ye(a)),l&&l!=a&&(l=Ye(l));var m=[a];if(!u){var y,_=e.text.length-2;if(_>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(y||(y=[])).push(new Fe(a[b].marker,null,null));for(var w=0;w<_;++w)m.push(y);m.push(l)}return m}function Ye(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Ve(t,e,n){var i=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=V(i,n)||(i||(i=[])).push(n)}})),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var u=r[l];if(!(ce(u.to,a.from)<0||ce(u.from,a.to)>0)){var c=[l,1],h=ce(u.from,a.from),d=ce(u.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&c.push({from:u.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&c.push({from:a.to,to:u.to}),r.splice.apply(r,c),l+=c.length-3}}return r}function Ge(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function $e(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function qe(t){return t.inclusiveLeft?-1:0}function Ke(t){return t.inclusiveRight?1:0}function Ze(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=ce(i.from,r.from)||qe(t)-qe(e);if(o)return-o;var s=ce(i.to,r.to)||Ke(t)-Ke(e);return s||e.id-t.id}function Xe(t,e){var n,i=Pe&&t.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(e?r.from:r.to)&&(!n||Ze(n,r.marker)<0)&&(n=r.marker);return n}function Qe(t){return Xe(t,!0)}function Je(t){return Xe(t,!1)}function tn(t,e){var n,i=Pe&&t.markedSpans;if(i)for(var r=0;r<i.length;++r){var o=i[r];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Ze(n,o.marker)<0)&&(n=o.marker)}return n}function en(t,e,n,i,r){var o=ee(t,e),s=Pe&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var u=l.marker.find(0),c=ce(u.from,n)||qe(l.marker)-qe(r),h=ce(u.to,i)||Ke(l.marker)-Ke(r);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ce(u.to,n)>=0:ce(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ce(u.from,i)<=0:ce(u.from,i)<0)))return!0}}}function nn(t){var e;while(e=Qe(t))t=e.find(-1,!0).line;return t}function rn(t){var e;while(e=Je(t))t=e.find(1,!0).line;return t}function on(t){var e,n;while(e=Je(t))t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function sn(t,e){var n=ee(t,e),i=nn(n);return n==i?e:oe(i)}function an(t,e){if(e>t.lastLine())return e;var n,i=ee(t,e);if(!ln(t,i))return e;while(n=Je(i))i=n.find(1,!0).line;return oe(i)+1}function ln(t,e){var n=Pe&&e.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&un(t,e,i))return!0}}function un(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return un(t,i.line,je(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r=void 0,o=0;o<e.markedSpans.length;++o)if(r=e.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&un(t,e,r))return!0}function cn(t){t=nn(t);for(var e=0,n=t.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;e+=a.height}return e}function hn(t){if(0==t.height)return 0;var e,n=t.text.length,i=t;while(e=Qe(i)){var r=e.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}i=t;while(e=Je(i)){var o=e.find(0,!0);n-=i.text.length-o.from.ch,i=o.to.line,n+=i.text.length-o.to.ch}return n}function dn(t){var e=t.display,n=t.doc;e.maxLine=ee(n,n.first),e.maxLineLength=hn(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=hn(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}var fn=function(t,e,n){this.text=t,$e(this,e),this.height=n?n(this):1};function pn(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ge(t),$e(t,n);var r=i?i(t):1;r!=t.height&&re(t,r)}function vn(t){t.parent=null,Ge(t)}fn.prototype.lineNo=function(){return oe(this)},Tt(fn);var gn={},mn={};function yn(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?mn:gn;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function _n(t,e){var n=M("span",null,null,l?"padding-right: .1px":null),i={pre:M("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o=r?e.rest[r-1]:e.line,s=void 0;i.pos=0,i.addToken=wn,Ft(t.display.measure)&&(s=mt(o,t.doc.direction))&&(i.addToken=xn(i.addToken,s)),i.map=[];var a=e!=t.display.externalMeasured&&oe(o);Sn(o,i,ke(t,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=R(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=R(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Lt(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var u=i.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return kt(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=R(i.pre.className,i.textClass||"")),i}function bn(t){var e=N("span","‚Ä¢","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function wn(t,e,n,i,r,o,l){if(e){var u,c=t.splitSpaces?kn(e,t.trailingSpace):e,h=t.cm.state.specialChars,d=!1;if(h.test(e)){u=document.createDocumentFragment();var f=0;while(1){h.lastIndex=f;var p=h.exec(e),v=p?p.index-f:e.length-f;if(v){var g=document.createTextNode(c.slice(f,f+v));s&&a<9?u.appendChild(N("span",[g])):u.appendChild(g),t.map.push(t.pos,t.pos+v,g),t.col+=v,t.pos+=v}if(!p)break;f+=v+1;var m=void 0;if("\t"==p[0]){var y=t.cm.options.tabSize,_=y-t.col%y;m=u.appendChild(N("span",J(_),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),t.col+=_}else"\r"==p[0]||"\n"==p[0]?(m=u.appendChild(N("span","\r"==p[0]?"‚êç":"‚ê§","cm-invalidchar")),m.setAttribute("cm-text",p[0]),t.col+=1):(m=t.cm.options.specialCharPlaceholder(p[0]),m.setAttribute("cm-text",p[0]),s&&a<9?u.appendChild(N("span",[m])):u.appendChild(m),t.col+=1);t.map.push(t.pos,t.pos+1,m),t.pos++}}else t.col+=e.length,u=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,u),s&&a<9&&(d=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),n||i||r||d||o||l){var b=n||"";i&&(b+=i),r&&(b+=r);var w=N("span",[u],b,o);if(l)for(var k in l)l.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,l[k]);return t.content.appendChild(w)}t.content.appendChild(u)}}function kn(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,i="",r=0;r<t.length;r++){var o=t.charAt(r);" "!=o||!n||r!=t.length-1&&32!=t.charCodeAt(r+1)||(o="¬†"),i+=o,n=" "==o}return i}function xn(t,e){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+i.length;;){for(var h=void 0,d=0;d<e.length;d++)if(h=e[d],h.to>u&&h.from<=u)break;if(h.to>=c)return t(n,i,r,o,s,a,l);t(n,i.slice(0,h.to-u),r,o,null,a,l),o=null,i=i.slice(h.to-u),u=h.to}}}function En(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function Sn(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,l,u,c,h,d,f=r.length,p=0,v=1,g="",m=0;;){if(m==p){l=u=c=a="",d=null,h=null,m=1/0;for(var y=[],_=void 0,b=0;b<i.length;++b){var w=i[b],k=w.marker;if("bookmark"==k.type&&w.from==p&&k.widgetNode)y.push(k);else if(w.from<=p&&(null==w.to||w.to>p||k.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&m>w.to&&(m=w.to,u=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&w.from==p&&(c+=" "+k.startStyle),k.endStyle&&w.to==m&&(_||(_=[])).push(k.endStyle,w.to),k.title&&((d||(d={})).title=k.title),k.attributes)for(var x in k.attributes)(d||(d={}))[x]=k.attributes[x];k.collapsed&&(!h||Ze(h.marker,k)<0)&&(h=w)}else w.from>p&&m>w.from&&(m=w.from)}if(_)for(var E=0;E<_.length;E+=2)_[E+1]==m&&(u+=" "+_[E]);if(!h||h.from==p)for(var S=0;S<y.length;++S)En(e,0,y[S]);if(h&&(h.from||0)==p){if(En(e,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;var T=Math.min(f,m);while(1){if(g){var O=p+g.length;if(!h){var C=O>T?g.slice(0,T-p):g;e.addToken(e,C,s?s+l:l,c,p+C.length==m?u:"",a,d)}if(O>=T){g=g.slice(T-p),p=T;break}p=O,c=""}g=r.slice(o,o=n[v++]),s=yn(n[v++],e.cm.options)}}else for(var I=1;I<n.length;I+=2)e.addToken(e,r.slice(o,o=n[I]),yn(n[I+1],e.cm.options))}function Tn(t,e,n){this.line=e,this.rest=on(e),this.size=this.rest?oe(tt(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ln(t,e)}function On(t,e,n){for(var i,r=[],o=e;o<n;o=i){var s=new Tn(t.doc,ee(t.doc,o),o);i=o+s.size,r.push(s)}return r}var Cn=null;function In(t){Cn?Cn.ops.push(t):t.ownsGroup=Cn={ops:[t],delayedCallbacks:[]}}function Nn(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)while(r.cursorActivityCalled<r.cursorActivityHandlers.length)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}function Mn(t,e){var n=t.ownsGroup;if(n)try{Nn(n)}finally{Cn=null,e(n)}}var An=null;function Dn(t,e){var n=bt(t,e);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);Cn?i=Cn.delayedCallbacks:An?i=An:(i=An=[],setTimeout(Pn,0));for(var o=function(t){i.push((function(){return n[t].apply(null,r)}))},s=0;s<n.length;++s)o(s)}}function Pn(){var t=An;An=null;for(var e=0;e<t.length;++e)t[e]()}function Rn(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?zn(t,e):"gutter"==o?Un(t,e,n,i):"class"==o?Bn(t,e):"widget"==o&&Hn(t,e,i)}e.changes=null}function Ln(t){return t.node==t.text&&(t.node=N("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),s&&a<8&&(t.node.style.zIndex=2)),t.node}function Fn(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var i=Ln(e);e.background=i.insertBefore(N("div",null,n),i.firstChild),t.display.input.setUneditable(e.background)}}function jn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):_n(t,e)}function zn(t,e){var n=e.text.className,i=jn(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,Bn(t,e)):n&&(e.text.className=n)}function Bn(t,e){Fn(t,e),e.line.wrapClass?Ln(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function Un(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=Ln(e);e.gutterBackground=N("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=Ln(e),a=e.gutter=N("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(N("div",le(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var u=t.display.gutterSpecs[l].className,c=o.hasOwnProperty(u)&&o[u];c&&a.appendChild(N("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[u]+"px; width: "+i.gutterWidth[u]+"px"))}}}function Hn(t,e,n){e.alignable&&(e.alignable=null);for(var i=S("CodeMirror-linewidget"),r=e.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,i.test(r.className)&&e.node.removeChild(r);Yn(t,e,n)}function Wn(t,e,n,i){var r=jn(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),Bn(t,e),Un(t,e,n,i),Yn(t,e,i),e.node}function Yn(t,e,n){if(Vn(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)Vn(t,e.rest[i],e,n,!1)}function Vn(t,e,n,i,r){if(e.widgets)for(var o=Ln(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],u=N("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Gn(l,u,n,i),t.display.input.setUneditable(u),r&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Dn(l,"redraw")}}function Gn(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function $n(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!A(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),I(e.display.measure,N("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function qn(t,e){for(var n=Mt(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Kn(t){return t.lineSpace.offsetTop}function Zn(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Xn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=I(t.measure,N("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function Qn(t){return G-t.display.nativeBarWidth}function Jn(t){return t.display.scroller.clientWidth-Qn(t)-t.display.barWidth}function ti(t){return t.display.scroller.clientHeight-Qn(t)-t.display.barHeight}function ei(t,e,n){var i=t.options.lineWrapping,r=i&&Jn(t);if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function ni(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var r=0;r<t.rest.length;r++)if(oe(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function ii(t,e){e=nn(e);var n=oe(e),i=t.display.externalMeasured=new Tn(t.doc,e,n);i.lineN=n;var r=i.built=_n(t,i);return i.text=r.pre,I(t.display.lineMeasure,r.pre),i}function ri(t,e,n,i){return ai(t,si(t,e),n,i)}function oi(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Bi(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function si(t,e){var n=oe(e),i=oi(t,n);i&&!i.text?i=null:i&&i.changes&&(Rn(t,i,n,Ri(t)),t.curOp.forceUpdate=!0),i||(i=ii(t,e));var r=ni(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function ai(t,e,n,i,r){e.before&&(n=-1);var o,s=n+(i||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(ei(t,e.view,e.rect),e.hasHeights=!0),o=di(t,e,n,i),o.bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var li,ui={left:0,right:0,top:0,bottom:0};function ci(t,e,n){for(var i,r,o,s,a,l,u=0;u<t.length;u+=3)if(a=t[u],l=t[u+1],e<a?(r=0,o=1,s="left"):e<l?(r=e-a,o=r+1):(u==t.length-3||e==l&&t[u+3]>e)&&(o=l-a,r=o-1,e>=l&&(s="right")),null!=r){if(i=t[u+2],a==l&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)while(u&&t[u-2]==t[u-3]&&t[u-1].insertLeft)i=t[2+(u-=3)],s="left";if("right"==n&&r==l-a)while(u<t.length-3&&t[u+3]==t[u+4]&&!t[u+5].insertLeft)i=t[(u+=3)+2],s="right";break}return{node:i,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function hi(t,e){var n=ui;if("left"==e){for(var i=0;i<t.length;i++)if((n=t[i]).left!=n.right)break}else for(var r=t.length-1;r>=0;r--)if((n=t[r]).left!=n.right)break;return n}function di(t,e,n,i){var r,o=ci(e.map,n,i),l=o.node,u=o.start,c=o.end,h=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){while(u&&ct(e.line.text.charAt(o.coverStart+u)))--u;while(o.coverStart+c<o.coverEnd&&ct(e.line.text.charAt(o.coverStart+c)))++c;if(r=s&&a<9&&0==u&&c==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():hi(T(l,u,c).getClientRects(),i),r.left||r.right||0==u)break;c=u,u-=1,h="right"}s&&a<11&&(r=fi(t.display.measure,r))}else{var f;u>0&&(h=i="right"),r=t.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==i?f.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!u&&(!r||!r.left&&!r.right)){var p=l.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+Pi(t.display),top:p.top,bottom:p.bottom}:ui}for(var v=r.top-e.rect.top,g=r.bottom-e.rect.top,m=(v+g)/2,y=e.view.measure.heights,_=0;_<y.length-1;_++)if(m<y[_])break;var b=_?y[_-1]:0,w=y[_],k={left:("right"==h?r.right:r.left)-e.rect.left,right:("left"==h?r.left:r.right)-e.rect.left,top:b,bottom:w};return r.left||r.right||(k.bogus=!0),t.options.singleCursorHeightPerLine||(k.rtop=v,k.rbottom=g),k}function fi(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ht(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}function pi(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function vi(t){t.display.externalMeasure=null,C(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)pi(t.display.view[e])}function gi(t){vi(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function mi(t){return c&&m?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function yi(t){return c&&m?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function _i(t){var e=nn(t),n=e.widgets,i=0;if(n)for(var r=0;r<n.length;++r)n[r].above&&(i+=$n(n[r]));return i}function bi(t,e,n,i,r){if(!r){var o=_i(e);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=cn(e);if("local"==i?s+=Kn(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:yi(F(t)));var l=a.left+("window"==i?0:mi(F(t)));n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function wi(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=mi(F(t)),r-=yi(F(t));else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function ki(t,e,n,i,r){return i||(i=ee(t.doc,e.line)),bi(t,i,ri(t,i,e.ch,r),n)}function xi(t,e,n,i,r,o){function s(e,s){var a=ai(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,bi(t,i,a,n)}i=i||ee(t.doc,e.line),r||(r=si(t,i));var a=mt(i,t.doc.direction),l=e.ch,u=e.sticky;if(l>=i.text.length?(l=i.text.length,u="before"):l<=0&&(l=0,u="after"),!a)return s("before"==u?l-1:l,"before"==u);function c(t,e,n){var i=a[e],r=1==i.level;return s(n?t-1:t,r!=n)}var h=vt(a,l,u),d=pt,f=c(l,h,"before"==u);return null!=d&&(f.other=c(l,d,"before"!=u)),f}function Ei(t,e){var n=0;e=ge(t.doc,e),t.options.lineWrapping||(n=Pi(t.display)*e.ch);var i=ee(t.doc,e.line),r=cn(i)+Kn(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Si(t,e,n,i,r){var o=ue(t,e,n);return o.xRel=r,i&&(o.outside=i),o}function Ti(t,e,n){var i=t.doc;if(n+=t.display.viewOffset,n<0)return Si(i.first,0,null,-1,-1);var r=se(i,n),o=i.first+i.size-1;if(r>o)return Si(i.first+i.size-1,ee(i,o).text.length,null,1,1);e<0&&(e=0);for(var s=ee(i,r);;){var a=Ni(t,s,r,e,n),l=tn(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var u=l.find(1);if(u.line==r)return u;s=ee(i,r=u.line)}}function Oi(t,e,n,i){i-=_i(e);var r=e.text.length,o=dt((function(e){return ai(t,n,e-1).bottom<=i}),r,0);return r=dt((function(e){return ai(t,n,e).top>i}),o,r),{begin:o,end:r}}function Ci(t,e,n,i){n||(n=si(t,e));var r=bi(t,e,ai(t,n,i),"line").top;return Oi(t,e,n,r)}function Ii(t,e,n,i){return!(t.bottom<=n)&&(t.top>n||(i?t.left:t.right)>e)}function Ni(t,e,n,i,r){r-=cn(e);var o=si(t,e),s=_i(e),a=0,l=e.text.length,u=!0,c=mt(e,t.doc.direction);if(c){var h=(t.options.lineWrapping?Ai:Mi)(t,e,n,o,c,i,r);u=1!=h.level,a=u?h.from:h.to-1,l=u?h.to:h.from-1}var d,f,p=null,v=null,g=dt((function(e){var n=ai(t,o,e);return n.top+=s,n.bottom+=s,!!Ii(n,i,r,!1)&&(n.top<=r&&n.left<=i&&(p=e,v=n),!0)}),a,l),m=!1;if(v){var y=i-v.left<v.right-i,_=y==u;g=p+(_?0:1),f=_?"after":"before",d=y?v.left:v.right}else{u||g!=l&&g!=a||g++,f=0==g?"after":g==e.text.length?"before":ai(t,o,g-(u?1:0)).bottom+s<=r==u?"after":"before";var b=xi(t,ue(n,g,f),"line",e,o);d=b.left,m=r<b.top?-1:r>=b.bottom?1:0}return g=ht(e.text,g,1),Si(n,g,f,m,i-d)}function Mi(t,e,n,i,r,o,s){var a=dt((function(a){var l=r[a],u=1!=l.level;return Ii(xi(t,ue(n,u?l.to:l.from,u?"before":"after"),"line",e,i),o,s,!0)}),0,r.length-1),l=r[a];if(a>0){var u=1!=l.level,c=xi(t,ue(n,u?l.from:l.to,u?"after":"before"),"line",e,i);Ii(c,o,s,!0)&&c.top>s&&(l=r[a-1])}return l}function Ai(t,e,n,i,r,o,s){var a=Oi(t,e,i,s),l=a.begin,u=a.end;/\s/.test(e.text.charAt(u-1))&&u--;for(var c=null,h=null,d=0;d<r.length;d++){var f=r[d];if(!(f.from>=u||f.to<=l)){var p=1!=f.level,v=ai(t,i,p?Math.min(u,f.to)-1:Math.max(l,f.from)).right,g=v<o?o-v+1e9:v-o;(!c||h>g)&&(c=f,h=g)}}return c||(c=r[r.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Di(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==li){li=N("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)li.appendChild(document.createTextNode("x")),li.appendChild(N("br"));li.appendChild(document.createTextNode("x"))}I(t.measure,li);var n=li.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),C(t.measure),n||1}function Pi(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=N("span","xxxxxxxxxx"),n=N("pre",[e],"CodeMirror-line-like");I(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function Ri(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=t.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+r,i[a]=o.clientWidth}return{fixedPos:Li(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function Li(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Fi(t){var e=Di(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/Pi(t.display)-3);return function(r){if(ln(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*e:o+e}}function ji(t){var e=t.doc,n=Fi(t);e.iter((function(t){var e=n(t);e!=t.height&&re(t,e)}))}function zi(t,e,n,i){var r=t.display;if(!n&&"true"==Mt(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(h){return null}var l,u=Ti(t,o,s);if(i&&u.xRel>0&&(l=ee(t.doc,u.line).text).length==u.ch){var c=W(l,l.length,t.options.tabSize)-l.length;u=ue(u.line,Math.max(0,Math.round((o-Xn(t.display).left)/Pi(t.display))-c))}return u}function Bi(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var n=t.display.view,i=0;i<n.length;i++)if(e-=n[i].size,e<0)return i}function Ui(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Pe&&sn(t.doc,e)<r.viewTo&&Wi(t);else if(n<=r.viewFrom)Pe&&an(t.doc,n+i)>r.viewFrom?Wi(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)Wi(t);else if(e<=r.viewFrom){var o=Yi(t,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):Wi(t)}else if(n>=r.viewTo){var s=Yi(t,e,e,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):Wi(t)}else{var a=Yi(t,e,e,-1),l=Yi(t,n,n+i,1);a&&l?(r.view=r.view.slice(0,a.index).concat(On(t,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):Wi(t)}var u=r.externalMeasured;u&&(n<u.lineN?u.lineN+=i:e<u.lineN+u.size&&(r.externalMeasured=null))}function Hi(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[Bi(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==V(s,n)&&s.push(n)}}}function Wi(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Yi(t,e,n,i){var r,o=Bi(t,e),s=t.display.view;if(!Pe||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(i>0){if(o==s.length-1)return null;r=a+s[o].size-e,o++}else r=a-e;e+=r,n+=r}while(sn(t.doc,n)!=n){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function Vi(t,e,n){var i=t.display,r=i.view;0==r.length||e>=i.viewTo||n<=i.viewFrom?(i.view=On(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=On(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(Bi(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(On(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Bi(t,n)))),i.viewTo=n}function Gi(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function $i(t){t.display.input.showSelection(t.display.input.prepareSelection())}function qi(t,e){void 0===e&&(e=!0);var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=t.options.$customCursor;s&&(e=!0);for(var a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=t.display.viewTo||l.to().line<t.display.viewFrom)){var u=l.empty();if(s){var c=s(t,l);c&&Ki(t,c,r)}else(u||t.options.showCursorWhenSelecting)&&Ki(t,l.head,r);u||Xi(t,l,o)}}return i}function Ki(t,e,n){var i=xi(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(N("div","¬†","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var o=ki(t,e,"div",null,null),s=o.right-o.left;r.style.width=(s>0?s:t.defaultCharWidth())+"px"}if(i.other){var a=n.appendChild(N("div","¬†","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Zi(t,e){return t.top-e.top||t.left-e.left}function Xi(t,e,n){var i=t.display,r=t.doc,o=document.createDocumentFragment(),s=Xn(t.display),a=s.left,l=Math.max(i.sizerWidth,Jn(t)-i.sizer.offsetLeft)-s.right,u="ltr"==r.direction;function c(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),o.appendChild(N("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(i-e)+"px"))}function h(e,n,i){var o,s,h=ee(r,e),d=h.text.length;function f(n,i){return ki(t,ue(e,n),"div",h,i)}function p(e,n,i){var r=Ci(t,h,null,e),o="ltr"==n==("after"==i)?"left":"right",s="after"==i?r.begin:r.end-(/\s/.test(h.text.charAt(r.end-1))?2:1);return f(s,o)[o]}var v=mt(h,r.direction);return ft(v,n||0,null==i?d:i,(function(t,e,r,h){var g="ltr"==r,m=f(t,g?"left":"right"),y=f(e-1,g?"right":"left"),_=null==n&&0==t,b=null==i&&e==d,w=0==h,k=!v||h==v.length-1;if(y.top-m.top<=3){var x=(u?_:b)&&w,E=(u?b:_)&&k,S=x?a:(g?m:y).left,T=E?l:(g?y:m).right;c(S,m.top,T-S,m.bottom)}else{var O,C,I,N;g?(O=u&&_&&w?a:m.left,C=u?l:p(t,r,"before"),I=u?a:p(e,r,"after"),N=u&&b&&k?l:y.right):(O=u?p(t,r,"before"):a,C=!u&&_&&w?l:m.right,I=!u&&b&&k?a:y.left,N=u?p(e,r,"after"):l),c(O,m.top,C-O,m.bottom),m.bottom<y.top&&c(a,m.bottom,null,y.top),c(I,y.top,N-I,y.bottom)}(!o||Zi(m,o)<0)&&(o=m),Zi(y,o)<0&&(o=y),(!s||Zi(m,s)<0)&&(s=m),Zi(y,s)<0&&(s=y)})),{start:o,end:s}}var d=e.from(),f=e.to();if(d.line==f.line)h(d.line,d.ch,f.ch);else{var p=ee(r,d.line),v=ee(r,f.line),g=nn(p)==nn(v),m=h(d.line,d.ch,g?p.text.length+1:null).end,y=h(f.line,g?0:null,f.ch).start;g&&(m.top<y.top-2?(c(m.right,m.top,null,m.bottom),c(a,y.top,y.left,y.bottom)):c(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&c(a,m.bottom,null,y.top)}n.appendChild(o)}function Qi(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){t.hasFocus()||nr(t),e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Ji(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||er(t))}function tr(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&nr(t))}),100)}function er(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(kt(t,"focus",t,e),t.state.focused=!0,P(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),Qi(t))}function nr(t,e){t.state.delayingBlurEvent||(t.state.focused&&(kt(t,"blur",t,e),t.state.focused=!1,O(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function ir(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,o=0,l=0;l<e.view.length;l++){var u=e.view[l],c=t.options.lineWrapping,h=void 0,d=0;if(!u.hidden){if(r+=u.line.height,s&&a<8){var f=u.node.offsetTop+u.node.offsetHeight;h=f-n,n=f}else{var p=u.node.getBoundingClientRect();h=p.bottom-p.top,!c&&u.text.firstChild&&(d=u.text.firstChild.getBoundingClientRect().right-p.left-1)}var v=u.line.height-h;if((v>.005||v<-.005)&&(r<i&&(o-=v),re(u.line,h),rr(u.line),u.rest))for(var g=0;g<u.rest.length;g++)rr(u.rest[g]);if(d>t.display.sizerWidth){var m=Math.ceil(d/Pi(t.display));m>t.display.maxLineLength&&(t.display.maxLineLength=m,t.display.maxLine=u.line,t.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(e.scroller.scrollTop+=o)}function rr(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function or(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-Kn(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=se(e,i),s=se(e,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=se(e,cn(ee(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=se(e,cn(ee(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function sr(t,e){if(!xt(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null,o=n.wrapper.ownerDocument;if(e.top+i.top<0?r=!0:e.bottom+i.top>(o.defaultView.innerHeight||o.documentElement.clientHeight)&&(r=!1),null!=r&&!v){var s=N("div","‚Äã",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-Kn(t.display))+"px;\n                         height: "+(e.bottom-e.top+Qn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(s),s.scrollIntoView(r),t.display.lineSpace.removeChild(s)}}}function ar(t,e,n,i){var r;null==i&&(i=0),t.options.lineWrapping||e!=n||(n="before"==e.sticky?ue(e.line,e.ch+1,"before"):e,e=e.ch?ue(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e);for(var o=0;o<5;o++){var s=!1,a=xi(t,e),l=n&&n!=e?xi(t,n):a;r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-i,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+i};var u=ur(t,r),c=t.doc.scrollTop,h=t.doc.scrollLeft;if(null!=u.scrollTop&&(gr(t,u.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(s=!0)),null!=u.scrollLeft&&(yr(t,u.scrollLeft),Math.abs(t.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return r}function lr(t,e){var n=ur(t,e);null!=n.scrollTop&&gr(t,n.scrollTop),null!=n.scrollLeft&&yr(t,n.scrollLeft)}function ur(t,e){var n=t.display,i=Di(t.display);e.top<0&&(e.top=0);var r=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=ti(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+Zn(n),l=e.top<i,u=e.bottom>a-i;if(e.top<r)s.scrollTop=l?0:e.top;else if(e.bottom>r+o){var c=Math.min(e.top,(u?a:e.bottom)-o);c!=r&&(s.scrollTop=c)}var h=t.options.fixedGutter?0:n.gutters.offsetWidth,d=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft-h,f=Jn(t)-n.gutters.offsetWidth,p=e.right-e.left>f;return p&&(e.right=e.left+f),e.left<10?s.scrollLeft=0:e.left<d?s.scrollLeft=Math.max(0,e.left+h-(p?0:10)):e.right>f+d-3&&(s.scrollLeft=e.right+(p?0:10)-f),s}function cr(t,e){null!=e&&(pr(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function hr(t){pr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function dr(t,e,n){null==e&&null==n||pr(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function fr(t,e){pr(t),t.curOp.scrollToPos=e}function pr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=Ei(t,e.from),i=Ei(t,e.to);vr(t,n,i,e.margin)}}function vr(t,e,n,i){var r=ur(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-i,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+i});dr(t,r.scrollLeft,r.scrollTop)}function gr(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||$r(t,{top:e}),mr(t,e,!0),n&&$r(t),zr(t,100))}function mr(t,e,n){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function yr(t,e,n,i){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!i||(t.doc.scrollLeft=e,Xr(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function _r(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+Zn(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Qn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var br=function(t,e,n){this.cm=n;var i=this.vert=N("div",[N("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=N("div",[N("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,t(i),t(r),_t(i,"scroll",(function(){i.clientHeight&&e(i.scrollTop,"vertical")})),_t(r,"scroll",(function(){r.clientWidth&&e(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};br.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},br.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},br.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},br.prototype.zeroWidthHack=function(){var t=_&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Y,this.disableVert=new Y},br.prototype.enableZeroWidthBar=function(t,e,n){function i(){var r=t.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);o!=t?t.style.visibility="hidden":e.set(1e3,i)}t.style.visibility="",e.set(1e3,i)},br.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var wr=function(){};function kr(t,e){e||(e=_r(t));var n=t.display.barWidth,i=t.display.barHeight;xr(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&ir(t),xr(t,_r(t)),n=t.display.barWidth,i=t.display.barHeight}function xr(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}wr.prototype.update=function(){return{bottom:0,right:0}},wr.prototype.setScrollLeft=function(){},wr.prototype.setScrollTop=function(){},wr.prototype.clear=function(){};var Er={native:br,null:wr};function Sr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&O(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Er[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),_t(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,n){"horizontal"==n?yr(t,e):gr(t,e)}),t),t.display.scrollbars.addClass&&P(t.display.wrapper,t.display.scrollbars.addClass)}var Tr=0;function Or(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Tr,markArrays:null},In(t.curOp)}function Cr(t){var e=t.curOp;e&&Mn(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;Ir(t)}))}function Ir(t){for(var e=t.ops,n=0;n<e.length;n++)Nr(e[n]);for(var i=0;i<e.length;i++)Mr(e[i]);for(var r=0;r<e.length;r++)Ar(e[r]);for(var o=0;o<e.length;o++)Dr(e[o]);for(var s=0;s<e.length;s++)Pr(e[s])}function Nr(t){var e=t.cm,n=e.display;Hr(e),t.updateMaxLine&&dn(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new Ur(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Mr(t){t.updatedDisplay=t.mustUpdate&&Vr(t.cm,t.update)}function Ar(t){var e=t.cm,n=e.display;t.updatedDisplay&&ir(e),t.barMeasure=_r(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=ri(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Qn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Jn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Dr(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&yr(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==D(j(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&kr(e,t.barMeasure),t.updatedDisplay&&Zr(e,t.barMeasure),t.selectionChanged&&Qi(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Ji(t.cm)}function Pr(t){var e=t.cm,n=e.display,i=e.doc;if(t.updatedDisplay&&Gr(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&mr(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&yr(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=ar(e,ge(i,t.scrollToPos.from),ge(i,t.scrollToPos.to),t.scrollToPos.margin);sr(e,r)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||kt(o[a],"hide");if(s)for(var l=0;l<s.length;++l)s[l].lines.length&&kt(s[l],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&kt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Rr(t,e){if(t.curOp)return e();Or(t);try{return e()}finally{Cr(t)}}function Lr(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Or(t);try{return e.apply(t,arguments)}finally{Cr(t)}}}function Fr(t){return function(){if(this.curOp)return t.apply(this,arguments);Or(this);try{return t.apply(this,arguments)}finally{Cr(this)}}}function jr(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Or(e);try{return t.apply(this,arguments)}finally{Cr(e)}}}function zr(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,U(Br,t))}function Br(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=xe(t,e.highlightFrontier),r=[];e.iter(i.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(i.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Xt(e.mode,i.state):null,l=we(t,o,i,!0);a&&(i.state=a),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!h&&d<s.length;++d)h=s[d]!=o.styles[d];h&&r.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=t.options.maxHighlightLength&&Ee(t,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return zr(t,t.options.workDelay),!0})),e.highlightFrontier=i.line,e.modeFrontier=Math.max(e.modeFrontier,i.line),r.length&&Rr(t,(function(){for(var e=0;e<r.length;e++)Hi(t,r[e],"text")}))}}var Ur=function(t,e,n){var i=t.display;this.viewport=e,this.visible=or(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Jn(t),this.force=n,this.dims=Ri(t),this.events=[]};function Hr(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Qn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Qn(t)+"px",e.scrollbarsClipped=!0)}function Wr(t){if(t.hasFocus())return null;var e=D(j(t));if(!e||!A(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var i=B(t).getSelection();i.anchorNode&&i.extend&&A(t.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}function Yr(t){if(t&&t.activeElt&&t.activeElt!=D(z(t.activeElt))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&A(document.body,t.anchorNode)&&A(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,n=e.defaultView.getSelection(),i=e.createRange();i.setEnd(t.anchorNode,t.anchorOffset),i.collapse(!1),n.removeAllRanges(),n.addRange(i),n.extend(t.focusNode,t.focusOffset)}}function Vr(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return Wi(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Gi(t))return!1;Qr(t)&&(Wi(t),e.dims=Ri(t));var r=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),s=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Pe&&(o=sn(t.doc,o),s=an(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;Vi(t,o,s),n.viewOffset=cn(ee(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=Gi(t);if(!a&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Wr(t);return l>4&&(n.lineDiv.style.display="none"),qr(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Yr(u),C(n.cursorDiv),C(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,zr(t,400)),n.updateLineNumbers=null,!0}function Gr(t,e){for(var n=e.viewport,i=!0;;i=!1){if(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Jn(t))i&&(e.visible=or(t.display,t.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Zn(t.display)-ti(t),n.top)}),e.visible=or(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!Vr(t,e))break;ir(t);var r=_r(t);$i(t),kr(t,r),Zr(t,r),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function $r(t,e){var n=new Ur(t,e);if(Vr(t,n)){ir(t),Gr(t,n);var i=_r(t);$i(t),kr(t,i),Zr(t,i),n.finish()}}function qr(t,e,n){var i=t.display,r=t.options.lineNumbers,o=i.lineDiv,s=o.firstChild;function a(e){var n=e.nextSibling;return l&&_&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var u=i.view,c=i.viewFrom,h=0;h<u.length;h++){var d=u[h];if(d.hidden);else if(d.node&&d.node.parentNode==o){while(s!=d.node)s=a(s);var f=r&&null!=e&&e<=c&&d.lineNumber;d.changes&&(V(d.changes,"gutter")>-1&&(f=!1),Rn(t,d,c,n)),f&&(C(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(le(t.options,c)))),s=d.node.nextSibling}else{var p=Wn(t,d,c,n);o.insertBefore(p,s)}c+=d.size}while(s)s=a(s)}function Kr(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",Dn(t,"gutterChanged",t)}function Zr(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Qn(t)+"px"}function Xr(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=Li(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function Qr(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=le(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(N("div",[N("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Kr(t.display),!0}return!1}function Jr(t,e){for(var n=[],i=!1,r=0;r<t.length;r++){var o=t[r],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;i=!0}n.push({className:o,style:s})}return e&&!i&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function to(t){var e=t.gutters,n=t.gutterSpecs;C(e),t.lineGutter=null;for(var i=0;i<n.length;++i){var r=n[i],o=r.className,s=r.style,a=e.appendChild(N("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",Kr(t)}function eo(t){to(t.display),Ui(t),Xr(t)}function no(t,e,i,r){var o=this;this.input=i,o.scrollbarFiller=N("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=N("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=M("div",null,"CodeMirror-code"),o.selectionDiv=N("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=N("div",null,"CodeMirror-cursors"),o.measure=N("div",null,"CodeMirror-measure"),o.lineMeasure=N("div",null,"CodeMirror-measure"),o.lineSpace=M("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var u=M("div",[o.lineSpace],"CodeMirror-lines");o.mover=N("div",[u],null,"position: relative"),o.sizer=N("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=N("div",null,null,"position: absolute; height: "+G+"px; width: 1px;"),o.gutters=N("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=N("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=N("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),c&&h>=105&&(o.wrapper.style.clipPath="inset(0px)"),o.wrapper.setAttribute("translate","no"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&y||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Jr(r.gutters,r.lineNumbers),to(o),i.init(o)}Ur.prototype.signal=function(t,e){St(t,e)&&this.events.push(arguments)},Ur.prototype.finish=function(){for(var t=0;t<this.events.length;t++)kt.apply(null,this.events[t])};var io=0,ro=null;function oo(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function so(t){var e=oo(t);return e.x*=ro,e.y*=ro,e}function ao(t,e){c&&102==h&&(null==t.display.chromeScrollHack?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout((function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""}),100));var i=oo(e),r=i.x,o=i.y,s=ro;0===e.deltaMode&&(r=e.deltaX,o=e.deltaY,s=1);var a=t.display,u=a.scroller,f=u.scrollWidth>u.clientWidth,p=u.scrollHeight>u.clientHeight;if(r&&f||o&&p){if(o&&_&&l)t:for(var v=e.target,g=a.view;v!=u;v=v.parentNode)for(var m=0;m<g.length;m++)if(g[m].node==v){t.display.currentWheelTarget=v;break t}if(r&&!n&&!d&&null!=s)return o&&p&&gr(t,Math.max(0,u.scrollTop+o*s)),yr(t,Math.max(0,u.scrollLeft+r*s)),(!o||o&&p)&&Ot(e),void(a.wheelStartX=null);if(o&&null!=s){var y=o*s,b=t.doc.scrollTop,w=b+a.wrapper.clientHeight;y<0?b=Math.max(0,b+y-50):w=Math.min(t.doc.height,w+y+50),$r(t,{top:b,bottom:w})}io<20&&0!==e.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=u.scrollLeft,a.wheelStartY=u.scrollTop,a.wheelDX=r,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var t=u.scrollLeft-a.wheelStartX,e=u.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(ro=(ro*io+n)/(io+1),++io)}}),200)):(a.wheelDX+=r,a.wheelDY+=o))}}s?ro=-.53:n?ro=15:c?ro=-.7:f&&(ro=-1/3);var lo=function(t,e){this.ranges=t,this.primIndex=e};lo.prototype.primary=function(){return this.ranges[this.primIndex]},lo.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(!he(n.anchor,i.anchor)||!he(n.head,i.head))return!1}return!0},lo.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new uo(de(this.ranges[e].anchor),de(this.ranges[e].head));return new lo(t,this.primIndex)},lo.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},lo.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(ce(e,i.from())>=0&&ce(t,i.to())<=0)return n}return-1};var uo=function(t,e){this.anchor=t,this.head=e};function co(t,e,n){var i=t&&t.options.selectionsMayTouch,r=e[n];e.sort((function(t,e){return ce(t.from(),e.from())})),n=V(e,r);for(var o=1;o<e.length;o++){var s=e[o],a=e[o-1],l=ce(a.to(),s.from());if(i&&!s.empty()?l>0:l>=0){var u=pe(a.from(),s.from()),c=fe(a.to(),s.to()),h=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,e.splice(--o,2,new uo(h?c:u,h?u:c))}}return new lo(e,n)}function ho(t,e){return new lo([new uo(t,e||t)],0)}function fo(t){return t.text?ue(t.from.line+t.text.length-1,tt(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function po(t,e){if(ce(t,e.from)<0)return t;if(ce(t,e.to)<=0)return fo(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=fo(e).ch-e.to.ch),ue(n,i)}function vo(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new uo(po(r.anchor,e),po(r.head,e)))}return co(t.cm,n,t.sel.primIndex)}function go(t,e,n){return t.line==e.line?ue(n.line,t.ch-e.ch+n.ch):ue(n.line+(t.line-e.line),t.ch)}function mo(t,e,n){for(var i=[],r=ue(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=go(a.from,r,o),u=go(fo(a),r,o);if(r=a.to,o=u,"around"==n){var c=t.sel.ranges[s],h=ce(c.head,c.anchor)<0;i[s]=new uo(h?u:l,h?l:u)}else i[s]=new uo(l,l)}return new lo(i,t.sel.primIndex)}function yo(t){t.doc.mode=qt(t.options,t.doc.modeOption),_o(t)}function _o(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,zr(t,100),t.state.modeGen++,t.curOp&&Ui(t)}function bo(t,e){return 0==e.from.ch&&0==e.to.ch&&""==tt(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function wo(t,e,n,i){function r(t){return n?n[t]:null}function o(t,n,r){pn(t,n,r,i),Dn(t,"change",t,e)}function s(t,e){for(var n=[],o=t;o<e;++o)n.push(new fn(u[o],r(o),i));return n}var a=e.from,l=e.to,u=e.text,c=ee(t,a.line),h=ee(t,l.line),d=tt(u),f=r(u.length-1),p=l.line-a.line;if(e.full)t.insert(0,s(0,u.length)),t.remove(u.length,t.size-u.length);else if(bo(t,e)){var v=s(0,u.length-1);o(h,h.text,f),p&&t.remove(a.line,p),v.length&&t.insert(a.line,v)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,a.ch)+d+c.text.slice(l.ch),f);else{var g=s(1,u.length-1);g.push(new fn(d+c.text.slice(l.ch),f,i)),o(c,c.text.slice(0,a.ch)+u[0],r(0)),t.insert(a.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,a.ch)+u[0]+h.text.slice(l.ch),r(0)),t.remove(a.line+1,p);else{o(c,c.text.slice(0,a.ch)+u[0],r(0)),o(h,d+h.text.slice(l.ch),f);var m=s(1,u.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,m)}Dn(t,"change",t,e)}function ko(t,e,n){function i(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(e(a.doc,l),i(a.doc,t,l))}}}i(t,null,!0)}function xo(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ji(t),yo(t),Eo(t),t.options.direction=e.direction,t.options.lineWrapping||dn(t),t.options.mode=e.modeOption,Ui(t)}function Eo(t){("rtl"==t.doc.direction?P:O)(t.display.lineDiv,"CodeMirror-rtl")}function So(t){Rr(t,(function(){Eo(t),Ui(t)}))}function To(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Oo(t,e){var n={from:de(e.from),to:fo(e),text:ne(t,e.from,e.to)};return Po(t,n,e.from.line,e.to.line+1),ko(t,(function(t){return Po(t,n,e.from.line,e.to.line+1)}),!0),n}function Co(t){while(t.length){var e=tt(t);if(!e.ranges)break;t.pop()}}function Io(t,e){return e?(Co(t.done),tt(t.done)):t.done.length&&!tt(t.done).ranges?tt(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),tt(t.done)):void 0}function No(t,e,n,i){var r=t.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=Io(r,r.lastOp==i)))s=tt(o.changes),0==ce(e.from,e.to)&&0==ce(e.from,s.to)?s.to=fo(e):o.changes.push(Oo(t,e));else{var l=tt(r.done);l&&l.ranges||Do(t.sel,r.done),o={changes:[Oo(t,e)],generation:r.generation},r.done.push(o);while(r.done.length>r.undoDepth)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,s||kt(t,"historyAdded")}function Mo(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Ao(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||Mo(t,o,tt(r.done),e))?r.done[r.done.length-1]=e:Do(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&Co(r.undone)}function Do(t,e){var n=tt(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Po(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),(function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o}))}function Ro(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Lo(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=[],r=0;r<e.text.length;++r)i.push(Ro(n[r]));return i}function Fo(t,e){var n=Lo(t,e),i=We(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue t;o.push(l)}else s&&(n[r]=s)}return n}function jo(t,e,n){for(var i=[],r=0;r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?lo.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var u=s[l],c=void 0;if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&V(e,Number(c[1]))>-1&&(tt(a)[h]=u[h],delete u[h])}}}return i}function zo(t,e,n,i){if(i){var r=t.anchor;if(n){var o=ce(e,r)<0;o!=ce(n,r)<0?(r=e,e=n):o!=ce(e,n)<0&&(e=n)}return new uo(r,e)}return new uo(n||e,e)}function Bo(t,e,n,i,r){null==r&&(r=t.cm&&(t.cm.display.shift||t.extend)),Go(t,new lo([zo(t.sel.primary(),e,n,r)],0),i)}function Uo(t,e,n){for(var i=[],r=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)i[o]=zo(t.sel.ranges[o],e[o],null,r);var s=co(t.cm,i,t.sel.primIndex);Go(t,s,n)}function Ho(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,Go(t,co(t.cm,r,t.sel.primIndex),i)}function Wo(t,e,n,i){Go(t,ho(e,n),i)}function Yo(t,e,n){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new uo(ge(t,e[n].anchor),ge(t,e[n].head))},origin:n&&n.origin};return kt(t,"beforeSelectionChange",t,i),t.cm&&kt(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?co(t.cm,i.ranges,i.ranges.length-1):e}function Vo(t,e,n){var i=t.history.done,r=tt(i);r&&r.ranges?(i[i.length-1]=e,$o(t,e,n)):Go(t,e,n)}function Go(t,e,n){$o(t,e,n),Ao(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function $o(t,e,n){(St(t,"beforeSelectionChange")||t.cm&&St(t.cm,"beforeSelectionChange"))&&(e=Yo(t,e,n));var i=n&&n.bias||(ce(e.primary().head,t.sel.primary().head)<0?-1:1);qo(t,Zo(t,e,i,!0)),n&&!1===n.scroll||!t.cm||"nocursor"==t.cm.getOption("readOnly")||hr(t.cm)}function qo(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,Et(t.cm)),Dn(t,"cursorActivity",t))}function Ko(t){qo(t,Zo(t,t.sel,null,!1))}function Zo(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=Qo(t,s.anchor,a&&a.anchor,n,i),u=s.head==s.anchor?l:Qo(t,s.head,a&&a.head,n,i);(r||l!=s.anchor||u!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new uo(l,u))}return r?co(t.cm,r,e.primIndex):e}function Xo(t,e,n,i,r){var o=ee(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(u?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(c?a.to>=e.ch:a.to>e.ch))){if(r&&(kt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var h=l.find(i<0?1:-1),d=void 0;if((i<0?c:u)&&(h=Jo(t,h,-i,h&&h.line==e.line?o:null)),h&&h.line==e.line&&(d=ce(h,n))&&(i<0?d<0:d>0))return Xo(t,h,e,i,r)}var f=l.find(i<0?-1:1);return(i<0?u:c)&&(f=Jo(t,f,i,f.line==e.line?o:null)),f?Xo(t,f,e,i,r):null}}return e}function Qo(t,e,n,i,r){var o=i||1,s=Xo(t,e,n,o,r)||!r&&Xo(t,e,n,o,!0)||Xo(t,e,n,-o,r)||!r&&Xo(t,e,n,-o,!0);return s||(t.cantEdit=!0,ue(t.first,0))}function Jo(t,e,n,i){return n<0&&0==e.ch?e.line>t.first?ge(t,ue(e.line-1)):null:n>0&&e.ch==(i||ee(t,e.line)).text.length?e.line<t.first+t.size-1?ue(e.line+1,0):null:new ue(e.line,e.ch+n)}function ts(t){t.setSelection(ue(t.firstLine(),0),ue(t.lastLine()),q)}function es(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(e,n,r,o){e&&(i.from=ge(t,e)),n&&(i.to=ge(t,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),kt(t,"beforeChange",t,i),t.cm&&kt(t.cm,"beforeChange",t.cm,i),i.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function ns(t,e,n){if(t.cm){if(!t.cm.curOp)return Lr(t.cm,ns)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(St(t,"beforeChange")||t.cm&&St(t.cm,"beforeChange"))||(e=es(t,e,!0),e)){var i=De&&!n&&Ve(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)is(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text,origin:e.origin});else is(t,e)}}function is(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ce(e.from,e.to)){var n=vo(t,e);No(t,e,n,t.cm?t.cm.curOp.id:NaN),ss(t,e,n,We(t,e));var i=[];ko(t,(function(t,n){n||-1!=V(i,t.history)||(hs(t.history,e),i.push(t.history)),ss(t,e,null,We(t,e))}))}}function rs(t,e,n){var i=t.cm&&t.cm.state.suppressEdits;if(!i||n){for(var r,o=t.history,s=t.sel,a="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,u=0;u<a.length;u++)if(r=a[u],n?r.ranges&&!r.equals(t.sel):!r.ranges)break;if(u!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(r=a.pop(),!r.ranges){if(i)return void a.push(r);break}if(Do(r,l),n&&!r.equals(t.sel))return void Go(t,r,{clearRedo:!1});s=r}var c=[];Do(s,l),l.push({changes:c,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var h=St(t,"beforeChange")||t.cm&&St(t.cm,"beforeChange"),d=function(n){var i=r.changes[n];if(i.origin=e,h&&!es(t,i,!1))return a.length=0,{};c.push(Oo(t,i));var o=n?vo(t,i):tt(a);ss(t,i,o,Fo(t,i)),!n&&t.cm&&t.cm.scrollIntoView({from:i.from,to:fo(i)});var s=[];ko(t,(function(t,e){e||-1!=V(s,t.history)||(hs(t.history,i),s.push(t.history)),ss(t,i,null,Fo(t,i))}))},f=r.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function os(t,e){if(0!=e&&(t.first+=e,t.sel=new lo(et(t.sel.ranges,(function(t){return new uo(ue(t.anchor.line+e,t.anchor.ch),ue(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){Ui(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)Hi(t.cm,i,"gutter")}}function ss(t,e,n,i){if(t.cm&&!t.cm.curOp)return Lr(t.cm,ss)(t,e,n,i);if(e.to.line<t.first)os(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);os(t,r),e={from:ue(t.first,0),to:ue(e.to.line+r,e.to.ch),text:[tt(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:ue(o,ee(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=ne(t,e.from,e.to),n||(n=vo(t,e)),t.cm?as(t.cm,e,i):wo(t,e,i),$o(t,n,q),t.cantEdit&&Qo(t,ue(t.firstLine(),0))&&(t.cantEdit=!1)}}function as(t,e,n){var i=t.doc,r=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=oe(nn(ee(i,o.line))),i.iter(l,s.line+1,(function(t){if(t==r.maxLine)return a=!0,!0}))),i.sel.contains(e.from,e.to)>-1&&Et(t),wo(i,e,n,Fi(t)),t.options.lineWrapping||(i.iter(l,o.line+e.text.length,(function(t){var e=hn(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0)),Ae(i,o.line),zr(t,400);var u=e.text.length-(s.line-o.line)-1;e.full?Ui(t):o.line!=s.line||1!=e.text.length||bo(t.doc,e)?Ui(t,o.line,s.line+1,u):Hi(t,o.line,"text");var c=St(t,"changes"),h=St(t,"change");if(h||c){var d={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};h&&Dn(t,"change",t,d),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}function ls(t,e,n,i,r){var o;i||(i=n),ce(i,n)<0&&(o=[i,n],n=o[0],i=o[1]),"string"==typeof e&&(e=t.splitLines(e)),ns(t,{from:n,to:i,text:e,origin:r})}function us(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function cs(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||(o=t[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)us(o.ranges[a].anchor,e,n,i),us(o.ranges[a].head,e,n,i)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=ue(u.from.line+i,u.from.ch),u.to=ue(u.to.line+i,u.to.ch);else if(e<=u.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function hs(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;cs(t.done,n,i,r),cs(t.undone,n,i,r)}function ds(t,e,n,i){var r=e,o=e;return"number"==typeof e?o=ee(t,ve(t,e)):r=oe(e),null==r?null:(i(o,r)&&t.cm&&Hi(t.cm,r,n),o)}function fs(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function ps(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}uo.prototype.from=function(){return pe(this.anchor,this.head)},uo.prototype.to=function(){return fe(this.anchor,this.head)},uo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},fs.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,vn(r),Dn(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}},ps.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof fs))){var a=[];this.collapse(a),this.children=[new fs(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new fs(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new ps(e);if(t.parent){t.size-=n.size,t.height-=n.height;var i=V(t.parent.children,t);t.parent.children.splice(i+1,0,n)}else{var r=new ps(t.children);r.parent=t,t.children=[r,n],t=r}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t);if(r.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var vs=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};function gs(t,e,n){cn(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&cr(t,n)}function ms(t,e,n,i){var r=new vs(t,n,i),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),ds(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!ln(t,e)){var i=cn(e)<t.scrollTop;re(e,e.height+$n(r)),i&&cr(o,r.height),o.curOp.forceUpdate=!0}return!0})),o&&Dn(o,"lineWidgetAdded",o,r,"number"==typeof e?e:oe(e)),r}vs.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=oe(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=$n(this);re(n,Math.max(0,n.height-o)),t&&(Rr(t,(function(){gs(t,n,-o),Hi(t,i,"widget")})),Dn(t,"lineWidgetCleared",t,this,i))}},vs.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=$n(this)-e;r&&(ln(this.doc,i)||re(i,i.height+r),n&&Rr(n,(function(){n.curOp.forceUpdate=!0,gs(n,i,r),Dn(n,"lineWidgetChanged",n,t,oe(i))})))},Tt(vs);var ys=0,_s=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ys};function bs(t,e,n,i,r){if(i&&i.shared)return ks(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return Lr(t.cm,bs)(t,e,n,i,r);var o=new _s(t,r),s=ce(e,n);if(i&&H(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=M("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(en(t,e.line,e,n,o)||e.line!=n.line&&en(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Le()}o.addToHistory&&No(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,l=e.line,u=t.cm;if(t.iter(l,n.line+1,(function(i){u&&o.collapsed&&!u.options.lineWrapping&&nn(i)==u.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&re(i,0),Be(i,new Fe(o,l==e.line?e.ch:null,l==n.line?n.ch:null),t.cm&&t.cm.curOp),++l})),o.collapsed&&t.iter(e.line,n.line+1,(function(e){ln(t,e)&&re(e,0)})),o.clearOnEnter&&_t(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Re(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ys,o.atomic=!0),u){if(a&&(u.curOp.updateMaxLine=!0),o.collapsed)Ui(u,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=e.line;c<=n.line;c++)Hi(u,c,"text");o.atomic&&Ko(u.doc),Dn(u,"markerAdded",u,o)}return o}_s.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Or(t),St(this,"clear")){var n=this.find();n&&Dn(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=je(s.markedSpans,this);t&&!this.collapsed?Hi(t,oe(s),"text"):t&&(null!=a.to&&(r=oe(s)),null!=a.from&&(i=oe(s))),s.markedSpans=ze(s.markedSpans,a),null==a.from&&this.collapsed&&!ln(this.doc,s)&&t&&re(s,Di(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=nn(this.lines[l]),c=hn(u);c>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&Ui(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ko(t.doc)),t&&Dn(t,"markerCleared",t,this,i,r),e&&Cr(t),this.parent&&this.parent.clear()}},_s.prototype.find=function(t,e){var n,i;null==t&&"bookmark"==this.type&&(t=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=je(o.markedSpans,this);if(null!=s.from&&(n=ue(e?o:oe(o),s.from),-1==t))return n;if(null!=s.to&&(i=ue(e?o:oe(o),s.to),1==t))return i}return n&&{from:n,to:i}},_s.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,i=this.doc.cm;e&&i&&Rr(i,(function(){var r=e.line,o=oe(e.line),s=oi(i,o);if(s&&(pi(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!ln(n.doc,r)&&null!=n.height){var a=n.height;n.height=null;var l=$n(n)-a;l&&re(r,r.height+l)}Dn(i,"markerChanged",i,t)}))},_s.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=V(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},_s.prototype.detachLine=function(t){if(this.lines.splice(V(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Tt(_s);var ws=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function ks(t,e,n,i,r){i=H(i),i.shared=!1;var o=[bs(t,e,n,i,r)],s=o[0],a=i.widgetNode;return ko(t,(function(t){a&&(i.widgetNode=a.cloneNode(!0)),o.push(bs(t,ge(t,e),ge(t,n),i,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=tt(o)})),new ws(o,s)}function xs(t){return t.findMarks(ue(t.first,0),t.clipPos(ue(t.lastLine())),(function(t){return t.parent}))}function Es(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(ce(o,s)){var a=bs(t,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Ss(t){for(var e=function(e){var n=t[e],i=[n.primary.doc];ko(n.primary.doc,(function(t){return i.push(t)}));for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==V(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<t.length;n++)e(n)}ws.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Dn(this,"clear")}},ws.prototype.find=function(t,e){return this.primary.find(t,e)},Tt(ws);var Ts=0,Os=function(t,e,n,i,r){if(!(this instanceof Os))return new Os(t,e,n,i,r);null==n&&(n=0),ps.call(this,[new fs([new fn("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ue(n,0);this.sel=ho(o),this.history=new To(null),this.id=++Ts,this.modeOption=e,this.lineSep=i,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),wo(this,{from:o,to:o,text:t}),Go(this,ho(o),q)};Os.prototype=rt(ps.prototype,{constructor:Os,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=ie(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:jr((function(t){var e=ue(this.first,0),n=this.first+this.size-1;ns(this,{from:e,to:ue(n,ee(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&dr(this.cm,0,0),Go(this,ho(e),q)})),replaceRange:function(t,e,n,i){e=ge(this,e),n=n?ge(this,n):e,ls(this,t,e,n,i)},getRange:function(t,e,n){var i=ne(this,ge(this,t),ge(this,e));return!1===n?i:""===n?i.join(""):i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(ae(this,t))return ee(this,t)},getLineNumber:function(t){return oe(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=ee(this,t)),nn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return ge(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||!1===t?n.to():n.from(),e},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:jr((function(t,e,n){Wo(this,ge(this,"number"==typeof t?ue(t,e||0):t),null,n)})),setSelection:jr((function(t,e,n){Wo(this,ge(this,t),ge(this,e||t),n)})),extendSelection:jr((function(t,e,n){Bo(this,ge(this,t),e&&ge(this,e),n)})),extendSelections:jr((function(t,e){Uo(this,ye(this,t),e)})),extendSelectionsBy:jr((function(t,e){var n=et(this.sel.ranges,t);Uo(this,ye(this,n),e)})),setSelections:jr((function(t,e,n){if(t.length){for(var i=[],r=0;r<t.length;r++)i[r]=new uo(ge(this,t[r].anchor),ge(this,t[r].head||t[r].anchor));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Go(this,co(this.cm,i,e),n)}})),addSelection:jr((function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new uo(ge(this,t),ge(this,e||t))),Go(this,co(this.cm,i,i.length-1),n)})),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=ne(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=ne(this,n[i].from(),n[i].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:jr((function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:n}}for(var a=e&&"end"!=e&&mo(this,i,e),l=i.length-1;l>=0;l--)ns(this,i[l]);a?Vo(this,a):this.cm&&hr(this.cm)})),undo:jr((function(){rs(this,"undo")})),redo:jr((function(){rs(this,"redo")})),undoSelection:jr((function(){rs(this,"undo",!0)})),redoSelection:jr((function(){rs(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new To(this.history),ko(this,(function(e){return e.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:jo(this.history.done),undone:jo(this.history.undone)}},setHistory:function(t){var e=this.history=new To(this.history);e.done=jo(t.done.slice(0),null,!0),e.undone=jo(t.undone.slice(0),null,!0)},setGutterMarker:jr((function(t,e,n){return ds(this,t,"gutter",(function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&lt(i)&&(t.gutterMarkers=null),!0}))})),clearGutter:jr((function(t){var e=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&ds(e,n,"gutter",(function(){return n.gutterMarkers[t]=null,lt(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!ae(this,t))return null;if(e=t,t=ee(this,t),!t)return null}else if(e=oe(t),null==e)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:jr((function(t,e,n){return ds(this,t,"gutter"==e?"gutter":"class",(function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[i]){if(S(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0}))})),removeLineClass:jr((function(t,e,n){return ds(this,t,"gutter"==e?"gutter":"class",(function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(S(n));if(!o)return!1;var s=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0}))})),addLineWidget:jr((function(t,e,n){return ms(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return bs(this,ge(this,t),ge(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=ge(this,t),bs(this,t,t,n,"bookmark")},findMarksAt:function(t){t=ge(this,t);var e=[],n=ee(this,t.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=ge(this,t),e=ge(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r})),i},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)})),t},posFromIndex:function(t){var e,n=this.first,i=this.lineSeparator().length;return this.iter((function(r){var o=r.text.length+i;if(o>t)return e=t,!0;t-=o,++n})),ge(this,ue(n,e))},indexFromPos:function(t){t=ge(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new Os(ie(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new Os(ie(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Es(i,xs(this)),i},unlinkDoc:function(t){if(t instanceof Ua&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var n=this.linked[e];if(n.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Ss(xs(this));break}}if(t.history==this.history){var i=[t.id];ko(t,(function(t){return i.push(t.id)}),!0),t.history=new To(null),t.history.done=jo(this.history.done,i),t.history.undone=jo(this.history.undone,i)}},iterLinkedDocs:function(t){ko(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):jt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:jr((function(t){"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&So(this.cm))}))}),Os.prototype.eachLine=Os.prototype.iter;var Cs=0;function Is(t){var e=this;if(As(e),!xt(e,t)&&!qn(e.display,t)){Ot(t),s&&(Cs=+new Date);var n=zi(e,t,!0),i=t.dataTransfer.files;if(n&&!e.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),a=0,l=function(){++a==r&&Lr(e,(function(){n=ge(e.doc,n);var t={from:n,to:n,text:e.doc.splitLines(o.filter((function(t){return null!=t})).join(e.doc.lineSeparator())),origin:"paste"};ns(e.doc,t),Vo(e.doc,ho(ge(e.doc,n),ge(e.doc,fo(t))))}))()},u=function(t,n){if(e.options.allowDropFileTypes&&-1==V(e.options.allowDropFileTypes,t.type))l();else{var i=new FileReader;i.onerror=function(){return l()},i.onload=function(){var t=i.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(o[n]=t),l()},i.readAsText(t)}},c=0;c<i.length;c++)u(i[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var h=t.dataTransfer.getData("Text");if(h){var d;if(e.state.draggingText&&!e.state.draggingText.copy&&(d=e.listSelections()),$o(e.doc,ho(n,n)),d)for(var f=0;f<d.length;++f)ls(e.doc,"",d[f].anchor,d[f].head,"drag");e.replaceSelection(h,"around","paste"),e.display.input.focus()}}catch(p){}}}}function Ns(t,e){if(s&&(!t.state.draggingText||+new Date-Cs<100))Nt(e);else if(!xt(t,e)&&!qn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!f)){var n=N("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Ms(t,e){var n=zi(t,e);if(n){var i=document.createDocumentFragment();Ki(t,n,i),t.display.dragCursor||(t.display.dragCursor=N("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),I(t.display.dragCursor,i)}}function As(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Ds(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<e.length;i++){var r=e[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation((function(){for(var e=0;e<n.length;e++)t(n[e])}))}}var Ps=!1;function Rs(){Ps||(Ls(),Ps=!0)}function Ls(){var t;_t(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Ds(Fs)}),100))})),_t(window,"blur",(function(){return Ds(nr)}))}function Fs(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var js={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zs=0;zs<10;zs++)js[zs+48]=js[zs+96]=String(zs);for(var Bs=65;Bs<=90;Bs++)js[Bs]=String.fromCharCode(Bs);for(var Us=1;Us<=12;Us++)js[Us+111]=js[Us+63235]="F"+Us;var Hs={};function Ws(t){var e,n,i,r,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Ys(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var r=et(n.split(" "),Ws),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var u in e)t[u]=e[u];return t}function Vs(t,e,n,i){e=Ks(e);var r=e.call?e.call(t,i):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Vs(t,e.fallthrough,n,i);for(var o=0;o<e.fallthrough.length;o++){var s=Vs(t,e.fallthrough[o],n,i);if(s)return s}}}function Gs(t){var e="string"==typeof t?t:js[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function $s(t,e,n){var i=t;return e.altKey&&"Alt"!=i&&(t="Alt-"+t),(x?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(t="Ctrl-"+t),(x?e.ctrlKey:e.metaKey)&&"Mod"!=i&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=i&&(t="Shift-"+t),t}function qs(t,e){if(d&&34==t.keyCode&&t["char"])return!1;var n=js[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),$s(n,t,e))}function Ks(t){return"string"==typeof t?Hs[t]:t}function Zs(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){var o=e(n[r]);while(i.length&&ce(o.from,tt(i).to)<=0){var s=i.pop();if(ce(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Rr(t,(function(){for(var e=i.length-1;e>=0;e--)ls(t.doc,"",i[e].from,i[e].to,"+delete");hr(t)}))}function Xs(t,e,n){var i=ht(t.text,e+n,n);return i<0||i>t.text.length?null:i}function Qs(t,e,n){var i=Xs(t,e.ch,n);return null==i?null:new ue(e.line,i,n<0?"after":"before")}function Js(t,e,n,i,r){if(t){"rtl"==e.doc.direction&&(r=-r);var o=mt(n,e.doc.direction);if(o){var s,a=r<0?tt(o):o[0],l=r<0==(1==a.level),u=l?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var c=si(e,n);s=r<0?n.text.length-1:0;var h=ai(e,c,s).top;s=dt((function(t){return ai(e,c,t).top==h}),r<0==(1==a.level)?a.from:a.to-1,s),"before"==u&&(s=Xs(n,s,1))}else s=r<0?a.to:a.from;return new ue(i,s,u)}}return new ue(i,r<0?n.text.length:0,r<0?"before":"after")}function ta(t,e,n,i){var r=mt(e,t.doc.direction);if(!r)return Qs(e,n,i);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=vt(r,n.ch,n.sticky),s=r[o];if("ltr"==t.doc.direction&&s.level%2==0&&(i>0?s.to>n.ch:s.from<n.ch))return Qs(e,n,i);var a,l=function(t,n){return Xs(e,t instanceof ue?t.ch:t,n)},u=function(n){return t.options.lineWrapping?(a=a||si(t,e),Ci(t,e,a,n)):{begin:0,end:e.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==s.level){var h=1==s.level==i<0,d=l(n,h?1:-1);if(null!=d&&(h?d<=s.to&&d<=c.end:d>=s.from&&d>=c.begin)){var f=h?"before":"after";return new ue(n.line,d,f)}}var p=function(t,e,i){for(var o=function(t,e){return e?new ue(n.line,l(t,1),"before"):new ue(n.line,t,"after")};t>=0&&t<r.length;t+=e){var s=r[t],a=e>0==(1!=s.level),u=a?i.begin:l(i.end,-1);if(s.from<=u&&u<s.to)return o(u,a);if(u=a?s.from:l(s.to,-1),i.begin<=u&&u<i.end)return o(u,a)}},v=p(o+i,i,c);if(v)return v;var g=i>0?c.end:l(c.begin,-1);return null==g||i>0&&g==e.text.length||(v=p(i>0?0:r.length-1,i,u(g)),!v)?null:v}Hs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Hs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Hs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Hs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Hs["default"]=_?Hs.macDefault:Hs.pcDefault;var ea={selectAll:ts,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),q)},killLine:function(t){return Zs(t,(function(e){if(e.empty()){var n=ee(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:ue(e.head.line+1,0)}:{from:e.head,to:ue(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return Zs(t,(function(e){return{from:ue(e.from().line,0),to:ge(t.doc,ue(e.to().line+1,0))}}))},delLineLeft:function(t){return Zs(t,(function(t){return{from:ue(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return Zs(t,(function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return{from:i,to:e.from()}}))},delWrappedLineRight:function(t){return Zs(t,(function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(ue(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(ue(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return na(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return ra(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return ia(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),Z)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),Z)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\S/)?ra(t,e.head):i}),Z)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=W(t.getLine(o.line),o.ch,i);e.push(J(i-s%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Rr(t,(function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++)if(e[i].empty()){var r=e[i].head,o=ee(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new ue(r.line,r.ch-1)),r.ch>0)r=new ue(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),ue(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=ee(t.doc,r.line-1).text;s&&(r=new ue(r.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),ue(r.line-1,s.length-1),r,"+transpose"))}n.push(new uo(r,r))}t.setSelections(n)}))},newlineAndIndent:function(t){return Rr(t,(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var i=0;i<e.length;i++)t.indentLine(e[i].from().line,null,!0);hr(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function na(t,e){var n=ee(t.doc,e),i=nn(n);return i!=n&&(e=oe(i)),Js(!0,t,i,e,1)}function ia(t,e){var n=ee(t.doc,e),i=rn(n);return i!=n&&(e=oe(i)),Js(!0,t,n,e,-1)}function ra(t,e){var n=na(t,e.line),i=ee(t.doc,n.line),r=mt(i,t.doc.direction);if(!r||0==r[0].level){var o=Math.max(n.ch,i.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return ue(n.line,s?0:o,n.sticky)}return n}function oa(t,e,n){if("string"==typeof e&&(e=ea[e],!e))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=$}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}function sa(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=Vs(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&Vs(e,t.options.extraKeys,n,t)||Vs(e,t.options.keyMap,n,t)}var aa=new Y;function la(t,e,n,i){var r=t.state.keySeq;if(r){if(Gs(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:aa.set(50,(function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())})),ua(t,r+" "+e,n,i))return!0}return ua(t,e,n,i)}function ua(t,e,n,i){var r=sa(t,e,i);return"multi"==r&&(t.state.keySeq=e),"handled"==r&&Dn(t,"keyHandled",t,e,n),"handled"!=r&&"multi"!=r||(Ot(n),Qi(t)),!!r}function ca(t,e){var n=qs(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?la(t,"Shift-"+n,e,(function(e){return oa(t,e,!0)}))||la(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return oa(t,e)})):la(t,n,e,(function(e){return oa(t,e)})))}function ha(t,e,n){return la(t,"'"+n+"'",e,(function(e){return oa(t,e,!0)}))}var da=null;function fa(t){var e=this;if((!t.target||t.target==e.display.input.getField())&&(e.curOp.focus=D(j(e)),!xt(e,t))){s&&a<11&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var r=ca(e,t);d&&(da=r?i:null,r||88!=i||Bt||!(_?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),n&&!_&&!r&&46==i&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||pa(e)}}function pa(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(O(e,"CodeMirror-crosshair"),wt(document,"keyup",n),wt(document,"mouseover",n))}P(e,"CodeMirror-crosshair"),_t(document,"keyup",n),_t(document,"mouseover",n)}function va(t){16==t.keyCode&&(this.doc.sel.shift=!1),xt(this,t)}function ga(t){var e=this;if((!t.target||t.target==e.display.input.getField())&&!(qn(e.display,t)||xt(e,t)||t.ctrlKey&&!t.altKey||_&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(d&&n==da)return da=null,void Ot(t);if(!d||t.which&&!(t.which<10)||!ca(e,t)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(ha(e,t,r)||e.display.input.onKeyPress(t))}}}var ma,ya,_a=400,ba=function(t,e,n){this.time=t,this.pos=e,this.button=n};function wa(t,e){var n=+new Date;return ya&&ya.compare(n,t,e)?(ma=ya=null,"triple"):ma&&ma.compare(n,t,e)?(ya=new ba(n,t,e),ma=null,"double"):(ma=new ba(n,t,e),ya=null,"single")}function ka(t){var e=this,n=e.display;if(!(xt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,qn(n,t))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Ma(e,t)){var i=zi(e,t),r=At(t),o=i?wa(i,r):"single";B(e).focus(),1==r&&e.state.selectingText&&e.state.selectingText(t),i&&xa(e,r,i,o,t)||(1==r?i?Sa(e,i,o,t):Mt(t)==n.scroller&&Ot(t):2==r?(i&&Bo(e.doc,i),setTimeout((function(){return n.input.focus()}),20)):3==r&&(E?e.display.input.onContextMenu(t):tr(e)))}}function xa(t,e,n,i,r){var o="Click";return"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o),o=(1==e?"Left":2==e?"Middle":"Right")+o,la(t,$s(o,r),r,(function(e){if("string"==typeof e&&(e=ea[e]),!e)return!1;var i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i=e(t,n)!=$}finally{t.state.suppressEdits=!1}return i}))}function Ea(t,e,n){var i=t.getOption("configureMouse"),r=i?i(t,e,n):{};if(null==r.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==r.extend||t.doc.extend)&&(r.extend=t.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=_?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(_?n.altKey:n.ctrlKey)),r}function Sa(t,e,n,i){s?setTimeout(U(Ji,t),0):t.curOp.focus=D(j(t));var r,o=Ea(t,n,i),a=t.doc.sel;t.options.dragDrop&&Rt&&!t.isReadOnly()&&"single"==n&&(r=a.contains(e))>-1&&(ce((r=a.ranges[r]).from(),e)<0||e.xRel>0)&&(ce(r.to(),e)>0||e.xRel<0)?Ta(t,i,e,o):Ca(t,i,e,o)}function Ta(t,e,n,i){var r=t.display,o=!1,u=Lr(t,(function(e){l&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:tr(t)),wt(r.wrapper.ownerDocument,"mouseup",u),wt(r.wrapper.ownerDocument,"mousemove",c),wt(r.scroller,"dragstart",h),wt(r.scroller,"drop",u),o||(Ot(e),i.addNew||Bo(t.doc,n,null,null,i.extend),l&&!f||s&&9==a?setTimeout((function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()}),20):r.input.focus())})),c=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},h=function(){return o=!0};l&&(r.scroller.draggable=!0),t.state.draggingText=u,u.copy=!i.moveOnDrag,_t(r.wrapper.ownerDocument,"mouseup",u),_t(r.wrapper.ownerDocument,"mousemove",c),_t(r.scroller,"dragstart",h),_t(r.scroller,"drop",u),t.state.delayingBlurEvent=!0,setTimeout((function(){return r.input.focus()}),20),r.scroller.dragDrop&&r.scroller.dragDrop()}function Oa(t,e,n){if("char"==n)return new uo(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new uo(ue(e.line,0),ge(t.doc,ue(e.line+1,0)));var i=n(t,e);return new uo(i.from,i.to)}function Ca(t,e,n,i){s&&tr(t);var r=t.display,o=t.doc;Ot(e);var a,l,u=o.sel,c=u.ranges;if(i.addNew&&!i.extend?(l=o.sel.contains(n),a=l>-1?c[l]:new uo(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==i.unit)i.addNew||(a=new uo(n,n)),n=zi(t,e,!0,!0),l=-1;else{var h=Oa(t,n,i.unit);a=i.extend?zo(a,h.anchor,h.head,i.extend):h}i.addNew?-1==l?(l=c.length,Go(o,co(t,c.concat([a]),l),{scroll:!1,origin:"*mouse"})):c.length>1&&c[l].empty()&&"char"==i.unit&&!i.extend?(Go(o,co(t,c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Ho(o,l,a,K):(l=0,Go(o,new lo([a],0),K),u=o.sel);var d=n;function f(e){if(0!=ce(d,e))if(d=e,"rectangle"==i.unit){for(var r=[],s=t.options.tabSize,c=W(ee(o,n.line).text,n.ch,s),h=W(ee(o,e.line).text,e.ch,s),f=Math.min(c,h),p=Math.max(c,h),v=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));v<=g;v++){var m=ee(o,v).text,y=X(m,f,s);f==p?r.push(new uo(ue(v,y),ue(v,y))):m.length>y&&r.push(new uo(ue(v,y),ue(v,X(m,p,s))))}r.length||r.push(new uo(n,n)),Go(o,co(t,u.ranges.slice(0,l).concat(r),l),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var _,b=a,w=Oa(t,e,i.unit),k=b.anchor;ce(w.anchor,k)>0?(_=w.head,k=pe(b.from(),w.anchor)):(_=w.anchor,k=fe(b.to(),w.head));var x=u.ranges.slice(0);x[l]=Ia(t,new uo(ge(o,k),_)),Go(o,co(t,x,l),K)}}var p=r.wrapper.getBoundingClientRect(),v=0;function g(e){var n=++v,s=zi(t,e,!0,"rectangle"==i.unit);if(s)if(0!=ce(s,d)){t.curOp.focus=D(j(t)),f(s);var a=or(r,o);(s.line>=a.to||s.line<a.from)&&setTimeout(Lr(t,(function(){v==n&&g(e)})),150)}else{var l=e.clientY<p.top?-20:e.clientY>p.bottom?20:0;l&&setTimeout(Lr(t,(function(){v==n&&(r.scroller.scrollTop+=l,g(e))})),50)}}function m(e){t.state.selectingText=!1,v=1/0,e&&(Ot(e),r.input.focus()),wt(r.wrapper.ownerDocument,"mousemove",y),wt(r.wrapper.ownerDocument,"mouseup",_),o.history.lastSelOrigin=null}var y=Lr(t,(function(t){0!==t.buttons&&At(t)?g(t):m(t)})),_=Lr(t,m);t.state.selectingText=_,_t(r.wrapper.ownerDocument,"mousemove",y),_t(r.wrapper.ownerDocument,"mouseup",_)}function Ia(t,e){var n=e.anchor,i=e.head,r=ee(t.doc,n.line);if(0==ce(n,i)&&n.sticky==i.sticky)return e;var o=mt(r);if(!o)return e;var s=vt(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return e;var l,u=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==u||u==o.length)return e;if(i.line!=n.line)l=(i.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var c=vt(o,i.ch,i.sticky),h=c-s||(i.ch-n.ch)*(1==a.level?-1:1);l=c==u-1||c==u?h<0:h>0}var d=o[u+(l?-1:0)],f=l==(1==d.level),p=f?d.from:d.to,v=f?"after":"before";return n.ch==p&&n.sticky==v?e:new uo(new ue(n.line,p,v),i)}function Na(t,e,n,i){var r,o;if(e.touches)r=e.touches[0].clientX,o=e.touches[0].clientY;else try{r=e.clientX,o=e.clientY}catch(d){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&Ot(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!St(t,n))return It(e);o-=a.top-s.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var u=s.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=r){var c=se(t.doc,o),h=t.display.gutterSpecs[l];return kt(t,n,t,c,h.className,e),It(e)}}}function Ma(t,e){return Na(t,e,"gutterClick",!0)}function Aa(t,e){qn(t.display,e)||Da(t,e)||xt(t,e,"contextmenu")||E||t.display.input.onContextMenu(e)}function Da(t,e){return!!St(t,"gutterContextMenu")&&Na(t,e,"gutterContextMenu",!1)}function Pa(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),gi(t)}ba.prototype.compare=function(t,e,n){return this.time+_a>t&&0==ce(e,this.pos)&&n==this.button};var Ra={toString:function(){return"CodeMirror.Init"}},La={},Fa={};function ja(t){var e=t.optionHandlers;function n(n,i,r,o){t.defaults[n]=i,r&&(e[n]=o?function(t,e,n){n!=Ra&&r(t,e,n)}:r)}t.defineOption=n,t.Init=Ra,n("value","",(function(t,e){return t.setValue(e)}),!0),n("mode",null,(function(t,e){t.doc.modeOption=e,yo(t)}),!0),n("indentUnit",2,yo,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(t){_o(t),gi(t),Ui(t)}),!0),n("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],i=t.doc.first;t.doc.iter((function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(-1==o)break;r=o+e.length,n.push(ue(i,o))}i++}));for(var r=n.length-1;r>=0;r--)ls(t.doc,e,n[r],ue(n[r].line,n[r].ch+e.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,(function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=Ra&&t.refresh()})),n("specialCharPlaceholder",bn,(function(t){return t.refresh()}),!0),n("electricChars",!0),n("inputStyle",y?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),n("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),n("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(t){Pa(t),eo(t)}),!0),n("keyMap","default",(function(t,e,n){var i=Ks(e),r=n!=Ra&&Ks(n);r&&r.detach&&r.detach(t,i),i.attach&&i.attach(t,r||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ba,!0),n("gutters",[],(function(t,e){t.display.gutterSpecs=Jr(e,t.options.lineNumbers),eo(t)}),!0),n("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?Li(t.display)+"px":"0",t.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(t){return kr(t)}),!0),n("scrollbarStyle","native",(function(t){Sr(t),kr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=Jr(t.options.gutters,e),eo(t)}),!0),n("firstLineNumber",1,eo,!0),n("lineNumberFormatter",(function(t){return t}),eo,!0),n("showCursorWhenSelecting",!1,$i,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(t,e){"nocursor"==e&&(nr(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),n("screenReaderLabel",null,(function(t,e){e=""===e?null:e,t.display.input.screenReaderLabelChanged(e)})),n("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),n("dragDrop",!0,za),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,$i,!0),n("singleCursorHeightPerLine",!0,$i,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,_o,!0),n("addModeClass",!1,_o,!0),n("pollInterval",100),n("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),n("historyEventDelay",1250),n("viewportMargin",10,(function(t){return t.refresh()}),!0),n("maxHighlightLength",1e4,_o,!0),n("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),n("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),n("autofocus",null),n("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),n("phrases",null)}function za(t,e,n){var i=n&&n!=Ra;if(!e!=!i){var r=t.display.dragFunctions,o=e?_t:wt;o(t.display.scroller,"dragstart",r.start),o(t.display.scroller,"dragenter",r.enter),o(t.display.scroller,"dragover",r.over),o(t.display.scroller,"dragleave",r.leave),o(t.display.scroller,"drop",r.drop)}}function Ba(t){t.options.lineWrapping?(P(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(O(t.display.wrapper,"CodeMirror-wrap"),dn(t)),ji(t),Ui(t),gi(t),setTimeout((function(){return kr(t)}),100)}function Ua(t,e){var n=this;if(!(this instanceof Ua))return new Ua(t,e);this.options=e=e?H(e):{},H(La,e,!1);var i=e.value;"string"==typeof i?i=new Os(i,e.mode,null,e.lineSeparator,e.direction):e.mode&&(i.modeOption=e.mode),this.doc=i;var r=new Ua.inputStyles[e.inputStyle](this),o=this.display=new no(t,i,r,e);for(var u in o.wrapper.CodeMirror=this,Pa(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Sr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Y,keySeq:null,specialChars:null},e.autofocus&&!y&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Ha(this),Rs(),Or(this),this.curOp.forceUpdate=!0,xo(this,i),e.autofocus&&!y||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&er(n)}),20):nr(this),Fa)Fa.hasOwnProperty(u)&&Fa[u](this,e[u],Ra);Qr(this),e.finishInit&&e.finishInit(this);for(var c=0;c<Wa.length;++c)Wa[c](this);Cr(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Ha(t){var e=t.display;_t(e.scroller,"mousedown",Lr(t,ka)),_t(e.scroller,"dblclick",s&&a<11?Lr(t,(function(e){if(!xt(t,e)){var n=zi(t,e);if(n&&!Ma(t,e)&&!qn(t.display,e)){Ot(e);var i=t.findWordAt(n);Bo(t.doc,i.anchor,i.head)}}})):function(e){return xt(t,e)||Ot(e)}),_t(e.scroller,"contextmenu",(function(e){return Aa(t,e)})),_t(e.input.getField(),"contextmenu",(function(n){e.scroller.contains(n.target)||Aa(t,n)}));var n,i={end:0};function r(){e.activeTouch&&(n=setTimeout((function(){return e.activeTouch=null}),1e3),i=e.activeTouch,i.end=+new Date)}function o(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function l(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return n*n+i*i>400}_t(e.scroller,"touchstart",(function(r){if(!xt(t,r)&&!o(r)&&!Ma(t,r)){e.input.ensurePolled(),clearTimeout(n);var s=+new Date;e.activeTouch={start:s,moved:!1,prev:s-i.end<=300?i:null},1==r.touches.length&&(e.activeTouch.left=r.touches[0].pageX,e.activeTouch.top=r.touches[0].pageY)}})),_t(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),_t(e.scroller,"touchend",(function(n){var i=e.activeTouch;if(i&&!qn(e,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var o,s=t.coordsChar(e.activeTouch,"page");o=!i.prev||l(i,i.prev)?new uo(s,s):!i.prev.prev||l(i,i.prev.prev)?t.findWordAt(s):new uo(ue(s.line,0),ge(t.doc,ue(s.line+1,0))),t.setSelection(o.anchor,o.head),t.focus(),Ot(n)}r()})),_t(e.scroller,"touchcancel",r),_t(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(gr(t,e.scroller.scrollTop),yr(t,e.scroller.scrollLeft,!0),kt(t,"scroll",t))})),_t(e.scroller,"mousewheel",(function(e){return ao(t,e)})),_t(e.scroller,"DOMMouseScroll",(function(e){return ao(t,e)})),_t(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){xt(t,e)||Nt(e)},over:function(e){xt(t,e)||(Ms(t,e),Nt(e))},start:function(e){return Ns(t,e)},drop:Lr(t,Is),leave:function(e){xt(t,e)||As(t)}};var u=e.input.getField();_t(u,"keyup",(function(e){return va.call(t,e)})),_t(u,"keydown",Lr(t,fa)),_t(u,"keypress",Lr(t,ga)),_t(u,"focus",(function(e){return er(t,e)})),_t(u,"blur",(function(e){return nr(t,e)}))}Ua.defaults=La,Ua.optionHandlers=Fa;var Wa=[];function Ya(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=xe(t,e).state:n="prev");var s=t.options.tabSize,a=ee(o,e),l=W(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(u=o.mode.indent(r,a.text.slice(c.length),a.text),u==$||u>150)){if(!i)return;n="prev"}}else u=0,n="not";"prev"==n?u=e>o.first?W(ee(o,e-1).text,null,s):0:"add"==n?u=l+t.options.indentUnit:"subtract"==n?u=l-t.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var h="",d=0;if(t.options.indentWithTabs)for(var f=Math.floor(u/s);f;--f)d+=s,h+="\t";if(d<u&&(h+=J(u-d)),h!=c)return ls(o,h,ue(e,0),ue(e,c.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var v=o.sel.ranges[p];if(v.head.line==e&&v.head.ch<c.length){var g=ue(e,c.length);Ho(o,p,new uo(g,g));break}}}Ua.defineInitHook=function(t){return Wa.push(t)};var Va=null;function Ga(t){Va=t}function $a(t,e,n,i,r){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var s=+new Date-200,a="paste"==r||t.state.pasteIncoming>s,l=jt(e),u=null;if(a&&i.ranges.length>1)if(Va&&Va.text.join("\n")==e){if(i.ranges.length%Va.text.length==0){u=[];for(var c=0;c<Va.text.length;c++)u.push(o.splitLines(Va.text[c]))}}else l.length==i.ranges.length&&t.options.pasteLinesPerSelection&&(u=et(l,(function(t){return[t]})));for(var h=t.curOp.updateInput,d=i.ranges.length-1;d>=0;d--){var f=i.ranges[d],p=f.from(),v=f.to();f.empty()&&(n&&n>0?p=ue(p.line,p.ch-n):t.state.overwrite&&!a?v=ue(v.line,Math.min(ee(o,v.line).text.length,v.ch+tt(l).length)):a&&Va&&Va.lineWise&&Va.text.join("\n")==l.join("\n")&&(p=v=ue(p.line,0)));var g={from:p,to:v,text:u?u[d%u.length]:l,origin:r||(a?"paste":t.state.cutIncoming>s?"cut":"+input")};ns(t.doc,g),Dn(t,"inputRead",t,g)}e&&!a&&Ka(t,e),hr(t),t.curOp.updateInput<2&&(t.curOp.updateInput=h),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function qa(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||!e.hasFocus()||Rr(e,(function(){return $a(e,n,0,null,"paste")})),!0}function Ka(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Ya(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ee(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Ya(t,r.head.line,"smart"));s&&Dn(t,"electricInput",t,r.head.line)}}}function Za(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,o={anchor:ue(r,0),head:ue(r+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function Xa(t,e,n,i){t.setAttribute("autocorrect",n?"on":"off"),t.setAttribute("autocapitalize",i?"on":"off"),t.setAttribute("spellcheck",!!e)}function Qa(){var t=N("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=N("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),e}function Ja(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){B(this).focus(),this.display.input.focus()},setOption:function(t,n){var i=this.options,r=i[t];i[t]==n&&"mode"!=t||(i[t]=n,e.hasOwnProperty(t)&&Lr(this,e[t])(this,n,r),kt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Ks(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Fr((function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");nt(this.state.overlays,{mode:i,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(t){return t.priority})),this.state.modeGen++,Ui(this)})),removeOverlay:Fr((function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void Ui(this)}})),indentLine:Fr((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),ae(this.doc,t)&&Ya(this,t,e,n)})),indentSelection:Fr((function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(Ya(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&hr(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Ya(this,l,t);var u=this.doc.sel.ranges;0==o.ch&&e.length==u.length&&u[i].from().ch>0&&Ho(this.doc,i,new uo(o,u[i].to()),q)}}})),getTokenAt:function(t,e){return Ce(this,t,e)},getLineTokens:function(t,e){return Ce(this,ue(t),e,!0)},getTokenTypeAt:function(t){t=ge(this.doc,t);var e,n=ke(this,ee(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}i=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!n.hasOwnProperty(e))return i;var r=n[e],o=this.getModeAt(t);if("string"==typeof o[e])r[o[e]]&&i.push(r[o[e]]);else if(o[e])for(var s=0;s<o[e].length;s++){var a=r[o[e][s]];a&&i.push(a)}else o.helperType&&r[o.helperType]?i.push(r[o.helperType]):r[o.name]&&i.push(r[o.name]);for(var l=0;l<r._global.length;l++){var u=r._global[l];u.pred(o,this)&&-1==V(i,u.val)&&i.push(u.val)}return i},getStateAfter:function(t,e){var n=this.doc;return t=ve(n,null==t?n.first+n.size-1:t),xe(this,t+1,e).state},cursorCoords:function(t,e){var n,i=this.doc.sel.primary();return n=null==t?i.head:"object"==typeof t?ge(this.doc,t):t?i.from():i.to(),xi(this,n,e||"page")},charCoords:function(t,e){return ki(this,ge(this.doc,t),e||"page")},coordsChar:function(t,e){return t=wi(this,t,e||"page"),Ti(this,t.left,t.top)},lineAtHeight:function(t,e){return t=wi(this,{top:t,left:0},e||"page").top,se(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var i,r=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,r=!0),i=ee(this.doc,t)}else i=t;return bi(this,i,{top:0,left:0},e||"page",n||r).top+(r?this.doc.height-cn(i):0)},defaultTextHeight:function(){return Di(this.display)},defaultCharWidth:function(){return Pi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o=this.display;t=xi(this,ge(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==i)s=t.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>u&&(a=u-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&lr(this,{left:a,top:s,right:a+e.offsetWidth,bottom:s+e.offsetHeight})},triggerOnKeyDown:Fr(fa),triggerOnKeyPress:Fr(ga),triggerOnKeyUp:va,triggerOnMouseDown:Fr(ka),execCommand:function(t){if(ea.hasOwnProperty(t))return ea[t].call(null,this)},triggerElectric:Fr((function(t){Ka(this,t)})),findPosH:function(t,e,n,i){var r=1;e<0&&(r=-1,e=-e);for(var o=ge(this.doc,t),s=0;s<e;++s)if(o=tl(this.doc,o,r,n,i),o.hitSide)break;return o},moveH:Fr((function(t,e){var n=this;this.extendSelectionsBy((function(i){return n.display.shift||n.doc.extend||i.empty()?tl(n.doc,i.head,t,e,n.options.rtlMoveVisually):t<0?i.from():i.to()}),Z)})),deleteH:Fr((function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Zs(this,(function(n){var r=tl(i,n.head,t,e,!1);return t<0?{from:r,to:n.head}:{from:n.head,to:r}}))})),findPosV:function(t,e,n,i){var r=1,o=i;e<0&&(r=-1,e=-e);for(var s=ge(this.doc,t),a=0;a<e;++a){var l=xi(this,s,"div");if(null==o?o=l.left:l.left=o,s=el(this,l,r,n),s.hitSide)break}return s},moveV:Fr((function(t,e){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy((function(s){if(o)return t<0?s.from():s.to();var a=xi(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=el(n,a,t,e);return"page"==e&&s==i.sel.primary()&&cr(n,ki(n,l,"div").top-a.top),l}),Z),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]})),findWordAt:function(t){var e=this.doc,n=ee(e,t.line).text,i=t.ch,r=t.ch;if(n){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=n.length||!i?++r:--i;var s=n.charAt(i),a=at(s,o)?function(t){return at(t,o)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!at(t)};while(i>0&&a(n.charAt(i-1)))--i;while(r<n.length&&a(n.charAt(r)))++r}return new uo(ue(t.line,i),ue(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,"CodeMirror-overwrite"):O(this.display.cursorDiv,"CodeMirror-overwrite"),kt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==D(j(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Fr((function(t,e){dr(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Qn(this)-this.display.barHeight,width:t.scrollWidth-Qn(this)-this.display.barWidth,clientHeight:ti(this),clientWidth:Jn(this)}},scrollIntoView:Fr((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:ue(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?fr(this,t):vr(this,t.from,t.to,t.margin)})),setSize:Fr((function(t,e){var n=this,i=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=i(t)),null!=e&&(this.display.wrapper.style.height=i(e)),this.options.lineWrapping&&vi(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Hi(n,r,"widget");break}++r})),this.curOp.forceUpdate=!0,kt(this,"refresh",this)})),operation:function(t){return Rr(this,t)},startOperation:function(){return Or(this)},endOperation:function(){return Cr(this)},refresh:Fr((function(){var t=this.display.cachedTextHeight;Ui(this),this.curOp.forceUpdate=!0,gi(this),dr(this,this.doc.scrollLeft,this.doc.scrollTop),Kr(this.display),(null==t||Math.abs(t-Di(this.display))>.5||this.options.lineWrapping)&&ji(this),kt(this,"refresh",this)})),swapDoc:Fr((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),xo(this,t),gi(this),this.display.input.reset(),dr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Dn(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Tt(t),t.registerHelper=function(e,i,r){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][i]=r},t.registerGlobalHelper=function(e,i,r,o){t.registerHelper(e,i,o),n[e]._global.push({pred:r,val:o})}}function tl(t,e,n,i,r){var o=e,s=n,a=ee(t,e.line),l=r&&"rtl"==t.direction?-n:n;function u(){var n=e.line+l;return!(n<t.first||n>=t.first+t.size)&&(e=new ue(n,e.ch,e.sticky),a=ee(t,n))}function c(o){var s;if("codepoint"==i){var c=a.text.charCodeAt(e.ch+(n>0?0:-1));if(isNaN(c))s=null;else{var h=n>0?c>=55296&&c<56320:c>=56320&&c<57343;s=new ue(e.line,Math.max(0,Math.min(a.text.length,e.ch+n*(h?2:1))),-n)}}else s=r?ta(t.cm,a,e,n):Qs(a,e,n);if(null==s){if(o||!u())return!1;e=Js(r,t.cm,a,e.line,l)}else e=s;return!0}if("char"==i||"codepoint"==i)c();else if("column"==i)c(!0);else if("word"==i||"group"==i)for(var h=null,d="group"==i,f=t.cm&&t.cm.getHelper(e,"wordChars"),p=!0;;p=!1){if(n<0&&!c(!p))break;var v=a.text.charAt(e.ch)||"\n",g=at(v,f)?"w":d&&"\n"==v?"n":!d||/\s/.test(v)?null:"p";if(!d||p||g||(g="s"),h&&h!=g){n<0&&(n=1,c(),e.sticky="after");break}if(g&&(h=g),n>0&&!c(!p))break}var m=Qo(t,e,o,s,!0);return he(o,m)&&(m.hitSide=!0),m}function el(t,e,n,i){var r,o,s=t.doc,a=e.left;if("page"==i){var l=Math.min(t.display.wrapper.clientHeight,B(t).innerHeight||s(t).documentElement.clientHeight),u=Math.max(l-.5*Di(t.display),3);r=(n>0?e.bottom:e.top)+n*u}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;;){if(o=Ti(t,a,r),!o.outside)break;if(n<0?r<=0:r>=s.height){o.hitSide=!0;break}r+=5*n}return o}var nl=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Y,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function il(t,e){var n=oi(t,e.line);if(!n||n.hidden)return null;var i=ee(t.doc,e.line),r=ni(n,i,e.line),o=mt(i,t.doc.direction),s="left";if(o){var a=vt(o,e.ch);s=a%2?"right":"left"}var l=ci(r.map,e.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function rl(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function ol(t,e){return e&&(t.bad=!0),t}function sl(t,e,n,i,r){var o="",s=!1,a=t.doc.lineSeparator(),l=!1;function u(t){return function(e){return e.id==t}}function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function h(t){t&&(c(),o+=t)}function d(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void h(n);var o,f=e.getAttribute("cm-marker");if(f){var p=t.findMarks(ue(i,0),ue(r+1,0),u(+f));return void(p.length&&(o=p[0].find(0))&&h(ne(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var v=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;v&&c();for(var g=0;g<e.childNodes.length;g++)d(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),v&&(s=!0)}else 3==e.nodeType&&h(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(d(e),e==n)break;e=e.nextSibling,l=!1}return o}function al(t,e,n){var i;if(e==t.display.lineDiv){if(i=t.display.lineDiv.childNodes[n],!i)return ol(t.clipPos(ue(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==i)return ll(o,e,n)}}function ll(t,e,n){var i=t.text.firstChild,r=!1;if(!e||!A(i,e))return ol(ue(oe(t.line),0),!0);if(e==i&&(r=!0,e=i.childNodes[n],n=0,!e)){var o=t.rest?tt(t.rest):t.line;return ol(ue(oe(o),o.text.length),r)}var s=3==e.nodeType?e:null,a=e;s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));while(a.parentNode!=i)a=a.parentNode;var l=t.measure,u=l.maps;function c(e,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var o=r<0?l.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==n){var c=oe(r<0?t.line:t.rest[r]),h=o[s]+i;return(i<0||a!=e)&&(h=o[s+(i?1:0)]),ue(c,h)}}}var h=c(s,a,n);if(h)return ol(h,r);for(var d=a.nextSibling,f=s?s.nodeValue.length-n:0;d;d=d.nextSibling){if(h=c(d,d.firstChild,0),h)return ol(ue(h.line,h.ch-f),r);f+=d.textContent.length}for(var p=a.previousSibling,v=n;p;p=p.previousSibling){if(h=c(p,p.firstChild,-1),h)return ol(ue(h.line,h.ch+v),r);v+=p.textContent.length}}nl.prototype.init=function(t){var e=this,n=this,i=n.cm,r=n.div=t.lineDiv;function o(t){for(var e=t.target;e;e=e.parentNode){if(e==r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(e.className))break}return!1}function s(t){if(o(t)&&!xt(i,t)){if(i.somethingSelected())Ga({lineWise:!1,text:i.getSelections()}),"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=Za(i);Ga({lineWise:!0,text:e.text}),"cut"==t.type&&i.operation((function(){i.setSelections(e.ranges,0,q),i.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var s=Va.text.join("\n");if(t.clipboardData.setData("Text",s),t.clipboardData.getData("Text")==s)return void t.preventDefault()}var a=Qa(),l=a.firstChild;Xa(l),i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),l.value=Va.text.join("\n");var u=D(z(r));L(l),setTimeout((function(){i.display.lineSpace.removeChild(a),u.focus(),u==r&&n.showPrimarySelection()}),50)}}r.contentEditable=!0,Xa(r,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),_t(r,"paste",(function(t){!o(t)||xt(i,t)||qa(t,i)||a<=11&&setTimeout(Lr(i,(function(){return e.updateFromDOM()})),20)})),_t(r,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),_t(r,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),_t(r,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),_t(r,"touchstart",(function(){return n.forceCompositionEnd()})),_t(r,"input",(function(){e.composing||e.readFromDOMSoon()})),_t(r,"copy",s),_t(r,"cut",s)},nl.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},nl.prototype.prepareSelection=function(){var t=qi(this.cm,!1);return t.focus=D(z(this.div))==this.div,t},nl.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},nl.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},nl.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),r=i.from(),o=i.to();if(e.display.viewTo==e.display.viewFrom||r.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=al(e,t.anchorNode,t.anchorOffset),a=al(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=ce(pe(s,a),r)||0!=ce(fe(s,a),o)){var l=e.display.view,u=r.line>=e.display.viewFrom&&il(e,r)||{node:l[0].measure.map[2],offset:0},c=o.line<e.display.viewTo&&il(e,o);if(!c){var h=l[l.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(u&&c){var f,p=t.rangeCount&&t.getRangeAt(0);try{f=T(u.node,u.offset,c.offset,c.node)}catch(v){}f&&(!n&&e.state.focused?(t.collapse(u.node,u.offset),f.collapsed||(t.removeAllRanges(),t.addRange(f))):(t.removeAllRanges(),t.addRange(f)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},nl.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},nl.prototype.showMultipleSelections=function(t){I(this.cm.display.cursorDiv,t.cursors),I(this.cm.display.selectionDiv,t.selection)},nl.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},nl.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return A(this.div,e)},nl.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&D(z(this.div))==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},nl.prototype.blur=function(){this.div.blur()},nl.prototype.getField=function(){return this.div},nl.prototype.supportsTouch=function(){return!0},nl.prototype.receivedFocus=function(){var t=this,e=this;function n(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,n))}this.selectionInEditor()?setTimeout((function(){return t.pollSelection()}),20):Rr(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,n)},nl.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},nl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(m&&c&&this.cm.display.gutterSpecs.length&&rl(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=al(e,t.anchorNode,t.anchorOffset),i=al(e,t.focusNode,t.focusOffset);n&&i&&Rr(e,(function(){Go(e.doc,ho(n,i),q),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)}))}}},nl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,i=this.cm,r=i.display,o=i.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>i.firstLine()&&(s=ue(s.line-1,ee(i.doc,s.line-1).length)),a.ch==ee(i.doc,a.line).text.length&&a.line<i.lastLine()&&(a=ue(a.line+1,0)),s.line<r.viewFrom||a.line>r.viewTo-1)return!1;s.line==r.viewFrom||0==(t=Bi(i,s.line))?(e=oe(r.view[0].line),n=r.view[0].node):(e=oe(r.view[t].line),n=r.view[t-1].node.nextSibling);var l,u,c=Bi(i,a.line);if(c==r.view.length-1?(l=r.viewTo-1,u=r.lineDiv.lastChild):(l=oe(r.view[c+1].line)-1,u=r.view[c+1].node.previousSibling),!n)return!1;var h=i.doc.splitLines(sl(i,n,u,e,l)),d=ne(i.doc,ue(e,0),ue(l,ee(i.doc,l).text.length));while(h.length>1&&d.length>1)if(tt(h)==tt(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),e++}var f=0,p=0,v=h[0],g=d[0],m=Math.min(v.length,g.length);while(f<m&&v.charCodeAt(f)==g.charCodeAt(f))++f;var y=tt(h),_=tt(d),b=Math.min(y.length-(1==h.length?f:0),_.length-(1==d.length?f:0));while(p<b&&y.charCodeAt(y.length-p-1)==_.charCodeAt(_.length-p-1))++p;if(1==h.length&&1==d.length&&e==s.line)while(f&&f>s.ch&&y.charCodeAt(y.length-p-1)==_.charCodeAt(_.length-p-1))f--,p++;h[h.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var w=ue(e,f),k=ue(l,d.length?tt(d).length-p:0);return h.length>1||h[0]||ce(w,k)?(ls(i.doc,h,w,k,"+input"),!0):void 0},nl.prototype.ensurePolled=function(){this.forceCompositionEnd()},nl.prototype.reset=function(){this.forceCompositionEnd()},nl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},nl.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},nl.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Rr(this.cm,(function(){return Ui(t.cm)}))},nl.prototype.setUneditable=function(t){t.contentEditable="false"},nl.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Lr(this.cm,$a)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},nl.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},nl.prototype.onContextMenu=function(){},nl.prototype.resetPosition=function(){},nl.prototype.needsContentAttribute=!0;var ul=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Y,this.hasSelection=!1,this.composing=null,this.resetting=!1};function cl(t,e){if(e=e?H(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=D(z(t));e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function i(){t.value=a.getValue()}var r;if(t.form&&(_t(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var s=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=s}}catch(l){}}e.finishInit=function(n){n.save=i,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,i(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(wt(t.form,"submit",i),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=r))}},t.style.display="none";var a=Ua((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return a}function hl(t){t.off=wt,t.on=_t,t.wheelEventPixels=so,t.Doc=Os,t.splitLines=jt,t.countColumn=W,t.findColumn=X,t.isWordChar=st,t.Pass=$,t.signal=kt,t.Line=fn,t.changeEnd=fo,t.scrollbarModel=Er,t.Pos=ue,t.cmpPos=ce,t.modes=Wt,t.mimeModes=Yt,t.resolveMode=$t,t.getMode=qt,t.modeExtensions=Kt,t.extendMode=Zt,t.copyState=Xt,t.startState=Jt,t.innerMode=Qt,t.commands=ea,t.keyMap=Hs,t.keyName=qs,t.isModifierKey=Gs,t.lookupKey=Vs,t.normalizeKeyMap=Ys,t.StringStream=te,t.SharedTextMarker=ws,t.TextMarker=_s,t.LineWidget=vs,t.e_preventDefault=Ot,t.e_stopPropagation=Ct,t.e_stop=Nt,t.addClass=P,t.contains=A,t.rmClass=O,t.keyNames=js}ul.prototype.init=function(t){var e=this,n=this,i=this.cm;this.createField(t);var r=this.textarea;function o(t){if(!xt(i,t)){if(i.somethingSelected())Ga({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var e=Za(i);Ga({lineWise:!0,text:e.text}),"cut"==t.type?i.setSelections(e.ranges,null,q):(n.prevInput="",r.value=e.text.join("\n"),L(r))}"cut"==t.type&&(i.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(r.style.width="0px"),_t(r,"input",(function(){s&&a>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()})),_t(r,"paste",(function(t){xt(i,t)||qa(t,i)||(i.state.pasteIncoming=+new Date,n.fastPoll())})),_t(r,"cut",o),_t(r,"copy",o),_t(t.scroller,"paste",(function(e){if(!qn(t,e)&&!xt(i,e)){if(!r.dispatchEvent)return i.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,r.dispatchEvent(o)}})),_t(t.lineSpace,"selectstart",(function(e){qn(t,e)||Ot(e)})),_t(r,"compositionstart",(function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}})),_t(r,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},ul.prototype.createField=function(t){this.wrapper=Qa(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Xa(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},ul.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},ul.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,i=qi(t);if(t.options.moveInputWithCursor){var r=xi(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},ul.prototype.showSelection=function(t){var e=this.cm,n=e.display;I(n.cursorDiv,t.cursors),I(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},ul.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&L(this.textarea),s&&a>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null));this.resetting=!1}},ul.prototype.getField=function(){return this.textarea},ul.prototype.supportsTouch=function(){return!1},ul.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||D(z(this.textarea))!=this.textarea))try{this.textarea.focus()}catch(t){}},ul.prototype.blur=function(){this.textarea.blur()},ul.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ul.prototype.receivedFocus=function(){this.slowPoll()},ul.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},ul.prototype.fastPoll=function(){var t=!1,e=this;function n(){var i=e.poll();i||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))}e.pollingFast=!0,e.polling.set(20,n)},ul.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||zt(n)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=n.value;if(r==i&&!e.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===r||_&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i="‚Äã"),8666==o)return this.reset(),this.cm.execCommand("undo")}var l=0,u=Math.min(i.length,r.length);while(l<u&&i.charCodeAt(l)==r.charCodeAt(l))++l;return Rr(e,(function(){$a(e,r.slice(l),i.length-l,null,t.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ul.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ul.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},ul.prototype.onContextMenu=function(t){var e=this,n=e.cm,i=n.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=zi(n,t),u=i.scroller.scrollTop;if(o&&!d){var c=n.options.resetSelectionOnContextMenu;c&&-1==n.doc.sel.contains(o)&&Lr(n,Go)(n.doc,ho(o),q);var h,f=r.style.cssText,p=e.wrapper.style.cssText,v=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-v.top-5)+"px; left: "+(t.clientX-v.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(h=r.ownerDocument.defaultView.scrollY),i.input.focus(),l&&r.ownerDocument.defaultView.scrollTo(null,h),i.input.reset(),n.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=y,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),s&&a>=9&&m(),E){Nt(t);var g=function(){wt(window,"mouseup",g),setTimeout(y,20)};_t(window,"mouseup",g)}else setTimeout(y,50)}function m(){if(null!=r.selectionStart){var t=n.somethingSelected(),o="‚Äã"+(t?r.value:"");r.value="‚áö",r.value=o,e.prevInput=t?"":"‚Äã",r.selectionStart=1,r.selectionEnd=o.length,i.selForContextMenu=n.doc.sel}}function y(){if(e.contextMenuPending==y&&(e.contextMenuPending=!1,e.wrapper.style.cssText=p,r.style.cssText=f,s&&a<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=u),null!=r.selectionStart)){(!s||s&&a<9)&&m();var t=0,o=function(){i.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"‚Äã"==e.prevInput?Lr(n,ts)(n):t++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},ul.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t,this.textarea.readOnly=!!t},ul.prototype.setUneditable=function(){},ul.prototype.needsContentAttribute=!1,ja(Ua),Ja(Ua);var dl="iter insert remove copy getEditor constructor".split(" ");for(var fl in Os.prototype)Os.prototype.hasOwnProperty(fl)&&V(dl,fl)<0&&(Ua.prototype[fl]=function(t){return function(){return t.apply(this.doc,arguments)}}(Os.prototype[fl]));return Tt(Os),Ua.inputStyles={textarea:ul,contenteditable:nl},Ua.defineMode=function(t){Ua.defaults.mode||"null"==t||(Ua.defaults.mode=t),Vt.apply(this,arguments)},Ua.defineMIME=Gt,Ua.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),Ua.defineMIME("text/plain","null"),Ua.defineExtension=function(t,e){Ua.prototype[t]=e},Ua.defineDocExtension=function(t,e){Os.prototype[t]=e},Ua.fromTextArea=cl,hl(Ua),Ua.version="5.65.16",Ua}))},1579:()=>{var t;(function(t){"use strict";var e=function(){function t(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(t){this._dropEffect=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(t){this._effectAllowed=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),t.prototype.clearData=function(t){null!=t?delete this._data[t]:this._data=null},t.prototype.getData=function(t){return this._data[t]||""},t.prototype.setData=function(t,e){this._data[t]=e},t.prototype.setDragImage=function(t,e,i){var r=n._instance;r._imgCustom=t,r._imgOffset={x:e,y:i}},t}();t.DataTransfer=e;var n=function(){function t(){if(this._lastClick=0,t._instance)throw"DragDropTouch instance already created.";var e=!1;if(document.addEventListener("test",(function(){}),{get passive(){return e=!0,!0}}),"ontouchstart"in document){var n=document,i=this._touchstart.bind(this),r=this._touchmove.bind(this),o=this._touchend.bind(this),s=!!e&&{passive:!1,capture:!1};n.addEventListener("touchstart",i,s),n.addEventListener("touchmove",r,s),n.addEventListener("touchend",o),n.addEventListener("touchcancel",o)}}return t.getInstance=function(){return t._instance},t.prototype._touchstart=function(e){var n=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<t._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target))return e.cancelable&&e.preventDefault(),void this._reset();this._reset();var i=this._closestDraggable(e.target);i&&(this._dispatchEvent(e,"mousemove",e.target)||this._dispatchEvent(e,"mousedown",e.target)||(this._dragSource=i,this._ptDown=this._getPoint(e),this._lastTouch=e,e.cancelable&&e.preventDefault(),setTimeout((function(){n._dragSource==i&&null==n._img&&n._dispatchEvent(e,"contextmenu",i)&&n._reset()}),t._CTXMENU),t._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout((function(){n._isDragEnabled=!0,n._touchmove(e)}),t._PRESSHOLDAWAIT))))}},t.prototype._touchmove=function(t){if(this._shouldCancelPressHoldMove(t))this._reset();else if(this._shouldHandleMove(t)||this._shouldHandlePressHoldMove(t)){var e=this._getTarget(t);if(this._dispatchEvent(t,"mousemove",e))return this._lastTouch=t,void(t.cancelable&&t.preventDefault());this._dragSource&&!this._img&&this._shouldStartDragging(t)&&(this._dispatchEvent(t,"dragstart",this._dragSource),this._createImage(t),this._dispatchEvent(t,"dragenter",e)),this._img&&(this._lastTouch=t,t.cancelable&&t.preventDefault(),e!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(t,"dragenter",e),this._lastTarget=e),this._moveImage(t),this._isDropZone=this._dispatchEvent(t,"dragover",e))}},t.prototype._touchend=function(t){if(this._shouldHandle(t)){if(this._dispatchEvent(this._lastTouch,"mouseup",t.target))return void(t.cancelable&&t.preventDefault());this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",t.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(t.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},t.prototype._shouldHandle=function(t){return t&&!t.defaultPrevented&&t.touches&&t.touches.length<2},t.prototype._shouldHandleMove=function(e){return!t._ISPRESSHOLDMODE&&this._shouldHandle(e)},t.prototype._shouldHandlePressHoldMove=function(e){return t._ISPRESSHOLDMODE&&this._isDragEnabled&&e&&e.touches&&e.touches.length},t.prototype._shouldCancelPressHoldMove=function(e){return t._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(e)>t._PRESSHOLDMARGIN},t.prototype._shouldStartDragging=function(e){var n=this._getDelta(e);return n>t._THRESHOLD||t._ISPRESSHOLDMODE&&n>=t._PRESSHOLDTHRESHOLD},t.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new e,clearInterval(this._pressHoldInterval)},t.prototype._getPoint=function(t,e){return t&&t.touches&&(t=t.touches[0]),{x:e?t.pageX:t.clientX,y:e?t.pageY:t.clientY}},t.prototype._getDelta=function(e){if(t._ISPRESSHOLDMODE&&!this._ptDown)return 0;var n=this._getPoint(e);return Math.abs(n.x-this._ptDown.x)+Math.abs(n.y-this._ptDown.y)},t.prototype._getTarget=function(t){var e=this._getPoint(t),n=document.elementFromPoint(e.x,e.y);while(n&&"none"==getComputedStyle(n).pointerEvents)n=n.parentElement;return n},t.prototype._createImage=function(e){this._img&&this._destroyImage();var n=this._imgCustom||this._dragSource;if(this._img=n.cloneNode(!0),this._copyStyle(n,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var i=n.getBoundingClientRect(),r=this._getPoint(e);this._imgOffset={x:r.x-i.left,y:r.y-i.top},this._img.style.opacity=t._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},t.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},t.prototype._moveImage=function(t){var e=this;requestAnimationFrame((function(){if(e._img){var n=e._getPoint(t,!0),i=e._img.style;i.position="absolute",i.pointerEvents="none",i.zIndex="999999",i.left=Math.round(n.x-e._imgOffset.x)+"px",i.top=Math.round(n.y-e._imgOffset.y)+"px"}}))},t.prototype._copyProps=function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];t[r]=e[r]}},t.prototype._copyStyle=function(e,n){if(t._rmvAtts.forEach((function(t){n.removeAttribute(t)})),e instanceof HTMLCanvasElement){var i=e,r=n;r.width=i.width,r.height=i.height,r.getContext("2d").drawImage(i,0,0)}for(var o=getComputedStyle(e),s=0;s<o.length;s++){var a=o[s];a.indexOf("transition")<0&&(n.style[a]=o[a])}n.style.pointerEvents="none";for(s=0;s<e.children.length;s++)this._copyStyle(e.children[s],n.children[s])},t.prototype._dispatchEvent=function(e,n,i){if(e&&i){var r=document.createEvent("Event"),o=e.touches?e.touches[0]:e;return r.initEvent(n,!0,!0),r.button=0,r.which=r.buttons=1,this._copyProps(r,e,t._kbdProps),this._copyProps(r,o,t._ptProps),r.dataTransfer=this._dataTransfer,i.dispatchEvent(r),r.defaultPrevented}return!1},t.prototype._closestDraggable=function(t){for(;t;t=t.parentElement)if(t.hasAttribute("draggable")&&t.draggable)return t;return null},t}();n._instance=new n,n._THRESHOLD=5,n._OPACITY=.5,n._DBLCLICK=500,n._CTXMENU=900,n._ISPRESSHOLDMODE=!1,n._PRESSHOLDAWAIT=400,n._PRESSHOLDMARGIN=25,n._PRESSHOLDTHRESHOLD=0,n._rmvAtts="id,class,style,draggable".split(","),n._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),n._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),t.DragDropTouch=n})(t||(t={}))},1566:t=>{var e=7,n=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],i=607/128,r=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function o(t){if(t<0)return Number("0/0");for(var e=r[0],n=r.length-1;n>0;--n)e+=r[n]/(t+n);var o=t+i+.5;return.5*Math.log(2*Math.PI)+(t+.5)*Math.log(o)-o+Math.log(e)-Math.log(t)}t.exports=function t(i){if(i<.5)return Math.PI/(Math.sin(Math.PI*i)*t(1-i));if(i>100)return Math.exp(o(i));i-=1;for(var r=n[0],s=1;s<e+2;s++)r+=n[s]/(i+s);var a=i+e+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,i+.5)*Math.exp(-a)*r},t.exports.log=o},4462:(t,e,n)=>{var i;
/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */(function(){"use strict";var e="input is invalid type",r="finalize already called",o="object"===typeof window,s=o?window:{};s.JS_SHA512_NO_WINDOW&&(o=!1);var a=!o&&"object"===typeof self,l=!s.JS_SHA512_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;l?s=n.g:a&&(s=self);var u=!s.JS_SHA512_NO_COMMON_JS&&t.exports,c=n.amdO,h=!s.JS_SHA512_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,d="0123456789abcdef".split(""),f=[-2147483648,8388608,32768,128],p=[24,16,8,0],v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],g=["hex","array","digest","arrayBuffer"],m=[];!s.JS_SHA512_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!h||!s.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var y=function(t,e){return function(n){return new k(e,!0).update(n)[t]()}},_=function(t){var e=y("hex",t);e.create=function(){return new k(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<g.length;++n){var i=g[n];e[i]=y(i,t)}return e},b=function(t,e){return function(n,i){return new x(n,e,!0).update(i)[t]()}},w=function(t){var e=b("hex",t);e.create=function(e){return new x(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<g.length;++n){var i=g[n];e[i]=b(i,t)}return e};function k(t,e){e?(m[0]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=m[16]=m[17]=m[18]=m[19]=m[20]=m[21]=m[22]=m[23]=m[24]=m[25]=m[26]=m[27]=m[28]=m[29]=m[30]=m[31]=m[32]=0,this.blocks=m):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384==t?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):256==t?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):224==t?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=t,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}function x(t,n,i){var r,o=typeof t;if("string"!==o){if("object"!==o)throw new Error(e);if(null===t)throw new Error(e);if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!h||!ArrayBuffer.isView(t)))throw new Error(e);r=!0}var s=t.length;if(!r){for(var a,l=[],u=(s=t.length,0),c=0;c<s;++c)a=t.charCodeAt(c),a<128?l[u++]=a:a<2048?(l[u++]=192|a>>6,l[u++]=128|63&a):a<55296||a>=57344?(l[u++]=224|a>>12,l[u++]=128|a>>6&63,l[u++]=128|63&a):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++c)),l[u++]=240|a>>18,l[u++]=128|a>>12&63,l[u++]=128|a>>6&63,l[u++]=128|63&a);t=l}t.length>128&&(t=new k(n,!0).update(t).array());var d=[],f=[];for(c=0;c<128;++c){var p=t[c]||0;d[c]=92^p,f[c]=54^p}k.call(this,n,i),this.update(f),this.oKeyPad=d,this.inner=!0,this.sharedMemory=i}k.prototype.update=function(t){if(this.finalized)throw new Error(r);var n,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!h||!ArrayBuffer.isView(t)))throw new Error(e);n=!0}var o,s,a=0,l=t.length,u=this.blocks;while(a<l){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=u[16]=u[17]=u[18]=u[19]=u[20]=u[21]=u[22]=u[23]=u[24]=u[25]=u[26]=u[27]=u[28]=u[29]=u[30]=u[31]=u[32]=0),n)for(s=this.start;a<l&&s<128;++a)u[s>>2]|=t[a]<<p[3&s++];else for(s=this.start;a<l&&s<128;++a)o=t.charCodeAt(a),o<128?u[s>>2]|=o<<p[3&s++]:o<2048?(u[s>>2]|=(192|o>>6)<<p[3&s++],u[s>>2]|=(128|63&o)<<p[3&s++]):o<55296||o>=57344?(u[s>>2]|=(224|o>>12)<<p[3&s++],u[s>>2]|=(128|o>>6&63)<<p[3&s++],u[s>>2]|=(128|63&o)<<p[3&s++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++a)),u[s>>2]|=(240|o>>18)<<p[3&s++],u[s>>2]|=(128|o>>12&63)<<p[3&s++],u[s>>2]|=(128|o>>6&63)<<p[3&s++],u[s>>2]|=(128|63&o)<<p[3&s++]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=128?(this.block=u[32],this.start=s-128,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[32]=this.block,t[e>>2]|=f[3&e],this.block=t[32],e>=112&&(this.hashed||this.hash(),t[0]=this.block,t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=t[16]=t[17]=t[18]=t[19]=t[20]=t[21]=t[22]=t[23]=t[24]=t[25]=t[26]=t[27]=t[28]=t[29]=t[30]=t[31]=t[32]=0),t[30]=this.hBytes<<3|this.bytes>>>29,t[31]=this.bytes<<3,this.hash()}},k.prototype.hash=function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,f,p,g,m,y,_,b,w,k,x,E,S,T=this.h0h,O=this.h0l,C=this.h1h,I=this.h1l,N=this.h2h,M=this.h2l,A=this.h3h,D=this.h3l,P=this.h4h,R=this.h4l,L=this.h5h,F=this.h5l,j=this.h6h,z=this.h6l,B=this.h7h,U=this.h7l,H=this.blocks;for(t=32;t<160;t+=2)b=H[t-30],w=H[t-29],e=(b>>>1|w<<31)^(b>>>8|w<<24)^b>>>7,n=(w>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25),b=H[t-4],w=H[t-3],i=(b>>>19|w<<13)^(w>>>29|b<<3)^b>>>6,r=(w>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26),b=H[t-32],w=H[t-31],k=H[t-14],x=H[t-13],o=(65535&x)+(65535&w)+(65535&n)+(65535&r),s=(x>>>16)+(w>>>16)+(n>>>16)+(r>>>16)+(o>>>16),a=(65535&k)+(65535&b)+(65535&e)+(65535&i)+(s>>>16),l=(k>>>16)+(b>>>16)+(e>>>16)+(i>>>16)+(a>>>16),H[t]=l<<16|65535&a,H[t+1]=s<<16|65535&o;var W=T,Y=O,V=C,G=I,$=N,q=M,K=A,Z=D,X=P,Q=R,J=L,tt=F,et=j,nt=z,it=B,rt=U;for(g=V&$,m=G&q,t=0;t<160;t+=8)e=(W>>>28|Y<<4)^(Y>>>2|W<<30)^(Y>>>7|W<<25),n=(Y>>>28|W<<4)^(W>>>2|Y<<30)^(W>>>7|Y<<25),i=(X>>>14|Q<<18)^(X>>>18|Q<<14)^(Q>>>9|X<<23),r=(Q>>>14|X<<18)^(Q>>>18|X<<14)^(X>>>9|Q<<23),u=W&V,c=Y&G,y=u^W&$^g,_=c^Y&q^m,E=X&J^~X&et,S=Q&tt^~Q&nt,b=H[t],w=H[t+1],k=v[t],x=v[t+1],o=(65535&x)+(65535&w)+(65535&S)+(65535&r)+(65535&rt),s=(x>>>16)+(w>>>16)+(S>>>16)+(r>>>16)+(rt>>>16)+(o>>>16),a=(65535&k)+(65535&b)+(65535&E)+(65535&i)+(65535&it)+(s>>>16),l=(k>>>16)+(b>>>16)+(E>>>16)+(i>>>16)+(it>>>16)+(a>>>16),b=l<<16|65535&a,w=s<<16|65535&o,o=(65535&_)+(65535&n),s=(_>>>16)+(n>>>16)+(o>>>16),a=(65535&y)+(65535&e)+(s>>>16),l=(y>>>16)+(e>>>16)+(a>>>16),k=l<<16|65535&a,x=s<<16|65535&o,o=(65535&Z)+(65535&w),s=(Z>>>16)+(w>>>16)+(o>>>16),a=(65535&K)+(65535&b)+(s>>>16),l=(K>>>16)+(b>>>16)+(a>>>16),it=l<<16|65535&a,rt=s<<16|65535&o,o=(65535&x)+(65535&w),s=(x>>>16)+(w>>>16)+(o>>>16),a=(65535&k)+(65535&b)+(s>>>16),l=(k>>>16)+(b>>>16)+(a>>>16),K=l<<16|65535&a,Z=s<<16|65535&o,e=(K>>>28|Z<<4)^(Z>>>2|K<<30)^(Z>>>7|K<<25),n=(Z>>>28|K<<4)^(K>>>2|Z<<30)^(K>>>7|Z<<25),i=(it>>>14|rt<<18)^(it>>>18|rt<<14)^(rt>>>9|it<<23),r=(rt>>>14|it<<18)^(rt>>>18|it<<14)^(it>>>9|rt<<23),h=K&W,d=Z&Y,y=h^K&V^u,_=d^Z&G^c,E=it&X^~it&J,S=rt&Q^~rt&tt,b=H[t+2],w=H[t+3],k=v[t+2],x=v[t+3],o=(65535&x)+(65535&w)+(65535&S)+(65535&r)+(65535&nt),s=(x>>>16)+(w>>>16)+(S>>>16)+(r>>>16)+(nt>>>16)+(o>>>16),a=(65535&k)+(65535&b)+(65535&E)+(65535&i)+(65535&et)+(s>>>16),l=(k>>>16)+(b>>>16)+(E>>>16)+(i>>>16)+(et>>>16)+(a>>>16),b=l<<16|65535&a,w=s<<16|65535&o,o=(65535&_)+(65535&n),s=(_>>>16)+(n>>>16)+(o>>>16),a=(65535&y)+(65535&e)+(s>>>16),l=(y>>>16)+(e>>>16)+(a>>>16),k=l<<16|65535&a,x=s<<16|65535&o,o=(65535&q)+(65535&w),s=(q>>>16)+(w>>>16)+(o>>>16),a=(65535&$)+(65535&b)+(s>>>16),l=($>>>16)+(b>>>16)+(a>>>16),et=l<<16|65535&a,nt=s<<16|65535&o,o=(65535&x)+(65535&w),s=(x>>>16)+(w>>>16)+(o>>>16),a=(65535&k)+(65535&b)+(s>>>16),l=(k>>>16)+(b>>>16)+(a>>>16),$=l<<16|65535&a,q=s<<16|65535&o,e=($>>>28|q<<4)^(q>>>2|$<<30)^(q>>>7|$<<25),n=(q>>>28|$<<4)^($>>>2|q<<30)^($>>>7|q<<25),i=(et>>>14|nt<<18)^(et>>>18|nt<<14)^(nt>>>9|et<<23),r=(nt>>>14|et<<18)^(nt>>>18|et<<14)^(et>>>9|nt<<23),f=$&K,p=q&Z,y=f^$&W^h,_=p^q&Y^d,E=et&it^~et&X,S=nt&rt^~nt&Q,b=H[t+4],w=H[t+5],k=v[t+4],x=v[t+5],o=(65535&x)+(65535&w)+(65535&S)+(65535&r)+(65535&tt),s=(x>>>16)+(w>>>16)+(S>>>16)+(r>>>16)+(tt>>>16)+(o>>>16),a=(65535&k)+(65535&b)+(65535&E)+(65535&i)+(65535&J)+(s>>>16),l=(k>>>16)+(b>>>16)+(E>>>16)+(i>>>16)+(J>>>16)+(a>>>16),b=l<<16|65535&a,w=s<<16|65535&o,o=(65535&_)+(65535&n),s=(_>>>16)+(n>>>16)+(o>>>16),a=(65535&y)+(65535&e)+(s>>>16),l=(y>>>16)+(e>>>16)+(a>>>16),k=l<<16|65535&a,x=s<<16|65535&o,o=(65535&G)+(65535&w),s=(G>>>16)+(w>>>16)+(o>>>16),a=(65535&V)+(65535&b)+(s>>>16),l=(V>>>16)+(b>>>16)+(a>>>16),J=l<<16|65535&a,tt=s<<16|65535&o,o=(65535&x)+(65535&w),s=(x>>>16)+(w>>>16)+(o>>>16),a=(65535&k)+(65535&b)+(s>>>16),l=(k>>>16)+(b>>>16)+(a>>>16),V=l<<16|65535&a,G=s<<16|65535&o,e=(V>>>28|G<<4)^(G>>>2|V<<30)^(G>>>7|V<<25),n=(G>>>28|V<<4)^(V>>>2|G<<30)^(V>>>7|G<<25),i=(J>>>14|tt<<18)^(J>>>18|tt<<14)^(tt>>>9|J<<23),r=(tt>>>14|J<<18)^(tt>>>18|J<<14)^(J>>>9|tt<<23),g=V&$,m=G&q,y=g^V&K^f,_=m^G&Z^p,E=J&et^~J&it,S=tt&nt^~tt&rt,b=H[t+6],w=H[t+7],k=v[t+6],x=v[t+7],o=(65535&x)+(65535&w)+(65535&S)+(65535&r)+(65535&Q),s=(x>>>16)+(w>>>16)+(S>>>16)+(r>>>16)+(Q>>>16)+(o>>>16),a=(65535&k)+(65535&b)+(65535&E)+(65535&i)+(65535&X)+(s>>>16),l=(k>>>16)+(b>>>16)+(E>>>16)+(i>>>16)+(X>>>16)+(a>>>16),b=l<<16|65535&a,w=s<<16|65535&o,o=(65535&_)+(65535&n),s=(_>>>16)+(n>>>16)+(o>>>16),a=(65535&y)+(65535&e)+(s>>>16),l=(y>>>16)+(e>>>16)+(a>>>16),k=l<<16|65535&a,x=s<<16|65535&o,o=(65535&Y)+(65535&w),s=(Y>>>16)+(w>>>16)+(o>>>16),a=(65535&W)+(65535&b)+(s>>>16),l=(W>>>16)+(b>>>16)+(a>>>16),X=l<<16|65535&a,Q=s<<16|65535&o,o=(65535&x)+(65535&w),s=(x>>>16)+(w>>>16)+(o>>>16),a=(65535&k)+(65535&b)+(s>>>16),l=(k>>>16)+(b>>>16)+(a>>>16),W=l<<16|65535&a,Y=s<<16|65535&o;o=(65535&O)+(65535&Y),s=(O>>>16)+(Y>>>16)+(o>>>16),a=(65535&T)+(65535&W)+(s>>>16),l=(T>>>16)+(W>>>16)+(a>>>16),this.h0h=l<<16|65535&a,this.h0l=s<<16|65535&o,o=(65535&I)+(65535&G),s=(I>>>16)+(G>>>16)+(o>>>16),a=(65535&C)+(65535&V)+(s>>>16),l=(C>>>16)+(V>>>16)+(a>>>16),this.h1h=l<<16|65535&a,this.h1l=s<<16|65535&o,o=(65535&M)+(65535&q),s=(M>>>16)+(q>>>16)+(o>>>16),a=(65535&N)+(65535&$)+(s>>>16),l=(N>>>16)+($>>>16)+(a>>>16),this.h2h=l<<16|65535&a,this.h2l=s<<16|65535&o,o=(65535&D)+(65535&Z),s=(D>>>16)+(Z>>>16)+(o>>>16),a=(65535&A)+(65535&K)+(s>>>16),l=(A>>>16)+(K>>>16)+(a>>>16),this.h3h=l<<16|65535&a,this.h3l=s<<16|65535&o,o=(65535&R)+(65535&Q),s=(R>>>16)+(Q>>>16)+(o>>>16),a=(65535&P)+(65535&X)+(s>>>16),l=(P>>>16)+(X>>>16)+(a>>>16),this.h4h=l<<16|65535&a,this.h4l=s<<16|65535&o,o=(65535&F)+(65535&tt),s=(F>>>16)+(tt>>>16)+(o>>>16),a=(65535&L)+(65535&J)+(s>>>16),l=(L>>>16)+(J>>>16)+(a>>>16),this.h5h=l<<16|65535&a,this.h5l=s<<16|65535&o,o=(65535&z)+(65535&nt),s=(z>>>16)+(nt>>>16)+(o>>>16),a=(65535&j)+(65535&et)+(s>>>16),l=(j>>>16)+(et>>>16)+(a>>>16),this.h6h=l<<16|65535&a,this.h6l=s<<16|65535&o,o=(65535&U)+(65535&rt),s=(U>>>16)+(rt>>>16)+(o>>>16),a=(65535&B)+(65535&it)+(s>>>16),l=(B>>>16)+(it>>>16)+(a>>>16),this.h7h=l<<16|65535&a,this.h7l=s<<16|65535&o},k.prototype.hex=function(){this.finalize();var t=this.h0h,e=this.h0l,n=this.h1h,i=this.h1l,r=this.h2h,o=this.h2l,s=this.h3h,a=this.h3l,l=this.h4h,u=this.h4l,c=this.h5h,h=this.h5l,f=this.h6h,p=this.h6l,v=this.h7h,g=this.h7l,m=this.bits,y=d[t>>28&15]+d[t>>24&15]+d[t>>20&15]+d[t>>16&15]+d[t>>12&15]+d[t>>8&15]+d[t>>4&15]+d[15&t]+d[e>>28&15]+d[e>>24&15]+d[e>>20&15]+d[e>>16&15]+d[e>>12&15]+d[e>>8&15]+d[e>>4&15]+d[15&e]+d[n>>28&15]+d[n>>24&15]+d[n>>20&15]+d[n>>16&15]+d[n>>12&15]+d[n>>8&15]+d[n>>4&15]+d[15&n]+d[i>>28&15]+d[i>>24&15]+d[i>>20&15]+d[i>>16&15]+d[i>>12&15]+d[i>>8&15]+d[i>>4&15]+d[15&i]+d[r>>28&15]+d[r>>24&15]+d[r>>20&15]+d[r>>16&15]+d[r>>12&15]+d[r>>8&15]+d[r>>4&15]+d[15&r]+d[o>>28&15]+d[o>>24&15]+d[o>>20&15]+d[o>>16&15]+d[o>>12&15]+d[o>>8&15]+d[o>>4&15]+d[15&o]+d[s>>28&15]+d[s>>24&15]+d[s>>20&15]+d[s>>16&15]+d[s>>12&15]+d[s>>8&15]+d[s>>4&15]+d[15&s];return m>=256&&(y+=d[a>>28&15]+d[a>>24&15]+d[a>>20&15]+d[a>>16&15]+d[a>>12&15]+d[a>>8&15]+d[a>>4&15]+d[15&a]),m>=384&&(y+=d[l>>28&15]+d[l>>24&15]+d[l>>20&15]+d[l>>16&15]+d[l>>12&15]+d[l>>8&15]+d[l>>4&15]+d[15&l]+d[u>>28&15]+d[u>>24&15]+d[u>>20&15]+d[u>>16&15]+d[u>>12&15]+d[u>>8&15]+d[u>>4&15]+d[15&u]+d[c>>28&15]+d[c>>24&15]+d[c>>20&15]+d[c>>16&15]+d[c>>12&15]+d[c>>8&15]+d[c>>4&15]+d[15&c]+d[h>>28&15]+d[h>>24&15]+d[h>>20&15]+d[h>>16&15]+d[h>>12&15]+d[h>>8&15]+d[h>>4&15]+d[15&h]),512==m&&(y+=d[f>>28&15]+d[f>>24&15]+d[f>>20&15]+d[f>>16&15]+d[f>>12&15]+d[f>>8&15]+d[f>>4&15]+d[15&f]+d[p>>28&15]+d[p>>24&15]+d[p>>20&15]+d[p>>16&15]+d[p>>12&15]+d[p>>8&15]+d[p>>4&15]+d[15&p]+d[v>>28&15]+d[v>>24&15]+d[v>>20&15]+d[v>>16&15]+d[v>>12&15]+d[v>>8&15]+d[v>>4&15]+d[15&v]+d[g>>28&15]+d[g>>24&15]+d[g>>20&15]+d[g>>16&15]+d[g>>12&15]+d[g>>8&15]+d[g>>4&15]+d[15&g]),y},k.prototype.toString=k.prototype.hex,k.prototype.digest=function(){this.finalize();var t=this.h0h,e=this.h0l,n=this.h1h,i=this.h1l,r=this.h2h,o=this.h2l,s=this.h3h,a=this.h3l,l=this.h4h,u=this.h4l,c=this.h5h,h=this.h5l,d=this.h6h,f=this.h6l,p=this.h7h,v=this.h7l,g=this.bits,m=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return g>=256&&m.push(a>>24&255,a>>16&255,a>>8&255,255&a),g>=384&&m.push(l>>24&255,l>>16&255,l>>8&255,255&l,u>>24&255,u>>16&255,u>>8&255,255&u,c>>24&255,c>>16&255,c>>8&255,255&c,h>>24&255,h>>16&255,h>>8&255,255&h),512==g&&m.push(d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f,p>>24&255,p>>16&255,p>>8&255,255&p,v>>24&255,v>>16&255,v>>8&255,255&v),m},k.prototype.array=k.prototype.digest,k.prototype.arrayBuffer=function(){this.finalize();var t=this.bits,e=new ArrayBuffer(t/8),n=new DataView(e);return n.setUint32(0,this.h0h),n.setUint32(4,this.h0l),n.setUint32(8,this.h1h),n.setUint32(12,this.h1l),n.setUint32(16,this.h2h),n.setUint32(20,this.h2l),n.setUint32(24,this.h3h),t>=256&&n.setUint32(28,this.h3l),t>=384&&(n.setUint32(32,this.h4h),n.setUint32(36,this.h4l),n.setUint32(40,this.h5h),n.setUint32(44,this.h5l)),512==t&&(n.setUint32(48,this.h6h),n.setUint32(52,this.h6l),n.setUint32(56,this.h7h),n.setUint32(60,this.h7l)),e},k.prototype.clone=function(){var t=new k(this.bits,!1);return this.copyTo(t),t},k.prototype.copyTo=function(t){var e=0,n=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(e=0;e<n.length;++e)t[n[e]]=this[n[e]];for(e=0;e<this.blocks.length;++e)t.blocks[e]=this.blocks[e]},x.prototype=new k,x.prototype.finalize=function(){if(k.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();k.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(t),k.prototype.finalize.call(this)}},x.prototype.clone=function(){var t=new x([],this.bits,!1);this.copyTo(t),t.inner=this.inner;for(var e=0;e<this.oKeyPad.length;++e)t.oKeyPad[e]=this.oKeyPad[e];return t};var E=_(512);E.sha512=E,E.sha384=_(384),E.sha512_256=_(256),E.sha512_224=_(224),E.sha512.hmac=w(512),E.sha384.hmac=w(384),E.sha512_256.hmac=w(256),E.sha512_224.hmac=w(224),u?t.exports=E:(s.sha512=E.sha512,s.sha384=E.sha384,s.sha512_256=E.sha512_256,s.sha512_224=E.sha512_224,c&&(i=function(){return E}.call(E,n,E,t),void 0===i||(t.exports=i)))})()},5580:(t,e,n)=>{var i=n(6110),r=n(9325),o=i(r,"DataView");t.exports=o},1549:(t,e,n)=>{var i=n(2032),r=n(3862),o=n(6721),s=n(2749),a=n(5749);function l(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype["delete"]=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},79:(t,e,n)=>{var i=n(3702),r=n(80),o=n(4739),s=n(8655),a=n(1175);function l(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype["delete"]=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},8223:(t,e,n)=>{var i=n(6110),r=n(9325),o=i(r,"Map");t.exports=o},3661:(t,e,n)=>{var i=n(8278),r=n(7670),o=n(289),s=n(4509),a=n(2949);function l(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype["delete"]=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},2804:(t,e,n)=>{var i=n(6110),r=n(9325),o=i(r,"Promise");t.exports=o},6545:(t,e,n)=>{var i=n(6110),r=n(9325),o=i(r,"Set");t.exports=o},8859:(t,e,n)=>{var i=n(3661),r=n(1380),o=n(1459);function s(t){var e=-1,n=null==t?0:t.length;this.__data__=new i;while(++e<n)this.add(t[e])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,t.exports=s},7217:(t,e,n)=>{var i=n(79),r=n(1420),o=n(938),s=n(3605),a=n(9817),l=n(945);function u(t){var e=this.__data__=new i(t);this.size=e.size}u.prototype.clear=r,u.prototype["delete"]=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=l,t.exports=u},1873:(t,e,n)=>{var i=n(9325),r=i.Symbol;t.exports=r},7828:(t,e,n)=>{var i=n(9325),r=i.Uint8Array;t.exports=r},8303:(t,e,n)=>{var i=n(6110),r=n(9325),o=i(r,"WeakMap");t.exports=o},1033:t=>{function e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=e},9770:t=>{function e(t,e){var n=-1,i=null==t?0:t.length,r=0,o=[];while(++n<i){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}t.exports=e},695:(t,e,n)=>{var i=n(8096),r=n(2428),o=n(6449),s=n(3656),a=n(361),l=n(7167),u=Object.prototype,c=u.hasOwnProperty;function h(t,e){var n=o(t),u=!n&&r(t),h=!n&&!u&&s(t),d=!n&&!u&&!h&&l(t),f=n||u||h||d,p=f?i(t.length,String):[],v=p.length;for(var g in t)!e&&!c.call(t,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,v))||p.push(g);return p}t.exports=h},4528:t=>{function e(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}t.exports=e},4248:t=>{function e(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(e(t[n],n,t))return!0;return!1}t.exports=e},7805:(t,e,n)=>{var i=n(3360),r=n(5288);function o(t,e,n){(void 0!==n&&!r(t[e],n)||void 0===n&&!(e in t))&&i(t,e,n)}t.exports=o},6547:(t,e,n)=>{var i=n(3360),r=n(5288),o=Object.prototype,s=o.hasOwnProperty;function a(t,e,n){var o=t[e];s.call(t,e)&&r(o,n)&&(void 0!==n||e in t)||i(t,e,n)}t.exports=a},6025:(t,e,n)=>{var i=n(5288);function r(t,e){var n=t.length;while(n--)if(i(t[n][0],e))return n;return-1}t.exports=r},3360:(t,e,n)=>{var i=n(3243);function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}t.exports=r},9344:(t,e,n)=>{var i=n(3805),r=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},6649:(t,e,n)=>{var i=n(3221),r=i();t.exports=r},2199:(t,e,n)=>{var i=n(4528),r=n(6449);function o(t,e,n){var o=e(t);return r(t)?o:i(o,n(t))}t.exports=o},2552:(t,e,n)=>{var i=n(1873),r=n(3040),o=n(9350),s="[object Null]",a="[object Undefined]",l=i?i.toStringTag:void 0;function u(t){return null==t?void 0===t?a:s:l&&l in Object(t)?r(t):o(t)}t.exports=u},7534:(t,e,n)=>{var i=n(2552),r=n(346),o="[object Arguments]";function s(t){return r(t)&&i(t)==o}t.exports=s},270:(t,e,n)=>{var i=n(7068),r=n(346);function o(t,e,n,s,a){return t===e||(null==t||null==e||!r(t)&&!r(e)?t!==t&&e!==e:i(t,e,n,s,o,a))}t.exports=o},7068:(t,e,n)=>{var i=n(7217),r=n(5911),o=n(1986),s=n(689),a=n(5861),l=n(6449),u=n(3656),c=n(7167),h=1,d="[object Arguments]",f="[object Array]",p="[object Object]",v=Object.prototype,g=v.hasOwnProperty;function m(t,e,n,v,m,y){var _=l(t),b=l(e),w=_?f:a(t),k=b?f:a(e);w=w==d?p:w,k=k==d?p:k;var x=w==p,E=k==p,S=w==k;if(S&&u(t)){if(!u(e))return!1;_=!0,x=!1}if(S&&!x)return y||(y=new i),_||c(t)?r(t,e,n,v,m,y):o(t,e,w,n,v,m,y);if(!(n&h)){var T=x&&g.call(t,"__wrapped__"),O=E&&g.call(e,"__wrapped__");if(T||O){var C=T?t.value():t,I=O?e.value():e;return y||(y=new i),m(C,I,n,v,y)}}return!!S&&(y||(y=new i),s(t,e,n,v,m,y))}t.exports=m},5083:(t,e,n)=>{var i=n(1882),r=n(7296),o=n(3805),s=n(7473),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,d=c.hasOwnProperty,f=RegExp("^"+h.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(t){if(!o(t)||r(t))return!1;var e=i(t)?f:l;return e.test(s(t))}t.exports=p},7282:(t,e,n)=>{var i=n(2552),r=n(294),o=n(346),s="[object Arguments]",a="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",v="[object RegExp]",g="[object Set]",m="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",k="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",C="[object Uint16Array]",I="[object Uint32Array]",N={};function M(t){return o(t)&&r(t.length)&&!!N[i(t)]}N[w]=N[k]=N[x]=N[E]=N[S]=N[T]=N[O]=N[C]=N[I]=!0,N[s]=N[a]=N[_]=N[l]=N[b]=N[u]=N[c]=N[h]=N[d]=N[f]=N[p]=N[v]=N[g]=N[m]=N[y]=!1,t.exports=M},8984:(t,e,n)=>{var i=n(5527),r=n(1269),o=Object.prototype,s=o.hasOwnProperty;function a(t){if(!i(t))return r(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}t.exports=a},2903:(t,e,n)=>{var i=n(3805),r=n(5527),o=n(181),s=Object.prototype,a=s.hasOwnProperty;function l(t){if(!i(t))return o(t);var e=r(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}t.exports=l},5250:(t,e,n)=>{var i=n(7217),r=n(7805),o=n(6649),s=n(2824),a=n(3805),l=n(7241),u=n(4974);function c(t,e,n,h,d){t!==e&&o(e,(function(o,l){if(d||(d=new i),a(o))s(t,e,l,n,c,h,d);else{var f=h?h(u(t,l),o,l+"",t,e,d):void 0;void 0===f&&(f=o),r(t,l,f)}}),l)}t.exports=c},2824:(t,e,n)=>{var i=n(7805),r=n(3290),o=n(1961),s=n(3007),a=n(5529),l=n(2428),u=n(6449),c=n(3693),h=n(3656),d=n(1882),f=n(3805),p=n(1331),v=n(7167),g=n(4974),m=n(9884);function y(t,e,n,y,_,b,w){var k=g(t,n),x=g(e,n),E=w.get(x);if(E)i(t,n,E);else{var S=b?b(k,x,n+"",t,e,w):void 0,T=void 0===S;if(T){var O=u(x),C=!O&&h(x),I=!O&&!C&&v(x);S=x,O||C||I?u(k)?S=k:c(k)?S=s(k):C?(T=!1,S=r(x,!0)):I?(T=!1,S=o(x,!0)):S=[]:p(x)||l(x)?(S=k,l(k)?S=m(k):f(k)&&!d(k)||(S=a(x))):T=!1}T&&(w.set(x,S),_(S,x,y,b,w),w["delete"](x)),i(t,n,S)}}t.exports=y},9302:(t,e,n)=>{var i=n(3488),r=n(6757),o=n(2865);function s(t,e){return o(r(t,e,i),t+"")}t.exports=s},9570:(t,e,n)=>{var i=n(7334),r=n(3243),o=n(3488),s=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o;t.exports=s},8096:t=>{function e(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}t.exports=e},7301:t=>{function e(t){return function(e){return t(e)}}t.exports=e},9219:t=>{function e(t,e){return t.has(e)}t.exports=e},9653:(t,e,n)=>{var i=n(7828);function r(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}t.exports=r},3290:(t,e,n)=>{t=n.nmd(t);var i=n(9325),r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s?i.Buffer:void 0,l=a?a.allocUnsafe:void 0;function u(t,e){if(e)return t.slice();var n=t.length,i=l?l(n):new t.constructor(n);return t.copy(i),i}t.exports=u},1961:(t,e,n)=>{var i=n(9653);function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}t.exports=r},3007:t=>{function e(t,e){var n=-1,i=t.length;e||(e=Array(i));while(++n<i)e[n]=t[n];return e}t.exports=e},1791:(t,e,n)=>{var i=n(6547),r=n(3360);function o(t,e,n,o){var s=!n;n||(n={});var a=-1,l=e.length;while(++a<l){var u=e[a],c=o?o(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),s?r(n,u,c):i(n,u,c)}return n}t.exports=o},5481:(t,e,n)=>{var i=n(9325),r=i["__core-js_shared__"];t.exports=r},999:(t,e,n)=>{var i=n(9302),r=n(6800);function o(t){return i((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&r(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);while(++i<o){var l=n[i];l&&t(e,l,i,s)}return e}))}t.exports=o},3221:t=>{function e(t){return function(e,n,i){var r=-1,o=Object(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}t.exports=e},3243:(t,e,n)=>{var i=n(6110),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=r},5911:(t,e,n)=>{var i=n(8859),r=n(4248),o=n(9219),s=1,a=2;function l(t,e,n,l,u,c){var h=n&s,d=t.length,f=e.length;if(d!=f&&!(h&&f>d))return!1;var p=c.get(t),v=c.get(e);if(p&&v)return p==e&&v==t;var g=-1,m=!0,y=n&a?new i:void 0;c.set(t,e),c.set(e,t);while(++g<d){var _=t[g],b=e[g];if(l)var w=h?l(b,_,g,e,t,c):l(_,b,g,t,e,c);if(void 0!==w){if(w)continue;m=!1;break}if(y){if(!r(e,(function(t,e){if(!o(y,e)&&(_===t||u(_,t,n,l,c)))return y.push(e)}))){m=!1;break}}else if(_!==b&&!u(_,b,n,l,c)){m=!1;break}}return c["delete"](t),c["delete"](e),m}t.exports=l},1986:(t,e,n)=>{var i=n(1873),r=n(7828),o=n(5288),s=n(5911),a=n(317),l=n(4247),u=1,c=2,h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",v="[object Number]",g="[object RegExp]",m="[object Set]",y="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",k=i?i.prototype:void 0,x=k?k.valueOf:void 0;function E(t,e,n,i,k,E,S){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!E(new r(t),new r(e)));case h:case d:case v:return o(+t,+e);case f:return t.name==e.name&&t.message==e.message;case g:case y:return t==e+"";case p:var T=a;case m:var O=i&u;if(T||(T=l),t.size!=e.size&&!O)return!1;var C=S.get(t);if(C)return C==e;i|=c,S.set(t,e);var I=s(T(t),T(e),i,k,E,S);return S["delete"](t),I;case _:if(x)return x.call(t)==x.call(e)}return!1}t.exports=E},689:(t,e,n)=>{var i=n(2),r=1,o=Object.prototype,s=o.hasOwnProperty;function a(t,e,n,o,a,l){var u=n&r,c=i(t),h=c.length,d=i(e),f=d.length;if(h!=f&&!u)return!1;var p=h;while(p--){var v=c[p];if(!(u?v in e:s.call(e,v)))return!1}var g=l.get(t),m=l.get(e);if(g&&m)return g==e&&m==t;var y=!0;l.set(t,e),l.set(e,t);var _=u;while(++p<h){v=c[p];var b=t[v],w=e[v];if(o)var k=u?o(w,b,v,e,t,l):o(b,w,v,t,e,l);if(!(void 0===k?b===w||a(b,w,n,o,l):k)){y=!1;break}_||(_="constructor"==v)}if(y&&!_){var x=t.constructor,E=e.constructor;x==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof E&&E instanceof E||(y=!1)}return l["delete"](t),l["delete"](e),y}t.exports=a},4840:(t,e,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=i},2:(t,e,n)=>{var i=n(2199),r=n(4664),o=n(5950);function s(t){return i(t,o,r)}t.exports=s},2651:(t,e,n)=>{var i=n(4218);function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}t.exports=r},6110:(t,e,n)=>{var i=n(5083),r=n(392);function o(t,e){var n=r(t,e);return i(n)?n:void 0}t.exports=o},8879:(t,e,n)=>{var i=n(4335),r=i(Object.getPrototypeOf,Object);t.exports=r},3040:(t,e,n)=>{var i=n(1873),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;function l(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(l){}var r=s.call(t);return i&&(e?t[a]=n:delete t[a]),r}t.exports=l},4664:(t,e,n)=>{var i=n(9770),r=n(3345),o=Object.prototype,s=o.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(t){return null==t?[]:(t=Object(t),i(a(t),(function(e){return s.call(t,e)})))}:r;t.exports=l},5861:(t,e,n)=>{var i=n(5580),r=n(8223),o=n(2804),s=n(6545),a=n(8303),l=n(2552),u=n(7473),c="[object Map]",h="[object Object]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",v="[object DataView]",g=u(i),m=u(r),y=u(o),_=u(s),b=u(a),w=l;(i&&w(new i(new ArrayBuffer(1)))!=v||r&&w(new r)!=c||o&&w(o.resolve())!=d||s&&w(new s)!=f||a&&w(new a)!=p)&&(w=function(t){var e=l(t),n=e==h?t.constructor:void 0,i=n?u(n):"";if(i)switch(i){case g:return v;case m:return c;case y:return d;case _:return f;case b:return p}return e}),t.exports=w},392:t=>{function e(t,e){return null==t?void 0:t[e]}t.exports=e},2032:(t,e,n)=>{var i=n(1042);function r(){this.__data__=i?i(null):{},this.size=0}t.exports=r},3862:t=>{function e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=e},6721:(t,e,n)=>{var i=n(1042),r="__lodash_hash_undefined__",o=Object.prototype,s=o.hasOwnProperty;function a(t){var e=this.__data__;if(i){var n=e[t];return n===r?void 0:n}return s.call(e,t)?e[t]:void 0}t.exports=a},2749:(t,e,n)=>{var i=n(1042),r=Object.prototype,o=r.hasOwnProperty;function s(t){var e=this.__data__;return i?void 0!==e[t]:o.call(e,t)}t.exports=s},5749:(t,e,n)=>{var i=n(1042),r="__lodash_hash_undefined__";function o(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?r:e,this}t.exports=o},5529:(t,e,n)=>{var i=n(9344),r=n(8879),o=n(5527);function s(t){return"function"!=typeof t.constructor||o(t)?{}:i(r(t))}t.exports=s},361:t=>{var e=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function i(t,i){var r=typeof t;return i=null==i?e:i,!!i&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<i}t.exports=i},6800:(t,e,n)=>{var i=n(5288),r=n(4894),o=n(361),s=n(3805);function a(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?r(n)&&o(e,n.length):"string"==a&&e in n)&&i(n[e],t)}t.exports=a},4218:t=>{function e(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=e},7296:(t,e,n)=>{var i=n(5481),r=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o(t){return!!r&&r in t}t.exports=o},5527:t=>{var e=Object.prototype;function n(t){var n=t&&t.constructor,i="function"==typeof n&&n.prototype||e;return t===i}t.exports=n},3702:t=>{function e(){this.__data__=[],this.size=0}t.exports=e},80:(t,e,n)=>{var i=n(6025),r=Array.prototype,o=r.splice;function s(t){var e=this.__data__,n=i(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():o.call(e,n,1),--this.size,!0}t.exports=s},4739:(t,e,n)=>{var i=n(6025);function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}t.exports=r},8655:(t,e,n)=>{var i=n(6025);function r(t){return i(this.__data__,t)>-1}t.exports=r},1175:(t,e,n)=>{var i=n(6025);function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}t.exports=r},8278:(t,e,n)=>{var i=n(1549),r=n(79),o=n(8223);function s(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}t.exports=s},7670:(t,e,n)=>{var i=n(2651);function r(t){var e=i(this,t)["delete"](t);return this.size-=e?1:0,e}t.exports=r},289:(t,e,n)=>{var i=n(2651);function r(t){return i(this,t).get(t)}t.exports=r},4509:(t,e,n)=>{var i=n(2651);function r(t){return i(this,t).has(t)}t.exports=r},2949:(t,e,n)=>{var i=n(2651);function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}t.exports=r},317:t=>{function e(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}t.exports=e},1042:(t,e,n)=>{var i=n(6110),r=i(Object,"create");t.exports=r},1269:(t,e,n)=>{var i=n(4335),r=i(Object.keys,Object);t.exports=r},181:t=>{function e(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=e},6009:(t,e,n)=>{t=n.nmd(t);var i=n(4840),r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s&&i.process,l=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=l},9350:t=>{var e=Object.prototype,n=e.toString;function i(t){return n.call(t)}t.exports=i},4335:t=>{function e(t,e){return function(n){return t(e(n))}}t.exports=e},6757:(t,e,n)=>{var i=n(1033),r=Math.max;function o(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){var o=arguments,s=-1,a=r(o.length-e,0),l=Array(a);while(++s<a)l[s]=o[e+s];s=-1;var u=Array(e+1);while(++s<e)u[s]=o[s];return u[e]=n(l),i(t,this,u)}}t.exports=o},9325:(t,e,n)=>{var i=n(4840),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},4974:t=>{function e(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}t.exports=e},1380:t=>{var e="__lodash_hash_undefined__";function n(t){return this.__data__.set(t,e),this}t.exports=n},1459:t=>{function e(t){return this.__data__.has(t)}t.exports=e},4247:t=>{function e(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}t.exports=e},2865:(t,e,n)=>{var i=n(9570),r=n(1811),o=r(i);t.exports=o},1811:t=>{var e=800,n=16,i=Date.now;function r(t){var r=0,o=0;return function(){var s=i(),a=n-(s-o);if(o=s,a>0){if(++r>=e)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}t.exports=r},1420:(t,e,n)=>{var i=n(79);function r(){this.__data__=new i,this.size=0}t.exports=r},938:t=>{function e(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}t.exports=e},3605:t=>{function e(t){return this.__data__.get(t)}t.exports=e},9817:t=>{function e(t){return this.__data__.has(t)}t.exports=e},945:(t,e,n)=>{var i=n(79),r=n(8223),o=n(3661),s=200;function a(t,e){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<s-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}t.exports=a},7473:t=>{var e=Function.prototype,n=e.toString;function i(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}t.exports=i},7334:t=>{function e(t){return function(){return t}}t.exports=e},5288:t=>{function e(t,e){return t===e||t!==t&&e!==e}t.exports=e},3488:t=>{function e(t){return t}t.exports=e},2428:(t,e,n)=>{var i=n(7534),r=n(346),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return r(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},6449:t=>{var e=Array.isArray;t.exports=e},4894:(t,e,n)=>{var i=n(1882),r=n(294);function o(t){return null!=t&&r(t.length)&&!i(t)}t.exports=o},3693:(t,e,n)=>{var i=n(4894),r=n(346);function o(t){return r(t)&&i(t)}t.exports=o},3656:(t,e,n)=>{t=n.nmd(t);var i=n(9325),r=n(9935),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?i.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||r;t.exports=c},2404:(t,e,n)=>{var i=n(270);function r(t,e){return i(t,e)}t.exports=r},1882:(t,e,n)=>{var i=n(2552),r=n(3805),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function u(t){if(!r(t))return!1;var e=i(t);return e==s||e==a||e==o||e==l}t.exports=u},294:t=>{var e=9007199254740991;function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}t.exports=n},3805:t=>{function e(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=e},346:t=>{function e(t){return null!=t&&"object"==typeof t}t.exports=e},1331:(t,e,n)=>{var i=n(2552),r=n(8879),o=n(346),s="[object Object]",a=Function.prototype,l=Object.prototype,u=a.toString,c=l.hasOwnProperty,h=u.call(Object);function d(t){if(!o(t)||i(t)!=s)return!1;var e=r(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h}t.exports=d},7167:(t,e,n)=>{var i=n(7282),r=n(7301),o=n(6009),s=o&&o.isTypedArray,a=s?r(s):i;t.exports=a},5950:(t,e,n)=>{var i=n(695),r=n(8984),o=n(4894);function s(t){return o(t)?i(t):r(t)}t.exports=s},7241:(t,e,n)=>{var i=n(695),r=n(2903),o=n(4894);function s(t){return o(t)?i(t,!0):r(t)}t.exports=s},2543:function(t,e,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */t=n.nmd(t),function(){var r,o="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",f=1,p=2,v=4,g=1,m=2,y=1,_=2,b=4,w=8,k=16,x=32,E=64,S=128,T=256,O=512,C=30,I="...",N=800,M=16,A=1,D=2,P=3,R=1/0,L=9007199254740991,F=17976931348623157e292,j=NaN,z=4294967295,B=z-1,U=z>>>1,H=[["ary",S],["bind",y],["bindKey",_],["curry",w],["curryRight",k],["flip",O],["partial",x],["partialRight",E],["rearg",T]],W="[object Arguments]",Y="[object Array]",V="[object AsyncFunction]",G="[object Boolean]",$="[object Date]",q="[object DOMException]",K="[object Error]",Z="[object Function]",X="[object GeneratorFunction]",Q="[object Map]",J="[object Number]",tt="[object Null]",et="[object Object]",nt="[object Promise]",it="[object Proxy]",rt="[object RegExp]",ot="[object Set]",st="[object String]",at="[object Symbol]",lt="[object Undefined]",ut="[object WeakMap]",ct="[object WeakSet]",ht="[object ArrayBuffer]",dt="[object DataView]",ft="[object Float32Array]",pt="[object Float64Array]",vt="[object Int8Array]",gt="[object Int16Array]",mt="[object Int32Array]",yt="[object Uint8Array]",_t="[object Uint8ClampedArray]",bt="[object Uint16Array]",wt="[object Uint32Array]",kt=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,Et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,Ot=RegExp(St.source),Ct=RegExp(Tt.source),It=/<%-([\s\S]+?)%>/g,Nt=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dt=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(Rt.source),Ft=/^\s+/,jt=/\s/,zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ut=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/[()=,{}\[\]\/\s]/,Yt=/\\(\\)?/g,Vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gt=/\w*$/,$t=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Kt=/^\[object .+?Constructor\]$/,Zt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,te=/['\n\r\u2028\u2029\\]/g,ee="\\ud800-\\udfff",ne="\\u0300-\\u036f",ie="\\ufe20-\\ufe2f",re="\\u20d0-\\u20ff",oe=ne+ie+re,se="\\u2700-\\u27bf",ae="a-z\\xdf-\\xf6\\xf8-\\xff",le="\\xac\\xb1\\xd7\\xf7",ue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ce="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="A-Z\\xc0-\\xd6\\xd8-\\xde",fe="\\ufe0e\\ufe0f",pe=le+ue+ce+he,ve="['‚Äô]",ge="["+ee+"]",me="["+pe+"]",ye="["+oe+"]",_e="\\d+",be="["+se+"]",we="["+ae+"]",ke="[^"+ee+pe+_e+se+ae+de+"]",xe="\\ud83c[\\udffb-\\udfff]",Ee="(?:"+ye+"|"+xe+")",Se="[^"+ee+"]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="["+de+"]",Ie="\\u200d",Ne="(?:"+we+"|"+ke+")",Me="(?:"+Ce+"|"+ke+")",Ae="(?:"+ve+"(?:d|ll|m|re|s|t|ve))?",De="(?:"+ve+"(?:D|LL|M|RE|S|T|VE))?",Pe=Ee+"?",Re="["+fe+"]?",Le="(?:"+Ie+"(?:"+[Se,Te,Oe].join("|")+")"+Re+Pe+")*",Fe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ze=Re+Pe+Le,Be="(?:"+[be,Te,Oe].join("|")+")"+ze,Ue="(?:"+[Se+ye+"?",ye,Te,Oe,ge].join("|")+")",He=RegExp(ve,"g"),We=RegExp(ye,"g"),Ye=RegExp(xe+"(?="+xe+")|"+Ue+ze,"g"),Ve=RegExp([Ce+"?"+we+"+"+Ae+"(?="+[me,Ce,"$"].join("|")+")",Me+"+"+De+"(?="+[me,Ce+Ne,"$"].join("|")+")",Ce+"?"+Ne+"+"+Ae,Ce+"+"+De,je,Fe,_e,Be].join("|"),"g"),Ge=RegExp("["+Ie+ee+oe+fe+"]"),$e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ke=-1,Ze={};Ze[ft]=Ze[pt]=Ze[vt]=Ze[gt]=Ze[mt]=Ze[yt]=Ze[_t]=Ze[bt]=Ze[wt]=!0,Ze[W]=Ze[Y]=Ze[ht]=Ze[G]=Ze[dt]=Ze[$]=Ze[K]=Ze[Z]=Ze[Q]=Ze[J]=Ze[et]=Ze[rt]=Ze[ot]=Ze[st]=Ze[ut]=!1;var Xe={};Xe[W]=Xe[Y]=Xe[ht]=Xe[dt]=Xe[G]=Xe[$]=Xe[ft]=Xe[pt]=Xe[vt]=Xe[gt]=Xe[mt]=Xe[Q]=Xe[J]=Xe[et]=Xe[rt]=Xe[ot]=Xe[st]=Xe[at]=Xe[yt]=Xe[_t]=Xe[bt]=Xe[wt]=!0,Xe[K]=Xe[Z]=Xe[ut]=!1;var Qe={√Ä:"A",√Å:"A",√Ç:"A",√É:"A",√Ñ:"A",√Ö:"A",√†:"a",√°:"a",√¢:"a",√£:"a",√§:"a",√•:"a",√á:"C",√ß:"c",√ê:"D",√∞:"d",√à:"E",√â:"E",√ä:"E",√ã:"E",√®:"e",√©:"e",√™:"e",√´:"e",√å:"I",√ç:"I",√é:"I",√è:"I",√¨:"i",√≠:"i",√Æ:"i",√Ø:"i",√ë:"N",√±:"n",√í:"O",√ì:"O",√î:"O",√ï:"O",√ñ:"O",√ò:"O",√≤:"o",√≥:"o",√¥:"o",√µ:"o",√∂:"o",√∏:"o",√ô:"U",√ö:"U",√õ:"U",√ú:"U",√π:"u",√∫:"u",√ª:"u",√º:"u",√ù:"Y",√Ω:"y",√ø:"y",√Ü:"Ae",√¶:"ae",√û:"Th",√æ:"th",√ü:"ss",ƒÄ:"A",ƒÇ:"A",ƒÑ:"A",ƒÅ:"a",ƒÉ:"a",ƒÖ:"a",ƒÜ:"C",ƒà:"C",ƒä:"C",ƒå:"C",ƒá:"c",ƒâ:"c",ƒã:"c",ƒç:"c",ƒé:"D",ƒê:"D",ƒè:"d",ƒë:"d",ƒí:"E",ƒî:"E",ƒñ:"E",ƒò:"E",ƒö:"E",ƒì:"e",ƒï:"e",ƒó:"e",ƒô:"e",ƒõ:"e",ƒú:"G",ƒû:"G",ƒ†:"G",ƒ¢:"G",ƒù:"g",ƒü:"g",ƒ°:"g",ƒ£:"g",ƒ§:"H",ƒ¶:"H",ƒ•:"h",ƒß:"h",ƒ®:"I",ƒ™:"I",ƒ¨:"I",ƒÆ:"I",ƒ∞:"I",ƒ©:"i",ƒ´:"i",ƒ≠:"i",ƒØ:"i",ƒ±:"i",ƒ¥:"J",ƒµ:"j",ƒ∂:"K",ƒ∑:"k",ƒ∏:"k",ƒπ:"L",ƒª:"L",ƒΩ:"L",ƒø:"L",≈Å:"L",ƒ∫:"l",ƒº:"l",ƒæ:"l",≈Ä:"l",≈Ç:"l",≈É:"N",≈Ö:"N",≈á:"N",≈ä:"N",≈Ñ:"n",≈Ü:"n",≈à:"n",≈ã:"n",≈å:"O",≈é:"O",≈ê:"O",≈ç:"o",≈è:"o",≈ë:"o",≈î:"R",≈ñ:"R",≈ò:"R",≈ï:"r",≈ó:"r",≈ô:"r",≈ö:"S",≈ú:"S",≈û:"S",≈†:"S",≈õ:"s",≈ù:"s",≈ü:"s",≈°:"s",≈¢:"T",≈§:"T",≈¶:"T",≈£:"t",≈•:"t",≈ß:"t",≈®:"U",≈™:"U",≈¨:"U",≈Æ:"U",≈∞:"U",≈≤:"U",≈©:"u",≈´:"u",≈≠:"u",≈Ø:"u",≈±:"u",≈≥:"u",≈¥:"W",≈µ:"w",≈∂:"Y",≈∑:"y",≈∏:"Y",≈π:"Z",≈ª:"Z",≈Ω:"Z",≈∫:"z",≈º:"z",≈æ:"z",ƒ≤:"IJ",ƒ≥:"ij",≈í:"Oe",≈ì:"oe",≈â:"'n",≈ø:"s"},Je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,on="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,sn="object"==typeof self&&self&&self.Object===Object&&self,an=on||sn||Function("return this")(),ln=e&&!e.nodeType&&e,un=ln&&t&&!t.nodeType&&t,cn=un&&un.exports===ln,hn=cn&&on.process,dn=function(){try{var t=un&&un.require&&un.require("util").types;return t||hn&&hn.binding&&hn.binding("util")}catch(e){}}(),fn=dn&&dn.isArrayBuffer,pn=dn&&dn.isDate,vn=dn&&dn.isMap,gn=dn&&dn.isRegExp,mn=dn&&dn.isSet,yn=dn&&dn.isTypedArray;function _n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function bn(t,e,n,i){var r=-1,o=null==t?0:t.length;while(++r<o){var s=t[r];e(i,s,n(s),t)}return i}function wn(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(!1===e(t[n],n,t))break;return t}function kn(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}function xn(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(!e(t[n],n,t))return!1;return!0}function En(t,e){var n=-1,i=null==t?0:t.length,r=0,o=[];while(++n<i){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function Sn(t,e){var n=null==t?0:t.length;return!!n&&Fn(t,e,0)>-1}function Tn(t,e,n){var i=-1,r=null==t?0:t.length;while(++i<r)if(n(e,t[i]))return!0;return!1}function On(t,e){var n=-1,i=null==t?0:t.length,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}function Cn(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}function In(t,e,n,i){var r=-1,o=null==t?0:t.length;i&&o&&(n=t[++r]);while(++r<o)n=e(n,t[r],r,t);return n}function Nn(t,e,n,i){var r=null==t?0:t.length;i&&r&&(n=t[--r]);while(r--)n=e(n,t[r],r,t);return n}function Mn(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(e(t[n],n,t))return!0;return!1}var An=Un("length");function Dn(t){return t.split("")}function Pn(t){return t.match(Ht)||[]}function Rn(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Ln(t,e,n,i){var r=t.length,o=n+(i?1:-1);while(i?o--:++o<r)if(e(t[o],o,t))return o;return-1}function Fn(t,e,n){return e===e?fi(t,e,n):Ln(t,zn,n)}function jn(t,e,n,i){var r=n-1,o=t.length;while(++r<o)if(i(t[r],e))return r;return-1}function zn(t){return t!==t}function Bn(t,e){var n=null==t?0:t.length;return n?Vn(t,e)/n:j}function Un(t){return function(e){return null==e?r:e[t]}}function Hn(t){return function(e){return null==t?r:t[e]}}function Wn(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Yn(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function Vn(t,e){var n,i=-1,o=t.length;while(++i<o){var s=e(t[i]);s!==r&&(n=n===r?s:n+s)}return n}function Gn(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function $n(t,e){return On(e,(function(e){return[e,t[e]]}))}function qn(t){return t?t.slice(0,mi(t)+1).replace(Ft,""):t}function Kn(t){return function(e){return t(e)}}function Zn(t,e){return On(e,(function(e){return t[e]}))}function Xn(t,e){return t.has(e)}function Qn(t,e){var n=-1,i=t.length;while(++n<i&&Fn(e,t[n],0)>-1);return n}function Jn(t,e){var n=t.length;while(n--&&Fn(e,t[n],0)>-1);return n}function ti(t,e){var n=t.length,i=0;while(n--)t[n]===e&&++i;return i}var ei=Hn(Qe),ni=Hn(Je);function ii(t){return"\\"+en[t]}function ri(t,e){return null==t?r:t[e]}function oi(t){return Ge.test(t)}function si(t){return $e.test(t)}function ai(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}function li(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function ui(t,e){return function(n){return t(e(n))}}function ci(t,e){var n=-1,i=t.length,r=0,o=[];while(++n<i){var s=t[n];s!==e&&s!==d||(t[n]=d,o[r++]=n)}return o}function hi(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function di(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function fi(t,e,n){var i=n-1,r=t.length;while(++i<r)if(t[i]===e)return i;return-1}function pi(t,e,n){var i=n+1;while(i--)if(t[i]===e)return i;return i}function vi(t){return oi(t)?_i(t):An(t)}function gi(t){return oi(t)?bi(t):Dn(t)}function mi(t){var e=t.length;while(e--&&jt.test(t.charAt(e)));return e}var yi=Hn(tn);function _i(t){var e=Ye.lastIndex=0;while(Ye.test(t))++e;return e}function bi(t){return t.match(Ye)||[]}function wi(t){return t.match(Ve)||[]}var ki=function t(e){e=null==e?an:xi.defaults(an.Object(),e,xi.pick(an,qe));var n=e.Array,i=e.Date,jt=e.Error,Ht=e.Function,ee=e.Math,ne=e.Object,ie=e.RegExp,re=e.String,oe=e.TypeError,se=n.prototype,ae=Ht.prototype,le=ne.prototype,ue=e["__core-js_shared__"],ce=ae.toString,he=le.hasOwnProperty,de=0,fe=function(){var t=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=le.toString,ve=ce.call(ne),ge=an._,me=ie("^"+ce.call(he).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=cn?e.Buffer:r,_e=e.Symbol,be=e.Uint8Array,we=ye?ye.allocUnsafe:r,ke=ui(ne.getPrototypeOf,ne),xe=ne.create,Ee=le.propertyIsEnumerable,Se=se.splice,Te=_e?_e.isConcatSpreadable:r,Oe=_e?_e.iterator:r,Ce=_e?_e.toStringTag:r,Ie=function(){try{var t=$s(ne,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ne=e.clearTimeout!==an.clearTimeout&&e.clearTimeout,Me=i&&i.now!==an.Date.now&&i.now,Ae=e.setTimeout!==an.setTimeout&&e.setTimeout,De=ee.ceil,Pe=ee.floor,Re=ne.getOwnPropertySymbols,Le=ye?ye.isBuffer:r,Fe=e.isFinite,je=se.join,ze=ui(ne.keys,ne),Be=ee.max,Ue=ee.min,Ye=i.now,Ve=e.parseInt,Ge=ee.random,$e=se.reverse,Qe=$s(e,"DataView"),Je=$s(e,"Map"),tn=$s(e,"Promise"),en=$s(e,"Set"),on=$s(e,"WeakMap"),sn=$s(ne,"create"),ln=on&&new on,un={},hn=Aa(Qe),dn=Aa(Je),An=Aa(tn),Dn=Aa(en),Hn=Aa(on),fi=_e?_e.prototype:r,_i=fi?fi.valueOf:r,bi=fi?fi.toString:r;function ki(t){if(Sc(t)&&!lc(t)&&!(t instanceof Oi)){if(t instanceof Ti)return t;if(he.call(t,"__wrapped__"))return Pa(t)}return new Ti(t)}var Ei=function(){function t(){}return function(e){if(!Ec(e))return{};if(xe)return xe(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Si(){}function Ti(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Oi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function Ci(){var t=new Oi(this.__wrapped__);return t.__actions__=rs(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rs(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rs(this.__views__),t}function Ii(){if(this.__filtered__){var t=new Oi(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ni(){var t=this.__wrapped__.value(),e=this.__dir__,n=lc(t),i=e<0,r=n?t.length:0,o=Qs(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,f=Ue(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return zo(t,this.__actions__);var p=[];t:while(l--&&d<f){u+=e;var v=-1,g=t[u];while(++v<h){var m=c[v],y=m.iteratee,_=m.type,b=y(g);if(_==D)g=b;else if(!b){if(_==A)continue t;break t}}p[d++]=g}return p}function Mi(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Ai(){this.__data__=sn?sn(null):{},this.size=0}function Di(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Pi(t){var e=this.__data__;if(sn){var n=e[t];return n===c?r:n}return he.call(e,t)?e[t]:r}function Ri(t){var e=this.__data__;return sn?e[t]!==r:he.call(e,t)}function Li(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sn&&e===r?c:e,this}function Fi(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function ji(){this.__data__=[],this.size=0}function zi(t){var e=this.__data__,n=cr(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Se.call(e,n,1),--this.size,!0}function Bi(t){var e=this.__data__,n=cr(e,t);return n<0?r:e[n][1]}function Ui(t){return cr(this.__data__,t)>-1}function Hi(t,e){var n=this.__data__,i=cr(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Wi(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Yi(){this.size=0,this.__data__={hash:new Mi,map:new(Je||Fi),string:new Mi}}function Vi(t){var e=Vs(this,t)["delete"](t);return this.size-=e?1:0,e}function Gi(t){return Vs(this,t).get(t)}function $i(t){return Vs(this,t).has(t)}function qi(t,e){var n=Vs(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Ki(t){var e=-1,n=null==t?0:t.length;this.__data__=new Wi;while(++e<n)this.add(t[e])}function Zi(t){return this.__data__.set(t,c),this}function Xi(t){return this.__data__.has(t)}function Qi(t){var e=this.__data__=new Fi(t);this.size=e.size}function Ji(){this.__data__=new Fi,this.size=0}function tr(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function er(t){return this.__data__.get(t)}function nr(t){return this.__data__.has(t)}function ir(t,e){var n=this.__data__;if(n instanceof Fi){var i=n.__data__;if(!Je||i.length<s-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wi(i)}return n.set(t,e),this.size=n.size,this}function rr(t,e){var n=lc(t),i=!n&&ac(t),r=!n&&!i&&fc(t),o=!n&&!i&&!r&&Bc(t),s=n||i||r||o,a=s?Gn(t.length,re):[],l=a.length;for(var u in t)!e&&!he.call(t,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||sa(u,l))||a.push(u);return a}function or(t){var e=t.length;return e?t[yo(0,e-1)]:r}function sr(t,e){return Ia(rs(t),gr(e,0,t.length))}function ar(t){return Ia(rs(t))}function lr(t,e,n){(n!==r&&!rc(t[e],n)||n===r&&!(e in t))&&pr(t,e,n)}function ur(t,e,n){var i=t[e];he.call(t,e)&&rc(i,n)&&(n!==r||e in t)||pr(t,e,n)}function cr(t,e){var n=t.length;while(n--)if(rc(t[n][0],e))return n;return-1}function hr(t,e,n,i){return kr(t,(function(t,r,o){e(i,t,n(t),o)})),i}function dr(t,e){return t&&os(e,kh(e),t)}function fr(t,e){return t&&os(e,xh(e),t)}function pr(t,e,n){"__proto__"==e&&Ie?Ie(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vr(t,e){var i=-1,o=e.length,s=n(o),a=null==t;while(++i<o)s[i]=a?r:gh(t,e[i]);return s}function gr(t,e,n){return t===t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function mr(t,e,n,i,o,s){var a,l=e&f,u=e&p,c=e&v;if(n&&(a=o?n(t,i,o,s):n(t)),a!==r)return a;if(!Ec(t))return t;var h=lc(t);if(h){if(a=ea(t),!l)return rs(t,a)}else{var d=Xs(t),g=d==Z||d==X;if(fc(t))return qo(t,l);if(d==et||d==W||g&&!o){if(a=u||g?{}:na(t),!l)return u?as(t,fr(a,t)):ss(t,dr(a,t))}else{if(!Xe[d])return o?t:{};a=ia(t,d,l)}}s||(s=new Qi);var m=s.get(t);if(m)return m;s.set(t,a),Fc(t)?t.forEach((function(i){a.add(mr(i,e,n,i,t,s))})):Tc(t)&&t.forEach((function(i,r){a.set(r,mr(i,e,n,r,t,s))}));var y=c?u?Bs:zs:u?xh:kh,_=h?r:y(t);return wn(_||t,(function(i,r){_&&(r=i,i=t[r]),ur(a,r,mr(i,e,n,r,t,s))})),a}function yr(t){var e=kh(t);return function(n){return _r(n,t,e)}}function _r(t,e,n){var i=n.length;if(null==t)return!i;t=ne(t);while(i--){var o=n[i],s=e[o],a=t[o];if(a===r&&!(o in t)||!s(a))return!1}return!0}function br(t,e,n){if("function"!=typeof t)throw new oe(l);return Sa((function(){t.apply(r,n)}),e)}function wr(t,e,n,i){var r=-1,o=Sn,a=!0,l=t.length,u=[],c=e.length;if(!l)return u;n&&(e=On(e,Kn(n))),i?(o=Tn,a=!1):e.length>=s&&(o=Xn,a=!1,e=new Ki(e));t:while(++r<l){var h=t[r],d=null==n?h:n(h);if(h=i||0!==h?h:0,a&&d===d){var f=c;while(f--)if(e[f]===d)continue t;u.push(h)}else o(e,d,i)||u.push(h)}return u}ki.templateSettings={escape:It,evaluate:Nt,interpolate:Mt,variable:"",imports:{_:ki}},ki.prototype=Si.prototype,ki.prototype.constructor=ki,Ti.prototype=Ei(Si.prototype),Ti.prototype.constructor=Ti,Oi.prototype=Ei(Si.prototype),Oi.prototype.constructor=Oi,Mi.prototype.clear=Ai,Mi.prototype["delete"]=Di,Mi.prototype.get=Pi,Mi.prototype.has=Ri,Mi.prototype.set=Li,Fi.prototype.clear=ji,Fi.prototype["delete"]=zi,Fi.prototype.get=Bi,Fi.prototype.has=Ui,Fi.prototype.set=Hi,Wi.prototype.clear=Yi,Wi.prototype["delete"]=Vi,Wi.prototype.get=Gi,Wi.prototype.has=$i,Wi.prototype.set=qi,Ki.prototype.add=Ki.prototype.push=Zi,Ki.prototype.has=Xi,Qi.prototype.clear=Ji,Qi.prototype["delete"]=tr,Qi.prototype.get=er,Qi.prototype.has=nr,Qi.prototype.set=ir;var kr=cs(Mr),xr=cs(Ar,!0);function Er(t,e){var n=!0;return kr(t,(function(t,i,r){return n=!!e(t,i,r),n})),n}function Sr(t,e,n){var i=-1,o=t.length;while(++i<o){var s=t[i],a=e(s);if(null!=a&&(l===r?a===a&&!zc(a):n(a,l)))var l=a,u=s}return u}function Tr(t,e,n,i){var o=t.length;n=qc(n),n<0&&(n=-n>o?0:o+n),i=i===r||i>o?o:qc(i),i<0&&(i+=o),i=n>i?0:Kc(i);while(n<i)t[n++]=e;return t}function Or(t,e){var n=[];return kr(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function Cr(t,e,n,i,r){var o=-1,s=t.length;n||(n=oa),r||(r=[]);while(++o<s){var a=t[o];e>0&&n(a)?e>1?Cr(a,e-1,n,i,r):Cn(r,a):i||(r[r.length]=a)}return r}var Ir=hs(),Nr=hs(!0);function Mr(t,e){return t&&Ir(t,e,kh)}function Ar(t,e){return t&&Nr(t,e,kh)}function Dr(t,e){return En(e,(function(e){return wc(t[e])}))}function Pr(t,e){e=Yo(e,t);var n=0,i=e.length;while(null!=t&&n<i)t=t[Ma(e[n++])];return n&&n==i?t:r}function Rr(t,e,n){var i=e(t);return lc(t)?i:Cn(i,n(t))}function Lr(t){return null==t?t===r?lt:tt:Ce&&Ce in ne(t)?qs(t):_a(t)}function Fr(t,e){return t>e}function jr(t,e){return null!=t&&he.call(t,e)}function zr(t,e){return null!=t&&e in ne(t)}function Br(t,e,n){return t>=Ue(e,n)&&t<Be(e,n)}function Ur(t,e,i){var o=i?Tn:Sn,s=t[0].length,a=t.length,l=a,u=n(a),c=1/0,h=[];while(l--){var d=t[l];l&&e&&(d=On(d,Kn(e))),c=Ue(d.length,c),u[l]=!i&&(e||s>=120&&d.length>=120)?new Ki(l&&d):r}d=t[0];var f=-1,p=u[0];t:while(++f<s&&h.length<c){var v=d[f],g=e?e(v):v;if(v=i||0!==v?v:0,!(p?Xn(p,g):o(h,g,i))){l=a;while(--l){var m=u[l];if(!(m?Xn(m,g):o(t[l],g,i)))continue t}p&&p.push(g),h.push(v)}}return h}function Hr(t,e,n,i){return Mr(t,(function(t,r,o){e(i,n(t),r,o)})),i}function Wr(t,e,n){e=Yo(e,t),t=wa(t,e);var i=null==t?t:t[Ma(ol(e))];return null==i?r:_n(i,t,n)}function Yr(t){return Sc(t)&&Lr(t)==W}function Vr(t){return Sc(t)&&Lr(t)==ht}function Gr(t){return Sc(t)&&Lr(t)==$}function $r(t,e,n,i,r){return t===e||(null==t||null==e||!Sc(t)&&!Sc(e)?t!==t&&e!==e:qr(t,e,n,i,$r,r))}function qr(t,e,n,i,r,o){var s=lc(t),a=lc(e),l=s?Y:Xs(t),u=a?Y:Xs(e);l=l==W?et:l,u=u==W?et:u;var c=l==et,h=u==et,d=l==u;if(d&&fc(t)){if(!fc(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Qi),s||Bc(t)?Rs(t,e,n,i,r,o):Ls(t,e,l,n,i,r,o);if(!(n&g)){var f=c&&he.call(t,"__wrapped__"),p=h&&he.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,m=p?e.value():e;return o||(o=new Qi),r(v,m,n,i,o)}}return!!d&&(o||(o=new Qi),Fs(t,e,n,i,r,o))}function Kr(t){return Sc(t)&&Xs(t)==Q}function Zr(t,e,n,i){var o=n.length,s=o,a=!i;if(null==t)return!s;t=ne(t);while(o--){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++o<s){l=n[o];var u=l[0],c=t[u],h=l[1];if(a&&l[2]){if(c===r&&!(u in t))return!1}else{var d=new Qi;if(i)var f=i(c,h,u,t,e,d);if(!(f===r?$r(h,c,g|m,i,d):f))return!1}}return!0}function Xr(t){if(!Ec(t)||ha(t))return!1;var e=wc(t)?me:Kt;return e.test(Aa(t))}function Qr(t){return Sc(t)&&Lr(t)==rt}function Jr(t){return Sc(t)&&Xs(t)==ot}function to(t){return Sc(t)&&xc(t.length)&&!!Ze[Lr(t)]}function eo(t){return"function"==typeof t?t:null==t?Nd:"object"==typeof t?lc(t)?ao(t[0],t[1]):so(t):Wd(t)}function no(t){if(!fa(t))return ze(t);var e=[];for(var n in ne(t))he.call(t,n)&&"constructor"!=n&&e.push(n);return e}function io(t){if(!Ec(t))return ya(t);var e=fa(t),n=[];for(var i in t)("constructor"!=i||!e&&he.call(t,i))&&n.push(i);return n}function ro(t,e){return t<e}function oo(t,e){var i=-1,r=cc(t)?n(t.length):[];return kr(t,(function(t,n,o){r[++i]=e(t,n,o)})),r}function so(t){var e=Gs(t);return 1==e.length&&e[0][2]?va(e[0][0],e[0][1]):function(n){return n===t||Zr(n,t,e)}}function ao(t,e){return la(t)&&pa(e)?va(Ma(t),e):function(n){var i=gh(n,t);return i===r&&i===e?yh(n,t):$r(e,i,g|m)}}function lo(t,e,n,i,o){t!==e&&Ir(e,(function(s,a){if(o||(o=new Qi),Ec(s))uo(t,e,a,n,lo,i,o);else{var l=i?i(xa(t,a),s,a+"",t,e,o):r;l===r&&(l=s),lr(t,a,l)}}),xh)}function uo(t,e,n,i,o,s,a){var l=xa(t,n),u=xa(e,n),c=a.get(u);if(c)lr(t,n,c);else{var h=s?s(l,u,n+"",t,e,a):r,d=h===r;if(d){var f=lc(u),p=!f&&fc(u),v=!f&&!p&&Bc(u);h=u,f||p||v?lc(l)?h=l:hc(l)?h=rs(l):p?(d=!1,h=qo(u,!0)):v?(d=!1,h=Jo(u,!0)):h=[]:Pc(u)||ac(u)?(h=l,ac(l)?h=Xc(l):Ec(l)&&!wc(l)||(h=na(u))):d=!1}d&&(a.set(u,h),o(h,u,i,s,a),a["delete"](u)),lr(t,n,h)}}function co(t,e){var n=t.length;if(n)return e+=e<0?n:0,sa(e,n)?t[e]:r}function ho(t,e,n){e=e.length?On(e,(function(t){return lc(t)?function(e){return Pr(e,1===t.length?t[0]:t)}:t})):[Nd];var i=-1;e=On(e,Kn(Ys()));var r=oo(t,(function(t,n,r){var o=On(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return Yn(r,(function(t,e){return es(t,e,n)}))}function fo(t,e){return po(t,e,(function(e,n){return yh(t,n)}))}function po(t,e,n){var i=-1,r=e.length,o={};while(++i<r){var s=e[i],a=Pr(t,s);n(a,s)&&Eo(o,Yo(s,t),a)}return o}function vo(t){return function(e){return Pr(e,t)}}function go(t,e,n,i){var r=i?jn:Fn,o=-1,s=e.length,a=t;t===e&&(e=rs(e)),n&&(a=On(t,Kn(n)));while(++o<s){var l=0,u=e[o],c=n?n(u):u;while((l=r(a,c,l,i))>-1)a!==t&&Se.call(a,l,1),Se.call(t,l,1)}return t}function mo(t,e){var n=t?e.length:0,i=n-1;while(n--){var r=e[n];if(n==i||r!==o){var o=r;sa(r)?Se.call(t,r,1):Lo(t,r)}}return t}function yo(t,e){return t+Pe(Ge()*(e-t+1))}function _o(t,e,i,r){var o=-1,s=Be(De((e-t)/(i||1)),0),a=n(s);while(s--)a[r?s:++o]=t,t+=i;return a}function bo(t,e){var n="";if(!t||e<1||e>L)return n;do{e%2&&(n+=t),e=Pe(e/2),e&&(t+=t)}while(e);return n}function wo(t,e){return Ta(ba(t,e,Nd),t+"")}function ko(t){return or(Uh(t))}function xo(t,e){var n=Uh(t);return Ia(n,gr(e,0,n.length))}function Eo(t,e,n,i){if(!Ec(t))return t;e=Yo(e,t);var o=-1,s=e.length,a=s-1,l=t;while(null!=l&&++o<s){var u=Ma(e[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var h=l[u];c=i?i(h,u,l):r,c===r&&(c=Ec(h)?h:sa(e[o+1])?[]:{})}ur(l,u,c),l=l[u]}return t}var So=ln?function(t,e){return ln.set(t,e),t}:Nd,To=Ie?function(t,e){return Ie(t,"toString",{configurable:!0,enumerable:!1,value:Td(e),writable:!0})}:Nd;function Oo(t){return Ia(Uh(t))}function Co(t,e,i){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),i=i>o?o:i,i<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;var s=n(o);while(++r<o)s[r]=t[r+e];return s}function Io(t,e){var n;return kr(t,(function(t,i,r){return n=e(t,i,r),!n})),!!n}function No(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=U){while(i<r){var o=i+r>>>1,s=t[o];null!==s&&!zc(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return Mo(t,e,Nd,n)}function Mo(t,e,n,i){var o=0,s=null==t?0:t.length;if(0===s)return 0;e=n(e);var a=e!==e,l=null===e,u=zc(e),c=e===r;while(o<s){var h=Pe((o+s)/2),d=n(t[h]),f=d!==r,p=null===d,v=d===d,g=zc(d);if(a)var m=i||v;else m=c?v&&(i||f):l?v&&f&&(i||!p):u?v&&f&&!p&&(i||!g):!p&&!g&&(i?d<=e:d<e);m?o=h+1:s=h}return Ue(s,B)}function Ao(t,e){var n=-1,i=t.length,r=0,o=[];while(++n<i){var s=t[n],a=e?e(s):s;if(!n||!rc(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function Do(t){return"number"==typeof t?t:zc(t)?j:+t}function Po(t){if("string"==typeof t)return t;if(lc(t))return On(t,Po)+"";if(zc(t))return bi?bi.call(t):"";var e=t+"";return"0"==e&&1/t==-R?"-0":e}function Ro(t,e,n){var i=-1,r=Sn,o=t.length,a=!0,l=[],u=l;if(n)a=!1,r=Tn;else if(o>=s){var c=e?null:Is(t);if(c)return hi(c);a=!1,r=Xn,u=new Ki}else u=e?[]:l;t:while(++i<o){var h=t[i],d=e?e(h):h;if(h=n||0!==h?h:0,a&&d===d){var f=u.length;while(f--)if(u[f]===d)continue t;e&&u.push(d),l.push(h)}else r(u,d,n)||(u!==l&&u.push(d),l.push(h))}return l}function Lo(t,e){return e=Yo(e,t),t=wa(t,e),null==t||delete t[Ma(ol(e))]}function Fo(t,e,n,i){return Eo(t,e,n(Pr(t,e)),i)}function jo(t,e,n,i){var r=t.length,o=i?r:-1;while((i?o--:++o<r)&&e(t[o],o,t));return n?Co(t,i?0:o,i?o+1:r):Co(t,i?o+1:0,i?r:o)}function zo(t,e){var n=t;return n instanceof Oi&&(n=n.value()),In(e,(function(t,e){return e.func.apply(e.thisArg,Cn([t],e.args))}),n)}function Bo(t,e,i){var r=t.length;if(r<2)return r?Ro(t[0]):[];var o=-1,s=n(r);while(++o<r){var a=t[o],l=-1;while(++l<r)l!=o&&(s[o]=wr(s[o]||a,t[l],e,i))}return Ro(Cr(s,1),e,i)}function Uo(t,e,n){var i=-1,o=t.length,s=e.length,a={};while(++i<o){var l=i<s?e[i]:r;n(a,t[i],l)}return a}function Ho(t){return hc(t)?t:[]}function Wo(t){return"function"==typeof t?t:Nd}function Yo(t,e){return lc(t)?t:la(t,e)?[t]:Na(Jc(t))}var Vo=wo;function Go(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:Co(t,e,n)}var $o=Ne||function(t){return an.clearTimeout(t)};function qo(t,e){if(e)return t.slice();var n=t.length,i=we?we(n):new t.constructor(n);return t.copy(i),i}function Ko(t){var e=new t.constructor(t.byteLength);return new be(e).set(new be(t)),e}function Zo(t,e){var n=e?Ko(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Xo(t){var e=new t.constructor(t.source,Gt.exec(t));return e.lastIndex=t.lastIndex,e}function Qo(t){return _i?ne(_i.call(t)):{}}function Jo(t,e){var n=e?Ko(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ts(t,e){if(t!==e){var n=t!==r,i=null===t,o=t===t,s=zc(t),a=e!==r,l=null===e,u=e===e,c=zc(e);if(!l&&!c&&!s&&t>e||s&&a&&u&&!l&&!c||i&&a&&u||!n&&u||!o)return 1;if(!i&&!s&&!c&&t<e||c&&n&&o&&!i&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}function es(t,e,n){var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;while(++i<s){var l=ts(r[i],o[i]);if(l){if(i>=a)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}function ns(t,e,i,r){var o=-1,s=t.length,a=i.length,l=-1,u=e.length,c=Be(s-a,0),h=n(u+c),d=!r;while(++l<u)h[l]=e[l];while(++o<a)(d||o<s)&&(h[i[o]]=t[o]);while(c--)h[l++]=t[o++];return h}function is(t,e,i,r){var o=-1,s=t.length,a=-1,l=i.length,u=-1,c=e.length,h=Be(s-l,0),d=n(h+c),f=!r;while(++o<h)d[o]=t[o];var p=o;while(++u<c)d[p+u]=e[u];while(++a<l)(f||o<s)&&(d[p+i[a]]=t[o++]);return d}function rs(t,e){var i=-1,r=t.length;e||(e=n(r));while(++i<r)e[i]=t[i];return e}function os(t,e,n,i){var o=!n;n||(n={});var s=-1,a=e.length;while(++s<a){var l=e[s],u=i?i(n[l],t[l],l,n,t):r;u===r&&(u=t[l]),o?pr(n,l,u):ur(n,l,u)}return n}function ss(t,e){return os(t,Ks(t),e)}function as(t,e){return os(t,Zs(t),e)}function ls(t,e){return function(n,i){var r=lc(n)?bn:hr,o=e?e():{};return r(n,t,Ys(i,2),o)}}function us(t){return wo((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,a=o>2?n[2]:r;s=t.length>3&&"function"==typeof s?(o--,s):r,a&&aa(n[0],n[1],a)&&(s=o<3?r:s,o=1),e=ne(e);while(++i<o){var l=n[i];l&&t(e,l,i,s)}return e}))}function cs(t,e){return function(n,i){if(null==n)return n;if(!cc(n))return t(n,i);var r=n.length,o=e?r:-1,s=ne(n);while(e?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function hs(t){return function(e,n,i){var r=-1,o=ne(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function ds(t,e,n){var i=e&y,r=vs(t);function o(){var e=this&&this!==an&&this instanceof o?r:t;return e.apply(i?n:this,arguments)}return o}function fs(t){return function(e){e=Jc(e);var n=oi(e)?gi(e):r,i=n?n[0]:e.charAt(0),o=n?Go(n,1).join(""):e.slice(1);return i[t]()+o}}function ps(t){return function(e){return In(wd(qh(e).replace(He,"")),t,"")}}function vs(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ei(t.prototype),i=t.apply(n,e);return Ec(i)?i:n}}function gs(t,e,i){var o=vs(t);function s(){var a=arguments.length,l=n(a),u=a,c=Ws(s);while(u--)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:ci(l,c);if(a-=h.length,a<i)return Os(t,e,_s,s.placeholder,r,l,h,r,r,i-a);var d=this&&this!==an&&this instanceof s?o:t;return _n(d,this,l)}return s}function ms(t){return function(e,n,i){var o=ne(e);if(!cc(e)){var s=Ys(n,3);e=kh(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,i);return a>-1?o[s?e[a]:a]:r}}function ys(t){return js((function(e){var n=e.length,i=n,o=Ti.prototype.thru;t&&e.reverse();while(i--){var s=e[i];if("function"!=typeof s)throw new oe(l);if(o&&!a&&"wrapper"==Hs(s))var a=new Ti([],!0)}i=a?i:n;while(++i<n){s=e[i];var u=Hs(s),c="wrapper"==u?Us(s):r;a=c&&ca(c[0])&&c[1]==(S|w|x|T)&&!c[4].length&&1==c[9]?a[Hs(c[0])].apply(a,c[3]):1==s.length&&ca(s)?a[u]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&lc(i))return a.plant(i).value();var r=0,o=n?e[r].apply(this,t):i;while(++r<n)o=e[r].call(this,o);return o}}))}function _s(t,e,i,o,s,a,l,u,c,h){var d=e&S,f=e&y,p=e&_,v=e&(w|k),g=e&O,m=p?r:vs(t);function b(){var r=arguments.length,y=n(r),_=r;while(_--)y[_]=arguments[_];if(v)var w=Ws(b),k=ti(y,w);if(o&&(y=ns(y,o,s,v)),a&&(y=is(y,a,l,v)),r-=k,v&&r<h){var x=ci(y,w);return Os(t,e,_s,b.placeholder,i,y,x,u,c,h-r)}var E=f?i:this,S=p?E[t]:t;return r=y.length,u?y=ka(y,u):g&&r>1&&y.reverse(),d&&c<r&&(y.length=c),this&&this!==an&&this instanceof b&&(S=m||vs(S)),S.apply(E,y)}return b}function bs(t,e){return function(n,i){return Hr(n,t,e(i),{})}}function ws(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=Po(n),i=Po(i)):(n=Do(n),i=Do(i)),o=t(n,i)}return o}}function ks(t){return js((function(e){return e=On(e,Kn(Ys())),wo((function(n){var i=this;return t(e,(function(t){return _n(t,i,n)}))}))}))}function xs(t,e){e=e===r?" ":Po(e);var n=e.length;if(n<2)return n?bo(e,t):e;var i=bo(e,De(t/vi(e)));return oi(e)?Go(gi(i),0,t).join(""):i.slice(0,t)}function Es(t,e,i,r){var o=e&y,s=vs(t);function a(){var e=-1,l=arguments.length,u=-1,c=r.length,h=n(c+l),d=this&&this!==an&&this instanceof a?s:t;while(++u<c)h[u]=r[u];while(l--)h[u++]=arguments[++e];return _n(d,o?i:this,h)}return a}function Ss(t){return function(e,n,i){return i&&"number"!=typeof i&&aa(e,n,i)&&(n=i=r),e=$c(e),n===r?(n=e,e=0):n=$c(n),i=i===r?e<n?1:-1:$c(i),_o(e,n,i,t)}}function Ts(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Zc(e),n=Zc(n)),t(e,n)}}function Os(t,e,n,i,o,s,a,l,u,c){var h=e&w,d=h?a:r,f=h?r:a,p=h?s:r,v=h?r:s;e|=h?x:E,e&=~(h?E:x),e&b||(e&=~(y|_));var g=[t,e,o,p,d,v,f,l,u,c],m=n.apply(r,g);return ca(t)&&Ea(m,g),m.placeholder=i,Oa(m,t,e)}function Cs(t){var e=ee[t];return function(t,n){if(t=Zc(t),n=null==n?0:Ue(qc(n),292),n&&Fe(t)){var i=(Jc(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Jc(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}var Is=en&&1/hi(new en([,-0]))[1]==R?function(t){return new en(t)}:jd;function Ns(t){return function(e){var n=Xs(e);return n==Q?li(e):n==ot?di(e):$n(e,t(e))}}function Ms(t,e,n,i,o,s,a,u){var c=e&_;if(!c&&"function"!=typeof t)throw new oe(l);var h=i?i.length:0;if(h||(e&=~(x|E),i=o=r),a=a===r?a:Be(qc(a),0),u=u===r?u:qc(u),h-=o?o.length:0,e&E){var d=i,f=o;i=o=r}var p=c?r:Us(t),v=[t,e,n,i,o,d,f,s,a,u];if(p&&ma(v,p),t=v[0],e=v[1],n=v[2],i=v[3],o=v[4],u=v[9]=v[9]===r?c?0:t.length:Be(v[9]-h,0),!u&&e&(w|k)&&(e&=~(w|k)),e&&e!=y)g=e==w||e==k?gs(t,e,u):e!=x&&e!=(y|x)||o.length?_s.apply(r,v):Es(t,e,n,i);else var g=ds(t,e,n);var m=p?So:Ea;return Oa(m(g,v),t,e)}function As(t,e,n,i){return t===r||rc(t,le[n])&&!he.call(i,n)?e:t}function Ds(t,e,n,i,o,s){return Ec(t)&&Ec(e)&&(s.set(e,t),lo(t,e,r,Ds,s),s["delete"](e)),t}function Ps(t){return Pc(t)?r:t}function Rs(t,e,n,i,o,s){var a=n&g,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,p=n&m?new Ki:r;s.set(t,e),s.set(e,t);while(++d<l){var v=t[d],y=e[d];if(i)var _=a?i(y,v,d,e,t,s):i(v,y,d,t,e,s);if(_!==r){if(_)continue;f=!1;break}if(p){if(!Mn(e,(function(t,e){if(!Xn(p,e)&&(v===t||o(v,t,n,i,s)))return p.push(e)}))){f=!1;break}}else if(v!==y&&!o(v,y,n,i,s)){f=!1;break}}return s["delete"](t),s["delete"](e),f}function Ls(t,e,n,i,r,o,s){switch(n){case dt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ht:return!(t.byteLength!=e.byteLength||!o(new be(t),new be(e)));case G:case $:case J:return rc(+t,+e);case K:return t.name==e.name&&t.message==e.message;case rt:case st:return t==e+"";case Q:var a=li;case ot:var l=i&g;if(a||(a=hi),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=m,s.set(t,e);var c=Rs(a(t),a(e),i,r,o,s);return s["delete"](t),c;case at:if(_i)return _i.call(t)==_i.call(e)}return!1}function Fs(t,e,n,i,o,s){var a=n&g,l=zs(t),u=l.length,c=zs(e),h=c.length;if(u!=h&&!a)return!1;var d=u;while(d--){var f=l[d];if(!(a?f in e:he.call(e,f)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var m=!0;s.set(t,e),s.set(e,t);var y=a;while(++d<u){f=l[d];var _=t[f],b=e[f];if(i)var w=a?i(b,_,f,e,t,s):i(_,b,f,t,e,s);if(!(w===r?_===b||o(_,b,n,i,s):w)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var k=t.constructor,x=e.constructor;k==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof k&&k instanceof k&&"function"==typeof x&&x instanceof x||(m=!1)}return s["delete"](t),s["delete"](e),m}function js(t){return Ta(ba(t,r,qa),t+"")}function zs(t){return Rr(t,kh,Ks)}function Bs(t){return Rr(t,xh,Zs)}var Us=ln?function(t){return ln.get(t)}:jd;function Hs(t){var e=t.name+"",n=un[e],i=he.call(un,e)?n.length:0;while(i--){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Ws(t){var e=he.call(ki,"placeholder")?ki:t;return e.placeholder}function Ys(){var t=ki.iteratee||Md;return t=t===Md?eo:t,arguments.length?t(arguments[0],arguments[1]):t}function Vs(t,e){var n=t.__data__;return ua(e)?n["string"==typeof e?"string":"hash"]:n.map}function Gs(t){var e=kh(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,pa(r)]}return e}function $s(t,e){var n=ri(t,e);return Xr(n)?n:r}function qs(t){var e=he.call(t,Ce),n=t[Ce];try{t[Ce]=r;var i=!0}catch(s){}var o=pe.call(t);return i&&(e?t[Ce]=n:delete t[Ce]),o}var Ks=Re?function(t){return null==t?[]:(t=ne(t),En(Re(t),(function(e){return Ee.call(t,e)})))}:$d,Zs=Re?function(t){var e=[];while(t)Cn(e,Ks(t)),t=ke(t);return e}:$d,Xs=Lr;function Qs(t,e,n){var i=-1,r=n.length;while(++i<r){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Ue(e,t+s);break;case"takeRight":t=Be(t,e-s);break}}return{start:t,end:e}}function Js(t){var e=t.match(Bt);return e?e[1].split(Ut):[]}function ta(t,e,n){e=Yo(e,t);var i=-1,r=e.length,o=!1;while(++i<r){var s=Ma(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&xc(r)&&sa(s,r)&&(lc(t)||ac(t)))}function ea(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&he.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function na(t){return"function"!=typeof t.constructor||fa(t)?{}:Ei(ke(t))}function ia(t,e,n){var i=t.constructor;switch(e){case ht:return Ko(t);case G:case $:return new i(+t);case dt:return Zo(t,n);case ft:case pt:case vt:case gt:case mt:case yt:case _t:case bt:case wt:return Jo(t,n);case Q:return new i;case J:case st:return new i(t);case rt:return Xo(t);case ot:return new i;case at:return Qo(t)}}function ra(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(zt,"{\n/* [wrapped with "+e+"] */\n")}function oa(t){return lc(t)||ac(t)||!!(Te&&t&&t[Te])}function sa(t,e){var n=typeof t;return e=null==e?L:e,!!e&&("number"==n||"symbol"!=n&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function aa(t,e,n){if(!Ec(n))return!1;var i=typeof e;return!!("number"==i?cc(n)&&sa(e,n.length):"string"==i&&e in n)&&rc(n[e],t)}function la(t,e){if(lc(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!zc(t))||(Dt.test(t)||!At.test(t)||null!=e&&t in ne(e))}function ua(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ca(t){var e=Hs(t),n=ki[e];if("function"!=typeof n||!(e in Oi.prototype))return!1;if(t===n)return!0;var i=Us(n);return!!i&&t===i[0]}function ha(t){return!!fe&&fe in t}(Qe&&Xs(new Qe(new ArrayBuffer(1)))!=dt||Je&&Xs(new Je)!=Q||tn&&Xs(tn.resolve())!=nt||en&&Xs(new en)!=ot||on&&Xs(new on)!=ut)&&(Xs=function(t){var e=Lr(t),n=e==et?t.constructor:r,i=n?Aa(n):"";if(i)switch(i){case hn:return dt;case dn:return Q;case An:return nt;case Dn:return ot;case Hn:return ut}return e});var da=ue?wc:qd;function fa(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||le;return t===n}function pa(t){return t===t&&!Ec(t)}function va(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in ne(n)))}}function ga(t){var e=Bu(t,(function(t){return n.size===h&&n.clear(),t})),n=e.cache;return e}function ma(t,e){var n=t[1],i=e[1],r=n|i,o=r<(y|_|S),s=i==S&&n==w||i==S&&n==T&&t[7].length<=e[8]||i==(S|T)&&e[7].length<=e[8]&&n==w;if(!o&&!s)return t;i&y&&(t[2]=e[2],r|=n&y?0:b);var a=e[3];if(a){var l=t[3];t[3]=l?ns(l,a,e[4]):a,t[4]=l?ci(t[3],d):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?is(l,a,e[6]):a,t[6]=l?ci(t[5],d):e[6]),a=e[7],a&&(t[7]=a),i&S&&(t[8]=null==t[8]?e[8]:Ue(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function ya(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}function _a(t){return pe.call(t)}function ba(t,e,i){return e=Be(e===r?t.length-1:e,0),function(){var r=arguments,o=-1,s=Be(r.length-e,0),a=n(s);while(++o<s)a[o]=r[e+o];o=-1;var l=n(e+1);while(++o<e)l[o]=r[o];return l[e]=i(a),_n(t,this,l)}}function wa(t,e){return e.length<2?t:Pr(t,Co(e,0,-1))}function ka(t,e){var n=t.length,i=Ue(e.length,n),o=rs(t);while(i--){var s=e[i];t[i]=sa(s,n)?o[s]:r}return t}function xa(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Ea=Ca(So),Sa=Ae||function(t,e){return an.setTimeout(t,e)},Ta=Ca(To);function Oa(t,e,n){var i=e+"";return Ta(t,ra(i,Da(Js(i),n)))}function Ca(t){var e=0,n=0;return function(){var i=Ye(),o=M-(i-n);if(n=i,o>0){if(++e>=N)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Ia(t,e){var n=-1,i=t.length,o=i-1;e=e===r?i:e;while(++n<e){var s=yo(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Na=ga((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Pt,(function(t,n,i,r){e.push(i?r.replace(Yt,"$1"):n||t)})),e}));function Ma(t){if("string"==typeof t||zc(t))return t;var e=t+"";return"0"==e&&1/t==-R?"-0":e}function Aa(t){if(null!=t){try{return ce.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Da(t,e){return wn(H,(function(n){var i="_."+n[0];e&n[1]&&!Sn(t,i)&&t.push(i)})),t.sort()}function Pa(t){if(t instanceof Oi)return t.clone();var e=new Ti(t.__wrapped__,t.__chain__);return e.__actions__=rs(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ra(t,e,i){e=(i?aa(t,e,i):e===r)?1:Be(qc(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];var s=0,a=0,l=n(De(o/e));while(s<o)l[a++]=Co(t,s,s+=e);return l}function La(t){var e=-1,n=null==t?0:t.length,i=0,r=[];while(++e<n){var o=t[e];o&&(r[i++]=o)}return r}function Fa(){var t=arguments.length;if(!t)return[];var e=n(t-1),i=arguments[0],r=t;while(r--)e[r-1]=arguments[r];return Cn(lc(i)?rs(i):[i],Cr(e,1))}var ja=wo((function(t,e){return hc(t)?wr(t,Cr(e,1,hc,!0)):[]})),za=wo((function(t,e){var n=ol(e);return hc(n)&&(n=r),hc(t)?wr(t,Cr(e,1,hc,!0),Ys(n,2)):[]})),Ba=wo((function(t,e){var n=ol(e);return hc(n)&&(n=r),hc(t)?wr(t,Cr(e,1,hc,!0),r,n):[]}));function Ua(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===r?1:qc(e),Co(t,e<0?0:e,i)):[]}function Ha(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===r?1:qc(e),e=i-e,Co(t,0,e<0?0:e)):[]}function Wa(t,e){return t&&t.length?jo(t,Ys(e,3),!0,!0):[]}function Ya(t,e){return t&&t.length?jo(t,Ys(e,3),!0):[]}function Va(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&aa(t,e,n)&&(n=0,i=r),Tr(t,e,n,i)):[]}function Ga(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:qc(n);return r<0&&(r=Be(i+r,0)),Ln(t,Ys(e,3),r)}function $a(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=qc(n),o=n<0?Be(i+o,0):Ue(o,i-1)),Ln(t,Ys(e,3),o,!0)}function qa(t){var e=null==t?0:t.length;return e?Cr(t,1):[]}function Ka(t){var e=null==t?0:t.length;return e?Cr(t,R):[]}function Za(t,e){var n=null==t?0:t.length;return n?(e=e===r?1:qc(e),Cr(t,e)):[]}function Xa(t){var e=-1,n=null==t?0:t.length,i={};while(++e<n){var r=t[e];i[r[0]]=r[1]}return i}function Qa(t){return t&&t.length?t[0]:r}function Ja(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:qc(n);return r<0&&(r=Be(i+r,0)),Fn(t,e,r)}function tl(t){var e=null==t?0:t.length;return e?Co(t,0,-1):[]}var el=wo((function(t){var e=On(t,Ho);return e.length&&e[0]===t[0]?Ur(e):[]})),nl=wo((function(t){var e=ol(t),n=On(t,Ho);return e===ol(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Ur(n,Ys(e,2)):[]})),il=wo((function(t){var e=ol(t),n=On(t,Ho);return e="function"==typeof e?e:r,e&&n.pop(),n.length&&n[0]===t[0]?Ur(n,r,e):[]}));function rl(t,e){return null==t?"":je.call(t,e)}function ol(t){var e=null==t?0:t.length;return e?t[e-1]:r}function sl(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=qc(n),o=o<0?Be(i+o,0):Ue(o,i-1)),e===e?pi(t,e,o):Ln(t,zn,o,!0)}function al(t,e){return t&&t.length?co(t,qc(e)):r}var ll=wo(ul);function ul(t,e){return t&&t.length&&e&&e.length?go(t,e):t}function cl(t,e,n){return t&&t.length&&e&&e.length?go(t,e,Ys(n,2)):t}function hl(t,e,n){return t&&t.length&&e&&e.length?go(t,e,r,n):t}var dl=js((function(t,e){var n=null==t?0:t.length,i=vr(t,e);return mo(t,On(e,(function(t){return sa(t,n)?+t:t})).sort(ts)),i}));function fl(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;e=Ys(e,3);while(++i<o){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return mo(t,r),n}function pl(t){return null==t?t:$e.call(t)}function vl(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&aa(t,e,n)?(e=0,n=i):(e=null==e?0:qc(e),n=n===r?i:qc(n)),Co(t,e,n)):[]}function gl(t,e){return No(t,e)}function ml(t,e,n){return Mo(t,e,Ys(n,2))}function yl(t,e){var n=null==t?0:t.length;if(n){var i=No(t,e);if(i<n&&rc(t[i],e))return i}return-1}function _l(t,e){return No(t,e,!0)}function bl(t,e,n){return Mo(t,e,Ys(n,2),!0)}function wl(t,e){var n=null==t?0:t.length;if(n){var i=No(t,e,!0)-1;if(rc(t[i],e))return i}return-1}function kl(t){return t&&t.length?Ao(t):[]}function xl(t,e){return t&&t.length?Ao(t,Ys(e,2)):[]}function El(t){var e=null==t?0:t.length;return e?Co(t,1,e):[]}function Sl(t,e,n){return t&&t.length?(e=n||e===r?1:qc(e),Co(t,0,e<0?0:e)):[]}function Tl(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===r?1:qc(e),e=i-e,Co(t,e<0?0:e,i)):[]}function Ol(t,e){return t&&t.length?jo(t,Ys(e,3),!1,!0):[]}function Cl(t,e){return t&&t.length?jo(t,Ys(e,3)):[]}var Il=wo((function(t){return Ro(Cr(t,1,hc,!0))})),Nl=wo((function(t){var e=ol(t);return hc(e)&&(e=r),Ro(Cr(t,1,hc,!0),Ys(e,2))})),Ml=wo((function(t){var e=ol(t);return e="function"==typeof e?e:r,Ro(Cr(t,1,hc,!0),r,e)}));function Al(t){return t&&t.length?Ro(t):[]}function Dl(t,e){return t&&t.length?Ro(t,Ys(e,2)):[]}function Pl(t,e){return e="function"==typeof e?e:r,t&&t.length?Ro(t,r,e):[]}function Rl(t){if(!t||!t.length)return[];var e=0;return t=En(t,(function(t){if(hc(t))return e=Be(t.length,e),!0})),Gn(e,(function(e){return On(t,Un(e))}))}function Ll(t,e){if(!t||!t.length)return[];var n=Rl(t);return null==e?n:On(n,(function(t){return _n(e,r,t)}))}var Fl=wo((function(t,e){return hc(t)?wr(t,e):[]})),jl=wo((function(t){return Bo(En(t,hc))})),zl=wo((function(t){var e=ol(t);return hc(e)&&(e=r),Bo(En(t,hc),Ys(e,2))})),Bl=wo((function(t){var e=ol(t);return e="function"==typeof e?e:r,Bo(En(t,hc),r,e)})),Ul=wo(Rl);function Hl(t,e){return Uo(t||[],e||[],ur)}function Wl(t,e){return Uo(t||[],e||[],Eo)}var Yl=wo((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,Ll(t,n)}));function Vl(t){var e=ki(t);return e.__chain__=!0,e}function Gl(t,e){return e(t),t}function $l(t,e){return e(t)}var ql=js((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return vr(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Oi&&sa(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:$l,args:[o],thisArg:r}),new Ti(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)}));function Kl(){return Vl(this)}function Zl(){return new Ti(this.value(),this.__chain__)}function Xl(){this.__values__===r&&(this.__values__=Gc(this.value()));var t=this.__index__>=this.__values__.length,e=t?r:this.__values__[this.__index__++];return{done:t,value:e}}function Ql(){return this}function Jl(t){var e,n=this;while(n instanceof Si){var i=Pa(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function tu(){var t=this.__wrapped__;if(t instanceof Oi){var e=t;return this.__actions__.length&&(e=new Oi(this)),e=e.reverse(),e.__actions__.push({func:$l,args:[pl],thisArg:r}),new Ti(e,this.__chain__)}return this.thru(pl)}function eu(){return zo(this.__wrapped__,this.__actions__)}var nu=ls((function(t,e,n){he.call(t,n)?++t[n]:pr(t,n,1)}));function iu(t,e,n){var i=lc(t)?xn:Er;return n&&aa(t,e,n)&&(e=r),i(t,Ys(e,3))}function ru(t,e){var n=lc(t)?En:Or;return n(t,Ys(e,3))}var ou=ms(Ga),su=ms($a);function au(t,e){return Cr(gu(t,e),1)}function lu(t,e){return Cr(gu(t,e),R)}function uu(t,e,n){return n=n===r?1:qc(n),Cr(gu(t,e),n)}function cu(t,e){var n=lc(t)?wn:kr;return n(t,Ys(e,3))}function hu(t,e){var n=lc(t)?kn:xr;return n(t,Ys(e,3))}var du=ls((function(t,e,n){he.call(t,n)?t[n].push(e):pr(t,n,[e])}));function fu(t,e,n,i){t=cc(t)?t:Uh(t),n=n&&!i?qc(n):0;var r=t.length;return n<0&&(n=Be(r+n,0)),jc(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Fn(t,e,n)>-1}var pu=wo((function(t,e,i){var r=-1,o="function"==typeof e,s=cc(t)?n(t.length):[];return kr(t,(function(t){s[++r]=o?_n(e,t,i):Wr(t,e,i)})),s})),vu=ls((function(t,e,n){pr(t,n,e)}));function gu(t,e){var n=lc(t)?On:oo;return n(t,Ys(e,3))}function mu(t,e,n,i){return null==t?[]:(lc(e)||(e=null==e?[]:[e]),n=i?r:n,lc(n)||(n=null==n?[]:[n]),ho(t,e,n))}var yu=ls((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));function _u(t,e,n){var i=lc(t)?In:Wn,r=arguments.length<3;return i(t,Ys(e,4),n,r,kr)}function bu(t,e,n){var i=lc(t)?Nn:Wn,r=arguments.length<3;return i(t,Ys(e,4),n,r,xr)}function wu(t,e){var n=lc(t)?En:Or;return n(t,Uu(Ys(e,3)))}function ku(t){var e=lc(t)?or:ko;return e(t)}function xu(t,e,n){e=(n?aa(t,e,n):e===r)?1:qc(e);var i=lc(t)?sr:xo;return i(t,e)}function Eu(t){var e=lc(t)?ar:Oo;return e(t)}function Su(t){if(null==t)return 0;if(cc(t))return jc(t)?vi(t):t.length;var e=Xs(t);return e==Q||e==ot?t.size:no(t).length}function Tu(t,e,n){var i=lc(t)?Mn:Io;return n&&aa(t,e,n)&&(e=r),i(t,Ys(e,3))}var Ou=wo((function(t,e){if(null==t)return[];var n=e.length;return n>1&&aa(t,e[0],e[1])?e=[]:n>2&&aa(e[0],e[1],e[2])&&(e=[e[0]]),ho(t,Cr(e,1),[])})),Cu=Me||function(){return an.Date.now()};function Iu(t,e){if("function"!=typeof e)throw new oe(l);return t=qc(t),function(){if(--t<1)return e.apply(this,arguments)}}function Nu(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Ms(t,S,r,r,r,r,e)}function Mu(t,e){var n;if("function"!=typeof e)throw new oe(l);return t=qc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Au=wo((function(t,e,n){var i=y;if(n.length){var r=ci(n,Ws(Au));i|=x}return Ms(t,i,e,n,r)})),Du=wo((function(t,e,n){var i=y|_;if(n.length){var r=ci(n,Ws(Du));i|=x}return Ms(e,i,t,n,r)}));function Pu(t,e,n){e=n?r:e;var i=Ms(t,w,r,r,r,r,r,e);return i.placeholder=Pu.placeholder,i}function Ru(t,e,n){e=n?r:e;var i=Ms(t,k,r,r,r,r,r,e);return i.placeholder=Ru.placeholder,i}function Lu(t,e,n){var i,o,s,a,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new oe(l);function v(e){var n=i,s=o;return i=o=r,h=e,a=t.apply(s,n),a}function g(t){return h=t,u=Sa(_,e),d?v(t):a}function m(t){var n=t-c,i=t-h,r=e-n;return f?Ue(r,s-i):r}function y(t){var n=t-c,i=t-h;return c===r||n>=e||n<0||f&&i>=s}function _(){var t=Cu();if(y(t))return b(t);u=Sa(_,m(t))}function b(t){return u=r,p&&i?v(t):(i=o=r,a)}function w(){u!==r&&$o(u),h=0,i=c=o=u=r}function k(){return u===r?a:b(Cu())}function x(){var t=Cu(),n=y(t);if(i=arguments,o=this,c=t,n){if(u===r)return g(c);if(f)return $o(u),u=Sa(_,e),v(c)}return u===r&&(u=Sa(_,e)),a}return e=Zc(e)||0,Ec(n)&&(d=!!n.leading,f="maxWait"in n,s=f?Be(Zc(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),x.cancel=w,x.flush=k,x}var Fu=wo((function(t,e){return br(t,1,e)})),ju=wo((function(t,e,n){return br(t,Zc(e)||0,n)}));function zu(t){return Ms(t,O)}function Bu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oe(l);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Bu.Cache||Wi),n}function Uu(t){if("function"!=typeof t)throw new oe(l);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Hu(t){return Mu(2,t)}Bu.Cache=Wi;var Wu=Vo((function(t,e){e=1==e.length&&lc(e[0])?On(e[0],Kn(Ys())):On(Cr(e,1),Kn(Ys()));var n=e.length;return wo((function(i){var r=-1,o=Ue(i.length,n);while(++r<o)i[r]=e[r].call(this,i[r]);return _n(t,this,i)}))})),Yu=wo((function(t,e){var n=ci(e,Ws(Yu));return Ms(t,x,r,e,n)})),Vu=wo((function(t,e){var n=ci(e,Ws(Vu));return Ms(t,E,r,e,n)})),Gu=js((function(t,e){return Ms(t,T,r,r,r,e)}));function $u(t,e){if("function"!=typeof t)throw new oe(l);return e=e===r?e:qc(e),wo(t,e)}function qu(t,e){if("function"!=typeof t)throw new oe(l);return e=null==e?0:Be(qc(e),0),wo((function(n){var i=n[e],r=Go(n,0,e);return i&&Cn(r,i),_n(t,this,r)}))}function Ku(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new oe(l);return Ec(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Lu(t,e,{leading:i,maxWait:e,trailing:r})}function Zu(t){return Nu(t,1)}function Xu(t,e){return Yu(Wo(e),t)}function Qu(){if(!arguments.length)return[];var t=arguments[0];return lc(t)?t:[t]}function Ju(t){return mr(t,v)}function tc(t,e){return e="function"==typeof e?e:r,mr(t,v,e)}function ec(t){return mr(t,f|v)}function nc(t,e){return e="function"==typeof e?e:r,mr(t,f|v,e)}function ic(t,e){return null==e||_r(t,e,kh(e))}function rc(t,e){return t===e||t!==t&&e!==e}var oc=Ts(Fr),sc=Ts((function(t,e){return t>=e})),ac=Yr(function(){return arguments}())?Yr:function(t){return Sc(t)&&he.call(t,"callee")&&!Ee.call(t,"callee")},lc=n.isArray,uc=fn?Kn(fn):Vr;function cc(t){return null!=t&&xc(t.length)&&!wc(t)}function hc(t){return Sc(t)&&cc(t)}function dc(t){return!0===t||!1===t||Sc(t)&&Lr(t)==G}var fc=Le||qd,pc=pn?Kn(pn):Gr;function vc(t){return Sc(t)&&1===t.nodeType&&!Pc(t)}function gc(t){if(null==t)return!0;if(cc(t)&&(lc(t)||"string"==typeof t||"function"==typeof t.splice||fc(t)||Bc(t)||ac(t)))return!t.length;var e=Xs(t);if(e==Q||e==ot)return!t.size;if(fa(t))return!no(t).length;for(var n in t)if(he.call(t,n))return!1;return!0}function mc(t,e){return $r(t,e)}function yc(t,e,n){n="function"==typeof n?n:r;var i=n?n(t,e):r;return i===r?$r(t,e,r,n):!!i}function _c(t){if(!Sc(t))return!1;var e=Lr(t);return e==K||e==q||"string"==typeof t.message&&"string"==typeof t.name&&!Pc(t)}function bc(t){return"number"==typeof t&&Fe(t)}function wc(t){if(!Ec(t))return!1;var e=Lr(t);return e==Z||e==X||e==V||e==it}function kc(t){return"number"==typeof t&&t==qc(t)}function xc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=L}function Ec(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Sc(t){return null!=t&&"object"==typeof t}var Tc=vn?Kn(vn):Kr;function Oc(t,e){return t===e||Zr(t,e,Gs(e))}function Cc(t,e,n){return n="function"==typeof n?n:r,Zr(t,e,Gs(e),n)}function Ic(t){return Dc(t)&&t!=+t}function Nc(t){if(da(t))throw new jt(a);return Xr(t)}function Mc(t){return null===t}function Ac(t){return null==t}function Dc(t){return"number"==typeof t||Sc(t)&&Lr(t)==J}function Pc(t){if(!Sc(t)||Lr(t)!=et)return!1;var e=ke(t);if(null===e)return!0;var n=he.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==ve}var Rc=gn?Kn(gn):Qr;function Lc(t){return kc(t)&&t>=-L&&t<=L}var Fc=mn?Kn(mn):Jr;function jc(t){return"string"==typeof t||!lc(t)&&Sc(t)&&Lr(t)==st}function zc(t){return"symbol"==typeof t||Sc(t)&&Lr(t)==at}var Bc=yn?Kn(yn):to;function Uc(t){return t===r}function Hc(t){return Sc(t)&&Xs(t)==ut}function Wc(t){return Sc(t)&&Lr(t)==ct}var Yc=Ts(ro),Vc=Ts((function(t,e){return t<=e}));function Gc(t){if(!t)return[];if(cc(t))return jc(t)?gi(t):rs(t);if(Oe&&t[Oe])return ai(t[Oe]());var e=Xs(t),n=e==Q?li:e==ot?hi:Uh;return n(t)}function $c(t){if(!t)return 0===t?t:0;if(t=Zc(t),t===R||t===-R){var e=t<0?-1:1;return e*F}return t===t?t:0}function qc(t){var e=$c(t),n=e%1;return e===e?n?e-n:e:0}function Kc(t){return t?gr(qc(t),0,z):0}function Zc(t){if("number"==typeof t)return t;if(zc(t))return j;if(Ec(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ec(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=qn(t);var n=qt.test(t);return n||Zt.test(t)?rn(t.slice(2),n?2:8):$t.test(t)?j:+t}function Xc(t){return os(t,xh(t))}function Qc(t){return t?gr(qc(t),-L,L):0===t?t:0}function Jc(t){return null==t?"":Po(t)}var th=us((function(t,e){if(fa(e)||cc(e))os(e,kh(e),t);else for(var n in e)he.call(e,n)&&ur(t,n,e[n])})),eh=us((function(t,e){os(e,xh(e),t)})),nh=us((function(t,e,n,i){os(e,xh(e),t,i)})),ih=us((function(t,e,n,i){os(e,kh(e),t,i)})),rh=js(vr);function oh(t,e){var n=Ei(t);return null==e?n:dr(n,e)}var sh=wo((function(t,e){t=ne(t);var n=-1,i=e.length,o=i>2?e[2]:r;o&&aa(e[0],e[1],o)&&(i=1);while(++n<i){var s=e[n],a=xh(s),l=-1,u=a.length;while(++l<u){var c=a[l],h=t[c];(h===r||rc(h,le[c])&&!he.call(t,c))&&(t[c]=s[c])}}return t})),ah=wo((function(t){return t.push(r,Ds),_n(Oh,r,t)}));function lh(t,e){return Rn(t,Ys(e,3),Mr)}function uh(t,e){return Rn(t,Ys(e,3),Ar)}function ch(t,e){return null==t?t:Ir(t,Ys(e,3),xh)}function hh(t,e){return null==t?t:Nr(t,Ys(e,3),xh)}function dh(t,e){return t&&Mr(t,Ys(e,3))}function fh(t,e){return t&&Ar(t,Ys(e,3))}function ph(t){return null==t?[]:Dr(t,kh(t))}function vh(t){return null==t?[]:Dr(t,xh(t))}function gh(t,e,n){var i=null==t?r:Pr(t,e);return i===r?n:i}function mh(t,e){return null!=t&&ta(t,e,jr)}function yh(t,e){return null!=t&&ta(t,e,zr)}var _h=bs((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n}),Td(Nd)),bh=bs((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),he.call(t,e)?t[e].push(n):t[e]=[n]}),Ys),wh=wo(Wr);function kh(t){return cc(t)?rr(t):no(t)}function xh(t){return cc(t)?rr(t,!0):io(t)}function Eh(t,e){var n={};return e=Ys(e,3),Mr(t,(function(t,i,r){pr(n,e(t,i,r),t)})),n}function Sh(t,e){var n={};return e=Ys(e,3),Mr(t,(function(t,i,r){pr(n,i,e(t,i,r))})),n}var Th=us((function(t,e,n){lo(t,e,n)})),Oh=us((function(t,e,n,i){lo(t,e,n,i)})),Ch=js((function(t,e){var n={};if(null==t)return n;var i=!1;e=On(e,(function(e){return e=Yo(e,t),i||(i=e.length>1),e})),os(t,Bs(t),n),i&&(n=mr(n,f|p|v,Ps));var r=e.length;while(r--)Lo(n,e[r]);return n}));function Ih(t,e){return Mh(t,Uu(Ys(e)))}var Nh=js((function(t,e){return null==t?{}:fo(t,e)}));function Mh(t,e){if(null==t)return{};var n=On(Bs(t),(function(t){return[t]}));return e=Ys(e),po(t,n,(function(t,n){return e(t,n[0])}))}function Ah(t,e,n){e=Yo(e,t);var i=-1,o=e.length;o||(o=1,t=r);while(++i<o){var s=null==t?r:t[Ma(e[i])];s===r&&(i=o,s=n),t=wc(s)?s.call(t):s}return t}function Dh(t,e,n){return null==t?t:Eo(t,e,n)}function Ph(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Eo(t,e,n,i)}var Rh=Ns(kh),Lh=Ns(xh);function Fh(t,e,n){var i=lc(t),r=i||fc(t)||Bc(t);if(e=Ys(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Ec(t)&&wc(o)?Ei(ke(t)):{}}return(r?wn:Mr)(t,(function(t,i,r){return e(n,t,i,r)})),n}function jh(t,e){return null==t||Lo(t,e)}function zh(t,e,n){return null==t?t:Fo(t,e,Wo(n))}function Bh(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Fo(t,e,Wo(n),i)}function Uh(t){return null==t?[]:Zn(t,kh(t))}function Hh(t){return null==t?[]:Zn(t,xh(t))}function Wh(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=Zc(n),n=n===n?n:0),e!==r&&(e=Zc(e),e=e===e?e:0),gr(Zc(t),e,n)}function Yh(t,e,n){return e=$c(e),n===r?(n=e,e=0):n=$c(n),t=Zc(t),Br(t,e,n)}function Vh(t,e,n){if(n&&"boolean"!=typeof n&&aa(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=$c(t),e===r?(e=t,t=0):e=$c(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=Ge();return Ue(t+o*(e-t+nn("1e-"+((o+"").length-1))),e)}return yo(t,e)}var Gh=ps((function(t,e,n){return e=e.toLowerCase(),t+(n?$h(e):e)}));function $h(t){return bd(Jc(t).toLowerCase())}function qh(t){return t=Jc(t),t&&t.replace(Qt,ei).replace(We,"")}function Kh(t,e,n){t=Jc(t),e=Po(e);var i=t.length;n=n===r?i:gr(qc(n),0,i);var o=n;return n-=e.length,n>=0&&t.slice(n,o)==e}function Zh(t){return t=Jc(t),t&&Ct.test(t)?t.replace(Tt,ni):t}function Xh(t){return t=Jc(t),t&&Lt.test(t)?t.replace(Rt,"\\$&"):t}var Qh=ps((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Jh=ps((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),td=fs("toLowerCase");function ed(t,e,n){t=Jc(t),e=qc(e);var i=e?vi(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return xs(Pe(r),n)+t+xs(De(r),n)}function nd(t,e,n){t=Jc(t),e=qc(e);var i=e?vi(t):0;return e&&i<e?t+xs(e-i,n):t}function id(t,e,n){t=Jc(t),e=qc(e);var i=e?vi(t):0;return e&&i<e?xs(e-i,n)+t:t}function rd(t,e,n){return n||null==e?e=0:e&&(e=+e),Ve(Jc(t).replace(Ft,""),e||0)}function od(t,e,n){return e=(n?aa(t,e,n):e===r)?1:qc(e),bo(Jc(t),e)}function sd(){var t=arguments,e=Jc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var ad=ps((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function ld(t,e,n){return n&&"number"!=typeof n&&aa(t,e,n)&&(e=n=r),n=n===r?z:n>>>0,n?(t=Jc(t),t&&("string"==typeof e||null!=e&&!Rc(e))&&(e=Po(e),!e&&oi(t))?Go(gi(t),0,n):t.split(e,n)):[]}var ud=ps((function(t,e,n){return t+(n?" ":"")+bd(e)}));function cd(t,e,n){return t=Jc(t),n=null==n?0:gr(qc(n),0,t.length),e=Po(e),t.slice(n,n+e.length)==e}function hd(t,e,n){var i=ki.templateSettings;n&&aa(t,e,n)&&(e=r),t=Jc(t),e=nh({},e,i,As);var o,s,a=nh({},e.imports,i.imports,As),l=kh(a),c=Zn(a,l),h=0,d=e.interpolate||Jt,f="__p += '",p=ie((e.escape||Jt).source+"|"+d.source+"|"+(d===Mt?Vt:Jt).source+"|"+(e.evaluate||Jt).source+"|$","g"),v="//# sourceURL="+(he.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ke+"]")+"\n";t.replace(p,(function(e,n,i,r,a,l){return i||(i=r),f+=t.slice(h,l).replace(te,ii),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),f+="';\n";var g=he.call(e,"variable")&&e.variable;if(g){if(Wt.test(g))throw new jt(u)}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(kt,""):f).replace(xt,"$1").replace(Et,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=kd((function(){return Ht(l,v+"return "+f).apply(r,c)}));if(m.source=f,_c(m))throw m;return m}function dd(t){return Jc(t).toLowerCase()}function fd(t){return Jc(t).toUpperCase()}function pd(t,e,n){if(t=Jc(t),t&&(n||e===r))return qn(t);if(!t||!(e=Po(e)))return t;var i=gi(t),o=gi(e),s=Qn(i,o),a=Jn(i,o)+1;return Go(i,s,a).join("")}function vd(t,e,n){if(t=Jc(t),t&&(n||e===r))return t.slice(0,mi(t)+1);if(!t||!(e=Po(e)))return t;var i=gi(t),o=Jn(i,gi(e))+1;return Go(i,0,o).join("")}function gd(t,e,n){if(t=Jc(t),t&&(n||e===r))return t.replace(Ft,"");if(!t||!(e=Po(e)))return t;var i=gi(t),o=Qn(i,gi(e));return Go(i,o).join("")}function md(t,e){var n=C,i=I;if(Ec(e)){var o="separator"in e?e.separator:o;n="length"in e?qc(e.length):n,i="omission"in e?Po(e.omission):i}t=Jc(t);var s=t.length;if(oi(t)){var a=gi(t);s=a.length}if(n>=s)return t;var l=n-vi(i);if(l<1)return i;var u=a?Go(a,0,l).join(""):t.slice(0,l);if(o===r)return u+i;if(a&&(l+=u.length-l),Rc(o)){if(t.slice(l).search(o)){var c,h=u;o.global||(o=ie(o.source,Jc(Gt.exec(o))+"g")),o.lastIndex=0;while(c=o.exec(h))var d=c.index;u=u.slice(0,d===r?l:d)}}else if(t.indexOf(Po(o),l)!=l){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i}function yd(t){return t=Jc(t),t&&Ot.test(t)?t.replace(St,yi):t}var _d=ps((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),bd=fs("toUpperCase");function wd(t,e,n){return t=Jc(t),e=n?r:e,e===r?si(t)?wi(t):Pn(t):t.match(e)||[]}var kd=wo((function(t,e){try{return _n(t,r,e)}catch(n){return _c(n)?n:new jt(n)}})),xd=js((function(t,e){return wn(e,(function(e){e=Ma(e),pr(t,e,Au(t[e],t))})),t}));function Ed(t){var e=null==t?0:t.length,n=Ys();return t=e?On(t,(function(t){if("function"!=typeof t[1])throw new oe(l);return[n(t[0]),t[1]]})):[],wo((function(n){var i=-1;while(++i<e){var r=t[i];if(_n(r[0],this,n))return _n(r[1],this,n)}}))}function Sd(t){return yr(mr(t,f))}function Td(t){return function(){return t}}function Od(t,e){return null==t||t!==t?e:t}var Cd=ys(),Id=ys(!0);function Nd(t){return t}function Md(t){return eo("function"==typeof t?t:mr(t,f))}function Ad(t){return so(mr(t,f))}function Dd(t,e){return ao(t,mr(e,f))}var Pd=wo((function(t,e){return function(n){return Wr(n,t,e)}})),Rd=wo((function(t,e){return function(n){return Wr(t,n,e)}}));function Ld(t,e,n){var i=kh(e),r=Dr(e,i);null!=n||Ec(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Dr(e,kh(e)));var o=!(Ec(n)&&"chain"in n)||!!n.chain,s=wc(t);return wn(r,(function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=rs(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Cn([this.value()],arguments))})})),t}function Fd(){return an._===this&&(an._=ge),this}function jd(){}function zd(t){return t=qc(t),wo((function(e){return co(e,t)}))}var Bd=ks(On),Ud=ks(xn),Hd=ks(Mn);function Wd(t){return la(t)?Un(Ma(t)):vo(t)}function Yd(t){return function(e){return null==t?r:Pr(t,e)}}var Vd=Ss(),Gd=Ss(!0);function $d(){return[]}function qd(){return!1}function Kd(){return{}}function Zd(){return""}function Xd(){return!0}function Qd(t,e){if(t=qc(t),t<1||t>L)return[];var n=z,i=Ue(t,z);e=Ys(e),t-=z;var r=Gn(i,e);while(++n<t)e(n);return r}function Jd(t){return lc(t)?On(t,Ma):zc(t)?[t]:rs(Na(Jc(t)))}function tf(t){var e=++de;return Jc(t)+e}var ef=ws((function(t,e){return t+e}),0),nf=Cs("ceil"),rf=ws((function(t,e){return t/e}),1),of=Cs("floor");function sf(t){return t&&t.length?Sr(t,Nd,Fr):r}function af(t,e){return t&&t.length?Sr(t,Ys(e,2),Fr):r}function lf(t){return Bn(t,Nd)}function uf(t,e){return Bn(t,Ys(e,2))}function cf(t){return t&&t.length?Sr(t,Nd,ro):r}function hf(t,e){return t&&t.length?Sr(t,Ys(e,2),ro):r}var df=ws((function(t,e){return t*e}),1),ff=Cs("round"),pf=ws((function(t,e){return t-e}),0);function vf(t){return t&&t.length?Vn(t,Nd):0}function gf(t,e){return t&&t.length?Vn(t,Ys(e,2)):0}return ki.after=Iu,ki.ary=Nu,ki.assign=th,ki.assignIn=eh,ki.assignInWith=nh,ki.assignWith=ih,ki.at=rh,ki.before=Mu,ki.bind=Au,ki.bindAll=xd,ki.bindKey=Du,ki.castArray=Qu,ki.chain=Vl,ki.chunk=Ra,ki.compact=La,ki.concat=Fa,ki.cond=Ed,ki.conforms=Sd,ki.constant=Td,ki.countBy=nu,ki.create=oh,ki.curry=Pu,ki.curryRight=Ru,ki.debounce=Lu,ki.defaults=sh,ki.defaultsDeep=ah,ki.defer=Fu,ki.delay=ju,ki.difference=ja,ki.differenceBy=za,ki.differenceWith=Ba,ki.drop=Ua,ki.dropRight=Ha,ki.dropRightWhile=Wa,ki.dropWhile=Ya,ki.fill=Va,ki.filter=ru,ki.flatMap=au,ki.flatMapDeep=lu,ki.flatMapDepth=uu,ki.flatten=qa,ki.flattenDeep=Ka,ki.flattenDepth=Za,ki.flip=zu,ki.flow=Cd,ki.flowRight=Id,ki.fromPairs=Xa,ki.functions=ph,ki.functionsIn=vh,ki.groupBy=du,ki.initial=tl,ki.intersection=el,ki.intersectionBy=nl,ki.intersectionWith=il,ki.invert=_h,ki.invertBy=bh,ki.invokeMap=pu,ki.iteratee=Md,ki.keyBy=vu,ki.keys=kh,ki.keysIn=xh,ki.map=gu,ki.mapKeys=Eh,ki.mapValues=Sh,ki.matches=Ad,ki.matchesProperty=Dd,ki.memoize=Bu,ki.merge=Th,ki.mergeWith=Oh,ki.method=Pd,ki.methodOf=Rd,ki.mixin=Ld,ki.negate=Uu,ki.nthArg=zd,ki.omit=Ch,ki.omitBy=Ih,ki.once=Hu,ki.orderBy=mu,ki.over=Bd,ki.overArgs=Wu,ki.overEvery=Ud,ki.overSome=Hd,ki.partial=Yu,ki.partialRight=Vu,ki.partition=yu,ki.pick=Nh,ki.pickBy=Mh,ki.property=Wd,ki.propertyOf=Yd,ki.pull=ll,ki.pullAll=ul,ki.pullAllBy=cl,ki.pullAllWith=hl,ki.pullAt=dl,ki.range=Vd,ki.rangeRight=Gd,ki.rearg=Gu,ki.reject=wu,ki.remove=fl,ki.rest=$u,ki.reverse=pl,ki.sampleSize=xu,ki.set=Dh,ki.setWith=Ph,ki.shuffle=Eu,ki.slice=vl,ki.sortBy=Ou,ki.sortedUniq=kl,ki.sortedUniqBy=xl,ki.split=ld,ki.spread=qu,ki.tail=El,ki.take=Sl,ki.takeRight=Tl,ki.takeRightWhile=Ol,ki.takeWhile=Cl,ki.tap=Gl,ki.throttle=Ku,ki.thru=$l,ki.toArray=Gc,ki.toPairs=Rh,ki.toPairsIn=Lh,ki.toPath=Jd,ki.toPlainObject=Xc,ki.transform=Fh,ki.unary=Zu,ki.union=Il,ki.unionBy=Nl,ki.unionWith=Ml,ki.uniq=Al,ki.uniqBy=Dl,ki.uniqWith=Pl,ki.unset=jh,ki.unzip=Rl,ki.unzipWith=Ll,ki.update=zh,ki.updateWith=Bh,ki.values=Uh,ki.valuesIn=Hh,ki.without=Fl,ki.words=wd,ki.wrap=Xu,ki.xor=jl,ki.xorBy=zl,ki.xorWith=Bl,ki.zip=Ul,ki.zipObject=Hl,ki.zipObjectDeep=Wl,ki.zipWith=Yl,ki.entries=Rh,ki.entriesIn=Lh,ki.extend=eh,ki.extendWith=nh,Ld(ki,ki),ki.add=ef,ki.attempt=kd,ki.camelCase=Gh,ki.capitalize=$h,ki.ceil=nf,ki.clamp=Wh,ki.clone=Ju,ki.cloneDeep=ec,ki.cloneDeepWith=nc,ki.cloneWith=tc,ki.conformsTo=ic,ki.deburr=qh,ki.defaultTo=Od,ki.divide=rf,ki.endsWith=Kh,ki.eq=rc,ki.escape=Zh,ki.escapeRegExp=Xh,ki.every=iu,ki.find=ou,ki.findIndex=Ga,ki.findKey=lh,ki.findLast=su,ki.findLastIndex=$a,ki.findLastKey=uh,ki.floor=of,ki.forEach=cu,ki.forEachRight=hu,ki.forIn=ch,ki.forInRight=hh,ki.forOwn=dh,ki.forOwnRight=fh,ki.get=gh,ki.gt=oc,ki.gte=sc,ki.has=mh,ki.hasIn=yh,ki.head=Qa,ki.identity=Nd,ki.includes=fu,ki.indexOf=Ja,ki.inRange=Yh,ki.invoke=wh,ki.isArguments=ac,ki.isArray=lc,ki.isArrayBuffer=uc,ki.isArrayLike=cc,ki.isArrayLikeObject=hc,ki.isBoolean=dc,ki.isBuffer=fc,ki.isDate=pc,ki.isElement=vc,ki.isEmpty=gc,ki.isEqual=mc,ki.isEqualWith=yc,ki.isError=_c,ki.isFinite=bc,ki.isFunction=wc,ki.isInteger=kc,ki.isLength=xc,ki.isMap=Tc,ki.isMatch=Oc,ki.isMatchWith=Cc,ki.isNaN=Ic,ki.isNative=Nc,ki.isNil=Ac,ki.isNull=Mc,ki.isNumber=Dc,ki.isObject=Ec,ki.isObjectLike=Sc,ki.isPlainObject=Pc,ki.isRegExp=Rc,ki.isSafeInteger=Lc,ki.isSet=Fc,ki.isString=jc,ki.isSymbol=zc,ki.isTypedArray=Bc,ki.isUndefined=Uc,ki.isWeakMap=Hc,ki.isWeakSet=Wc,ki.join=rl,ki.kebabCase=Qh,ki.last=ol,ki.lastIndexOf=sl,ki.lowerCase=Jh,ki.lowerFirst=td,ki.lt=Yc,ki.lte=Vc,ki.max=sf,ki.maxBy=af,ki.mean=lf,ki.meanBy=uf,ki.min=cf,ki.minBy=hf,ki.stubArray=$d,ki.stubFalse=qd,ki.stubObject=Kd,ki.stubString=Zd,ki.stubTrue=Xd,ki.multiply=df,ki.nth=al,ki.noConflict=Fd,ki.noop=jd,ki.now=Cu,ki.pad=ed,ki.padEnd=nd,ki.padStart=id,ki.parseInt=rd,ki.random=Vh,ki.reduce=_u,ki.reduceRight=bu,ki.repeat=od,ki.replace=sd,ki.result=Ah,ki.round=ff,ki.runInContext=t,ki.sample=ku,ki.size=Su,ki.snakeCase=ad,ki.some=Tu,ki.sortedIndex=gl,ki.sortedIndexBy=ml,ki.sortedIndexOf=yl,ki.sortedLastIndex=_l,ki.sortedLastIndexBy=bl,ki.sortedLastIndexOf=wl,ki.startCase=ud,ki.startsWith=cd,ki.subtract=pf,ki.sum=vf,ki.sumBy=gf,ki.template=hd,ki.times=Qd,ki.toFinite=$c,ki.toInteger=qc,ki.toLength=Kc,ki.toLower=dd,ki.toNumber=Zc,ki.toSafeInteger=Qc,ki.toString=Jc,ki.toUpper=fd,ki.trim=pd,ki.trimEnd=vd,ki.trimStart=gd,ki.truncate=md,ki.unescape=yd,ki.uniqueId=tf,ki.upperCase=_d,ki.upperFirst=bd,ki.each=cu,ki.eachRight=hu,ki.first=Qa,Ld(ki,function(){var t={};return Mr(ki,(function(e,n){he.call(ki.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),ki.VERSION=o,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){ki[t].placeholder=ki})),wn(["drop","take"],(function(t,e){Oi.prototype[t]=function(n){n=n===r?1:Be(qc(n),0);var i=this.__filtered__&&!e?new Oi(this):this.clone();return i.__filtered__?i.__takeCount__=Ue(n,i.__takeCount__):i.__views__.push({size:Ue(n,z),type:t+(i.__dir__<0?"Right":"")}),i},Oi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),wn(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=n==A||n==P;Oi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ys(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),wn(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Oi.prototype[t]=function(){return this[n](1).value()[0]}})),wn(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Oi.prototype[t]=function(){return this.__filtered__?new Oi(this):this[n](1)}})),Oi.prototype.compact=function(){return this.filter(Nd)},Oi.prototype.find=function(t){return this.filter(t).head()},Oi.prototype.findLast=function(t){return this.reverse().find(t)},Oi.prototype.invokeMap=wo((function(t,e){return"function"==typeof t?new Oi(this):this.map((function(n){return Wr(n,t,e)}))})),Oi.prototype.reject=function(t){return this.filter(Uu(Ys(t)))},Oi.prototype.slice=function(t,e){t=qc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Oi(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(e=qc(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Oi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Oi.prototype.toArray=function(){return this.take(z)},Mr(Oi.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=ki[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(ki.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,l=e instanceof Oi,u=a[0],c=l||lc(e),h=function(t){var e=o.apply(ki,Cn([t],a));return i&&d?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,v=l&&!f;if(!s&&c){e=v?e:new Oi(this);var g=t.apply(e,a);return g.__actions__.push({func:$l,args:[h],thisArg:r}),new Ti(g,d)}return p&&v?t.apply(this,a):(g=this.thru(h),p?i?g.value()[0]:g.value():g)})})),wn(["pop","push","shift","sort","splice","unshift"],(function(t){var e=se[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);ki.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(lc(r)?r:[],t)}return this[n]((function(n){return e.apply(lc(n)?n:[],t)}))}})),Mr(Oi.prototype,(function(t,e){var n=ki[e];if(n){var i=n.name+"";he.call(un,i)||(un[i]=[]),un[i].push({name:e,func:n})}})),un[_s(r,_).name]=[{name:"wrapper",func:r}],Oi.prototype.clone=Ci,Oi.prototype.reverse=Ii,Oi.prototype.value=Ni,ki.prototype.at=ql,ki.prototype.chain=Kl,ki.prototype.commit=Zl,ki.prototype.next=Xl,ki.prototype.plant=Jl,ki.prototype.reverse=tu,ki.prototype.toJSON=ki.prototype.valueOf=ki.prototype.value=eu,ki.prototype.first=ki.prototype.head,Oe&&(ki.prototype[Oe]=Ql),ki},xi=ki();an._=xi,i=function(){return xi}.call(e,n,e,t),i===r||(t.exports=i)}.call(this)},5364:(t,e,n)=>{var i=n(5250),r=n(999),o=r((function(t,e,n){i(t,e,n)}));t.exports=o},3345:t=>{function e(){return[]}t.exports=e},9935:t=>{function e(){return!1}t.exports=e},9884:(t,e,n)=>{var i=n(1791),r=n(7241);function o(t){return i(t,r(t))}t.exports=o},6411:(t,e,n)=>{var i;(function(r,o,s){if(r){for(var a,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},h={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)l[111+d]="f"+d;for(d=0;d<=9;++d)l[d+96]=d.toString();S.prototype.bind=function(t,e,n){var i=this;return t=t instanceof Array?t:[t],i._bindMultiple.call(i,t,e,n),i},S.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,(function(){}),e)},S.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},S.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},S.prototype.stopCallback=function(t,e){var n=this;if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(E(e,n.target))return!1;if("composedPath"in t&&"function"===typeof t.composedPath){var i=t.composedPath()[0];i!==t.target&&(e=i)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},S.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},S.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(l[e]=t[e]);a=null},S.init=function(){var t=S(o);for(var e in t)"_"!==e.charAt(0)&&(S[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},S.init(),r.Mousetrap=S,t.exports&&(t.exports=S),i=function(){return S}.call(e,n,e,t),i===s||(t.exports=i)}function f(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function p(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return l[t.which]?l[t.which]:u[t.which]?u[t.which]:String.fromCharCode(t.which).toLowerCase()}function v(t,e){return t.sort().join(",")===e.sort().join(",")}function g(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function m(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function y(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function _(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function b(){if(!a)for(var t in a={},l)t>95&&t<112||l.hasOwnProperty(t)&&(a[l[t]]=t);return a}function w(t,e,n){return n||(n=b()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function k(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function x(t,e){var n,i,r,o=[];for(n=k(t),r=0;r<n.length;++r)i=n[r],h[i]&&(i=h[i]),e&&"keypress"!=e&&c[i]&&(i=c[i],o.push("shift")),_(i)&&o.push(i);return e=w(i,o,e),{key:i,modifiers:o,action:e}}function E(t,e){return null!==t&&t!==o&&(t===e||E(t.parentNode,e))}function S(t){var e=this;if(t=t||o,!(e instanceof S))return new S(t);e.target=t,e._callbacks={},e._directMap={};var n,i={},r=!1,s=!1,a=!1;function l(t){t=t||{};var e,n=!1;for(e in i)t[e]?n=!0:i[e]=0;n||(a=!1)}function u(t,n,r,o,s,a){var l,u,c=[],h=r.type;if(!e._callbacks[t])return[];for("keyup"==h&&_(t)&&(n=[t]),l=0;l<e._callbacks[t].length;++l)if(u=e._callbacks[t][l],(o||!u.seq||i[u.seq]==u.level)&&h==u.action&&("keypress"==h&&!r.metaKey&&!r.ctrlKey||v(n,u.modifiers))){var d=!o&&u.combo==s,f=o&&u.seq==o&&u.level==a;(d||f)&&e._callbacks[t].splice(l,1),c.push(u)}return c}function c(t,n,i,r){e.stopCallback(n,n.target||n.srcElement,i,r)||!1===t(n,i)&&(m(n),y(n))}function h(t){"number"!==typeof t.which&&(t.which=t.keyCode);var n=p(t);n&&("keyup"!=t.type||r!==n?e.handleKey(n,g(t),t):r=!1)}function d(){clearTimeout(n),n=setTimeout(l,1e3)}function b(t,e,n,o){function s(e){return function(){a=e,++i[t],d()}}function u(e){c(n,e,t),"keyup"!==o&&(r=p(e)),setTimeout(l,10)}i[t]=0;for(var h=0;h<e.length;++h){var f=h+1===e.length,v=f?u:s(o||x(e[h+1]).action);w(e[h],v,o,t,h)}}function w(t,n,i,r,o){e._directMap[t+":"+i]=n,t=t.replace(/\s+/g," ");var s,a=t.split(" ");a.length>1?b(t,a,n,i):(s=x(t,i),e._callbacks[s.key]=e._callbacks[s.key]||[],u(s.key,s.modifiers,{type:s.action},r,t,o),e._callbacks[s.key][r?"unshift":"push"]({callback:n,modifiers:s.modifiers,action:s.action,seq:r,level:o,combo:t}))}e._handleKey=function(t,e,n){var i,r=u(t,e,n),o={},h=0,d=!1;for(i=0;i<r.length;++i)r[i].seq&&(h=Math.max(h,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=h)continue;d=!0,o[r[i].seq]=1,c(r[i].callback,n,r[i].combo,r[i].seq)}else d||c(r[i].callback,n,r[i].combo);var f="keypress"==n.type&&s;n.type!=a||_(t)||f||l(o),s=d&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var i=0;i<t.length;++i)w(t[i],e,n)},f(t,"keypress",h),f(t,"keydown",h),f(t,"keyup",h)}})("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},7713:function(t,e){var n,i,r;(function(o,s){i=[],n=s,r="function"===typeof n?n.apply(e,i):n,void 0===r||(t.exports=r)})("undefined"!==typeof self&&self,(function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx},t.prototype.pattern=function(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");var e=this.disjunction();this.consumeChar("/");var n={type:"Flags",global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};while(this.isRegExpFlag())switch(this.popChar()){case"g":a(n,"global");break;case"i":a(n,"ignoreCase");break;case"m":a(n,"multiLine");break;case"u":a(n,"unicode");break;case"y":a(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:e}},t.prototype.disjunction=function(){var t=[];t.push(this.alternative());while("|"===this.peekChar())this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t}},t.prototype.alternative=function(){var t=[];while(this.isTerm())t.push(this.term());return{type:"Alternative",value:t}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){switch(this.popChar()){case"^":return{type:"StartAnchor"};case"$":return{type:"EndAnchor"};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary"};case"B":return{type:"NonWordBoundary"}}throw Error("Invalid Assertion Escape");case"(":var t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break}l(t);var e=this.disjunction();return this.consumeChar(")"),{type:t,value:e}}u()},t.prototype.quantifier=function(t){var e;switch(this.popChar()){case"*":e={atLeast:0,atMost:1/0};break;case"+":e={atLeast:1,atMost:1/0};break;case"?":e={atLeast:0,atMost:1};break;case"{":var n=this.integerIncludingZero();switch(this.popChar()){case"}":e={atLeast:n,atMost:n};break;case",":var i;this.isDigit()?(i=this.integerIncludingZero(),e={atLeast:n,atMost:i}):e={atLeast:n,atMost:1/0},this.consumeChar("}");break}if(!0===t&&void 0===e)return;l(e);break}if(!0!==t||void 0!==e)return l(e),"?"===this.peekChar(0)?(this.consumeChar("?"),e.greedy=!1):e.greedy=!0,e.type="Quantifier",e},t.prototype.atom=function(){var t;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}return void 0===t&&this.isPatternCharacter()&&(t=this.patternCharacter()),l(t),this.isQuantifier()&&(t.quantifier=this.quantifier()),t},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){var t=this.positiveInteger();return{type:"GroupBackReference",value:t}},t.prototype.characterClassEscape=function(){var t,e=!1;switch(this.popChar()){case"d":t=c;break;case"D":t=c,e=!0;break;case"s":t=d;break;case"S":t=d,e=!0;break;case"w":t=h;break;case"W":t=h,e=!0;break}return l(t),{type:"Set",value:t,complement:e}},t.prototype.controlEscapeAtom=function(){var t;switch(this.popChar()){case"f":t=o("\f");break;case"n":t=o("\n");break;case"r":t=o("\r");break;case"t":t=o("\t");break;case"v":t=o("\v");break}return l(t),{type:"Character",value:t}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var t=this.popChar();if(!1===/[a-zA-Z]/.test(t))throw Error("Invalid ");var e=t.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:e}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){var t=this.popChar();return{type:"Character",value:o(t)}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var t=this.popChar();return{type:"Character",value:o(t)}}},t.prototype.characterClass=function(){var t=[],e=!1;this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),e=!0);while(this.isClassAtom()){var n=this.classAtom(),i="Character"===n.type;if(i&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom(),a="Character"===r.type;if(a){if(r.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:r.value})}else s(n.value,t),t.push(o("-")),s(r.value,t)}else s(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:e,value:t}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}var e=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:t,value:e};return t&&(n.idx=this.groupIdx),n},t.prototype.positiveInteger=function(){var t=this.popChar();if(!1===r.test(t))throw Error("Expecting a positive integer");while(i.test(this.peekChar(0)))t+=this.popChar();return parseInt(t,10)},t.prototype.integerIncludingZero=function(){var t=this.popChar();if(!1===i.test(t))throw Error("Expecting an integer");while(i.test(this.peekChar(0)))t+=this.popChar();return parseInt(t,10)},t.prototype.patternCharacter=function(){var t=this.popChar();switch(t){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(t)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},t.prototype.isDigit=function(){return i.test(this.peekChar(0))},t.prototype.isClassAtom=function(t){switch(void 0===t&&(t=0),this.peekChar(t)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},t.prototype.isQuantifier=function(){var t=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(t)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(t){for(var e="",i=0;i<t;i++){var r=this.popChar();if(!1===n.test(r))throw Error("Expecting a HexDecimal digits");e+=r}var o=parseInt(e,16);return{type:"Character",value:o}},t.prototype.peekChar=function(t){return void 0===t&&(t=0),this.input[this.idx+t]},t.prototype.popChar=function(){var t=this.peekChar(0);return this.consumeChar(),t},t.prototype.consumeChar=function(t){if(void 0!==t&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++};var e,n=/[0-9a-fA-F]/,i=/[0-9]/,r=/[1-9]/;function o(t){return t.charCodeAt(0)}function s(t,e){void 0!==t.length?t.forEach((function(t){e.push(t)})):e.push(t)}function a(t,e){if(!0===t[e])throw"duplicate flag "+e;t[e]=!0}function l(t){if(void 0===t)throw Error("Internal Error - Should never get here!")}function u(){throw Error("Internal Error - Should never get here!")}var c=[];for(e=o("0");e<=o("9");e++)c.push(e);var h=[o("_")].concat(c);for(e=o("a");e<=o("z");e++)h.push(e);for(e=o("A");e<=o("Z");e++)h.push(e);var d=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o("¬†"),o("·öÄ"),o("‚ÄÄ"),o("‚ÄÅ"),o("‚ÄÇ"),o("‚ÄÉ"),o("‚ÄÑ"),o("‚ÄÖ"),o("‚ÄÜ"),o("‚Äá"),o("‚Äà"),o("‚Äâ"),o("‚Ää"),o("\u2028"),o("\u2029"),o("‚ÄØ"),o("‚Åü"),o("„ÄÄ"),o("\ufeff")];function f(){}return f.prototype.visitChildren=function(t){for(var e in t){var n=t[e];t.hasOwnProperty(e)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(t){this.visit(t)}),this))}},f.prototype.visit=function(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)},f.prototype.visitPattern=function(t){},f.prototype.visitFlags=function(t){},f.prototype.visitDisjunction=function(t){},f.prototype.visitAlternative=function(t){},f.prototype.visitStartAnchor=function(t){},f.prototype.visitEndAnchor=function(t){},f.prototype.visitWordBoundary=function(t){},f.prototype.visitNonWordBoundary=function(t){},f.prototype.visitLookahead=function(t){},f.prototype.visitNegativeLookahead=function(t){},f.prototype.visitCharacter=function(t){},f.prototype.visitSet=function(t){},f.prototype.visitGroup=function(t){},f.prototype.visitGroupBackReference=function(t){},f.prototype.visitQuantifier=function(t){},{RegExpParser:t,BaseRegExpVisitor:f,VERSION:"0.4.0"}}))},246:(t,e,n)=>{"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o.apply(this,arguments)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}function a(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function l(t,e){if(null==t)return{};var n,i,r=a(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u(t){return c(t)||h(t)||d()}function c(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function h(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}n.r(e),n.d(e,{MultiDrag:()=>je,Sortable:()=>Qt,Swap:()=>Te,default:()=>He});var f="1.10.2";function p(t){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var v=p(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),g=p(/Edge/i),m=p(/firefox/i),y=p(/safari/i)&&!p(/chrome/i)&&!p(/android/i),_=p(/iP(ad|od|hone)/i),b=p(/chrome/i)&&p(/android/i),w={capture:!1,passive:!1};function k(t,e,n){t.addEventListener(e,n,!v&&w)}function x(t,e,n){t.removeEventListener(e,n,!v&&w)}function E(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function S(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function T(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&E(t,e):E(t,e))||i&&t===n)return t;if(t===n)break}while(t=S(t))}return null}var O,C=/\s+/g;function I(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(C," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(C," ")}}function N(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"===typeof n?"":"px")}}function M(t,e){var n="";if("string"===typeof t)n=t;else do{var i=N(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function A(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function D(){var t=document.scrollingElement;return t||document.documentElement}function P(t,e,n,i,r){if(t.getBoundingClientRect||t===window){var o,s,a,l,u,c,h;if(t!==window&&t!==D()?(o=t.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,u=o.right,c=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!v))do{if(r&&r.getBoundingClientRect&&("none"!==N(r,"transform")||n&&"static"!==N(r,"position"))){var d=r.getBoundingClientRect();s-=d.top+parseInt(N(r,"border-top-width")),a-=d.left+parseInt(N(r,"border-left-width")),l=s+o.height,u=a+o.width;break}}while(r=r.parentNode);if(i&&t!==window){var f=M(r||t),p=f&&f.a,g=f&&f.d;f&&(s/=g,a/=p,h/=p,c/=g,l=s+c,u=a+h)}return{top:s,left:a,bottom:l,right:u,width:h,height:c}}}function R(t,e,n){var i=U(t,!0),r=P(t)[e];while(i){var o=P(i)[n],s=void 0;if(s="top"===n||"left"===n?r>=o:r<=o,!s)return i;if(i===D())break;i=U(i,!1)}return!1}function L(t,e,n){var i=0,r=0,o=t.children;while(r<o.length){if("none"!==o[r].style.display&&o[r]!==Qt.ghost&&o[r]!==Qt.dragged&&T(o[r],n.draggable,t,!1)){if(i===e)return o[r];i++}r++}return null}function F(t,e){var n=t.lastElementChild;while(n&&(n===Qt.ghost||"none"===N(n,"display")||e&&!E(n,e)))n=n.previousElementSibling;return n||null}function j(t,e){var n=0;if(!t||!t.parentNode)return-1;while(t=t.previousElementSibling)"TEMPLATE"===t.nodeName.toUpperCase()||t===Qt.clone||e&&!E(t,e)||n++;return n}function z(t){var e=0,n=0,i=D();if(t)do{var r=M(t),o=r.a,s=r.d;e+=t.scrollLeft*o,n+=t.scrollTop*s}while(t!==i&&(t=t.parentNode));return[e,n]}function B(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}function U(t,e){if(!t||!t.getBoundingClientRect)return D();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=N(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return D();if(i||e)return n;i=!0}}}while(n=n.parentNode);return D()}function H(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function W(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Y(t,e){return function(){if(!O){var n=arguments,i=this;1===n.length?t.call(i,n[0]):t.apply(i,n),O=setTimeout((function(){O=void 0}),e)}}}function V(){clearTimeout(O),O=void 0}function G(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function $(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function q(t,e){N(t,"position","absolute"),N(t,"top",e.top),N(t,"left",e.left),N(t,"width",e.width),N(t,"height",e.height)}function K(t){N(t,"position",""),N(t,"top",""),N(t,"left",""),N(t,"width",""),N(t,"height","")}var Z="Sortable"+(new Date).getTime();function X(){var t,e=[];return{captureAnimationState:function(){if(e=[],this.options.animation){var t=[].slice.call(this.el.children);t.forEach((function(t){if("none"!==N(t,"display")&&t!==Qt.ghost){e.push({target:t,rect:P(t)});var n=s({},e[e.length-1].rect);if(t.thisAnimationDuration){var i=M(t,!0);i&&(n.top-=i.f,n.left-=i.e)}t.fromRect=n}}))}},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(B(e,{target:t}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(t),void("function"===typeof n&&n());var r=!1,o=0;e.forEach((function(t){var e=0,n=t.target,s=n.fromRect,a=P(n),l=n.prevFromRect,u=n.prevToRect,c=t.rect,h=M(n,!0);h&&(a.top-=h.f,a.left-=h.e),n.toRect=a,n.thisAnimationDuration&&W(l,a)&&!W(s,a)&&(c.top-a.top)/(c.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(e=J(c,l,u,i.options)),W(a,s)||(n.prevFromRect=s,n.prevToRect=a,e||(e=i.options.animation),i.animate(n,c,a,e)),e&&(r=!0,o=Math.max(o,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),r?t=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),e=[]},animate:function(t,e,n,i){if(i){N(t,"transition",""),N(t,"transform","");var r=M(this.el),o=r&&r.a,s=r&&r.d,a=(e.left-n.left)/(o||1),l=(e.top-n.top)/(s||1);t.animatingX=!!a,t.animatingY=!!l,N(t,"transform","translate3d("+a+"px,"+l+"px,0)"),Q(t),N(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),N(t,"transform","translate3d(0,0,0)"),"number"===typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){N(t,"transition",""),N(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),i)}}}}function Q(t){return t.offsetWidth}function J(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var tt=[],et={initializeByDefault:!0},nt={mount:function(t){for(var e in et)et.hasOwnProperty(e)&&!(e in t)&&(t[e]=et[e]);tt.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=t+"Global";tt.forEach((function(i){e[i.pluginName]&&(e[i.pluginName][r]&&e[i.pluginName][r](s({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](s({sortable:e},n)))}))},initializePlugins:function(t,e,n,i){for(var r in tt.forEach((function(i){var r=i.pluginName;if(t.options[r]||i.initializeByDefault){var s=new i(t,e,t.options);s.sortable=t,s.options=t.options,t[r]=s,o(n,s.defaults)}})),t.options)if(t.options.hasOwnProperty(r)){var s=this.modifyOption(t,r,t.options[r]);"undefined"!==typeof s&&(t.options[r]=s)}},getEventProperties:function(t,e){var n={};return tt.forEach((function(i){"function"===typeof i.eventProperties&&o(n,i.eventProperties.call(e[i.pluginName],t))})),n},modifyOption:function(t,e,n){var i;return tt.forEach((function(r){t[r.pluginName]&&r.optionListeners&&"function"===typeof r.optionListeners[e]&&(i=r.optionListeners[e].call(t[r.pluginName],n))})),i}};function it(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,o=t.cloneEl,a=t.toEl,l=t.fromEl,u=t.oldIndex,c=t.newIndex,h=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[Z],e){var y,_=e.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||v||g?(y=document.createEvent("Event"),y.initEvent(i,!0,!0)):y=new CustomEvent(i,{bubbles:!0,cancelable:!0}),y.to=a||n,y.from=l||n,y.item=r||n,y.clone=o,y.oldIndex=u,y.newIndex=c,y.oldDraggableIndex=h,y.newDraggableIndex=d,y.originalEvent=f,y.pullMode=p?p.lastPutMode:void 0;var w=s({},m,nt.getEventProperties(i,e));for(var k in w)y[k]=w[k];n&&n.dispatchEvent(y),_[b]&&_[b].call(e,y)}}var rt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=l(n,["evt"]);nt.pluginEvent.bind(Qt)(t,e,s({dragEl:st,parentEl:at,ghostEl:lt,rootEl:ut,nextEl:ct,lastDownEl:ht,cloneEl:dt,cloneHidden:ft,dragStarted:Tt,putSortable:_t,activeSortable:Qt.active,originalEvent:i,oldIndex:pt,oldDraggableIndex:gt,newIndex:vt,newDraggableIndex:mt,hideGhostForTarget:qt,unhideGhostForTarget:Kt,cloneNowHidden:function(){ft=!0},cloneNowShown:function(){ft=!1},dispatchSortableEvent:function(t){ot({sortable:e,name:t,originalEvent:i})}},r))};function ot(t){it(s({putSortable:_t,cloneEl:dt,targetEl:st,rootEl:ut,oldIndex:pt,oldDraggableIndex:gt,newIndex:vt,newDraggableIndex:mt},t))}var st,at,lt,ut,ct,ht,dt,ft,pt,vt,gt,mt,yt,_t,bt,wt,kt,xt,Et,St,Tt,Ot,Ct,It,Nt,Mt=!1,At=!1,Dt=[],Pt=!1,Rt=!1,Lt=[],Ft=!1,jt=[],zt="undefined"!==typeof document,Bt=_,Ut=g||v?"cssFloat":"float",Ht=zt&&!b&&!_&&"draggable"in document.createElement("div"),Wt=function(){if(zt){if(v)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Yt=function(t,e){var n=N(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=L(t,0,e),o=L(t,1,e),s=r&&N(r),a=o&&N(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+P(r).width,u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+P(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s["float"]&&"none"!==s["float"]){var c="left"===s["float"]?"left":"right";return!o||"both"!==a.clear&&a.clear!==c?"horizontal":"vertical"}return r&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=i&&"none"===n[Ut]||o&&"none"===n[Ut]&&l+u>i)?"vertical":"horizontal"},Vt=function(t,e,n){var i=n?t.left:t.top,r=n?t.right:t.bottom,o=n?t.width:t.height,s=n?e.left:e.top,a=n?e.right:e.bottom,l=n?e.width:e.height;return i===s||r===a||i+o/2===s+l/2},Gt=function(t,e){var n;return Dt.some((function(i){if(!F(i)){var r=P(i),o=i[Z].options.emptyInsertThreshold,s=t>=r.left-o&&t<=r.right+o,a=e>=r.top-o&&e<=r.bottom+o;return o&&s&&a?n=i:void 0}})),n},$t=function(t){function e(t,n){return function(i,r,o,s){var a=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"===typeof t)return e(t(i,r,o,s),n)(i,r,o,s);var l=(n?i:r).options.group.name;return!0===t||"string"===typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},r=t.group;r&&"object"==i(r)||(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},qt=function(){!Wt&&lt&&N(lt,"display","none")},Kt=function(){!Wt&&lt&&N(lt,"display","")};zt&&document.addEventListener("click",(function(t){if(At)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),At=!1,!1}),!0);var Zt=function(t){if(st){t=t.touches?t.touches[0]:t;var e=Gt(t.clientX,t.clientY);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[Z]._onDragOver(n)}}},Xt=function(t){st&&st.parentNode[Z]._isOutsideThisEl(t.target)};function Qt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=o({},e),t[Z]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Yt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Qt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in nt.initializePlugins(this,t,n),n)!(i in e)&&(e[i]=n[i]);for(var r in $t(e),this)"_"===r.charAt(0)&&"function"===typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Ht,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?k(t,"pointerdown",this._onTapStart):(k(t,"mousedown",this._onTapStart),k(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(k(t,"dragover",this),k(t,"dragenter",this)),Dt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),o(this,X())}function Jt(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function te(t,e,n,i,r,o,s,a){var l,u,c=t[Z],h=c.options.onMove;return!window.CustomEvent||v||g?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=r||e,l.relatedRect=o||P(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),h&&(u=h.call(c,l,s)),u}function ee(t){t.draggable=!1}function ne(){Ft=!1}function ie(t,e,n){var i=P(F(n.el,n.options.draggable)),r=10;return e?t.clientX>i.right+r||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+r}function re(t,e,n,i,r,o,s,a){var l=i?t.clientY:t.clientX,u=i?n.height:n.width,c=i?n.top:n.left,h=i?n.bottom:n.right,d=!1;if(!s)if(a&&It<u*r){if(!Pt&&(1===Ct?l>c+u*o/2:l<h-u*o/2)&&(Pt=!0),Pt)d=!0;else if(1===Ct?l<c+It:l>h-It)return-Ct}else if(l>c+u*(1-r)/2&&l<h-u*(1-r)/2)return oe(e);return d=d||s,d&&(l<c+u*o/2||l>h-u*o/2)?l>c+u/2?1:-1:0}function oe(t){return j(st)<j(t)?1:-1}function se(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;while(n--)i+=e.charCodeAt(n);return i.toString(36)}function ae(t){jt.length=0;var e=t.getElementsByTagName("input"),n=e.length;while(n--){var i=e[n];i.checked&&jt.push(i)}}function le(t){return setTimeout(t,0)}function ue(t){return clearTimeout(t)}Qt.prototype={constructor:Qt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Ot=null)},_getDirection:function(t,e){return"function"===typeof this.options.direction?this.options.direction.call(this,t,e,st):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,r=i.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,u=i.filter;if(ae(n),!st&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||i.disabled)&&!l.isContentEditable&&(a=T(a,i.draggable,n,!1),(!a||!a.animated)&&ht!==a)){if(pt=j(a),gt=j(a,i.draggable),"function"===typeof u){if(u.call(this,t,a,this))return ot({sortable:e,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),rt("filter",e,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(u&&(u=u.split(",").some((function(i){if(i=T(l,i.trim(),n,!1),i)return ot({sortable:e,rootEl:i,name:"filter",targetEl:a,fromEl:n,toEl:n}),rt("filter",e,{evt:t}),!0})),u))return void(r&&t.cancelable&&t.preventDefault());i.handle&&!T(l,i.handle,n,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,n){var i,r=this,o=r.el,s=r.options,a=o.ownerDocument;if(n&&!st&&n.parentNode===o){var l=P(n);if(ut=o,st=n,at=st.parentNode,ct=st.nextSibling,ht=n,yt=s.group,Qt.dragged=st,bt={target:st,clientX:(e||t).clientX,clientY:(e||t).clientY},Et=bt.clientX-l.left,St=bt.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,st.style["will-change"]="all",i=function(){rt("delayEnded",r,{evt:t}),Qt.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!m&&r.nativeDraggable&&(st.draggable=!0),r._triggerDragStart(t,e),ot({sortable:r,name:"choose",originalEvent:t}),I(st,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){A(st,t.trim(),ee)})),k(a,"dragover",Zt),k(a,"mousemove",Zt),k(a,"touchmove",Zt),k(a,"mouseup",r._onDrop),k(a,"touchend",r._onDrop),k(a,"touchcancel",r._onDrop),m&&this.nativeDraggable&&(this.options.touchStartThreshold=4,st.draggable=!0),rt("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(g||v))i();else{if(Qt.eventCanceled)return void this._onDrop();k(a,"mouseup",r._disableDelayedDrag),k(a,"touchend",r._disableDelayedDrag),k(a,"touchcancel",r._disableDelayedDrag),k(a,"mousemove",r._delayedDragTouchMoveHandler),k(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&k(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){st&&ee(st),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;x(t,"mouseup",this._disableDelayedDrag),x(t,"touchend",this._disableDelayedDrag),x(t,"touchcancel",this._disableDelayedDrag),x(t,"mousemove",this._delayedDragTouchMoveHandler),x(t,"touchmove",this._delayedDragTouchMoveHandler),x(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?k(document,"pointermove",this._onTouchMove):k(document,e?"touchmove":"mousemove",this._onTouchMove):(k(st,"dragend",this),k(ut,"dragstart",this._onDragStart));try{document.selection?le((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(Mt=!1,ut&&st){rt("dragStarted",this,{evt:e}),this.nativeDraggable&&k(document,"dragover",Xt);var n=this.options;!t&&I(st,n.dragClass,!1),I(st,n.ghostClass,!0),Qt.active=this,t&&this._appendGhost(),ot({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(wt){this._lastX=wt.clientX,this._lastY=wt.clientY,qt();var t=document.elementFromPoint(wt.clientX,wt.clientY),e=t;while(t&&t.shadowRoot){if(t=t.shadowRoot.elementFromPoint(wt.clientX,wt.clientY),t===e)break;e=t}if(st.parentNode[Z]._isOutsideThisEl(t),e)do{if(e[Z]){var n=void 0;if(n=e[Z]._onDragOver({clientX:wt.clientX,clientY:wt.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Kt()}},_onTouchMove:function(t){if(bt){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,o=lt&&M(lt,!0),s=lt&&o&&o.a,a=lt&&o&&o.d,l=Bt&&Nt&&z(Nt),u=(r.clientX-bt.clientX+i.x)/(s||1)+(l?l[0]-Lt[0]:0)/(s||1),c=(r.clientY-bt.clientY+i.y)/(a||1)+(l?l[1]-Lt[1]:0)/(a||1);if(!Qt.active&&!Mt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(lt){o?(o.e+=u-(kt||0),o.f+=c-(xt||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");N(lt,"webkitTransform",h),N(lt,"mozTransform",h),N(lt,"msTransform",h),N(lt,"transform",h),kt=u,xt=c,wt=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!lt){var t=this.options.fallbackOnBody?document.body:ut,e=P(st,!0,Bt,!0,t),n=this.options;if(Bt){Nt=t;while("static"===N(Nt,"position")&&"none"===N(Nt,"transform")&&Nt!==document)Nt=Nt.parentNode;Nt!==document.body&&Nt!==document.documentElement?(Nt===document&&(Nt=D()),e.top+=Nt.scrollTop,e.left+=Nt.scrollLeft):Nt=D(),Lt=z(Nt)}lt=st.cloneNode(!0),I(lt,n.ghostClass,!1),I(lt,n.fallbackClass,!0),I(lt,n.dragClass,!0),N(lt,"transition",""),N(lt,"transform",""),N(lt,"box-sizing","border-box"),N(lt,"margin",0),N(lt,"top",e.top),N(lt,"left",e.left),N(lt,"width",e.width),N(lt,"height",e.height),N(lt,"opacity","0.8"),N(lt,"position",Bt?"absolute":"fixed"),N(lt,"zIndex","100000"),N(lt,"pointerEvents","none"),Qt.ghost=lt,t.appendChild(lt),N(lt,"transform-origin",Et/parseInt(lt.style.width)*100+"% "+St/parseInt(lt.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,r=n.options;rt("dragStart",this,{evt:t}),Qt.eventCanceled?this._onDrop():(rt("setupClone",this),Qt.eventCanceled||(dt=$(st),dt.draggable=!1,dt.style["will-change"]="",this._hideClone(),I(dt,this.options.chosenClass,!1),Qt.clone=dt),n.cloneId=le((function(){rt("clone",n),Qt.eventCanceled||(n.options.removeCloneOnHide||ut.insertBefore(dt,st),n._hideClone(),ot({sortable:n,name:"clone"}))})),!e&&I(st,r.dragClass,!0),e?(At=!0,n._loopId=setInterval(n._emulateDragOver,50)):(x(document,"mouseup",n._onDrop),x(document,"touchend",n._onDrop),x(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,st)),k(document,"drop",n),N(st,"transform","translateZ(0)")),Mt=!0,n._dragStartId=le(n._dragStarted.bind(n,e,t)),k(document,"selectstart",n),Tt=!0,y&&N(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,i,r,o=this.el,a=t.target,l=this.options,u=l.group,c=Qt.active,h=yt===u,d=l.sort,f=_t||c,p=this,v=!1;if(!Ft){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=T(a,l.draggable,o,!0),A("dragOver"),Qt.eventCanceled)return v;if(st.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return L(!1);if(At=!1,c&&!l.disabled&&(h?d||(i=!ut.contains(st)):_t===this||(this.lastPutMode=yt.checkPull(this,c,st,t))&&u.checkPut(this,c,st,t))){if(r="vertical"===this._getDirection(t,a),e=P(st),A("dragOverValid"),Qt.eventCanceled)return v;if(i)return at=ut,D(),this._hideClone(),A("revert"),Qt.eventCanceled||(ct?ut.insertBefore(st,ct):ut.appendChild(st)),L(!0);var g=F(o,l.draggable);if(!g||ie(t,r,this)&&!g.animated){if(g===st)return L(!1);if(g&&o===t.target&&(a=g),a&&(n=P(a)),!1!==te(ut,o,st,e,a,n,t,!!a))return D(),o.appendChild(st),at=o,z(),L(!0)}else if(a.parentNode===o){n=P(a);var m,y,_=0,b=st.parentNode!==o,w=!Vt(st.animated&&st.toRect||e,a.animated&&a.toRect||n,r),k=r?"top":"left",x=R(a,"top","top")||R(st,"top","top"),E=x?x.scrollTop:void 0;if(Ot!==a&&(m=n[k],Pt=!1,Rt=!w&&l.invertSwap||b),_=re(t,a,n,r,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Rt,Ot===a),0!==_){var S=j(st);do{S-=_,y=at.children[S]}while(y&&("none"===N(y,"display")||y===lt))}if(0===_||y===a)return L(!1);Ot=a,Ct=_;var O=a.nextElementSibling,C=!1;C=1===_;var M=te(ut,o,st,e,a,n,t,C);if(!1!==M)return 1!==M&&-1!==M||(C=1===M),Ft=!0,setTimeout(ne,30),D(),C&&!O?o.appendChild(st):a.parentNode.insertBefore(st,C?O:a),x&&G(x,0,E-x.scrollTop),at=st.parentNode,void 0===m||Rt||(It=Math.abs(m-P(a)[k])),z(),L(!0)}if(o.contains(st))return L(!1)}return!1}function A(l,u){rt(l,p,s({evt:t,isOwner:h,axis:r?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:d,fromSortable:f,target:a,completed:L,onMove:function(n,i){return te(ut,o,st,e,n,P(n),t,i)},changed:z},u))}function D(){A("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function L(e){return A("dragOverCompleted",{insertion:e}),e&&(h?c._hideClone():c._showClone(p),p!==f&&(I(st,_t?_t.options.ghostClass:c.options.ghostClass,!1),I(st,l.ghostClass,!0)),_t!==p&&p!==Qt.active?_t=p:p===Qt.active&&_t&&(_t=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){A("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===st&&!st.animated||a===o&&!a.animated)&&(Ot=null),l.dragoverBubble||t.rootEl||a===document||(st.parentNode[Z]._isOutsideThisEl(t.target),!e&&Zt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function z(){vt=j(st),mt=j(st,l.draggable),ot({sortable:p,name:"change",toEl:o,newIndex:vt,newDraggableIndex:mt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){x(document,"mousemove",this._onTouchMove),x(document,"touchmove",this._onTouchMove),x(document,"pointermove",this._onTouchMove),x(document,"dragover",Zt),x(document,"mousemove",Zt),x(document,"touchmove",Zt)},_offUpEvents:function(){var t=this.el.ownerDocument;x(t,"mouseup",this._onDrop),x(t,"touchend",this._onDrop),x(t,"pointerup",this._onDrop),x(t,"touchcancel",this._onDrop),x(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;vt=j(st),mt=j(st,n.draggable),rt("drop",this,{evt:t}),at=st&&st.parentNode,vt=j(st),mt=j(st,n.draggable),Qt.eventCanceled||(Mt=!1,Rt=!1,Pt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ue(this.cloneId),ue(this._dragStartId),this.nativeDraggable&&(x(document,"drop",this),x(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),y&&N(document.body,"user-select",""),N(st,"transform",""),t&&(Tt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),lt&&lt.parentNode&&lt.parentNode.removeChild(lt),(ut===at||_t&&"clone"!==_t.lastPutMode)&&dt&&dt.parentNode&&dt.parentNode.removeChild(dt),st&&(this.nativeDraggable&&x(st,"dragend",this),ee(st),st.style["will-change"]="",Tt&&!Mt&&I(st,_t?_t.options.ghostClass:this.options.ghostClass,!1),I(st,this.options.chosenClass,!1),ot({sortable:this,name:"unchoose",toEl:at,newIndex:null,newDraggableIndex:null,originalEvent:t}),ut!==at?(vt>=0&&(ot({rootEl:at,name:"add",toEl:at,fromEl:ut,originalEvent:t}),ot({sortable:this,name:"remove",toEl:at,originalEvent:t}),ot({rootEl:at,name:"sort",toEl:at,fromEl:ut,originalEvent:t}),ot({sortable:this,name:"sort",toEl:at,originalEvent:t})),_t&&_t.save()):vt!==pt&&vt>=0&&(ot({sortable:this,name:"update",toEl:at,originalEvent:t}),ot({sortable:this,name:"sort",toEl:at,originalEvent:t})),Qt.active&&(null!=vt&&-1!==vt||(vt=pt,mt=gt),ot({sortable:this,name:"end",toEl:at,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){rt("nulling",this),ut=st=at=lt=ct=dt=ht=ft=bt=wt=Tt=vt=mt=pt=gt=Ot=Ct=_t=yt=Qt.dragged=Qt.ghost=Qt.clone=Qt.active=null,jt.forEach((function(t){t.checked=!0})),jt.length=kt=xt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":st&&(this._onDragOver(t),Jt(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)t=n[i],T(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||se(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,i){var r=n.children[i];T(r,this.options.draggable,n,!1)&&(e[t]=r)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return T(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=nt.modifyOption(this,t,e);n[t]="undefined"!==typeof i?i:e,"group"===t&&$t(n)},destroy:function(){rt("destroy",this);var t=this.el;t[Z]=null,x(t,"mousedown",this._onTapStart),x(t,"touchstart",this._onTapStart),x(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(x(t,"dragover",this),x(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Dt.splice(Dt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ft){if(rt("hideClone",this),Qt.eventCanceled)return;N(dt,"display","none"),this.options.removeCloneOnHide&&dt.parentNode&&dt.parentNode.removeChild(dt),ft=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(ft){if(rt("showClone",this),Qt.eventCanceled)return;ut.contains(st)&&!this.options.group.revertClone?ut.insertBefore(dt,st):ct?ut.insertBefore(dt,ct):ut.appendChild(dt),this.options.group.revertClone&&this.animate(st,dt),N(dt,"display",""),ft=!1}}else this._hideClone()}},zt&&k(document,"touchmove",(function(t){(Qt.active||Mt)&&t.cancelable&&t.preventDefault()})),Qt.utils={on:k,off:x,css:N,find:A,is:function(t,e){return!!T(t,e,t,!1)},extend:H,throttle:Y,closest:T,toggleClass:I,clone:$,index:j,nextTick:le,cancelNextTick:ue,detectDirection:Yt,getChild:L},Qt.get=function(t){return t[Z]},Qt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Qt.utils=s({},Qt.utils,t.utils)),nt.mount(t)}))},Qt.create=function(t,e){return new Qt(t,e)},Qt.version=f;var ce,he,de,fe,pe,ve,ge=[],me=!1;function ye(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?k(document,"dragover",this._handleAutoScroll):this.options.supportPointer?k(document,"pointermove",this._handleFallbackAutoScroll):e.touches?k(document,"touchmove",this._handleFallbackAutoScroll):k(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?x(document,"dragover",this._handleAutoScroll):(x(document,"pointermove",this._handleFallbackAutoScroll),x(document,"touchmove",this._handleFallbackAutoScroll),x(document,"mousemove",this._handleFallbackAutoScroll)),be(),_e(),V()},nulling:function(){pe=he=ce=me=ve=de=fe=null,ge.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(i,r);if(pe=t,e||g||v||y){ke(t,this.options,o,e);var s=U(o,!0);!me||ve&&i===de&&r===fe||(ve&&be(),ve=setInterval((function(){var o=U(document.elementFromPoint(i,r),!0);o!==s&&(s=o,_e()),ke(t,n.options,o,e)}),10),de=i,fe=r)}else{if(!this.options.bubbleScroll||U(o,!0)===D())return void _e();ke(t,this.options,U(o,!1),!1)}}},o(t,{pluginName:"scroll",initializeByDefault:!0})}function _e(){ge.forEach((function(t){clearInterval(t.pid)})),ge=[]}function be(){clearInterval(ve)}var we,ke=Y((function(t,e,n,i){if(e.scroll){var r,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,u=D(),c=!1;he!==n&&(he=n,_e(),ce=e.scroll,r=e.scrollFn,!0===ce&&(ce=U(n,!0)));var h=0,d=ce;do{var f=d,p=P(f),v=p.top,g=p.bottom,m=p.left,y=p.right,_=p.width,b=p.height,w=void 0,k=void 0,x=f.scrollWidth,E=f.scrollHeight,S=N(f),T=f.scrollLeft,O=f.scrollTop;f===u?(w=_<x&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),k=b<E&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=_<x&&("auto"===S.overflowX||"scroll"===S.overflowX),k=b<E&&("auto"===S.overflowY||"scroll"===S.overflowY));var C=w&&(Math.abs(y-o)<=a&&T+_<x)-(Math.abs(m-o)<=a&&!!T),I=k&&(Math.abs(g-s)<=a&&O+b<E)-(Math.abs(v-s)<=a&&!!O);if(!ge[h])for(var M=0;M<=h;M++)ge[M]||(ge[M]={});ge[h].vx==C&&ge[h].vy==I&&ge[h].el===f||(ge[h].el=f,ge[h].vx=C,ge[h].vy=I,clearInterval(ge[h].pid),0==C&&0==I||(c=!0,ge[h].pid=setInterval(function(){i&&0===this.layer&&Qt.active._onTouchMove(pe);var e=ge[this.layer].vy?ge[this.layer].vy*l:0,n=ge[this.layer].vx?ge[this.layer].vx*l:0;"function"===typeof r&&"continue"!==r.call(Qt.dragged.parentNode[Z],n,e,t,pe,ge[this.layer].el)||G(ge[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&d!==u&&(d=U(d,!1)));me=c}}),30),xe=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var l=n||r;s();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(u.clientX,u.clientY);a(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Ee(){}function Se(){}function Te(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;we=e},dragOverValid:function(t){var e=t.completed,n=t.target,i=t.onMove,r=t.activeSortable,o=t.changed,s=t.cancel;if(r.options.swap){var a=this.sortable.el,l=this.options;if(n&&n!==a){var u=we;!1!==i(n)?(I(n,l.swapClass,!0),we=n):we=null,u&&u!==we&&I(u,l.swapClass,!1)}o(),e(!0),s()}},drop:function(t){var e=t.activeSortable,n=t.putSortable,i=t.dragEl,r=n||this.sortable,o=this.options;we&&I(we,o.swapClass,!1),we&&(o.swap||n&&n.options.swap)&&i!==we&&(r.captureAnimationState(),r!==e&&e.captureAnimationState(),Oe(i,we),r.animateAll(),r!==e&&e.animateAll())},nulling:function(){we=null}},o(t,{pluginName:"swap",eventProperties:function(){return{swapItem:we}}})}function Oe(t,e){var n,i,r=t.parentNode,o=e.parentNode;r&&o&&!r.isEqualNode(e)&&!o.isEqualNode(t)&&(n=j(t),i=j(e),r.isEqualNode(o)&&n<i&&i++,r.insertBefore(e,r.children[n]),o.insertBefore(t,o.children[i]))}Ee.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=L(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:xe},o(Ee,{pluginName:"revertOnSpill"}),Se.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,i=n||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:xe},o(Se,{pluginName:"removeOnSpill"});var Ce,Ie,Ne,Me,Ae,De=[],Pe=[],Re=!1,Le=!1,Fe=!1;function je(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?k(document,"pointerup",this._deselectMultiDrag):(k(document,"mouseup",this._deselectMultiDrag),k(document,"touchend",this._deselectMultiDrag)),k(document,"keydown",this._checkKeyDown),k(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var i="";De.length&&Ie===t?De.forEach((function(t,e){i+=(e?", ":"")+t.textContent})):i=n.textContent,e.setData("Text",i)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;Ne=e},delayEnded:function(){this.isMultiDrag=~De.indexOf(Ne)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var i=0;i<De.length;i++)Pe.push($(De[i])),Pe[i].sortableIndex=De[i].sortableIndex,Pe[i].draggable=!1,Pe[i].style["will-change"]="",I(Pe[i],this.options.selectedClass,!1),De[i]===Ne&&I(Pe[i],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.sortable,n=t.rootEl,i=t.dispatchSortableEvent,r=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||De.length&&Ie===e&&(Be(!0,n),i("clone"),r()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,i=t.cancel;this.isMultiDrag&&(Be(!1,n),Pe.forEach((function(t){N(t,"display","")})),e(),Ae=!1,i())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),i=t.cancel;this.isMultiDrag&&(Pe.forEach((function(t){N(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),Ae=!0,i())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&Ie&&Ie.multiDrag._deselectMultiDrag(),De.forEach((function(t){t.sortableIndex=j(t)})),De=De.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),Fe=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){De.forEach((function(t){t!==Ne&&N(t,"position","absolute")}));var i=P(Ne,!1,!0,!0);De.forEach((function(t){t!==Ne&&q(t,i)})),Le=!0,Re=!0}n.animateAll((function(){Le=!1,Re=!1,e.options.animation&&De.forEach((function(t){K(t)})),e.options.sort&&Ue()}))}},dragOver:function(t){var e=t.target,n=t.completed,i=t.cancel;Le&&~De.indexOf(e)&&(n(!1),i())},revert:function(t){var e=t.fromSortable,n=t.rootEl,i=t.sortable,r=t.dragRect;De.length>1&&(De.forEach((function(t){i.addAnimationState({target:t,rect:Le?P(t):r}),K(t),t.fromRect=r,e.removeAnimationState(t)})),Le=!1,ze(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,i=t.insertion,r=t.activeSortable,o=t.parentEl,s=t.putSortable,a=this.options;if(i){if(n&&r._hideClone(),Re=!1,a.animation&&De.length>1&&(Le||!n&&!r.options.sort&&!s)){var l=P(Ne,!1,!0,!0);De.forEach((function(t){t!==Ne&&(q(t,l),o.appendChild(t))})),Le=!0}if(!n)if(Le||Ue(),De.length>1){var u=Ae;r._showClone(e),r.options.animation&&!Ae&&u&&Pe.forEach((function(t){r.addAnimationState({target:t,rect:Me}),t.fromRect=Me,t.thisAnimationDuration=null}))}else r._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,i=t.activeSortable;if(De.forEach((function(t){t.thisAnimationDuration=null})),i.options.animation&&!n&&i.multiDrag.isMultiDrag){Me=o({},e);var r=M(Ne,!0);Me.top-=r.f,Me.left-=r.e}},dragOverAnimationComplete:function(){Le&&(Le=!1,Ue())},drop:function(t){var e=t.originalEvent,n=t.rootEl,i=t.parentEl,r=t.sortable,o=t.dispatchSortableEvent,s=t.oldIndex,a=t.putSortable,l=a||this.sortable;if(e){var u=this.options,c=i.children;if(!Fe)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(Ne,u.selectedClass,!~De.indexOf(Ne)),~De.indexOf(Ne))De.splice(De.indexOf(Ne),1),Ce=null,it({sortable:r,rootEl:n,name:"deselect",targetEl:Ne,originalEvt:e});else{if(De.push(Ne),it({sortable:r,rootEl:n,name:"select",targetEl:Ne,originalEvt:e}),e.shiftKey&&Ce&&r.el.contains(Ce)){var h,d,f=j(Ce),p=j(Ne);if(~f&&~p&&f!==p)for(p>f?(d=f,h=p):(d=p,h=f+1);d<h;d++)~De.indexOf(c[d])||(I(c[d],u.selectedClass,!0),De.push(c[d]),it({sortable:r,rootEl:n,name:"select",targetEl:c[d],originalEvt:e}))}else Ce=Ne;Ie=l}if(Fe&&this.isMultiDrag){if((i[Z].options.sort||i!==n)&&De.length>1){var v=P(Ne),g=j(Ne,":not(."+this.options.selectedClass+")");if(!Re&&u.animation&&(Ne.thisAnimationDuration=null),l.captureAnimationState(),!Re&&(u.animation&&(Ne.fromRect=v,De.forEach((function(t){if(t.thisAnimationDuration=null,t!==Ne){var e=Le?P(t):v;t.fromRect=e,l.addAnimationState({target:t,rect:e})}}))),Ue(),De.forEach((function(t){c[g]?i.insertBefore(t,c[g]):i.appendChild(t),g++})),s===j(Ne))){var m=!1;De.forEach((function(t){t.sortableIndex===j(t)||(m=!0)})),m&&o("update")}De.forEach((function(t){K(t)})),l.animateAll()}Ie=l}(n===i||a&&"clone"!==a.lastPutMode)&&Pe.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=Fe=!1,Pe.length=0},destroyGlobal:function(){this._deselectMultiDrag(),x(document,"pointerup",this._deselectMultiDrag),x(document,"mouseup",this._deselectMultiDrag),x(document,"touchend",this._deselectMultiDrag),x(document,"keydown",this._checkKeyDown),x(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(("undefined"===typeof Fe||!Fe)&&Ie===this.sortable&&(!t||!T(t.target,this.options.draggable,this.sortable.el,!1))&&(!t||0===t.button))while(De.length){var e=De[0];I(e,this.options.selectedClass,!1),De.shift(),it({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[Z];e&&e.options.multiDrag&&!~De.indexOf(t)&&(Ie&&Ie!==e&&(Ie.multiDrag._deselectMultiDrag(),Ie=e),I(t,e.options.selectedClass,!0),De.push(t))},deselect:function(t){var e=t.parentNode[Z],n=De.indexOf(t);e&&e.options.multiDrag&&~n&&(I(t,e.options.selectedClass,!1),De.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return De.forEach((function(i){var r;e.push({multiDragElement:i,index:i.sortableIndex}),r=Le&&i!==Ne?-1:Le?j(i,":not(."+t.options.selectedClass+")"):j(i),n.push({multiDragElement:i,index:r})})),{items:u(De),clones:[].concat(Pe),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),"ctrl"===t?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function ze(t,e){De.forEach((function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}function Be(t,e){Pe.forEach((function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}function Ue(){De.forEach((function(t){t!==Ne&&t.parentNode&&t.parentNode.removeChild(t)}))}Qt.mount(new ye),Qt.mount(Se,Ee);const He=Qt},8852:(t,e,n)=>{var i=n(3722);t.exports=i},7878:(t,e,n)=>{var i=n(7599);t.exports={enable:function(t){var e=t.svg.querySelector("defs");e||(e=document.createElementNS(i.svgNS,"defs"),t.svg.appendChild(e));var n=e.querySelector("style#svg-pan-zoom-controls-styles");if(!n){var r=document.createElementNS(i.svgNS,"style");r.setAttribute("id","svg-pan-zoom-controls-styles"),r.setAttribute("type","text/css"),r.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(r)}var o=document.createElementNS(i.svgNS,"g");o.setAttribute("id","svg-pan-zoom-controls"),o.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),o.setAttribute("class","svg-pan-zoom-control"),o.appendChild(this._createZoomIn(t)),o.appendChild(this._createZoomReset(t)),o.appendChild(this._createZoomOut(t)),t.svg.appendChild(o),t.controlIcons=o},_createZoomIn:function(t){var e=document.createElementNS(i.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().zoomIn()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomIn()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var r=document.createElementNS(i.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r),e},_createZoomReset:function(t){var e=document.createElementNS(i.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().reset()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().reset()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var r=document.createElementNS(i.svgNS,"path");r.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r);var o=document.createElementNS(i.svgNS,"path");return o.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),o.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(o),e},_createZoomOut:function(t){var e=document.createElementNS(i.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().zoomOut()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomOut()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var r=document.createElementNS(i.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}}},865:(t,e,n)=>{var i=n(7599),r=n(7052),o=function(t,e){this.init(t,e)};o.prototype.init=function(t,e){this.viewport=t,this.options=e,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=r.proxy(this.updateCTM,this),this.requestAnimationFrame=r.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},o.prototype.cacheViewBox=function(){var t=this.options.svg.getAttribute("viewBox");if(t){var e=t.split(/[\s\,]/).filter((function(t){return t})).map(parseFloat);this.viewBox.x=e[0],this.viewBox.y=e[1],this.viewBox.width=e[2],this.viewBox.height=e[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},o.prototype.simpleViewBoxCache=function(){var t=this.viewport.getBBox();this.viewBox.x=t.x,this.viewBox.y=t.y,this.viewBox.width=t.width,this.viewBox.height=t.height},o.prototype.getViewBox=function(){return r.extend({},this.viewBox)},o.prototype.processCTM=function(){var t,e=this.getCTM();(this.options.fit||this.options.contain)&&(t=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*e.a),i=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*e.a);e.e=n,e.f=i}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e},o.prototype.getOriginalState=function(){return r.extend({},this.originalState)},o.prototype.getState=function(){return r.extend({},this.activeState)},o.prototype.getZoom=function(){return this.activeState.zoom},o.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},o.prototype.computeRelativeZoom=function(t){return t/this.originalState.zoom},o.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},o.prototype.getCTM=function(){var t=this.options.svg.createSVGMatrix();return t.a=this.activeState.zoom,t.b=0,t.c=0,t.d=this.activeState.zoom,t.e=this.activeState.x,t.f=this.activeState.y,t},o.prototype.setCTM=function(t){var e=this.isZoomDifferent(t),n=this.isPanDifferent(t);if(e||n){if(e&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(t.a))?(t.a=t.d=this.activeState.zoom,e=!1):(this.updateCache(t),this.options.onZoom(this.getRelativeZoom()))),n){var i=this.options.beforePan(this.getPan(),{x:t.e,y:t.f}),o=!1,s=!1;!1===i?(t.e=this.getPan().x,t.f=this.getPan().y,o=s=!0):r.isObject(i)&&(!1===i.x?(t.e=this.getPan().x,o=!0):r.isNumber(i.x)&&(t.e=i.x),!1===i.y?(t.f=this.getPan().y,s=!0):r.isNumber(i.y)&&(t.f=i.y)),o&&s||!this.isPanDifferent(t)?n=!1:(this.updateCache(t),this.options.onPan(this.getPan()))}(e||n)&&this.updateCTMOnNextFrame()}},o.prototype.isZoomDifferent=function(t){return this.activeState.zoom!==t.a},o.prototype.isPanDifferent=function(t){return this.activeState.x!==t.e||this.activeState.y!==t.f},o.prototype.updateCache=function(t){this.activeState.zoom=t.a,this.activeState.x=t.e,this.activeState.y=t.f},o.prototype.pendingUpdate=!1,o.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},o.prototype.updateCTM=function(){var t=this.getCTM();i.setCTM(this.viewport,t,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(t)},t.exports=function(t,e){return new o(t,e)}},3722:(t,e,n)=>{var i=n(1183),r=n(7878),o=n(7052),s=n(7599),a=n(865),l=function(t,e){this.init(t,e)},u={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},c={passive:!0};l.prototype.init=function(t,e){var n=this;this.svg=t,this.defs=t.querySelector("defs"),s.setupSvgAttributes(this.svg),this.options=o.extend(o.extend({},u),e),this.state="none";var i=s.getBoundingClientRectNormalized(t);this.width=i.width,this.height=i.height,this.viewport=a(s.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(t,e){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(t,e)},onZoom:function(t){if(n.viewport&&n.options.onZoom)return n.options.onZoom(t)},beforePan:function(t,e){if(n.viewport&&n.options.beforePan)return n.options.beforePan(t,e)},onPan:function(t){if(n.viewport&&n.options.onPan)return n.options.onPan(t)},onUpdatedCTM:function(t){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(t)}});var l=this.getPublicInstance();l.setBeforeZoom(this.options.beforeZoom),l.setOnZoom(this.options.onZoom),l.setBeforePan(this.options.beforePan),l.setOnPan(this.options.onPan),l.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&r.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},l.prototype.setupHandlers=function(){var t=this,e=null;if(this.eventListeners={mousedown:function(n){var i=t.handleMouseDown(n,e);return e=n,i},touchstart:function(n){var i=t.handleMouseDown(n,e);return e=n,i},mouseup:function(e){return t.handleMouseUp(e)},touchend:function(e){return t.handleMouseUp(e)},mousemove:function(e){return t.handleMouseMove(e)},touchmove:function(e){return t.handleMouseMove(e)},mouseleave:function(e){return t.handleMouseUp(e)},touchleave:function(e){return t.handleMouseUp(e)},touchcancel:function(e){return t.handleMouseUp(e)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var i=n.length-1;i>=0;i--)this.eventListeners.hasOwnProperty(n[i])&&delete this.eventListeners[n[i]]}for(var r in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(r,this.eventListeners[r],!this.options.preventMouseEventsDefault&&c);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},l.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var t=this;this.wheelListener=function(e){return t.handleMouseWheel(e)};var e=!this.options.preventMouseEventsDefault;i.on(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!0}},l.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var t=!this.options.preventMouseEventsDefault;i.off(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!1}},l.prototype.handleMouseWheel=function(t){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1);var e=t.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,i=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in t&&0===t.deltaMode&&t.wheelDelta&&(e=0===t.deltaY?0:Math.abs(t.wheelDelta)/t.deltaY),e=-.3<e&&e<.3?e:(e>0?1:-1)*Math.log(Math.abs(e)+10)/i;var r=this.svg.getScreenCTM().inverse(),o=s.getEventPoint(t,this.svg).matrixTransform(r),a=Math.pow(1+this.options.zoomScaleSensitivity,-1*e);this.zoomAtPoint(a,o)}},l.prototype.zoomAtPoint=function(t,e,n){var i=this.viewport.getOriginalState();n?(t=Math.max(this.options.minZoom*i.zoom,Math.min(this.options.maxZoom*i.zoom,t)),t/=this.getZoom()):this.getZoom()*t<this.options.minZoom*i.zoom?t=this.options.minZoom*i.zoom/this.getZoom():this.getZoom()*t>this.options.maxZoom*i.zoom&&(t=this.options.maxZoom*i.zoom/this.getZoom());var r=this.viewport.getCTM(),o=e.matrixTransform(r.inverse()),s=this.svg.createSVGMatrix().translate(o.x,o.y).scale(t).translate(-o.x,-o.y),a=r.multiply(s);a.a!==r.a&&this.viewport.setCTM(a)},l.prototype.zoom=function(t,e){this.zoomAtPoint(t,s.getSvgCenterPoint(this.svg,this.width,this.height),e)},l.prototype.publicZoom=function(t,e){e&&(t=this.computeFromRelativeZoom(t)),this.zoom(t,e)},l.prototype.publicZoomAtPoint=function(t,e,n){if(n&&(t=this.computeFromRelativeZoom(t)),"SVGPoint"!==o.getType(e)){if(!("x"in e)||!("y"in e))throw new Error("Given point is invalid");e=s.createSVGPoint(this.svg,e.x,e.y)}this.zoomAtPoint(t,e,n)},l.prototype.getZoom=function(){return this.viewport.getZoom()},l.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},l.prototype.computeFromRelativeZoom=function(t){return t*this.viewport.getOriginalState().zoom},l.prototype.resetZoom=function(){var t=this.viewport.getOriginalState();this.zoom(t.zoom,!0)},l.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},l.prototype.reset=function(){this.resetZoom(),this.resetPan()},l.prototype.handleDblClick=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.options.controlIconsEnabled){var e=t.target.getAttribute("class")||"";if(e.indexOf("svg-pan-zoom-control")>-1)return!1}var n;n=t.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var i=s.getEventPoint(t,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(n,i)},l.prototype.handleMouseDown=function(t,e){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),o.mouseAndTouchNormalize(t,this.svg),this.options.dblClickZoomEnabled&&o.isDblClick(t,e)?this.handleDblClick(t):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=s.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()))},l.prototype.handleMouseMove=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var e=s.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(e.x-this.stateOrigin.x,e.y-this.stateOrigin.y);this.viewport.setCTM(n)}},l.prototype.handleMouseUp=function(t){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&(this.state="none")},l.prototype.fit=function(){var t=this.viewport.getViewBox(),e=Math.min(this.width/t.width,this.height/t.height);this.zoom(e,!0)},l.prototype.contain=function(){var t=this.viewport.getViewBox(),e=Math.max(this.width/t.width,this.height/t.height);this.zoom(e,!0)},l.prototype.center=function(){var t=this.viewport.getViewBox(),e=.5*(this.width-(t.width+2*t.x)*this.getZoom()),n=.5*(this.height-(t.height+2*t.y)*this.getZoom());this.getPublicInstance().pan({x:e,y:n})},l.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},l.prototype.pan=function(t){var e=this.viewport.getCTM();e.e=t.x,e.f=t.y,this.viewport.setCTM(e)},l.prototype.panBy=function(t){var e=this.viewport.getCTM();e.e+=t.x,e.f+=t.y,this.viewport.setCTM(e)},l.prototype.getPan=function(){var t=this.viewport.getState();return{x:t.x,y:t.y}},l.prototype.resize=function(){var t=s.getBoundingClientRectNormalized(this.svg);this.width=t.width,this.height=t.height;var e=this.viewport;e.options.width=this.width,e.options.height=this.height,e.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},l.prototype.destroy=function(){var t=this;for(var e in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(e,this.eventListeners[e],!this.options.preventMouseEventsDefault&&c);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),h=h.filter((function(e){return e.svg!==t.svg})),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},l.prototype.getPublicInstance=function(){var t=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return t.options.panEnabled=!0,t.pi},disablePan:function(){return t.options.panEnabled=!1,t.pi},isPanEnabled:function(){return!!t.options.panEnabled},pan:function(e){return t.pan(e),t.pi},panBy:function(e){return t.panBy(e),t.pi},getPan:function(){return t.getPan()},setBeforePan:function(e){return t.options.beforePan=null===e?null:o.proxy(e,t.publicInstance),t.pi},setOnPan:function(e){return t.options.onPan=null===e?null:o.proxy(e,t.publicInstance),t.pi},enableZoom:function(){return t.options.zoomEnabled=!0,t.pi},disableZoom:function(){return t.options.zoomEnabled=!1,t.pi},isZoomEnabled:function(){return!!t.options.zoomEnabled},enableControlIcons:function(){return t.options.controlIconsEnabled||(t.options.controlIconsEnabled=!0,r.enable(t)),t.pi},disableControlIcons:function(){return t.options.controlIconsEnabled&&(t.options.controlIconsEnabled=!1,r.disable(t)),t.pi},isControlIconsEnabled:function(){return!!t.options.controlIconsEnabled},enableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!0,t.pi},disableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!1,t.pi},isDblClickZoomEnabled:function(){return!!t.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return t.enableMouseWheelZoom(),t.pi},disableMouseWheelZoom:function(){return t.disableMouseWheelZoom(),t.pi},isMouseWheelZoomEnabled:function(){return!!t.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(e){return t.options.zoomScaleSensitivity=e,t.pi},setMinZoom:function(e){return t.options.minZoom=e,t.pi},setMaxZoom:function(e){return t.options.maxZoom=e,t.pi},setBeforeZoom:function(e){return t.options.beforeZoom=null===e?null:o.proxy(e,t.publicInstance),t.pi},setOnZoom:function(e){return t.options.onZoom=null===e?null:o.proxy(e,t.publicInstance),t.pi},zoom:function(e){return t.publicZoom(e,!0),t.pi},zoomBy:function(e){return t.publicZoom(e,!1),t.pi},zoomAtPoint:function(e,n){return t.publicZoomAtPoint(e,n,!0),t.pi},zoomAtPointBy:function(e,n){return t.publicZoomAtPoint(e,n,!1),t.pi},zoomIn:function(){return this.zoomBy(1+t.options.zoomScaleSensitivity),t.pi},zoomOut:function(){return this.zoomBy(1/(1+t.options.zoomScaleSensitivity)),t.pi},getZoom:function(){return t.getRelativeZoom()},setOnUpdatedCTM:function(e){return t.options.onUpdatedCTM=null===e?null:o.proxy(e,t.publicInstance),t.pi},resetZoom:function(){return t.resetZoom(),t.pi},resetPan:function(){return t.resetPan(),t.pi},reset:function(){return t.reset(),t.pi},fit:function(){return t.fit(),t.pi},contain:function(){return t.contain(),t.pi},center:function(){return t.center(),t.pi},updateBBox:function(){return t.updateBBox(),t.pi},resize:function(){return t.resize(),t.pi},getSizes:function(){return{width:t.width,height:t.height,realZoom:t.getZoom(),viewBox:t.viewport.getViewBox()}},destroy:function(){return t.destroy(),t.pi}}),this.publicInstance};var h=[],d=function(t,e){var n=o.getSvg(t);if(null===n)return null;for(var i=h.length-1;i>=0;i--)if(h[i].svg===n)return h[i].instance.getPublicInstance();return h.push({svg:n,instance:new l(n,e)}),h[h.length-1].instance.getPublicInstance()};t.exports=d},7599:function(t,e,n){var i=n(7052),r="unknown";document.documentMode&&(r="ie"),t.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(t){if(t.clientWidth&&t.clientHeight)return{width:t.clientWidth,height:t.clientHeight};if(t.getBoundingClientRect())return t.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(t,e){var n=null;if(n=i.isElement(e)?e:t.querySelector(e),!n){var r=Array.prototype.slice.call(t.childNodes||t.children).filter((function(t){return"defs"!==t.nodeName&&"#text"!==t.nodeName}));1===r.length&&"g"===r[0].nodeName&&null===r[0].getAttribute("transform")&&(n=r[0])}if(!n){var o="viewport-"+(new Date).toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",o);var s=t.childNodes||t.children;if(s&&s.length>0)for(var a=s.length;a>0;a--)"defs"!==s[s.length-a].nodeName&&n.appendChild(s[s.length-a]);t.appendChild(n)}var l=[];return n.getAttribute("class")&&(l=n.getAttribute("class").split(" ")),~l.indexOf("svg-pan-zoom_viewport")||(l.push("svg-pan-zoom_viewport"),n.setAttribute("class",l.join(" "))),n},setupSvgAttributes:function(t){if(t.setAttribute("xmlns",this.svgNS),t.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),t.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==t.parentNode){var e=t.getAttribute("style")||"";-1===e.toLowerCase().indexOf("overflow")&&t.setAttribute("style","overflow: hidden; "+e)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:i.throttle((function(){for(var t=document.querySelectorAll("defs"),e=t.length,n=0;n<e;n++){var i=t[n];i.parentNode.insertBefore(i,i)}}),this?this.internetExplorerRedisplayInterval:null),setCTM:function(t,e,n){var i=this,o="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttributeNS(null,"transform",o),"transform"in t.style?t.style.transform=o:"-ms-transform"in t.style?t.style["-ms-transform"]=o:"-webkit-transform"in t.style&&(t.style["-webkit-transform"]=o),"ie"===r&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout((function(){i.refreshDefsGlobal()}),i.internetExplorerRedisplayInterval))},getEventPoint:function(t,e){var n=e.createSVGPoint();return i.mouseAndTouchNormalize(t,e),n.x=t.clientX,n.y=t.clientY,n},getSvgCenterPoint:function(t,e,n){return this.createSVGPoint(t,e/2,n/2)},createSVGPoint:function(t,e,n){var i=t.createSVGPoint();return i.x=e,i.y=n,i}}},1183:t=>{t.exports=function(){var t,e,n,i="",r=[],o={passive:!0};function s(t,e){var i=function(t){!t&&(t=window.event);var i={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==n?(i.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(i.deltaX=-1/40*t.wheelDeltaX)):i.deltaY=t.detail,e(i)};return r.push({element:t,fn:i}),i}function a(t){for(var e=0;e<r.length;e++)if(r[e].element===t)return r[e].fn;return function(){}}function l(t){for(var e=0;e<r.length;e++)if(r[e].element===t)return r.splice(e,1)}function u(e,r,a,l){var u;u="wheel"===n?a:s(e,a),e[t](i+r,u,!!l&&o)}function c(t,r,s,u){var c;c="wheel"===n?s:a(t),t[e](i+r,c,!!u&&o),l(t)}function h(t,e,i){u(t,n,e,i),"DOMMouseScroll"==n&&u(t,"MozMousePixelScroll",e,i)}function d(t,e,i){c(t,n,e,i),"DOMMouseScroll"==n&&c(t,"MozMousePixelScroll",e,i)}return window.addEventListener?(t="addEventListener",e="removeEventListener"):(t="attachEvent",e="detachEvent",i="on"),n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:h,off:d}}()},7052:t=>{function e(t){return function(e){window.setTimeout(e,t)}}t.exports={extend:function(t,e){for(var n in t=t||{},e)this.isObject(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&"object"===typeof t&&null!==t&&1===t.nodeType&&"string"===typeof t.nodeName},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,n;if(this.isElement(t))e=t;else{if(!("string"===typeof t||t instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(e=document.querySelector(t),!e)throw new Error("Provided selector did not find any elements. Selector: "+t)}if("svg"===e.tagName.toLowerCase())n=e;else if("object"===e.tagName.toLowerCase())n=e.contentDocument.documentElement;else{if("embed"!==e.tagName.toLowerCase())throw"img"===e.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=e.getSVGDocument().documentElement}return n},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(void 0===t.clientX||null===t.clientX)if(t.clientX=0,t.clientY=0,void 0!==t.touches&&t.touches.length){if(void 0!==t.touches[0].clientX)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(void 0!==t.touches[0].pageX){var n=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-n.left,t.clientY=t.touches[0].pageY-n.top}}else void 0!==t.originalEvent&&void 0!==t.originalEvent.clientX&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(2===t.detail)return!0;if(void 0!==e&&null!==e){var n=t.timeStamp-e.timeStamp,i=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return n<250&&i<10}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(t,e,n){var i,r,o,s=this,a=null,l=0;n||(n={});var u=function(){l=!1===n.leading?0:s.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var c=s.now();l||!1!==n.leading||(l=c);var h=e-(c-l);return i=this,r=arguments,h<=0||h>e?(clearTimeout(a),a=null,l=c,o=t.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(u,h)),o}},createRequestAnimationFrame:function(t){var n=null;return"auto"!==t&&t<60&&t>1&&(n=Math.floor(1e3/t)),null===n?window.requestAnimationFrame||e(33):e(n)}}},1591:function(t,e){var n,i,r=r||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},update:function(e,n){if(0===t.length)return!1;var i=0;e=void 0!==e?e:r.now();while(i<t.length)t[i].update(e)||n?i++:t.splice(i,1);return!0}}}();"undefined"===typeof window&&"undefined"!==typeof process?r.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?r.now=window.performance.now.bind(window.performance):void 0!==Date.now?r.now=Date.now:r.now=function(){return(new Date).getTime()},r.Tween=function(t){var e,n=t,i={},o={},s={},a=1e3,l=0,u=!1,c=!1,h=!1,d=0,f=null,p=r.Easing.Linear.None,v=r.Interpolation.Linear,g=[],m=null,y=!1,_=null,b=null,w=null;this.to=function(t,e){return o=t,void 0!==e&&(a=e),this},this.start=function(t){for(var e in r.add(this),c=!0,y=!1,f=void 0!==t?t:r.now(),f+=d,o){if(o[e]instanceof Array){if(0===o[e].length)continue;o[e]=[n[e]].concat(o[e])}void 0!==n[e]&&(i[e]=n[e],i[e]instanceof Array===!1&&(i[e]*=1),s[e]=i[e]||0)}return this},this.stop=function(){return c?(r.remove(this),c=!1,null!==w&&w.call(n,n),this.stopChainedTweens(),this):this},this.end=function(){return this.update(f+a),this},this.stopChainedTweens=function(){for(var t=0,e=g.length;t<e;t++)g[t].stop()},this.delay=function(t){return d=t,this},this.repeat=function(t){return l=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return u=t,this},this.easing=function(t){return p=t,this},this.interpolation=function(t){return v=t,this},this.chain=function(){return g=arguments,this},this.onStart=function(t){return m=t,this},this.onUpdate=function(t){return _=t,this},this.onComplete=function(t){return b=t,this},this.onStop=function(t){return w=t,this},this.update=function(t){var r,c,w;if(t<f)return!0;for(r in!1===y&&(null!==m&&m.call(n,n),y=!0),c=(t-f)/a,c=c>1?1:c,w=p(c),o)if(void 0!==i[r]){var k=i[r]||0,x=o[r];x instanceof Array?n[r]=v(x,w):("string"===typeof x&&(x="+"===x.charAt(0)||"-"===x.charAt(0)?k+parseFloat(x):parseFloat(x)),"number"===typeof x&&(n[r]=k+(x-k)*w))}if(null!==_&&_.call(n,w),1===c){if(l>0){for(r in isFinite(l)&&l--,s){if("string"===typeof o[r]&&(s[r]=s[r]+parseFloat(o[r])),u){var E=s[r];s[r]=o[r],o[r]=E}i[r]=s[r]}return u&&(h=!h),f=void 0!==e?t+e:t+d,!0}null!==b&&b.call(n,n);for(var S=0,T=g.length;S<T;S++)g[S].start(f+a);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),s=r.Interpolation.Utils.Linear;return e<0?s(t[0],t[1],i):e>1?s(t[n],t[n-1],n-i):s(t[o],t[o+1>n?n:o+1],i-o)},Bezier:function(t,e){for(var n=0,i=t.length-1,o=Math.pow,s=r.Interpolation.Utils.Bernstein,a=0;a<=i;a++)n+=o(1-e,i-a)*o(e,a)*t[a]*s(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),s=r.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(i=n*(1+e))),s(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],i-o)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(s(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):s(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],i-o)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=r.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var i=e;i>1;i--)n*=i;return t[e]=n,n}}(),CatmullRom:function(t,e,n,i,r){var o=.5*(n-t),s=.5*(i-e),a=r*r,l=r*a;return(2*e-2*n+o+s)*l+(-3*e+3*n-2*o-s)*a+o*r+e}}},function(o){n=[],i=function(){return r}.apply(e,n),void 0===i||(t.exports=i)}()},8285:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>nn});var i=n(5929),r=n(2362);n(6280);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=n(5438);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(0,s.A)(i.key),i)}}function l(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var u="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,c=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(u&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function h(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}function d(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),c))}}var f=u&&window.Promise,p=f?h:d;function v(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function g(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView,i=n.getComputedStyle(t,null);return e?i[e]:i}function m(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function y(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=g(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:y(m(t))}function _(t){return t&&t.referenceNode?t.referenceNode:t}var b=u&&!(!window.MSInputMethodContext||!document.documentMode),w=u&&/MSIE 10/.test(navigator.userAgent);function k(t){return 11===t?b:10===t?w:b||w}function x(t){if(!t)return document.documentElement;var e=k(10)?document.body:null,n=t.offsetParent||null;while(n===e&&t.nextElementSibling)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===g(n,"position")?x(n):n:t?t.ownerDocument.documentElement:document.documentElement}function E(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||x(t.firstElementChild)===t)}function S(t){return null!==t.parentNode?S(t.parentNode):t}function T(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||i.contains(r))return E(s)?s:x(s);var a=S(t);return a.host?T(a.host,e):T(t,S(e).host)}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||r;return o[n]}return t[n]}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=O(e,"top"),r=O(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}function I(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function N(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],k(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function M(t){var e=t.body,n=t.documentElement,i=k(10)&&getComputedStyle(n);return{height:N("Height",e,n,i),width:N("Width",e,n,i)}}var A=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},D=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),P=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function L(t){return R({},t,{right:t.left+t.width,bottom:t.top+t.height})}function F(t){var e={};try{if(k(10)){e=t.getBoundingClientRect();var n=O(t,"top"),i=O(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(h){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?M(t.ownerDocument):{},s=o.width||t.clientWidth||r.width,a=o.height||t.clientHeight||r.height,l=t.offsetWidth-s,u=t.offsetHeight-a;if(l||u){var c=g(t);l-=I(c,"x"),u-=I(c,"y"),r.width-=l,r.height-=u}return L(r)}function j(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=k(10),r="HTML"===e.nodeName,o=F(t),s=F(e),a=y(t),l=g(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=L({top:o.top-s.top-u,left:o.left-s.left-c,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var d=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);h.top-=u-d,h.bottom-=u-d,h.left-=c-f,h.right-=c-f,h.marginTop=d,h.marginLeft=f}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=C(h,e)),h}function z(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=j(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:O(n),a=e?0:O(n,"left"),l={top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o};return L(l)}function B(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===g(t,"position"))return!0;var n=m(t);return!!n&&B(n)}function U(t){if(!t||!t.parentElement||k())return document.documentElement;var e=t.parentElement;while(e&&"none"===g(e,"transform"))e=e.parentElement;return e||document.documentElement}function H(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?U(t):T(t,_(e));if("viewport"===i)o=z(s,r);else{var a=void 0;"scrollParent"===i?(a=y(m(e)),"BODY"===a.nodeName&&(a=t.ownerDocument.documentElement)):a="window"===i?t.ownerDocument.documentElement:i;var l=j(a,s,r);if("HTML"!==a.nodeName||B(s))o=l;else{var u=M(t.ownerDocument),c=u.height,h=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=h+l.left}}n=n||0;var d="number"===typeof n;return o.left+=d?n:n.left||0,o.top+=d?n:n.top||0,o.right-=d?n:n.right||0,o.bottom-=d?n:n.bottom||0,o}function W(t){var e=t.width,n=t.height;return e*n}function Y(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=H(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map((function(t){return R({key:t},a[t],{area:W(a[t])})})).sort((function(t,e){return e.area-t.area})),u=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function V(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?U(e):T(e,_(n));return j(n,r,i)}function G(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),i=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),r=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:t.offsetWidth+r,height:t.offsetHeight+i};return o}function $(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function q(t,e,n){n=n.split("-")[0];var i=G(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[u]:e[$(a)],r}function K(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Z(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=K(t,(function(t){return t[e]===n}));return t.indexOf(i)}function X(t,e,n){var i=void 0===n?t:t.slice(0,Z(t,"name",n));return i.forEach((function(t){t["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t["function"]||t.fn;t.enabled&&v(n)&&(e.offsets.popper=L(e.offsets.popper),e.offsets.reference=L(e.offsets.reference),e=n(e,t))})),e}function Q(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=V(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Y(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=q(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=X(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function J(t,e){return t.some((function(t){var n=t.name,i=t.enabled;return i&&n===e}))}function tt(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if("undefined"!==typeof document.body.style[o])return o}return null}function et(){return this.state.isDestroyed=!0,J(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[tt("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function nt(t){var e=t.ownerDocument;return e?e.defaultView:window}function it(t,e,n,i){var r="BODY"===t.nodeName,o=r?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),r||it(y(o.parentNode),e,n,i),i.push(o)}function rt(t,e,n,i){n.updateBound=i,nt(t).addEventListener("resize",n.updateBound,{passive:!0});var r=y(t);return it(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function ot(){this.state.eventsEnabled||(this.state=rt(this.reference,this.options,this.state,this.scheduleUpdate))}function st(t,e){return nt(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function at(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=st(this.reference,this.state))}function lt(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function ut(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&lt(e[n])&&(i="px"),t.style[n]=e[n]+i}))}function ct(t,e){Object.keys(e).forEach((function(n){var i=e[n];!1!==i?t.setAttribute(n,e[n]):t.removeAttribute(n)}))}function ht(t){return ut(t.instance.popper,t.styles),ct(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&ut(t.arrowElement,t.arrowStyles),t}function dt(t,e,n,i,r){var o=V(r,e,t,n.positionFixed),s=Y(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),ut(e,{position:n.positionFixed?"fixed":"absolute"}),n}function ft(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(t){return t},l=o(r.width),u=o(i.width),c=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),d=l%2===u%2,f=l%2===1&&u%2===1,p=e?c||h||d?o:s:a,v=e?o:a;return{left:p(f&&!h&&e?i.left-1:i.left),top:v(i.top),bottom:v(i.bottom),right:p(i.right)}}var pt=u&&/Firefox/i.test(navigator.userAgent);function vt(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=K(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=x(t.instance.popper),l=F(a),u={position:r.position},c=ft(t,window.devicePixelRatio<2||!pt),h="bottom"===n?"top":"bottom",d="right"===i?"left":"right",f=tt("transform"),p=void 0,v=void 0;if(v="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-l.height+c.bottom:c.top,p="right"===d?"HTML"===a.nodeName?-a.clientWidth+c.right:-l.width+c.right:c.left,s&&f)u[f]="translate3d("+p+"px, "+v+"px, 0)",u[h]=0,u[d]=0,u.willChange="transform";else{var g="bottom"===h?-1:1,m="right"===d?-1:1;u[h]=v*g,u[d]=p*m,u.willChange=h+", "+d}var y={"x-placement":t.placement};return t.attributes=R({},y,t.attributes),t.styles=R({},u,t.styles),t.arrowStyles=R({},t.offsets.arrow,t.arrowStyles),t}function gt(t,e,n){var i=K(t,(function(t){var n=t.name;return n===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function mt(t,e){var n;if(!gt(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"===typeof i){if(i=t.instance.popper.querySelector(i),!i)return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(r),u=l?"height":"width",c=l?"Top":"Left",h=c.toLowerCase(),d=l?"left":"top",f=l?"bottom":"right",p=G(i)[u];a[f]-p<s[h]&&(t.offsets.popper[h]-=s[h]-(a[f]-p)),a[h]+p>s[f]&&(t.offsets.popper[h]+=a[h]+p-s[f]),t.offsets.popper=L(t.offsets.popper);var v=a[h]+a[u]/2-p/2,m=g(t.instance.popper),y=parseFloat(m["margin"+c]),_=parseFloat(m["border"+c+"Width"]),b=v-t.offsets.popper[h]-y-_;return b=Math.max(Math.min(s[u]-p,b),0),t.arrowElement=i,t.offsets.arrow=(n={},P(n,h,Math.round(b)),P(n,d,""),n),t}function yt(t){return"end"===t?"start":"start"===t?"end":t}var _t=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],bt=_t.slice(3);function wt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=bt.indexOf(t),i=bt.slice(n+1).concat(bt.slice(0,n));return e?i.reverse():i}var kt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function xt(t,e){if(J(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=H(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=$(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case kt.FLIP:s=[i,r];break;case kt.CLOCKWISE:s=wt(i);break;case kt.COUNTERCLOCKWISE:s=wt(i,!0);break;default:s=e.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=$(i);var u=t.offsets.popper,c=t.offsets.reference,h=Math.floor,d="left"===i&&h(u.right)>h(c.left)||"right"===i&&h(u.left)<h(c.right)||"top"===i&&h(u.bottom)>h(c.top)||"bottom"===i&&h(u.top)<h(c.bottom),f=h(u.left)<h(n.left),p=h(u.right)>h(n.right),v=h(u.top)<h(n.top),g=h(u.bottom)>h(n.bottom),m="left"===i&&f||"right"===i&&p||"top"===i&&v||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),_=!!e.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&v||!y&&"end"===o&&g),b=!!e.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&g||!y&&"end"===o&&v),w=_||b;(d||m||w)&&(t.flipped=!0,(d||m)&&(i=s[l+1]),w&&(o=yt(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=R({},t.offsets.popper,q(t.instance.popper,t.offsets.reference,t.placement)),t=X(t.instance.modifiers,t,"flip"))})),t}function Et(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}function St(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}var l=L(a);return l[e]/100*o}if("vh"===s||"vw"===s){var u=void 0;return u="vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*o}return o}function Tt(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(K(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return u=u.map((function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return St(t,r,e,n)}))})),u.forEach((function(t,e){t.forEach((function(n,i){lt(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}function Ot(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=lt(+n)?[+n,0]:Tt(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t}function Ct(t,e){var n=e.boundariesElement||x(t.instance.popper);t.instance.reference===n&&(n=x(n));var i=tt("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=H(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,h={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),P({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),P({},n,i)}};return u.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=R({},c,h[e](t))})),t.offsets.popper=c,t}function It(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:P({},l,o[l]),end:P({},l,o[l]+o[u]-s[u])};t.offsets.popper=R({},s,c[i])}return t}function Nt(t){if(!gt(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=K(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function Mt(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=$(e),t.offsets.popper=L(r),t}var At={shift:{order:100,enabled:!0,fn:It},offset:{order:200,enabled:!0,fn:Ot,offset:0},preventOverflow:{order:300,enabled:!0,fn:Ct,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Et},arrow:{order:500,enabled:!0,fn:mt,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:xt,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Mt},hide:{order:800,enabled:!0,fn:Nt},computeStyle:{order:850,enabled:!0,fn:vt,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:ht,onLoad:dt,gpuAcceleration:void 0}},Dt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:At},Pt=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};A(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=p(this.update.bind(this)),this.options=R({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(R({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){i.options.modifiers[e]=R({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return R({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&v(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return D(t,[{key:"update",value:function(){return Q.call(this)}},{key:"destroy",value:function(){return et.call(this)}},{key:"enableEventListeners",value:function(){return ot.call(this)}},{key:"disableEventListeners",value:function(){return at.call(this)}}]),t}();Pt.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,Pt.placements=_t,Pt.Defaults=Dt;const Rt=Pt;var Lt,Ft=n(2404),jt=n.n(Ft);function zt(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var r=t.indexOf("Edge/");return r>0?parseInt(t.substring(r+5,t.indexOf(".",r)),10):-1}function Bt(){Bt.init||(Bt.init=!0,Lt=-1!==zt())}var Ut={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var t=this;Bt(),this.$nextTick((function(){t._w=t.$el.offsetWidth,t._h=t.$el.offsetHeight,t.emitOnMount&&t.emitSize()}));var e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Lt&&this.$el.appendChild(e),e.data="about:blank",Lt||this.$el.appendChild(e)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!Lt&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};function Ht(t,e,n,i,r,o,s,a,l,u){"boolean"!==typeof s&&(l=a,a=s,s=!1);var c,h="function"===typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,r&&(h.functional=!0)),i&&(h._scopeId=i),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=s?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),c)if(h.functional){var d=h.render;h.render=function(t,e){return c.call(e),d(t,e)}}else{var f=h.beforeCreate;h.beforeCreate=f?[].concat(f,c):[c]}return n}var Wt=Ut,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},Vt=[];Yt._withStripped=!0;var Gt=void 0,$t="data-v-8859cc6c",qt=void 0,Kt=!1,Zt=Ht({render:Yt,staticRenderFns:Vt},Gt,Wt,$t,Kt,qt,!1,void 0,void 0,void 0);function Xt(t){t.component("resize-observer",Zt),t.component("ResizeObserver",Zt)}var Qt={version:"1.0.1",install:Xt},Jt=null;"undefined"!==typeof window?Jt=window.Vue:"undefined"!==typeof n.g&&(Jt=n.g.Vue),Jt&&Jt.use(Qt);var te=n(5364),ee=n.n(te),ne=function(){};function ie(t){return"string"===typeof t&&(t=t.split(" ")),t}function re(t,e){var n,i=ie(e);n=t.className instanceof ne?ie(t.className.baseVal):ie(t.className),i.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),t instanceof SVGElement?t.setAttribute("class",n.join(" ")):t.className=n.join(" ")}function oe(t,e){var n,i=ie(e);n=t.className instanceof ne?ie(t.className.baseVal):ie(t.className),i.forEach((function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})),t instanceof SVGElement?t.setAttribute("class",n.join(" ")):t.className=n.join(" ")}"undefined"!==typeof window&&(ne=window.SVGAnimatedString);var se=!1;if("undefined"!==typeof window){se=!1;try{var ae=Object.defineProperty({},"passive",{get:function(){se=!0}});window.addEventListener("test",null,ae)}catch(rn){}}function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach((function(e){(0,r.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ce={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},he=[],de=function(){function t(e,n){var i=this;o(this,t),(0,r.A)(this,"_events",[]),(0,r.A)(this,"_setTooltipNodeEvent",(function(t,e,n,r){var o=t.relatedreference||t.toElement||t.relatedTarget,s=function n(o){var s=o.relatedreference||o.toElement||o.relatedTarget;i._tooltipNode.removeEventListener(t.type,n),e.contains(s)||i._scheduleHide(e,r.delay,r,o)};return!!i._tooltipNode.contains(o)&&(i._tooltipNode.addEventListener(t.type,s),!0)})),n=ue(ue({},ce),n),e.jquery&&(e=e[0]),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.reference=e,this.options=n,this._isOpen=!1,this._init()}return l(t,[{key:"show",value:function(){this._show(this.reference,this.options)}},{key:"hide",value:function(){this._hide()}},{key:"dispose",value:function(){this._dispose()}},{key:"toggle",value:function(){return this._isOpen?this.hide():this.show()}},{key:"setClasses",value:function(t){this._classes=t}},{key:"setContent",value:function(t){this.options.title=t,this._tooltipNode&&this._setContent(t,this.options)}},{key:"setOptions",value:function(t){var e=!1,n=t&&t.classes||Ee.options.defaultClass;jt()(this._classes,n)||(this.setClasses(n),e=!0),t=ye(t);var i=!1,r=!1;for(var o in this.options.offset===t.offset&&this.options.placement===t.placement||(i=!0),(this.options.template!==t.template||this.options.trigger!==t.trigger||this.options.container!==t.container||e)&&(r=!0),t)this.options[o]=t[o];if(this._tooltipNode)if(r){var s=this._isOpen;this.dispose(),this._init(),s&&this.show()}else i&&this.popperInstance.update()}},{key:"_init",value:function(){var t="string"===typeof this.options.trigger?this.options.trigger.split(" "):[];this._isDisposed=!1,this._enableDocumentTouch=-1===t.indexOf("manual"),t=t.filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})),this._setEventListeners(this.reference,t,this.options),this.$_originalTitle=this.reference.getAttribute("title"),this.reference.removeAttribute("title"),this.reference.setAttribute("data-original-title",this.$_originalTitle)}},{key:"_create",value:function(t,e){var n=this,i=window.document.createElement("div");i.innerHTML=e.trim();var r=i.childNodes[0];return r.id=this.options.ariaId||"tooltip_".concat(Math.random().toString(36).substr(2,10)),r.setAttribute("aria-hidden","true"),this.options.autoHide&&-1!==this.options.trigger.indexOf("hover")&&(r.addEventListener("mouseenter",(function(e){return n._scheduleHide(t,n.options.delay,n.options,e)})),r.addEventListener("click",(function(e){return n._scheduleHide(t,n.options.delay,n.options,e)}))),r}},{key:"_setContent",value:function(t,e){var n=this;this.asyncContent=!1,this._applyContent(t,e).then((function(){n.popperInstance&&n.popperInstance.update()}))}},{key:"_applyContent",value:function(t,e){var n=this;return new Promise((function(i,r){var o=e.html,s=n._tooltipNode;if(s){var a=s.querySelector(n.options.innerSelector);if(1===t.nodeType){if(o){while(a.firstChild)a.removeChild(a.firstChild);a.appendChild(t)}}else{if("function"===typeof t){var l=t();return void(l&&"function"===typeof l.then?(n.asyncContent=!0,e.loadingClass&&re(s,e.loadingClass),e.loadingContent&&n._applyContent(e.loadingContent,e),l.then((function(t){return e.loadingClass&&oe(s,e.loadingClass),n._applyContent(t,e)})).then(i).catch(r)):n._applyContent(l,e).then(i).catch(r))}o?a.innerHTML=t:a.innerText=t}i()}}))}},{key:"_show",value:function(t,e){if(e&&"string"===typeof e.container){var n=document.querySelector(e.container);if(!n)return}clearTimeout(this._disposeTimer),e=Object.assign({},e),delete e.offset;var i=!0;this._tooltipNode&&(re(this._tooltipNode,this._classes),i=!1);var r=this._ensureShown(t,e);return i&&this._tooltipNode&&re(this._tooltipNode,this._classes),re(t,["v-tooltip-open"]),r}},{key:"_ensureShown",value:function(t,e){var n=this;if(this._isOpen)return this;if(this._isOpen=!0,he.push(this),this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.enableEventListeners(),this.popperInstance.update(),this.asyncContent&&this._setContent(e.title,e),this;var i=t.getAttribute("title")||e.title;if(!i)return this;var r=this._create(t,e.template);this._tooltipNode=r,t.setAttribute("aria-describedby",r.id);var o=this._findContainer(e.container,t);this._append(r,o);var s=ue(ue({},e.popperOptions),{},{placement:e.placement});return s.modifiers=ue(ue({},s.modifiers),{},{arrow:{element:this.options.arrowSelector}}),e.boundariesElement&&(s.modifiers.preventOverflow={boundariesElement:e.boundariesElement}),this.popperInstance=new Rt(t,r,s),this._setContent(i,e),requestAnimationFrame((function(){!n._isDisposed&&n.popperInstance?(n.popperInstance.update(),requestAnimationFrame((function(){n._isDisposed?n.dispose():n._isOpen&&r.setAttribute("aria-hidden","false")}))):n.dispose()})),this}},{key:"_noLongerOpen",value:function(){var t=he.indexOf(this);-1!==t&&he.splice(t,1)}},{key:"_hide",value:function(){var t=this;if(!this._isOpen)return this;this._isOpen=!1,this._noLongerOpen(),this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this._disposeTimer);var e=Ee.options.disposeTimeout;return null!==e&&(this._disposeTimer=setTimeout((function(){t._tooltipNode&&(t._tooltipNode.removeEventListener("mouseenter",t.hide),t._tooltipNode.removeEventListener("click",t.hide),t._removeTooltipNode())}),e)),oe(this.reference,["v-tooltip-open"]),this}},{key:"_removeTooltipNode",value:function(){if(this._tooltipNode){var t=this._tooltipNode.parentNode;t&&(t.removeChild(this._tooltipNode),this.reference.removeAttribute("aria-describedby")),this._tooltipNode=null}}},{key:"_dispose",value:function(){var t=this;return this._isDisposed=!0,this.reference.removeAttribute("data-original-title"),this.$_originalTitle&&this.reference.setAttribute("title",this.$_originalTitle),this._events.forEach((function(e){var n=e.func,i=e.event;t.reference.removeEventListener(i,n)})),this._events=[],this._tooltipNode?(this._hide(),this._tooltipNode.removeEventListener("mouseenter",this.hide),this._tooltipNode.removeEventListener("click",this.hide),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||this._removeTooltipNode()):this._noLongerOpen(),this}},{key:"_findContainer",value:function(t,e){return"string"===typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t}},{key:"_append",value:function(t,e){e.appendChild(t)}},{key:"_setEventListeners",value:function(t,e,n){var i=this,r=[],o=[];e.forEach((function(t){switch(t){case"hover":r.push("mouseenter"),o.push("mouseleave"),i.options.hideOnTargetClick&&o.push("click");break;case"focus":r.push("focus"),o.push("blur"),i.options.hideOnTargetClick&&o.push("click");break;case"click":r.push("click"),o.push("click");break}})),r.forEach((function(e){var r=function(e){!0!==i._isOpen&&(e.usedByTooltip=!0,i._scheduleShow(t,n.delay,n,e))};i._events.push({event:e,func:r}),t.addEventListener(e,r)})),o.forEach((function(e){var r=function(e){!0!==e.usedByTooltip&&i._scheduleHide(t,n.delay,n,e)};i._events.push({event:e,func:r}),t.addEventListener(e,r)}))}},{key:"_onDocumentTouch",value:function(t){this._enableDocumentTouch&&this._scheduleHide(this.reference,this.options.delay,this.options,t)}},{key:"_scheduleShow",value:function(t,e,n){var i=this,r=e&&e.show||e||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){return i._show(t,n)}),r)}},{key:"_scheduleHide",value:function(t,e,n,i){var r=this,o=e&&e.hide||e||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){if(!1!==r._isOpen&&r._tooltipNode.ownerDocument.body.contains(r._tooltipNode)){if("mouseleave"===i.type){var o=r._setTooltipNodeEvent(i,t,e,n);if(o)return}r._hide(t,n)}}),o)}}]),t}();function fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach((function(e){(0,r.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}"undefined"!==typeof document&&document.addEventListener("touchstart",(function(t){for(var e=0;e<he.length;e++)he[e]._onDocumentTouch(t)}),!se||{passive:!0,capture:!0});var ve={enabled:!0},ge=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],me={defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultHtml:!0,defaultTemplate:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:0,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:5e3,popover:{defaultPlacement:"bottom",defaultClass:"vue-popover-theme",defaultBaseClass:"tooltip popover",defaultWrapperClass:"wrapper",defaultInnerClass:"tooltip-inner popover-inner",defaultArrowClass:"tooltip-arrow popover-arrow",defaultOpenClass:"open",defaultDelay:0,defaultTrigger:"click",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultAutoHide:!0,defaultHandleResize:!0}};function ye(t){var e={placement:"undefined"!==typeof t.placement?t.placement:Ee.options.defaultPlacement,delay:"undefined"!==typeof t.delay?t.delay:Ee.options.defaultDelay,html:"undefined"!==typeof t.html?t.html:Ee.options.defaultHtml,template:"undefined"!==typeof t.template?t.template:Ee.options.defaultTemplate,arrowSelector:"undefined"!==typeof t.arrowSelector?t.arrowSelector:Ee.options.defaultArrowSelector,innerSelector:"undefined"!==typeof t.innerSelector?t.innerSelector:Ee.options.defaultInnerSelector,trigger:"undefined"!==typeof t.trigger?t.trigger:Ee.options.defaultTrigger,offset:"undefined"!==typeof t.offset?t.offset:Ee.options.defaultOffset,container:"undefined"!==typeof t.container?t.container:Ee.options.defaultContainer,boundariesElement:"undefined"!==typeof t.boundariesElement?t.boundariesElement:Ee.options.defaultBoundariesElement,autoHide:"undefined"!==typeof t.autoHide?t.autoHide:Ee.options.autoHide,hideOnTargetClick:"undefined"!==typeof t.hideOnTargetClick?t.hideOnTargetClick:Ee.options.defaultHideOnTargetClick,loadingClass:"undefined"!==typeof t.loadingClass?t.loadingClass:Ee.options.defaultLoadingClass,loadingContent:"undefined"!==typeof t.loadingContent?t.loadingContent:Ee.options.defaultLoadingContent,popperOptions:pe({},"undefined"!==typeof t.popperOptions?t.popperOptions:Ee.options.defaultPopperOptions)};if(e.offset){var n=(0,i.A)(e.offset),r=e.offset;("number"===n||"string"===n&&-1===r.indexOf(","))&&(r="0, ".concat(r)),e.popperOptions.modifiers||(e.popperOptions.modifiers={}),e.popperOptions.modifiers.offset={offset:r}}return e.trigger&&-1!==e.trigger.indexOf("click")&&(e.hideOnTargetClick=!1),e}function _e(t,e){for(var n=t.placement,i=0;i<ge.length;i++){var r=ge[i];e[r]&&(n=r)}return n}function be(t){var e=(0,i.A)(t);return"string"===e?t:!(!t||"object"!==e)&&t.content}function we(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=be(e),o="undefined"!==typeof e.classes?e.classes:Ee.options.defaultClass,s=pe({title:r},ye(pe(pe({},"object"===(0,i.A)(e)?e:{}),{},{placement:_e(e,n)}))),a=t._tooltip=new de(t,s);a.setClasses(o),a._vueEl=t;var l="undefined"!==typeof e.targetClasses?e.targetClasses:Ee.options.defaultTargetClass;return t._tooltipTargetClasses=l,re(t,l),a}function ke(t){t._tooltip&&(t._tooltip.dispose(),delete t._tooltip,delete t._tooltipOldShow),t._tooltipTargetClasses&&(oe(t,t._tooltipTargetClasses),delete t._tooltipTargetClasses)}function xe(t,e){var n=e.value;e.oldValue;var i,r=e.modifiers,o=be(n);o&&ve.enabled?(t._tooltip?(i=t._tooltip,i.setContent(o),i.setOptions(pe(pe({},n),{},{placement:_e(n,r)}))):i=we(t,n,r),"undefined"!==typeof n.show&&n.show!==t._tooltipOldShow&&(t._tooltipOldShow=n.show,n.show?i.show():i.hide())):ke(t)}var Ee={options:me,bind:xe,update:xe,unbind:function(t){ke(t)}};function Se(t){t.addEventListener("click",Oe),t.addEventListener("touchstart",Ce,!!se&&{passive:!0})}function Te(t){t.removeEventListener("click",Oe),t.removeEventListener("touchstart",Ce),t.removeEventListener("touchend",Ie),t.removeEventListener("touchcancel",Ne)}function Oe(t){var e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function Ce(t){if(1===t.changedTouches.length){var e=t.currentTarget;e.$_vclosepopover_touch=!0;var n=t.changedTouches[0];e.$_vclosepopover_touchPoint=n,e.addEventListener("touchend",Ie),e.addEventListener("touchcancel",Ne)}}function Ie(t){var e=t.currentTarget;if(e.$_vclosepopover_touch=!1,1===t.changedTouches.length){var n=t.changedTouches[0],i=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(n.screenY-i.screenY)<20&&Math.abs(n.screenX-i.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function Ne(t){var e=t.currentTarget;e.$_vclosepopover_touch=!1}var Me={bind:function(t,e){var n=e.value,i=e.modifiers;t.$_closePopoverModifiers=i,("undefined"===typeof n||n)&&Se(t)},update:function(t,e){var n=e.value,i=e.oldValue,r=e.modifiers;t.$_closePopoverModifiers=r,n!==i&&("undefined"===typeof n||n?Se(t):Te(t))},unbind:function(t){Te(t)}};function Ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(n),!0).forEach((function(e){(0,r.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pe(t){var e=Ee.options.popover[t];return"undefined"===typeof e?Ee.options[t]:e}var Re=!1;"undefined"!==typeof window&&"undefined"!==typeof navigator&&(Re=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);var Le=[],Fe=function(){};"undefined"!==typeof window&&(Fe=window.Element);var je={name:"VPopover",components:{ResizeObserver:Zt},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placement:{type:String,default:function(){return Pe("defaultPlacement")}},delay:{type:[String,Number,Object],default:function(){return Pe("defaultDelay")}},offset:{type:[String,Number],default:function(){return Pe("defaultOffset")}},trigger:{type:String,default:function(){return Pe("defaultTrigger")}},container:{type:[String,Object,Fe,Boolean],default:function(){return Pe("defaultContainer")}},boundariesElement:{type:[String,Fe],default:function(){return Pe("defaultBoundariesElement")}},popperOptions:{type:Object,default:function(){return Pe("defaultPopperOptions")}},popoverClass:{type:[String,Array],default:function(){return Pe("defaultClass")}},popoverBaseClass:{type:[String,Array],default:function(){return Ee.options.popover.defaultBaseClass}},popoverInnerClass:{type:[String,Array],default:function(){return Ee.options.popover.defaultInnerClass}},popoverWrapperClass:{type:[String,Array],default:function(){return Ee.options.popover.defaultWrapperClass}},popoverArrowClass:{type:[String,Array],default:function(){return Ee.options.popover.defaultArrowClass}},autoHide:{type:Boolean,default:function(){return Ee.options.popover.defaultAutoHide}},handleResize:{type:Boolean,default:function(){return Ee.options.popover.defaultHandleResize}},openGroup:{type:String,default:null},openClass:{type:[String,Array],default:function(){return Ee.options.popover.defaultOpenClass}},ariaId:{default:null}},data:function(){return{isOpen:!1,id:Math.random().toString(36).substr(2,10)}},computed:{cssClass:function(){return(0,r.A)({},this.openClass,this.isOpen)},popoverId:function(){return"popover_".concat(null!=this.ariaId?this.ariaId:this.id)}},watch:{open:function(t){t?this.show():this.hide()},disabled:function(t,e){t!==e&&(t?this.hide():this.open&&this.show())},container:function(t){if(this.isOpen&&this.popperInstance){var e=this.$refs.popover,n=this.$refs.trigger,i=this.$_findContainer(this.container,n);if(!i)return void console.warn("No container for popover",this);i.appendChild(e),this.popperInstance.scheduleUpdate()}},trigger:function(t){this.$_removeEventListeners(),this.$_addEventListeners()},placement:function(t){var e=this;this.$_updatePopper((function(){e.popperInstance.options.placement=t}))},offset:"$_restartPopper",boundariesElement:"$_restartPopper",popperOptions:{handler:"$_restartPopper",deep:!0}},created:function(){this.$_isDisposed=!1,this.$_mounted=!1,this.$_events=[],this.$_preventOpen=!1},mounted:function(){var t=this.$refs.popover;t.parentNode&&t.parentNode.removeChild(t),this.$_init(),this.open&&this.show()},deactivated:function(){this.hide()},beforeDestroy:function(){this.dispose()},methods:{show:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.event;e.skipDelay;var i=e.force,r=void 0!==i&&i;!r&&this.disabled||(this.$_scheduleShow(n),this.$emit("show")),this.$emit("update:open",!0),this.$_beingShowed=!0,requestAnimationFrame((function(){t.$_beingShowed=!1}))},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.event;t.skipDelay,this.$_scheduleHide(e),this.$emit("hide"),this.$emit("update:open",!1)},dispose:function(){if(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.popperInstance&&(this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy)){var t=this.$refs.popover;t.parentNode&&t.parentNode.removeChild(t)}this.$_mounted=!1,this.popperInstance=null,this.isOpen=!1,this.$emit("dispose")},$_init:function(){-1===this.trigger.indexOf("manual")&&this.$_addEventListeners()},$_show:function(){var t=this,e=this.$refs.trigger,n=this.$refs.popover;if(clearTimeout(this.$_disposeTimer),!this.isOpen){if(this.popperInstance&&(this.isOpen=!0,this.popperInstance.enableEventListeners(),this.popperInstance.scheduleUpdate()),!this.$_mounted){var i=this.$_findContainer(this.container,e);if(!i)return void console.warn("No container for popover",this);i.appendChild(n),this.$_mounted=!0,this.isOpen=!1,this.popperInstance&&requestAnimationFrame((function(){t.hidden||(t.isOpen=!0)}))}if(!this.popperInstance){var r=De(De({},this.popperOptions),{},{placement:this.placement});if(r.modifiers=De(De({},r.modifiers),{},{arrow:De(De({},r.modifiers&&r.modifiers.arrow),{},{element:this.$refs.arrow})}),this.offset){var o=this.$_getOffset();r.modifiers.offset=De(De({},r.modifiers&&r.modifiers.offset),{},{offset:o})}this.boundariesElement&&(r.modifiers.preventOverflow=De(De({},r.modifiers&&r.modifiers.preventOverflow),{},{boundariesElement:this.boundariesElement})),this.popperInstance=new Rt(e,n,r),requestAnimationFrame((function(){if(t.hidden)return t.hidden=!1,void t.$_hide();!t.$_isDisposed&&t.popperInstance?(t.popperInstance.scheduleUpdate(),requestAnimationFrame((function(){if(t.hidden)return t.hidden=!1,void t.$_hide();t.$_isDisposed?t.dispose():t.isOpen=!0}))):t.dispose()}))}var s=this.openGroup;if(s)for(var a,l=0;l<Le.length;l++)a=Le[l],a.openGroup!==s&&(a.hide(),a.$emit("close-group"));Le.push(this),this.$emit("apply-show")}},$_hide:function(){var t=this;if(this.isOpen){var e=Le.indexOf(this);-1!==e&&Le.splice(e,1),this.isOpen=!1,this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this.$_disposeTimer);var n=Ee.options.popover.disposeTimeout||Ee.options.disposeTimeout;null!==n&&(this.$_disposeTimer=setTimeout((function(){var e=t.$refs.popover;e&&(e.parentNode&&e.parentNode.removeChild(e),t.$_mounted=!1)}),n)),this.$emit("apply-hide")}},$_findContainer:function(t,e){return"string"===typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t},$_getOffset:function(){var t=(0,i.A)(this.offset),e=this.offset;return("number"===t||"string"===t&&-1===e.indexOf(","))&&(e="0, ".concat(e)),e},$_addEventListeners:function(){var t=this,e=this.$refs.trigger,n=[],i=[],r="string"===typeof this.trigger?this.trigger.split(" ").filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})):[];r.forEach((function(t){switch(t){case"hover":n.push("mouseenter"),i.push("mouseleave");break;case"focus":n.push("focus"),i.push("blur");break;case"click":n.push("click"),i.push("click");break}})),n.forEach((function(n){var i=function(e){t.isOpen||(e.usedByTooltip=!0,!t.$_preventOpen&&t.show({event:e}),t.hidden=!1)};t.$_events.push({event:n,func:i}),e.addEventListener(n,i)})),i.forEach((function(n){var i=function(e){e.usedByTooltip||(t.hide({event:e}),t.hidden=!0)};t.$_events.push({event:n,func:i}),e.addEventListener(n,i)}))},$_scheduleShow:function(){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),t)this.$_show();else{var e=parseInt(this.delay&&this.delay.show||this.delay||0);this.$_scheduleTimer=setTimeout(this.$_show.bind(this),e)}},$_scheduleHide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),n)this.$_hide();else{var i=parseInt(this.delay&&this.delay.hide||this.delay||0);this.$_scheduleTimer=setTimeout((function(){if(t.isOpen){if(e&&"mouseleave"===e.type){var n=t.$_setTooltipNodeEvent(e);if(n)return}t.$_hide()}}),i)}},$_setTooltipNodeEvent:function(t){var e=this,n=this.$refs.trigger,i=this.$refs.popover,r=t.relatedreference||t.toElement||t.relatedTarget,o=function r(o){var s=o.relatedreference||o.toElement||o.relatedTarget;i.removeEventListener(t.type,r),n.contains(s)||e.hide({event:o})};return!!i.contains(r)&&(i.addEventListener(t.type,o),!0)},$_removeEventListeners:function(){var t=this.$refs.trigger;this.$_events.forEach((function(e){var n=e.func,i=e.event;t.removeEventListener(i,n)})),this.$_events=[]},$_updatePopper:function(t){this.popperInstance&&(t(),this.isOpen&&this.popperInstance.scheduleUpdate())},$_restartPopper:function(){if(this.popperInstance){var t=this.isOpen;this.dispose(),this.$_isDisposed=!1,this.$_init(),t&&this.show({skipDelay:!0,force:!0})}},$_handleGlobalClose:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$_beingShowed||(this.hide({event:t}),t.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),n&&(this.$_preventOpen=!0,setTimeout((function(){e.$_preventOpen=!1}),300)))},$_handleResize:function(){this.isOpen&&this.popperInstance&&(this.popperInstance.scheduleUpdate(),this.$emit("resize"))}}};function ze(t){Ue(t)}function Be(t){Ue(t,!0)}function Ue(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(n){var i=Le[n];if(i.$refs.popover){var r=i.$refs.popover.contains(t.target);requestAnimationFrame((function(){(t.closeAllPopover||t.closePopover&&r||i.autoHide&&!r)&&i.$_handleGlobalClose(t,e)}))}},i=0;i<Le.length;i++)n(i)}function He(t,e,n,i,r,o,s,a,l,u){"boolean"!==typeof s&&(l=a,a=s,s=!1);const c="function"===typeof n?n.options:n;let h;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),i&&(c._scopeId=i),o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=h):e&&(h=s?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),h)if(c.functional){const t=c.render;c.render=function(e,n){return h.call(n),t(e,n)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,h):[h]}return n}"undefined"!==typeof document&&"undefined"!==typeof window&&(Re?document.addEventListener("touchend",Be,!se||{passive:!0,capture:!0}):window.addEventListener("click",ze,!0));var We=je,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-popover",class:t.cssClass},[n("div",{ref:"trigger",staticClass:"trigger",staticStyle:{display:"inline-block"},attrs:{"aria-describedby":t.isOpen?t.popoverId:void 0,tabindex:-1!==t.trigger.indexOf("focus")?0:void 0}},[t._t("default")],2),t._v(" "),n("div",{ref:"popover",class:[t.popoverBaseClass,t.popoverClass,t.cssClass],style:{visibility:t.isOpen?"visible":"hidden"},attrs:{id:t.popoverId,"aria-hidden":t.isOpen?"false":"true",tabindex:t.autoHide?0:void 0},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.autoHide&&t.hide()}}},[n("div",{class:t.popoverWrapperClass},[n("div",{ref:"inner",class:t.popoverInnerClass,staticStyle:{position:"relative"}},[n("div",[t._t("popover",null,{isOpen:t.isOpen})],2),t._v(" "),t.handleResize?n("ResizeObserver",{on:{notify:t.$_handleResize}}):t._e()],1),t._v(" "),n("div",{ref:"arrow",class:t.popoverArrowClass})])])])},Ve=[];Ye._withStripped=!0;var Ge=void 0,$e=void 0,qe=void 0,Ke=!1,Ze=He({render:Ye,staticRenderFns:Ve},Ge,We,$e,Ke,qe,!1,void 0,void 0,void 0);function Xe(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}var Qe=".resize-observer[data-v-8859cc6c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-8859cc6c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}";function Je(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Je.installed){Je.installed=!0;var n={};ee()(n,me,e),tn.options=n,Ee.options=n,t.directive("tooltip",Ee),t.directive("close-popover",Me),t.component("VPopover",Ze)}}Xe(Qe);var tn={install:Je,get enabled(){return ve.enabled},set enabled(t){ve.enabled=t}},en=null;"undefined"!==typeof window?en=window.Vue:"undefined"!==typeof n.g&&(en=n.g.Vue),en&&en.use(tn);const nn=tn},5725:(t,e,n)=>{"use strict";n.d(e,{PG:()=>Uo,lg:()=>Bh});
/**
 * vis-network - network
 * http://visjs.org/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 5.4.1
 * @date    2019-09-06T18:48:22Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2018-2019 visjs contributors, https://github.com/visjs
 *
 * @license 
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
"undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof n.g?"undefined"==typeof self||self:n.g:window:globalThis;function i(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}var o=r((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),s=r((function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)})),a=(s.version,!1),l=r((function(t){var e=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0===n?{}:n)})("versions",[]).push({version:s.version,mode:"global",copyright:"¬© 2019 Denis Pushkarev (zloirock.ru)"})})),u=0,c=Math.random(),h=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++u+c).toString(36))},d=r((function(t){var e=l("wks"),n=o.Symbol,i="function"==typeof n,r=t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:h)("Symbol."+t))};r.store=e})),f=d,p={f},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=function(t){if(!v(t))throw TypeError(t+" is not an object!");return t},m=function(t){try{return!!t()}catch(e){return!0}},y=!m((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),_=o.document,b=v(_)&&v(_.createElement),w=function(t){return b?_.createElement(t):{}},k=!y&&!m((function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a})),x=function(t,e){if(!v(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!v(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!v(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!v(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},E=Object.defineProperty,S=y?Object.defineProperty:function(t,e,n){if(g(t),e=x(e,!0),g(n),k)try{return E(t,e,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},T={f:S},O=T.f,C=function(t){var e=s.Symbol||(s.Symbol=o.Symbol||{});"_"==t.charAt(0)||t in e||O(e,t,{value:p.f(t)})};C("asyncIterator");var I={}.hasOwnProperty,N=function(t,e){return I.call(t,e)},M=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=y?function(t,e,n){return T.f(t,e,M(1,n))}:function(t,e,n){return t[e]=n,t},D=l("native-function-to-string",Function.toString),P=r((function(t){var e=h("src"),n="toString",i=(""+D).split(n);s.inspectSource=function(t){return D.call(t)},(t.exports=function(t,n,r,s){var a="function"==typeof r;a&&(N(r,"name")||A(r,"name",n)),t[n]===r||(a&&(N(r,e)||A(r,e,t[n]?""+t[n]:i.join(n+""))),t===o?t[n]=r:s?t[n]?t[n]=r:A(t,n,r):(delete t[n],A(t,n,r)))})(Function.prototype,n,(function(){return"function"==typeof this&&this[e]||D.call(this)}))})),R=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},L=function(t,e,n){return R(t),void 0===e?t:1===n?function(n){return t.call(e,n)}:2===n?function(n,i){return t.call(e,n,i)}:3===n?function(n,i,r){return t.call(e,n,i,r)}:function(){return t.apply(e,arguments)}},F="prototype",j=function(t,e,n){var i,r,a,l,u=t&j.F,c=t&j.G,h=t&j.S,d=t&j.P,f=t&j.B,p=c?o:h?o[e]||(o[e]={}):(o[e]||{})[F],v=c?s:s[e]||(s[e]={}),g=v[F]||(v[F]={});for(i in c&&(n=e),n)r=!u&&p&&void 0!==p[i],a=(r?p:n)[i],l=f&&r?L(a,o):d&&"function"==typeof a?L(Function.call,a):a,p&&P(p,i,a,t&j.U),v[i]!=a&&A(v,i,l),d&&g[i]!=a&&(g[i]=a)};o.core=s,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128;var z=j,B=r((function(t){var e=h("meta"),n=T.f,i=0,r=Object.isExtensible||function(){return!0},o=!m((function(){return r(Object.preventExtensions({}))})),s=function(t){n(t,e,{value:{i:"O"+ ++i,w:{}}})},a=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!N(t,e)){if(!r(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!N(t,e)){if(!r(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){return o&&a.NEED&&r(t)&&!N(t,e)&&s(t),t}}})),U=(B.KEY,B.NEED,B.fastKey,B.getWeak,B.onFreeze,T.f),H=d("toStringTag"),W=function(t,e,n){t&&!N(t=n?t:t.prototype,H)&&U(t,H,{configurable:!0,value:e})},Y={}.toString,V=function(t){return Y.call(t).slice(8,-1)},G=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==V(t)?t.split(""):Object(t)},$=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},q=function(t){return G($(t))},K=Math.ceil,Z=Math.floor,X=function(t){return isNaN(t=+t)?0:(0<t?Z:K)(t)},Q=Math.min,J=function(t){return 0<t?Q(X(t),9007199254740991):0},tt=Math.max,et=Math.min,nt=function(t,e){return t=X(t),0>t?tt(t+e,0):et(t,e)},it=function(t){return function(e,n,i){var r,o=q(e),s=J(o.length),a=nt(i,s);if(t&&n!=n){for(;s>a;)if(r=o[a++],r!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},rt=l("keys"),ot=function(t){return rt[t]||(rt[t]=h(t))},st=it(!1),at=ot("IE_PROTO"),lt=function(t,e){var n,i=q(t),r=0,o=[];for(n in i)n!=at&&N(i,n)&&o.push(n);for(;e.length>r;)N(i,n=e[r++])&&(~st(o,n)||o.push(n));return o},ut=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ct=Object.keys||function(t){return lt(t,ut)},ht=Object.getOwnPropertySymbols,dt={f:ht},ft={}.propertyIsEnumerable,pt={f:ft},vt=function(t){var e=ct(t),n=dt.f;if(n)for(var i,r=n(t),o=pt.f,s=0;r.length>s;)o.call(t,i=r[s++])&&e.push(i);return e},gt=Array.isArray||function(t){return"Array"==V(t)},mt=function(t){return Object($(t))},yt=y?Object.defineProperties:function(t,e){g(t);for(var n,i=ct(e),r=i.length,o=0;r>o;)T.f(t,n=i[o++],e[n]);return t},_t=o.document,bt=_t&&_t.documentElement,wt=ot("IE_PROTO"),kt=function(){},xt="prototype",Et=function(){var t,e=w("iframe"),n=ut.length,i="<",r=">";for(e.style.display="none",bt.appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+r+"document.F=Object"+i+"/script"+r),t.close(),Et=t.F;n--;)delete Et[xt][ut[n]];return Et()},St=Object.create||function(t,e){var n;return null===t?n=Et():(kt[xt]=g(t),n=new kt,kt[xt]=null,n[wt]=t),void 0===e?n:yt(n,e)},Tt=ut.concat("length","prototype"),Ot=Object.getOwnPropertyNames||function(t){return lt(t,Tt)},Ct={f:Ot},It=Ct.f,Nt={}.toString,Mt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],At=function(t){try{return It(t)}catch(e){return Mt.slice()}},Dt=function(t){return Mt&&"[object Window]"==Nt.call(t)?At(t):It(q(t))},Pt={f:Dt},Rt=Object.getOwnPropertyDescriptor,Lt=y?Rt:function(t,e){if(t=q(t),e=x(e,!0),k)try{return Rt(t,e)}catch(e){}return N(t,e)?M(!pt.f.call(t,e),t[e]):void 0},Ft={f:Lt},jt=B.KEY,zt=Ft.f,Bt=T.f,Ut=Pt.f,Ht=o.Symbol,Wt=o.JSON,Yt=Wt&&Wt.stringify,Vt="prototype",Gt=d("_hidden"),$t=d("toPrimitive"),qt={}.propertyIsEnumerable,Kt=l("symbol-registry"),Zt=l("symbols"),Xt=l("op-symbols"),Qt=Object[Vt],Jt="function"==typeof Ht&&!!dt.f,te=o.QObject,ee=!te||!te[Vt]||!te[Vt].findChild,ne=y&&m((function(){return 7!=St(Bt({},"a",{get:function(){return Bt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=zt(Qt,e);i&&delete Qt[e],Bt(t,e,n),i&&t!==Qt&&Bt(Qt,e,i)}:Bt,ie=function(t){var e=Zt[t]=St(Ht[Vt]);return e._k=t,e},re=Jt&&"symbol"==typeof Ht.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Ht},oe=function(t,e,n){return t===Qt&&oe(Xt,e,n),g(t),e=x(e,!0),g(n),N(Zt,e)?(n.enumerable?(N(t,Gt)&&t[Gt][e]&&(t[Gt][e]=!1),n=St(n,{enumerable:M(0,!1)})):(!N(t,Gt)&&Bt(t,Gt,M(1,{})),t[Gt][e]=!0),ne(t,e,n)):Bt(t,e,n)},se=function(t,e){g(t);for(var n,i=vt(e=q(e)),r=0,o=i.length;o>r;)oe(t,n=i[r++],e[n]);return t},ae=function(t,e){return void 0===e?St(t):se(St(t),e)},le=function(t){var e=qt.call(this,t=x(t,!0));return(this!==Qt||!N(Zt,t)||N(Xt,t))&&(!(e||!N(this,t)||!N(Zt,t)||N(this,Gt)&&this[Gt][t])||e)},ue=function(t,e){if(t=q(t),e=x(e,!0),t!==Qt||!N(Zt,e)||N(Xt,e)){var n=zt(t,e);return n&&N(Zt,e)&&!(N(t,Gt)&&t[Gt][e])&&(n.enumerable=!0),n}},ce=function(t){for(var e,n=Ut(q(t)),i=[],r=0;n.length>r;)N(Zt,e=n[r++])||e==Gt||e==jt||i.push(e);return i},he=function(t){for(var e,n=t===Qt,i=Ut(n?Xt:q(t)),r=[],o=0;i.length>o;)N(Zt,e=i[o++])&&(!n||N(Qt,e))&&r.push(Zt[e]);return r};Jt||(Ht=function(){if(this instanceof Ht)throw TypeError("Symbol is not a constructor!");var t=h(0<arguments.length?arguments[0]:void 0),e=function(n){this===Qt&&e.call(Xt,n),N(this,Gt)&&N(this[Gt],t)&&(this[Gt][t]=!1),ne(this,t,M(1,n))};return y&&ee&&ne(Qt,t,{configurable:!0,set:e}),ie(t)},P(Ht[Vt],"toString",(function(){return this._k})),Ft.f=ue,T.f=oe,Ct.f=Pt.f=ce,pt.f=le,dt.f=he,y&&!a&&P(Qt,"propertyIsEnumerable",le,!0),p.f=function(t){return ie(d(t))}),z(z.G+z.W+z.F*!Jt,{Symbol:Ht});for(var de=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],fe=0;de.length>fe;)d(de[fe++]);for(var pe=ct(d.store),ve=0;pe.length>ve;)C(pe[ve++]);z(z.S+z.F*!Jt,"Symbol",{for:function(t){return N(Kt,t+="")?Kt[t]:Kt[t]=Ht(t)},keyFor:function(t){if(!re(t))throw TypeError(t+" is not a symbol!");for(var e in Kt)if(Kt[e]===t)return e},useSetter:function(){ee=!0},useSimple:function(){ee=!1}}),z(z.S+z.F*!Jt,"Object",{create:ae,defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:ue,getOwnPropertyNames:ce,getOwnPropertySymbols:he});var ge=m((function(){dt.f(1)}));function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _e(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function be(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?_e(e,!0).forEach((function(n){ye(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):_e(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function we(t){return ke(t)||xe(t)||Ee()}function ke(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function xe(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Ee(){throw new TypeError("Invalid attempt to spread non-iterable instance")}z(z.S+z.F*ge,"Object",{getOwnPropertySymbols:function(t){return dt.f(mt(t))}}),Wt&&z(z.S+z.F*(!Jt||m((function(){var t=Ht();return"[null]"!=Yt([t])||"{}"!=Yt({a:t})||"{}"!=Yt(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(v(e)||void 0!==t)&&!re(t))return gt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!re(e))return e}),i[1]=e,Yt.apply(Wt,i)}}),Ht[Vt][$t]||A(Ht[Vt],$t,Ht[Vt].valueOf),W(Ht,"Symbol"),W(Math,"Math",!0),W(o.JSON,"JSON",!0);var Se=function(t,e){var n=(s.Object||{})[t]||Object[t],i={};i[t]=e(n),z(z.S+z.F*m((function(){n(1)})),"Object",i)};Se("keys",(function(){return function(t){return ct(mt(t))}}));var Te=function(){var t=g(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};y&&"g"!=/./g.flags&&T.f(RegExp.prototype,"flags",{configurable:!0,get:Te});var Oe="toString",Ce=/./.toString,Ie=function(t){P(RegExp.prototype,Oe,t,!0)};m((function(){return"/a/b"!=Ce.call({source:"a",flags:"b"})}))?Ie((function(){var t=g(this);return"/".concat(t.source,"/","flags"in t?t.flags:!y&&t instanceof RegExp?Te.call(t):void 0)})):"toString"!=Ce.name&&Ie((function(){return Ce.call(this)}));var Ne=function(t){return function(e,n){var i,r,o=$(e)+"",s=X(n),a=o.length;return 0>s||s>=a?t?"":void 0:(i=o.charCodeAt(s),55296>i||56319<i||s+1===a||56320>(r=o.charCodeAt(s+1))||57343<r?t?o.charAt(s):i:t?o.slice(s,s+2):r-56320+(i-55296<<10)+65536)}},Me=Ne(!0),Ae=function(t,e,n){return e+(n?Me(t,e).length:1)},De=d("toStringTag"),Pe="Arguments"==V(function(){return arguments}()),Re=function(t,e){try{return t[e]}catch(e){}},Le=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=Re(e=Object(t),De))?n:Pe?V(e):"Object"==(i=V(e))&&"function"==typeof e.callee?"Arguments":i},Fe=RegExp.prototype.exec,je=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==Le(t))throw new TypeError("RegExp#exec called on incompatible receiver");return Fe.call(t,e)},ze=RegExp.prototype.exec,Be=String.prototype.replace,Ue=ze,He="lastIndex",We=function(){var t=/a/,e=/b*/g;return ze.call(t,"a"),ze.call(e,"a"),0!==t[He]||0!==e[He]}(),Ye=void 0!==/()??/.exec("")[1],Ve=We||Ye;Ve&&(Ue=function(t){var e,n,i,r,o=this;return Ye&&(n=new RegExp("^"+o.source+"$(?!\\s)",Te.call(o))),We&&(e=o[He]),i=ze.call(o,t),We&&i&&(o[He]=o.global?i.index+i[0].length:e),Ye&&i&&1<i.length&&Be.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i});var Ge=Ue;z({target:"RegExp",proto:!0,forced:Ge!==/./.exec},{exec:Ge});var $e=d("species"),qe=!m((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Ke=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),Ze=function(t,e,n){var i=d(t),r=!m((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),o=r?!m((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[$e]=function(){return n}),n[i](""),!e})):void 0;if(!r||!o||"replace"===t&&!qe||"split"===t&&!Ke){var s=/./[i],a=n($,i,""[t],(function(t,e,n,i,o){return e.exec===Ge?r&&!o?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),l=a[0],u=a[1];P(String.prototype,t,l),A(RegExp.prototype,i,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}},Xe=Math.max,Qe=Math.min,Je=Math.floor,tn=/\$([$&`']|\d\d?|<[^>]*>)/g,en=/\$([$&`']|\d\d?)/g,nn=function(t){return void 0===t?t:t+""};Ze("replace",2,(function(t,e,n,i){function r(t,e,i,r,o,s){var a=i+t.length,l=r.length,u=en;return void 0!==o&&(o=mt(o),u=tn),n.call(s,u,(function(n,s){var u;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":u=o[s.slice(1,-1)];break;default:var c=+s;if(0==c)return n;if(c>l){var h=Je(c/10);return 0===h?n:h<=l?void 0===r[h-1]?s.charAt(1):r[h-1]+s.charAt(1):n}u=r[c-1]}return void 0===u?"":u}))}return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0===s?n.call(o+"",i,r):s.call(i,o,r)},function(t,e){var o=i(n,t,this,e);if(o.done)return o.value;var s=g(t),a=this+"",l="function"==typeof e;l||(e+="");var u=s.global;if(u){var c=s.unicode;s.lastIndex=0}for(var h,d=[];h=je(s,a),null!==h&&(d.push(h),u);){var f=h[0]+"";""==f&&(s.lastIndex=Ae(a,J(s.lastIndex),c))}for(var p="",v=0,m=0;m<d.length;m++){h=d[m];for(var y=h[0]+"",_=Xe(Qe(X(h.index),a.length),0),b=[],w=1;w<h.length;w++)b.push(nn(h[w]));var k=h.groups;if(l){var x=[y].concat(b,_,a);void 0!==k&&x.push(k);var E=e.apply(void 0,x)+""}else E=r(y,a,_,b,k,e);_>=v&&(p+=a.slice(v,_)+E,v=_+y.length)}return p+a.slice(v)}]}));var rn=d("unscopables"),on=Array.prototype;null==on[rn]&&A(on,rn,{});var sn=function(t){on[rn][t]=!0},an=function(t,e){return{value:e,done:!!t}},ln={},un={};A(un,d("iterator"),(function(){return this}));var cn=function(t,e,n){t.prototype=St(un,{next:M(1,n)}),W(t,e+" Iterator")},hn=ot("IE_PROTO"),dn=Object.prototype,fn=Object.getPrototypeOf||function(t){return t=mt(t),N(t,hn)?t[hn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?dn:null},pn=d("iterator"),vn=!([].keys&&"next"in[].keys()),gn="@@iterator",mn="keys",yn="values",_n=function(){return this},bn=function(t,e,n,i,r,o,s){cn(n,e,i);var a,l,u,c=function(t){return!vn&&t in p?p[t]:function(){return new n(this,t)}},h=e+" Iterator",d=r==yn,f=!1,p=t.prototype,v=p[pn]||p[gn]||r&&p[r],g=v||c(r),m=r?d?c("entries"):g:void 0,y="Array"==e&&p.entries||v;if(y&&(u=fn(y.call(new t)),u!==Object.prototype&&u.next&&(W(u,h,!0),"function"!=typeof u[pn]&&A(u,pn,_n))),d&&v&&v.name!==yn&&(f=!0,g=function(){return v.call(this)}),(vn||f||!p[pn])&&A(p,pn,g),ln[e]=g,ln[h]=_n,r)if(a={values:d?g:c(yn),keys:o?g:c(mn),entries:m},s)for(l in a)l in p||P(p,l,a[l]);else z(z.P+z.F*(vn||f),e,a);return a},wn=bn(Array,"Array",(function(t,e){this._t=q(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,an(1)):an(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");ln.Arguments=ln.Array,sn("keys"),sn("values"),sn("entries");for(var kn=d("iterator"),xn=d("toStringTag"),En=ln.Array,Sn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Tn=ct(Sn),On=0;On<Tn.length;On++){var Cn,In=Tn[On],Nn=Sn[In],Mn=o[In],An=Mn&&Mn.prototype;if(An&&(An[kn]||A(An,kn,En),An[xn]||A(An,xn,In),ln[In]=En,Nn))for(Cn in wn)An[Cn]||P(An,Cn,wn[Cn],!0)}var Dn={};Dn[d("toStringTag")]="z",P(Object.prototype,"toString",(function(){return"[object "+Le(this)+"]"}),!0);var Pn=pt.f,Rn=function(t){return function(e){for(var n,i=q(e),r=ct(i),o=r.length,s=0,a=[];o>s;)n=r[s++],(!y||Pn.call(i,n))&&a.push(t?[n,i[n]]:i[n]);return a}},Ln=Rn(!1);z(z.S,"Object",{values:function(t){return Ln(t)}});var Fn=d("match"),jn=function(t){var e;return v(t)&&(void 0===(e=t[Fn])?"RegExp"==V(t):!!e)},zn=d("species"),Bn=function(t,e){var n,i=g(t).constructor;return void 0===i||null==(n=g(i)[zn])?e:R(n)},Un=Math.min,Hn=[].push,Wn="split",Yn="length",Vn="lastIndex",Gn=4294967295,$n=!m((function(){RegExp(Gn,"y")}));Ze("split",2,(function(t,e,n,i){var r;return r="c"=="abbc"[Wn](/(b)*/)[1]||4!="test"[Wn](/(?:)/,-1)[Yn]||2!="ab"[Wn](/(?:ab)*/)[Yn]||4!="."[Wn](/(.?)(.?)/)[Yn]||1<"."[Wn](/()()/)[Yn]||""[Wn](/.?/)[Yn]?function(t,e){var i=this+"";if(void 0===t&&0===e)return[];if(!jn(t))return n.call(i,t,e);for(var r,o,s,a=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,c=void 0===e?Gn:e>>>0,h=new RegExp(t.source,l+"g");(r=Ge.call(h,i))&&(o=h[Vn],!(o>u&&(a.push(i.slice(u,r.index)),1<r[Yn]&&r.index<i[Yn]&&Hn.apply(a,r.slice(1)),s=r[0][Yn],u=o,a[Yn]>=c)));)h[Vn]===r.index&&h[Vn]++;return u===i[Yn]?(s||!h.test(""))&&a.push(""):a.push(i.slice(u)),a[Yn]>c?a.slice(0,c):a}:"0"[Wn](void 0,0)[Yn]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var o=t(this),s=null==n?void 0:n[e];return void 0===s?r.call(o+"",n,i):s.call(n,o,i)},function(t,e){var o=i(r,t,this,e,r!==n);if(o.done)return o.value;var s=g(t),a=this+"",l=Bn(s,RegExp),u=s.unicode,c=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+($n?"y":"g"),h=new l($n?s:"^(?:"+s.source+")",c),d=void 0===e?Gn:e>>>0;if(0===d)return[];if(0===a.length)return null===je(h,a)?[a]:[];for(var f=0,p=0,v=[];p<a.length;){h.lastIndex=$n?p:0;var m,y=je(h,$n?a:a.slice(p));if(null===y||(m=Un(J(h.lastIndex+($n?0:p)),a.length))===f)p=Ae(a,p,u);else{if(v.push(a.slice(f,p)),v.length===d)return v;for(var _=1;_<=y.length-1;_++)if(v.push(y[_]),v.length===d)return v;p=f=m}}return v.push(a.slice(f)),v}]}));var qn=Object.assign,Kn=!qn||m((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=qn({},t)[n]||Object.keys(qn({},e)).join("")!=i}))?function(t){for(var e=mt(t),n=arguments.length,i=1,r=dt.f,o=pt.f;n>i;)for(var s,a=G(arguments[i++]),l=r?ct(a).concat(r(a)):ct(a),u=l.length,c=0;u>c;)s=l[c++],(!y||o.call(a,s))&&(e[s]=a[s]);return e}:qn;z(z.S+z.F,"Object",{assign:Kn});var Zn=function(t,e){if(g(t),!v(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Xn={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=L(Function.call,Ft.f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,i){return Zn(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:Zn},Qn=Xn.set,Jn=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&v(i)&&Qn&&Qn(t,i),t},ti="\t\n\v\f\r ¬†·öÄ·†é‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff",ei="["+ti+"]",ni="‚Äã¬Ö",ii=RegExp("^"+ei+ei+"*"),ri=RegExp(ei+ei+"*$"),oi=function(t,e,n){var i={},r=m((function(){return!!ti[t]()||ni[t]()!=ni})),o=i[t]=r?e(si):ti[t];n&&(i[n]=o),z(z.P+z.F*r,"String",i)},si=oi.trim=function(t,e){return t=$(t)+"",1&e&&(t=t.replace(ii,"")),2&e&&(t=t.replace(ri,"")),t},ai=oi,li=Ct.f,ui=Ft.f,ci=T.f,hi=ai.trim,di="Number",fi=o[di],pi=fi,vi=fi.prototype,gi=V(St(vi))==di,mi="trim"in String.prototype,yi=function(t){var e=x(t,!1);if("string"==typeof e&&2<e.length){e=mi?e.trim():hi(e,3);var n,i,r,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,a=e.slice(2),l=0,u=a.length;l<u;l++)if(s=a.charCodeAt(l),48>s||s>r)return NaN;return parseInt(a,i)}}return+e};if(!fi(" 0o1")||!fi("0b1")||fi("+0x1")){fi=function(t){var e=1>arguments.length?0:t,n=this;return n instanceof fi&&(gi?m((function(){vi.valueOf.call(n)})):V(n)!=di)?Jn(new pi(yi(e)),n,fi):yi(e)};for(var _i,bi=y?li(pi):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),wi=0;bi.length>wi;wi++)N(pi,_i=bi[wi])&&!N(fi,_i)&&ci(fi,_i,ui(pi,_i));fi.prototype=vi,vi.constructor=fi,P(o,di,fi)}for(var ki=r((function(t){var e=Math.round,n=Math.pow,r=Math.max,o=Math.abs,s=Math.min,a=Math.floor,l=Math.ceil;(function(e,n){t.exports=n()})(0,(function(){function u(){return qe.apply(null,arguments)}function c(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function h(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function d(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function f(t){return void 0===t}function p(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function v(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function g(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function m(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function y(t,e){for(var n in e)m(e,n)&&(t[n]=e[n]);return m(e,"toString")&&(t.toString=e.toString),m(e,"valueOf")&&(t.valueOf=e.valueOf),t}function _(t,e,n,i){return re(t,e,n,i,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(t){return null==t._pf&&(t._pf=b()),t._pf}function k(t){if(null==t._isValid){var e=w(t),n=Ke.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&0>e.overflow&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function x(t){var e=_(NaN);return null==t?w(e).userInvalidated=!0:y(w(e),t),e}function E(t,e){var n,i,r;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=w(e)),f(e._locale)||(t._locale=e._locale),0<Ze.length)for(n=0;n<Ze.length;n++)i=Ze[n],r=e[i],f(r)||(t[i]=r);return t}function S(t){E(this,t),this._d=new Date(null==t._d?NaN:t._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===Xe&&(Xe=!0,u.updateOffset(this),Xe=!1)}function T(t){return t instanceof S||null!=t&&null!=t._isAMomentObject}function O(t){return 0>t?l(t)||0:a(t)}function C(t){var e=+t,n=0;return 0!=e&&isFinite(e)&&(n=O(e)),n}function I(t,e,n){var i,r=s(t.length,e.length),a=o(t.length-e.length),l=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&C(t[i])!==C(e[i]))&&l++;return l+a}function N(t){!1===u.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function M(t,e){var n=!0;return y((function(){if(null!=u.deprecationHandler&&u.deprecationHandler(null,t),n){for(var i,r=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var s in i+="\n["+o+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];r.push(i)}N(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}function A(t,e){null!=u.deprecationHandler&&u.deprecationHandler(t,e),Qe[t]||(N(e),Qe[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t){var e,n;for(n in t)e=t[n],D(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(t,e){var n,i=y({},t);for(n in e)m(e,n)&&(h(t[n])&&h(e[n])?(i[n]={},y(i[n],t[n]),y(i[n],e[n])):null==e[n]?delete i[n]:i[n]=e[n]);for(n in t)m(t,n)&&!m(e,n)&&h(t[n])&&(i[n]=y({},i[n]));return i}function L(t){null!=t&&this.set(t)}function F(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return D(i)?i.call(e,n):i}function j(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])}function z(t,e){var n=t.toLowerCase();en[n]=en[n+"s"]=en[e]=t}function B(t){return"string"==typeof t?en[t]||en[t.toLowerCase()]:void 0}function U(t){var e,n,i={};for(n in t)m(t,n)&&(e=B(n),e&&(i[e]=t[n]));return i}function H(t,e){nn[t]=e}function W(t){var e=[];for(var n in t)e.push({unit:n,priority:nn[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}function Y(t,e,i){var s=""+o(t),a=e-s.length;return(0<=t?i?"+":"":"-")+n(10,r(0,a)).toString().substr(1)+s}function V(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(an[t]=r),e&&(an[e[0]]=function(){return Y(r.apply(this,arguments),e[1],e[2])}),n&&(an[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function G(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t){var e,n,i=t.match(rn);for(e=0,n=i.length;e<n;e++)i[e]=an[i[e]]?an[i[e]]:G(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=D(i[r])?i[r].call(e,t):i[r];return o}}function q(t,e){return t.isValid()?(e=K(e,t.localeData()),sn[e]=sn[e]||$(e),sn[e](t)):t.localeData().invalidDate()}function K(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(on.lastIndex=0;0<=i&&on.test(t);)t=t.replace(on,n),on.lastIndex=0,i-=1;return t}function Z(t,e,n){Sn[t]=D(e)?e:function(t){return t&&n?n:e}}function X(t,e){return m(Sn,t)?Sn[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r})))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),p(e)&&(i=function(t,n){n[e]=C(t)}),n=0;n<t.length;n++)Tn[t[n]]=i}function et(t,e){tt(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function nt(t,e,n){null!=e&&m(Tn,t)&&Tn[t](e,n._a,n,t)}function it(t){return rt(t)?366:365}function rt(t){return 0==t%4&&0!=t%100||0==t%400}function ot(t,e){return function(n){return null==n?st(this,t):(at(this,t,n),u.updateOffset(this,e),this)}}function st(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function at(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&rt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),ct(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function lt(t,e){if("object"==typeof t){t=U(t);for(var n=W(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=B(t),D(this[t]))return this[t](e);return this}function ut(t,e){return(t%e+e)%e}function ct(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ut(e,12);return t+=(e-n)/12,1===n?rt(t)?29:28:31-n%7%2}function ht(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=_([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=Dn.call(this._shortMonthsParse,s),-1===r?null:r):(r=Dn.call(this._longMonthsParse,s),-1===r?null:r):"MMM"===e?(r=Dn.call(this._shortMonthsParse,s),-1!==r?r:(r=Dn.call(this._longMonthsParse,s),-1===r?null:r)):(r=Dn.call(this._longMonthsParse,s),-1!==r?r:(r=Dn.call(this._shortMonthsParse,s),-1===r?null:r))}function dt(t,e,n){var i,r,o;if(this._monthsParseExact)return ht.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=_([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ft(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=C(e);else if(e=t.localeData().monthsParse(e),!p(e))return t;return n=s(t.date(),ct(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function pt(t){return null==t?st(this,"Month"):(ft(this,t),u.updateOffset(this,!0),this)}function vt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=_([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=J(i[e]),r[e]=J(r[e]);for(e=0;24>e;e++)o[e]=J(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function gt(t,e,n,i,r,o,s){var a;return 100>t&&0<=t?(a=new Date(t+400,e,n,i,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,i,r,o,s),a}function mt(t){var e;if(100>t&&0<=t){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function yt(t,e,n){var i=7+e-n,r=(7+mt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function _t(t,e,n,i,r){var o,s,a=yt(t,i,r),l=1+7*(e-1)+(7+n-i)%7+a;return 0>=l?(o=t-1,s=it(o)+l):l>it(t)?(o=t+1,s=l-it(t)):(o=t,s=l),{year:o,dayOfYear:s}}function bt(t,e,n){var i,r,o=yt(t.year(),e,n),s=a((t.dayOfYear()-o-1)/7)+1;return 1>s?(r=t.year()-1,i=s+wt(r,e,n)):s>wt(t.year(),e,n)?(i=s-wt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function wt(t,e,n){var i=yt(t,e,n),r=yt(t+1,e,n);return(it(t)-i+r)/7}function kt(t,e){return"string"==typeof t?isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10):t}function xt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Et(t,e){return t.slice(e,7).concat(t.slice(0,e))}function St(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=_([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=Dn.call(this._weekdaysParse,s),-1===r?null:r):"ddd"===e?(r=Dn.call(this._shortWeekdaysParse,s),-1===r?null:r):(r=Dn.call(this._minWeekdaysParse,s),-1===r?null:r):"dddd"===e?(r=Dn.call(this._weekdaysParse,s),-1!==r?r:(r=Dn.call(this._shortWeekdaysParse,s),-1!==r?r:(r=Dn.call(this._minWeekdaysParse,s),-1===r?null:r))):"ddd"===e?(r=Dn.call(this._shortWeekdaysParse,s),-1!==r?r:(r=Dn.call(this._weekdaysParse,s),-1!==r?r:(r=Dn.call(this._minWeekdaysParse,s),-1===r?null:r))):(r=Dn.call(this._minWeekdaysParse,s),-1!==r?r:(r=Dn.call(this._weekdaysParse,s),-1!==r?r:(r=Dn.call(this._shortWeekdaysParse,s),-1===r?null:r)))}function Tt(t,e,n){var i,r,o;if(this._weekdaysParseExact)return St.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=_([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ot(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],u=[];for(e=0;7>e;e++)n=_([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(s.sort(t),a.sort(t),l.sort(t),u.sort(t),e=0;7>e;e++)a[e]=J(a[e]),l[e]=J(l[e]),u[e]=J(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ct(){return this.hours()%12||12}function It(t,e){V(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Nt(t,e){return e._meridiemParse}function Mt(t){return t?t.toLowerCase().replace("_","-"):t}function At(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Mt(t[o]).split("-"),e=r.length,n=Mt(t[o+1]),n=n?n.split("-"):null;0<e;){if(i=Dt(r.slice(0,e).join("-")),i)return i;if(n&&n.length>=e&&I(r,n,!0)>=e-1)break;e--}o++}return jn}function Dt(e){var n=null;if(!Hn[e]&&t&&t.exports)try{n=jn._abbr,i("./locale/"+e),Pt(n)}catch(e){}return Hn[e]}function Pt(t,e){var n;return t&&(n=f(e)?Lt(t):Rt(t,e),n?jn=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),jn._abbr}function Rt(t,e){if(null!==e){var n,i=Un;if(e.abbr=t,null!=Hn[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Hn[t]._config;else if(null!=e.parentLocale)if(null!=Hn[e.parentLocale])i=Hn[e.parentLocale]._config;else{if(n=Dt(e.parentLocale),null==n)return Wn[e.parentLocale]||(Wn[e.parentLocale]=[]),Wn[e.parentLocale].push({name:t,config:e}),null;i=n._config}return Hn[t]=new L(R(i,e)),Wn[t]&&Wn[t].forEach((function(t){Rt(t.name,t.config)})),Pt(t),Hn[t]}return delete Hn[t],null}function Lt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return jn;if(!c(t)){if(e=Dt(t),e)return e;t=[t]}return At(t)}function Ft(){return Je(Hn)}function jt(t){var e,n=t._a;return n&&-2===w(t).overflow&&(e=0>n[1]||11<n[1]?1:1>n[2]||n[2]>ct(n[0],n[1])?2:0>n[3]||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:0>n[4]||59<n[4]?4:0>n[5]||59<n[5]?5:0>n[6]||999<n[6]?6:-1,w(t)._overflowDayOfYear&&(0>e||2<e)&&(e=2),w(t)._overflowWeeks&&-1===e&&(e=7),w(t)._overflowWeekday&&-1===e&&(e=8),w(t).overflow=e),t}function zt(t,e,n){return null==t?null==e?n:e:t}function Bt(t){var e=new Date(u.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Ut(t){var e,n,i,r,o,s=[];if(!t._d){for(i=Bt(t),t._w&&null==t._a[2]&&null==t._a[1]&&Ht(t),null!=t._dayOfYear&&(o=zt(t._a[0],i[0]),(t._dayOfYear>it(o)||0===t._dayOfYear)&&(w(t)._overflowDayOfYear=!0),n=mt(o,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?mt:gt).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==r&&(w(t).weekdayMismatch=!0)}}function Ht(t){var e,n,i,r,o,s,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,s=4,n=zt(e.GG,t._a[0],bt(oe(),1,4).year),i=zt(e.W,1),r=zt(e.E,1),(1>r||7<r)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var u=bt(oe(),o,s);n=zt(e.gg,t._a[0],u.year),i=zt(e.w,u.week),null==e.d?null==e.e?r=o:(r=e.e+o,(0>e.e||6<e.e)&&(l=!0)):(r=e.d,(0>r||6<r)&&(l=!0))}1>i||i>wt(n,o,s)?w(t)._overflowWeeks=!0:null==l?(a=_t(n,i,r,o,s),t._a[0]=a.year,t._dayOfYear=a.dayOfYear):w(t)._overflowWeekday=!0}function Wt(t){var e,n,i,r,o,s,a=t._i,l=Yn.exec(a)||Vn.exec(a);if(l){for(w(t).iso=!0,e=0,n=$n.length;e<n;e++)if($n[e][1].exec(l[1])){r=$n[e][0],i=!1!==$n[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=qn.length;e<n;e++)if(qn[e][1].exec(l[3])){o=(l[2]||" ")+qn[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Gn.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),Xt(t)}else t._isValid=!1}function Yt(t,e,n,i,r,o){var s=[Vt(t),Ln.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}function Vt(t){var e=parseInt(t,10);return 49>=e?2e3+e:999>=e?1900+e:e}function Gt(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function $t(t,e,n){if(t){var i=Fn.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return w(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function qt(t,e,n){if(t)return Xn[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function Kt(t){var e=Zn.exec(Gt(t._i));if(e){var n=Yt(e[4],e[3],e[2],e[5],e[6],e[7]);if(!$t(e[1],n,t))return;t._a=n,t._tzm=qt(e[8],e[9],e[10]),t._d=mt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),w(t).rfc2822=!0}else t._isValid=!1}function Zt(t){var e=Kn.exec(t._i);null===e?(Wt(t),!1===t._isValid&&(delete t._isValid,Kt(t),!1===t._isValid&&(delete t._isValid,u.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Xt(t){if(t._f!==u.ISO_8601)if(t._f!==u.RFC_2822){t._a=[],w(t).empty=!0;var e,n,i,r,o,s=""+t._i,a=s.length,l=0;for(i=K(t._f,t._locale).match(rn)||[],e=0;e<i.length;e++)r=i[e],n=(s.match(X(r,t))||[])[0],n&&(o=s.substr(0,s.indexOf(n)),0<o.length&&w(t).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),an[r]?(n?w(t).empty=!1:w(t).unusedTokens.push(r),nt(r,n,t)):t._strict&&!n&&w(t).unusedTokens.push(r);w(t).charsLeftOver=a-l,0<s.length&&w(t).unusedInput.push(s),12>=t._a[3]&&!0===w(t).bigHour&&0<t._a[3]&&(w(t).bigHour=void 0),w(t).parsedDateParts=t._a.slice(0),w(t).meridiem=t._meridiem,t._a[3]=Qt(t._locale,t._a[3],t._meridiem),Ut(t),jt(t)}else Kt(t);else Wt(t)}function Qt(t,e,n){var i;return null==n?e:null==t.meridiemHour?(null==t.isPM||(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0)),e):t.meridiemHour(e,n)}function Jt(t){var e,n,i,r,o;if(0===t._f.length)return w(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=E({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Xt(e),k(e)&&(o+=w(e).charsLeftOver,o+=10*w(e).unusedTokens.length,w(e).score=o,(null==i||o<i)&&(i=o,n=e));y(t,n||e)}function te(t){if(!t._d){var e=U(t._i);t._a=g([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Ut(t)}}function ee(t){var e=new S(jt(ne(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ne(t){var e=t._i,n=t._f;return t._locale=t._locale||Lt(t._l),null===e||void 0===n&&""===e?x({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),T(e)?new S(jt(e)):(v(e)?t._d=e:c(n)?Jt(t):n?Xt(t):ie(t),k(t)||(t._d=null),t))}function ie(t){var e=t._i;f(e)?t._d=new Date(u.now()):v(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Zt(t):c(e)?(t._a=g(e.slice(0),(function(t){return parseInt(t,10)})),Ut(t)):h(e)?te(t):p(e)?t._d=new Date(e):u.createFromInputFallback(t)}function re(t,e,n,i,r){var o={};return(!0===n||!1===n)&&(i=n,n=void 0),(h(t)&&d(t)||c(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,ee(o)}function oe(t,e,n,i){return re(t,e,n,i,!1)}function se(t,e){var n,i;if(1===e.length&&c(e[0])&&(e=e[0]),!e.length)return oe();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function ae(t){for(var e in t)if(-1===Dn.call(ti,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<ti.length;++i)if(t[ti[i]]){if(n)return!1;parseFloat(t[ti[i]])!==C(t[ti[i]])&&(n=!0)}return!0}function le(t){var e=U(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=ae(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=Lt(),this._bubble()}function ue(t){return t instanceof le}function ce(t){return 0>t?-1*e(-1*t):e(t)}function he(t,e){V(t,0,0,(function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+Y(~~(t/60),2)+e+Y(~~t%60,2)}))}function de(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(ei)||["-",0,0],o=60*r[1]+C(r[2]);return 0===o?0:"+"===r[0]?o:-o}function fe(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(T(t)||v(t)?t.valueOf():oe(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),u.updateOffset(n,!1),n):oe(t).local()}function pe(t){return 15*-e(t._d.getTimezoneOffset()/15)}function ve(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(E(t,this),t=ne(t),t._a){var e=t._isUTC?_(t._a):oe(t._a);this._isDSTShifted=this.isValid()&&0<I(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}function ge(){return!!this.isValid()&&this._isUTC&&0===this._offset}function me(t,e){var n,i,r,o=t,s=null;return ue(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:p(t)?(o={},e?o[e]=t:o.milliseconds=t):(s=ni.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:C(s[2])*n,h:C(s[3])*n,m:C(s[4])*n,s:C(s[5])*n,ms:C(ce(1e3*s[6]))*n}):(s=ii.exec(t))?(n="-"===s[1]?-1:1,o={y:ye(s[2],n),M:ye(s[3],n),w:ye(s[4],n),d:ye(s[5],n),h:ye(s[6],n),m:ye(s[7],n),s:ye(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=be(oe(o.from),oe(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new le(o),ue(t)&&m(t,"_locale")&&(i._locale=t._locale),i}function ye(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function _e(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function be(t,e){var n;return t.isValid()&&e.isValid()?(e=fe(e,t),t.isBefore(e)?n=_e(t,e):(n=_e(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function we(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=me(n,i),ke(this,r,t),this}}function ke(t,e,n,i){var r=e._milliseconds,o=ce(e._days),s=ce(e._months);t.isValid()&&(i=null==i||i,s&&ft(t,st(t,"Month")+s*n),o&&at(t,"Date",st(t,"Date")+o*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&u.updateOffset(t,o||s))}function xe(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function Ee(t){var e;return void 0===t?this._locale._abbr:(e=Lt(t),null!=e&&(this._locale=e),this)}function Se(){return this._locale}function Te(t,e){return(t%e+e)%e}function Oe(t,e,n){return 100>t&&0<=t?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function Ce(t,e,n){return 100>t&&0<=t?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function Ie(t,e){V(0,[t,t.length],0,e)}function Ne(t,e,n,i,r){var o;return null==t?bt(this,i,r).year:(o=wt(t,i,r),e>o&&(e=o),Me.call(this,t,e,n,i,r))}function Me(t,e,n,i,r){var o=_t(t,e,n,i,r),s=mt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Ae(t,e){e[6]=C(1e3*("0."+t))}function De(t){return t}function Pe(t,e,n,i){var r=Lt(),o=_().set(i,e);return r[n](o,t)}function Re(t,e,n){if(p(t)&&(e=t,t=void 0),t=t||"",null!=e)return Pe(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=Pe(t,i,n,"month");return r}function Le(t,e,n,i){"boolean"==typeof t?(p(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,p(e)&&(n=e,e=void 0),e=e||"");var r=Lt(),o=t?r._week.dow:0;if(null!=n)return Pe(e,(n+o)%7,i,"day");var s,a=[];for(s=0;7>s;s++)a[s]=Pe(e,(s+o)%7,i,"day");return a}function Fe(t,e,n,i){var r=me(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function je(t){return 0>t?a(t):l(t)}function ze(t){return 4800*t/146097}function Be(t){return 146097*t/4800}function Ue(t){return function(){return this.as(t)}}function He(t){return function(){return this.isValid()?this._data[t]:NaN}}function We(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function Ye(t,e,n){var i=me(t).abs(),r=Mi(i.as("s")),o=Mi(i.as("m")),s=Mi(i.as("h")),a=Mi(i.as("d")),l=Mi(i.as("M")),u=Mi(i.as("y")),c=r<=Ai.ss&&["s",r]||r<Ai.s&&["ss",r]||1>=o&&["m"]||o<Ai.m&&["mm",o]||1>=s&&["h"]||s<Ai.h&&["hh",s]||1>=a&&["d"]||a<Ai.d&&["dd",a]||1>=l&&["M"]||l<Ai.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=0<+t,c[4]=n,We.apply(null,c)}function Ve(t){return void 0===t?Mi:"function"==typeof t&&(Mi=t,!0)}function Ge(t){return(0<t)-(0>t)||+t}function $e(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=Di(this._milliseconds)/1e3,r=Di(this._days),o=Di(this._months);t=O(i/60),e=O(t/60),i%=60,t%=60,n=O(o/12),o%=12;var s=n,a=o,l=r,u=e,c=t,h=i?i.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=0>d?"-":"",p=Ge(this._months)===Ge(d)?"":"-",v=Ge(this._days)===Ge(d)?"":"-",g=Ge(this._milliseconds)===Ge(d)?"":"-";return f+"P"+(s?p+s+"Y":"")+(a?p+a+"M":"")+(l?v+l+"D":"")+(u||c||h?"T":"")+(u?g+u+"H":"")+(c?g+c+"M":"")+(h?g+h+"S":"")}var qe,Ke;Ke=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Ze=u.momentProperties=[],Xe=!1,Qe={};u.suppressDeprecationWarnings=!1,u.deprecationHandler=null;var Je=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)m(t,e)&&n.push(e);return n},tn=/\d{1,2}/,en={},nn={},rn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,on=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,sn={},an={},ln=/\d/,un=/\d\d/,cn=/\d{3}/,hn=/\d{4}/,dn=/[+-]?\d{6}/,fn=/\d\d?/,pn=/\d\d\d\d?/,vn=/\d\d\d\d\d\d?/,gn=/\d{1,3}/,mn=/\d{1,4}/,yn=/[+-]?\d{1,6}/,_n=/\d+/,bn=/[+-]?\d+/,wn=/Z|[+-]\d\d:?\d\d/gi,kn=/Z|[+-]\d\d(?::?\d\d)?/gi,xn=/[+-]?\d+(\.\d{1,3})?/,En=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Sn={},Tn={},On=0,Cn=1,In=2,Nn=3,Mn=4,An=5;V("Y",0,0,(function(){var t=this.year();return 9999>=t?""+t:"+"+t})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),z("year","y"),H("year",1),Z("Y",bn),Z("YY",fn,un),Z("YYYY",mn,hn),Z("YYYYY",yn,dn),Z("YYYYYY",yn,dn),tt(["YYYYY","YYYYYY"],On),tt("YYYY",(function(t,e){e[On]=2===t.length?u.parseTwoDigitYear(t):C(t)})),tt("YY",(function(t,e){e[On]=u.parseTwoDigitYear(t)})),tt("Y",(function(t,e){e[On]=parseInt(t,10)})),u.parseTwoDigitYear=function(t){return C(t)+(68<C(t)?1900:2e3)};var Dn,Pn=ot("FullYear",!0);Dn=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),V("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),z("month","M"),H("month",8),Z("M",fn),Z("MM",fn,un),Z("MMM",(function(t,e){return e.monthsShortRegex(t)})),Z("MMMM",(function(t,e){return e.monthsRegex(t)})),tt(["M","MM"],(function(t,e){e[Cn]=C(t)-1})),tt(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null==r?w(n).invalidMonth=t:e[Cn]=r}));var Rn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ln=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),H("week",5),H("isoWeek",5),Z("w",fn),Z("ww",fn,un),Z("W",fn),Z("WW",fn,un),et(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=C(t)})),V("d",0,"do","day"),V("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),V("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),V("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),Z("d",fn),Z("e",fn),Z("E",fn),Z("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Z("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Z("dddd",(function(t,e){return e.weekdaysRegex(t)})),et(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null==r?w(n).invalidWeekday=t:e.d=r})),et(["d","e","E"],(function(t,e,n,i){e[i]=C(t)}));var Fn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Ct),V("k",["kk",2],0,(function(){return this.hours()||24})),V("hmm",0,0,(function(){return""+Ct.apply(this)+Y(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Ct.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)})),It("a",!0),It("A",!1),z("hour","h"),H("hour",13),Z("a",Nt),Z("A",Nt),Z("H",fn),Z("h",fn),Z("k",fn),Z("HH",fn,un),Z("hh",fn,un),Z("kk",fn,un),Z("hmm",pn),Z("hmmss",vn),Z("Hmm",pn),Z("Hmmss",vn),tt(["H","HH"],Nn),tt(["k","kk"],(function(t,e){var n=C(t);e[Nn]=24===n?0:n})),tt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),tt(["h","hh"],(function(t,e,n){e[Nn]=C(t),w(n).bigHour=!0})),tt("hmm",(function(t,e,n){var i=t.length-2;e[Nn]=C(t.substr(0,i)),e[Mn]=C(t.substr(i)),w(n).bigHour=!0})),tt("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[Nn]=C(t.substr(0,i)),e[Mn]=C(t.substr(i,2)),e[An]=C(t.substr(r)),w(n).bigHour=!0})),tt("Hmm",(function(t,e){var n=t.length-2;e[Nn]=C(t.substr(0,n)),e[Mn]=C(t.substr(n))})),tt("Hmmss",(function(t,e){var n=t.length-4,i=t.length-2;e[Nn]=C(t.substr(0,n)),e[Mn]=C(t.substr(n,2)),e[An]=C(t.substr(i))}));var jn,zn=/[ap]\.?m?\.?/i,Bn=ot("Hours",!0),Un={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:tn,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:Ln,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Fn,meridiemParse:zn},Hn={},Wn={},Yn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gn=/Z|[+-]\d\d(?::?\d\d)?/,$n=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],qn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Kn=/^\/?Date\((\-?\d+)/i,Zn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};u.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),u.ISO_8601=function(){},u.RFC_2822=function(){};var Qn=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=oe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:x()})),Jn=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=oe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:x()})),ti=["year","quarter","month","week","day","hour","minute","second","millisecond"];he("Z",":"),he("ZZ",""),Z("Z",kn),Z("ZZ",kn),tt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=de(kn,t)}));var ei=/([\+\-]|\d\d)/gi;u.updateOffset=function(){};var ni=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ii=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;me.fn=le.prototype,me.invalid=function(){return me(NaN)};var ri=we(1,"add"),oi=we(-1,"subtract");u.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",u.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ie("gggg","weekYear"),Ie("ggggg","weekYear"),Ie("GGGG","isoWeekYear"),Ie("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),Z("G",bn),Z("g",bn),Z("GG",fn,un),Z("gg",fn,un),Z("GGGG",mn,hn),Z("gggg",mn,hn),Z("GGGGG",yn,dn),Z("ggggg",yn,dn),et(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=C(t)})),et(["gg","GG"],(function(t,e,n,i){e[i]=u.parseTwoDigitYear(t)})),V("Q",0,"Qo","quarter"),z("quarter","Q"),H("quarter",7),Z("Q",ln),tt("Q",(function(t,e){e[Cn]=3*(C(t)-1)})),V("D",["DD",2],"Do","date"),z("date","D"),H("date",9),Z("D",fn),Z("DD",fn,un),Z("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),tt(["D","DD"],In),tt("Do",(function(t,e){e[In]=C(t.match(fn)[0])}));var ai=ot("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),H("dayOfYear",4),Z("DDD",gn),Z("DDDD",cn),tt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=C(t)})),V("m",["mm",2],0,"minute"),z("minute","m"),H("minute",14),Z("m",fn),Z("mm",fn,un),tt(["m","mm"],Mn);var li=ot("Minutes",!1);V("s",["ss",2],0,"second"),z("second","s"),H("second",15),Z("s",fn),Z("ss",fn,un),tt(["s","ss"],An);var ui,ci=ot("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),z("millisecond","ms"),H("millisecond",16),Z("S",gn,ln),Z("SS",gn,un),Z("SSS",gn,cn),ui="SSSS";9>=ui.length;ui+="S")Z(ui,_n);for(ui="S";9>=ui.length;ui+="S")tt(ui,Ae);var hi=ot("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var di=S.prototype;di.add=ri,di.calendar=function(t,e){var n=t||oe(),i=fe(n,this).startOf("day"),r=u.calendarFormat(this,i)||"sameElse",o=e&&(D(e[r])?e[r].call(this,n):e[r]);return this.format(o||this.localeData().calendar(r,this,oe(n)))},di.clone=function(){return new S(this)},di.diff=function(t,e,n){var i,r,o;return this.isValid()?(i=fe(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=B(e),o="year"===e?xe(this,i)/12:"month"===e?xe(this,i):"quarter"===e?xe(this,i)/3:"second"===e?(this-i)/1e3:"minute"===e?(this-i)/6e4:"hour"===e?(this-i)/36e5:"day"===e?(this-i-r)/864e5:"week"===e?(this-i-r)/6048e5:this-i,n?o:O(o)):NaN):NaN},di.endOf=function(t){var e;if(t=B(t),void 0===t||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Ce:Oe;return"year"===t?e=n(this.year()+1,0,1)-1:"quarter"===t?e=n(this.year(),this.month()-this.month()%3+3,1)-1:"month"===t?e=n(this.year(),this.month()+1,1)-1:"week"===t?e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:"isoWeek"===t?e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:"day"===t||"date"===t?e=n(this.year(),this.month(),this.date()+1)-1:"hour"===t?(e=this._d.valueOf(),e+=36e5-Te(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):"minute"===t?(e=this._d.valueOf(),e+=6e4-Te(e,6e4)-1):"second"===t&&(e=this._d.valueOf(),e+=1e3-Te(e,1e3)-1),this._d.setTime(e),u.updateOffset(this,!0),this},di.format=function(t){t||(t=this.isUtc()?u.defaultFormatUtc:u.defaultFormat);var e=q(this,t);return this.localeData().postformat(e)},di.from=function(t,e){return this.isValid()&&(T(t)&&t.isValid()||oe(t).isValid())?me({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.fromNow=function(t){return this.from(oe(),t)},di.to=function(t,e){return this.isValid()&&(T(t)&&t.isValid()||oe(t).isValid())?me({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.toNow=function(t){return this.to(oe(),t)},di.get=function(t){return t=B(t),D(this[t])?this[t]():this},di.invalidAt=function(){return w(this).overflow},di.isAfter=function(t,e){var n=T(t)?t:oe(t);return!(!this.isValid()||!n.isValid())&&(e=B(e)||"millisecond","millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},di.isBefore=function(t,e){var n=T(t)?t:oe(t);return!(!this.isValid()||!n.isValid())&&(e=B(e)||"millisecond","millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},di.isBetween=function(t,e,n,i){var r=T(t)?t:oe(t),o=T(e)?e:oe(e);return!!(this.isValid()&&r.isValid()&&o.isValid())&&(i=i||"()",("("===i[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n)))},di.isSame=function(t,e){var n,i=T(t)?t:oe(t);return!(!this.isValid()||!i.isValid())&&(e=B(e)||"millisecond","millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},di.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},di.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},di.isValid=function(){return k(this)},di.lang=si,di.locale=Ee,di.localeData=Se,di.max=Jn,di.min=Qn,di.parsingFlags=function(){return y({},w(this))},di.set=lt,di.startOf=function(t){var e;if(t=B(t),void 0===t||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Ce:Oe;return"year"===t?e=n(this.year(),0,1):"quarter"===t?e=n(this.year(),this.month()-this.month()%3,1):"month"===t?e=n(this.year(),this.month(),1):"week"===t?e=n(this.year(),this.month(),this.date()-this.weekday()):"isoWeek"===t?e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):"day"===t||"date"===t?e=n(this.year(),this.month(),this.date()):"hour"===t?(e=this._d.valueOf(),e-=Te(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)):"minute"===t?(e=this._d.valueOf(),e-=Te(e,6e4)):"second"===t&&(e=this._d.valueOf(),e-=Te(e,1e3)),this._d.setTime(e),u.updateOffset(this,!0),this},di.subtract=oi,di.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},di.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},di.toDate=function(){return new Date(this.valueOf())},di.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return 0>n.year()||9999<n.year()?q(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},di.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},di.toJSON=function(){return this.isValid()?this.toISOString():null},di.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},di.unix=function(){return a(this.valueOf()/1e3)},di.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},di.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},di.year=Pn,di.isLeapYear=function(){return rt(this.year())},di.weekYear=function(t){return Ne.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},di.isoWeekYear=function(t){return Ne.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},di.quarter=di.quarters=function(t){return null==t?l((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},di.month=pt,di.daysInMonth=function(){return ct(this.year(),this.month())},di.week=di.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},di.isoWeek=di.isoWeeks=function(t){var e=bt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},di.weeksInYear=function(){var t=this.localeData()._week;return wt(this.year(),t.dow,t.doy)},di.isoWeeksInYear=function(){return wt(this.year(),1,4)},di.date=ai,di.day=di.days=function(t){if(!this.isValid())return null==t?NaN:this;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:(t=kt(t,this.localeData()),this.add(t-e,"d"))},di.weekday=function(t){if(!this.isValid())return null==t?NaN:this;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},di.isoWeekday=function(t){if(!this.isValid())return null==t?NaN:this;if(null!=t){var e=xt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},di.dayOfYear=function(t){var n=e((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?n:this.add(t-n,"d")},di.hour=di.hours=Bn,di.minute=di.minutes=li,di.second=di.seconds=ci,di.millisecond=di.milliseconds=hi,di.utcOffset=function(t,e,n){var i,r=this._offset||0;if(!this.isValid())return null==t?NaN:this;if(null!=t){if("string"!=typeof t)16>o(t)&&!n&&(t*=60);else if(t=de(kn,t),null===t)return this;return!this._isUTC&&e&&(i=pe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?ke(this,me(t-r,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,u.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:pe(this)},di.utc=function(t){return this.utcOffset(0,t)},di.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(pe(this),"m")),this},di.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=de(wn,this._i);null==t?this.utcOffset(0,!0):this.utcOffset(t)}return this},di.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?oe(t).utcOffset():0,0==(this.utcOffset()-t)%60)},di.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},di.isLocal=function(){return!!this.isValid()&&!this._isUTC},di.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},di.isUtc=ge,di.isUTC=ge,di.zoneAbbr=function(){return this._isUTC?"UTC":""},di.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},di.dates=M("dates accessor is deprecated. Use date instead.",ai),di.months=M("months accessor is deprecated. Use month instead",pt),di.years=M("years accessor is deprecated. Use year instead",Pn),di.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null==t?-this.utcOffset():("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this)})),di.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ve);var fi=L.prototype;fi.calendar=F,fi.longDateFormat=j,fi.invalidDate=function(){return this._invalidDate},fi.ordinal=function(t){return this._ordinal.replace("%d",t)},fi.preparse=De,fi.postformat=De,fi.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return D(r)?r(t,e,n,i):r.replace(/%d/i,t)},fi.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return D(n)?n(e):n.replace(/%s/i,e)},fi.set=P,fi.months=function(t,e){return t?c(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Rn).test(e)?"format":"standalone"][t.month()]:c(this._months)?this._months:this._months.standalone},fi.monthsShort=function(t,e){return t?c(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Rn.test(e)?"format":"standalone"][t.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fi.monthsParse=dt,fi.monthsRegex=function(t){return this._monthsParseExact?(m(this,"_monthsRegex")||vt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=En),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},fi.monthsShortRegex=function(t){return this._monthsParseExact?(m(this,"_monthsRegex")||vt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=En),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},fi.week=function(t){return bt(t,this._week.dow,this._week.doy).week},fi.firstDayOfYear=function(){return this._week.doy},fi.firstDayOfWeek=function(){return this._week.dow},fi.weekdays=function(t,e){var n=c(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Et(n,this._week.dow):t?n[t.day()]:n},fi.weekdaysMin=function(t){return!0===t?Et(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},fi.weekdaysShort=function(t){return!0===t?Et(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},fi.weekdaysParse=Tt,fi.weekdaysRegex=function(t){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Ot.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=En),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},fi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Ot.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=En),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Ot.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=En),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},fi.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},Pt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===C(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th";return t+n}}),u.lang=M("moment.lang is deprecated. Use moment.locale instead.",Pt),u.langData=M("moment.langData is deprecated. Use moment.localeData instead.",Lt);var pi=o,vi=Ue("ms"),gi=Ue("s"),mi=Ue("m"),yi=Ue("h"),_i=Ue("d"),bi=Ue("w"),wi=Ue("M"),ki=Ue("Q"),xi=Ue("y"),Ei=He("milliseconds"),Si=He("seconds"),Ti=He("minutes"),Oi=He("hours"),Ci=He("days"),Ii=He("months"),Ni=He("years"),Mi=e,Ai={ss:44,s:45,m:45,h:22,d:26,M:11},Di=o,Pi=le.prototype;return Pi.isValid=function(){return this._isValid},Pi.abs=function(){var t=this._data;return this._milliseconds=pi(this._milliseconds),this._days=pi(this._days),this._months=pi(this._months),t.milliseconds=pi(t.milliseconds),t.seconds=pi(t.seconds),t.minutes=pi(t.minutes),t.hours=pi(t.hours),t.months=pi(t.months),t.years=pi(t.years),this},Pi.add=function(t,e){return Fe(this,t,e,1)},Pi.subtract=function(t,e){return Fe(this,t,e,-1)},Pi.as=function(t){if(!this.isValid())return NaN;var n,i,r=this._milliseconds;if(t=B(t),"month"===t||"quarter"===t||"year"===t)switch(n=this._days+r/864e5,i=this._months+ze(n),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(n=this._days+e(Be(this._months)),t){case"week":return n/7+r/6048e5;case"day":return n+r/864e5;case"hour":return 24*n+r/36e5;case"minute":return 1440*n+r/6e4;case"second":return 86400*n+r/1e3;case"millisecond":return a(864e5*n)+r;default:throw new Error("Unknown unit "+t)}},Pi.asMilliseconds=vi,Pi.asSeconds=gi,Pi.asMinutes=mi,Pi.asHours=yi,Pi.asDays=_i,Pi.asWeeks=bi,Pi.asMonths=wi,Pi.asQuarters=ki,Pi.asYears=xi,Pi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},Pi._bubble=function(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return 0<=o&&0<=s&&0<=a||0>=o&&0>=s&&0>=a||(o+=864e5*je(Be(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=O(o/1e3),l.seconds=t%60,e=O(t/60),l.minutes=e%60,n=O(e/60),l.hours=n%24,s+=O(n/24),r=O(ze(s)),a+=r,s-=je(Be(r)),i=O(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},Pi.clone=function(){return me(this)},Pi.get=function(t){return t=B(t),this.isValid()?this[t+"s"]():NaN},Pi.milliseconds=Ei,Pi.seconds=Si,Pi.minutes=Ti,Pi.hours=Oi,Pi.days=Ci,Pi.weeks=function(){return O(this.days()/7)},Pi.months=Ii,Pi.years=Ni,Pi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=Ye(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Pi.toISOString=$e,Pi.toString=$e,Pi.toJSON=$e,Pi.locale=Ee,Pi.localeData=Se,Pi.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$e),Pi.lang=si,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Z("x",bn),Z("X",xn),tt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),tt("x",(function(t,e,n){n._d=new Date(C(t))})),u.version="2.24.0",function(t){qe=t}(oe),u.fn=di,u.min=function(){var t=[].slice.call(arguments,0);return se("isBefore",t)},u.max=function(){var t=[].slice.call(arguments,0);return se("isAfter",t)},u.now=function(){return Date.now?Date.now():+new Date},u.utc=_,u.unix=function(t){return oe(1e3*t)},u.months=function(t,e){return Re(t,e,"months")},u.isDate=v,u.locale=Pt,u.invalid=x,u.duration=me,u.isMoment=T,u.weekdays=function(t,e,n){return Le(t,e,n,"weekdays")},u.parseZone=function(){return oe.apply(null,arguments).parseZone()},u.localeData=Lt,u.isDuration=ue,u.monthsShort=function(t,e){return Re(t,e,"monthsShort")},u.weekdaysMin=function(t,e,n){return Le(t,e,n,"weekdaysMin")},u.defineLocale=Rt,u.updateLocale=function(t,e){if(null!=e){var n,i,r=Un;i=Dt(t),null!=i&&(r=i._config),e=R(r,e),n=new L(e),n.parentLocale=Hn[t],Hn[t]=n,Pt(t)}else null!=Hn[t]&&(null==Hn[t].parentLocale?null!=Hn[t]&&delete Hn[t]:Hn[t]=Hn[t].parentLocale);return Hn[t]},u.locales=Ft,u.weekdaysShort=function(t,e,n){return Le(t,e,n,"weekdaysShort")},u.normalizeUnits=B,u.relativeTimeRounding=Ve,u.relativeTimeThreshold=function(t,e){return void 0!==Ai[t]&&(void 0===e?Ai[t]:(Ai[t]=e,"s"===t&&(Ai.ss=e-1),!0))},u.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"},u.prototype=di,u.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},u}))})),xi=[],Ei=0;256>Ei;Ei++)xi[Ei]=(Ei+256).toString(16).substr(1);function Si(t,e){var n=e||0,i=xi;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}for(var Ti=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=Array(16);return function(){for(var t,n=0;16>n;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=255&t>>>((3&n)<<3);return e}}(),Oi=[],Ci=0;256>Ci;Ci++)Oi[Ci]=(Ci+256).toString(16).substr(1);var Ii=Ti();Ii[0],Ii[1],Ii[2],Ii[3],Ii[4],Ii[5],Ii[6],Ii[7];function Ni(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,i=e&&n||0;"string"==typeof t&&(e="binary"===t?Array(16):void 0,t={});var r=t.random||(t.rng||Ti)();if(r[6]=64|15&r[6],r[8]=128|63&r[8],e)for(var o=0;16>o;o++)e[i+o]=r[o];return e||Si(r)}var Mi=/^\/?Date\((-?\d+)/i,Ai=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Di=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Pi=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Ri=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Li(t){return t instanceof Number||"number"==typeof t}function Fi(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(Fi(e),t.removeChild(e))}}function ji(t){return t instanceof String||"string"==typeof t}function zi(t){return"object"===me(t)&&null!==t}function Bi(t){if(t instanceof Date)return!0;if(ji(t)){var e=Mi.exec(t);if(e)return!0;if(!isNaN(Date.parse(t)))return!0}return!1}function Ui(t){return ki.isMoment(t)}function Hi(t,e,n,i){var r=!1;!0===i&&(r=null===e[n]&&void 0!==t[n]),r?delete t[n]:t[n]=e[n]}function Wi(t,e){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];for(var i in t)if(void 0!==e[i])if(null===e[i]||"object"!==me(e[i]))Hi(t,e,i,n);else{var r=t[i],o=e[i];zi(r)&&zi(o)&&Wi(r,o,n)}}var Yi=Object.assign;function Vi(t,e){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];for(var o,s=0,a=i;s<a.length;s++){o=a[s];for(var l,u=0;u<t.length;u++)l=t[u],o&&Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e}function Gi(t,e,n){var i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r,o=0;o<t.length;o++)if(r=t[o],Object.prototype.hasOwnProperty.call(n,r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?qi(e[r],n[r],!1,i):Hi(e,n,r,i);else{if(Array.isArray(n[r]))throw new TypeError("Arrays are not supported by deepExtend");Hi(e,n,r,i)}return e}function $i(t,e,n){var i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&-1===t.indexOf(r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?qi(e[r],n[r]):Hi(e,n,r,i);else if(Array.isArray(n[r])){e[r]=[];for(var o=0;o<n[r].length;o++)e[r].push(n[r][o])}else Hi(e,n,r,i);return e}function qi(t,e){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];for(var r in e)(Object.prototype.hasOwnProperty.call(e,r)||!0===n)&&(e[r]&&Object.getPrototypeOf(e[r])===Object.prototype?void 0===t[r]?t[r]=qi({},e[r],n):t[r]&&Object.getPrototypeOf(t[r])===Object.prototype?qi(t[r],e[r],n):Hi(t,e,r,i):Array.isArray(e[r])?t[r]=e[r].slice():Hi(t,e,r,i));return t}function Ki(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return!1;return!0}function Zi(t,e){var n;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!t;case"number":case"Number":return ji(t)&&!isNaN(Date.parse(t))?ki(t).valueOf():+t.valueOf();case"string":case"String":return t+"";case"Date":if(Li(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(Ui(t))return new Date(t.valueOf());if(ji(t))return n=Mi.exec(t),n?new Date(+n[1]):ki(new Date(t)).toDate();throw new Error("Cannot convert object of type "+Xi(t)+" to type Date");case"Moment":if(Li(t))return ki(t);if(t instanceof Date)return ki(t.valueOf());if(Ui(t))return ki(t);if(ji(t))return n=Mi.exec(t),ki(n?+n[1]:t);throw new Error("Cannot convert object of type "+Xi(t)+" to type Date");case"ISODate":if(Li(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(Ui(t))return t.toDate().toISOString();if(ji(t))return n=Mi.exec(t),n?new Date(+n[1]).toISOString():ki(t).format();throw new Error("Cannot convert object of type "+Xi(t)+" to type ISODate");case"ASPDate":if(Li(t))return"/Date("+t+")/";if(t instanceof Date||Ui(t))return"/Date("+t.valueOf()+")/";var i;if(ji(t))return n=Mi.exec(t),i=n?new Date(+n[1]).valueOf():new Date(t).valueOf(),"/Date("+i+")/";throw new Error("Cannot convert object of type "+Xi(t)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function Xi(t){var e=me(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function Qi(t,e){return[].concat(we(t),[e])}function Ji(t){return t.slice()}function tr(t){return t.getBoundingClientRect().left}function er(t){return t.getBoundingClientRect().right}function nr(t){return t.getBoundingClientRect().top}function ir(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.concat(i.filter((function(t){return 0>n.indexOf(t)}))),t.className=n.join(" ")}function rr(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.filter((function(t){return 0>i.indexOf(t)})),t.className=n.join(" ")}function or(t,e){if(Array.isArray(t))for(var n=t.length,i=0;i<n;i++)e(t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}var sr=Object.values;function ar(t,e,n){return t[e]!==n&&(t[e]=n,!0)}function lr(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame((function(){e=!1,t()})))}}function ur(t,e,n,i){t.addEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,n,i)):t.attachEvent("on"+e,n)}function cr(t,e,n,i){t.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,n,i)):t.detachEvent("on"+e,n)}function hr(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}function dr(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.event,e=null;return t&&(t.target?e=t.target:t.srcElement&&(e=t.srcElement)),e instanceof Element&&(null==e.nodeType||3!=e.nodeType||(e=e.parentNode,e instanceof Element))?e:null}function fr(t,e){for(var n=t;n;){if(n===e)return!0;if(!n.parentNode)return!1;n=n.parentNode}return!1}var pr={asBoolean:function(t,e){return"function"==typeof t&&(t=t()),null==t?e||null:0!=t},asNumber:function(t,e){return"function"==typeof t&&(t=t()),null==t?e||null:+t||e||null},asString:function(t,e){return"function"==typeof t&&(t=t()),null==t?e||null:t+""},asSize:function(t,e){return"function"==typeof t&&(t=t()),ji(t)?t:Li(t)?t+"px":e||null},asElement:function(t,e){return"function"==typeof t&&(t=t()),t||e||null}};function vr(t){var e;switch(t.length){case 3:case 4:return e=Di.exec(t),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=Ai.exec(t),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function gr(t,e){if(-1!==t.indexOf("rgba"))return t;if(-1!==t.indexOf("rgb")){var n=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+e+")"}var i=vr(t);return null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}function mr(t,e,n){return"#"+(16777216+(t<<16)+(e<<8)+n).toString(16).slice(1)}function yr(t,e){var n=Math.min;if(ji(t)){var i=t;if(Or(i)){var r=i.substr(4).substr(0,i.length-5).split(",").map((function(t){return parseInt(t)}));i=mr(r[0],r[1],r[2])}if(!0===Tr(i)){var o=Sr(i),s={h:o.h,s:.8*o.s,v:n(1,1.02*o.v)},a={h:o.h,s:n(1,1.25*o.s),v:.8*o.v},l=Er(a.h,a.s,a.v),u=Er(s.h,s.s,s.v);return{background:i,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}if(e){var c={background:t.background||e.background,border:t.border||e.border,highlight:ji(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:ji(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}};return c}var h={background:t.background||void 0,border:t.border||void 0,highlight:ji(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:ji(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}};return h}function _r(t,e,n){var i=Math.max,r=Math.min;t/=255,e/=255,n/=255;var o=r(t,r(e,n)),s=i(t,i(e,n));if(o===s)return{h:0,s:0,v:o};var a=t===o?e-n:n===o?t-e:n-t,l=t===o?3:n===o?1:5;return{h:60*(l-a/(s-o))/360,s:(s-o)/s,v:s}}var br={split:function(t){var e={};return t.split(";").forEach((function(t){if(""!=t.trim()){var n=t.split(":"),i=n[0].trim(),r=n[1].trim();e[i]=r}})),e},join:function(t){return Object.keys(t).map((function(e){return e+": "+t[e]})).join("; ")}};function wr(t,e){var n=br.split(t.style.cssText),i=br.split(e),r=be({},n,{},i);t.style.cssText=br.join(r)}function kr(t,e){var n=br.split(t.style.cssText),i=br.split(e);for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&delete n[r];t.style.cssText=br.join(n)}function xr(t,e,n){var i,r,o,s=Math.floor,a=s(6*t),l=6*t-a,u=n*(1-e),c=n*(1-l*e),h=n*(1-(1-l)*e);switch(a%6){case 0:i=n,r=h,o=u;break;case 1:i=c,r=n,o=u;break;case 2:i=u,r=n,o=h;break;case 3:i=u,r=c,o=n;break;case 4:i=h,r=u,o=n;break;case 5:i=n,r=u,o=c}return{r:s(255*i),g:s(255*r),b:s(255*o)}}function Er(t,e,n){var i=xr(t,e,n);return mr(i.r,i.g,i.b)}function Sr(t){var e=vr(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return _r(e.r,e.g,e.b)}function Tr(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e}function Or(t){return Pi.test(t)}function Cr(t){return Ri.test(t)}function Ir(t,e){if(null!==e&&"object"===me(e)){for(var n=Object.create(e),i=0;i<t.length;i++)Object.prototype.hasOwnProperty.call(e,t[i])&&"object"==me(e[t[i]])&&(n[t[i]]=Nr(e[t[i]]));return n}return null}function Nr(t){if(null===t||"object"!==me(t))return null;if(t instanceof Element)return t;var e=Object.create(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&"object"==me(t[n])&&(e[n]=Nr(t[n]));return e}function Mr(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=void 0;for(r=n;0<r&&0>e(i,t[r-1]);r--)t[r]=t[r-1];t[r]=i}return t}function Ar(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!==t&&void 0!==t},o=function(t){return null!==t&&"object"===me(t)};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var s=function(t,e,n){o(t[n])||(t[n]={});var i=e[n],r=t[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},a=e[n],l=o(i)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(i),u=l?i[n]:void 0,c=u?u.enabled:void 0;if(void 0!==a){if("boolean"==typeof a)return o(t[n])||(t[n]={}),void(t[n].enabled=a);if(null===a&&!o(t[n])){if(!r(u))return;t[n]=Object.create(u)}if(o(a)){var h=!0;void 0===a.enabled?void 0!==c&&(h=u.enabled):h=a.enabled,s(t,e,n),t[n].enabled=h}}}function Dr(t,e,n,i){for(var r=0,o=0,s=t.length-1;o<=s&&r<1e4;){var a=Math.floor((o+s)/2),l=t[a],u=void 0===i?l[n]:l[n][i],c=e(u);if(0==c)return a;-1==c?o=a+1:s=a-1,r++}return-1}function Pr(t,e,n,i,r){var o,s,a,l,u=Math.max,c=Math.min,h=Math.floor,d=0,f=0,p=t.length-1;for(r=null==r?function(t,e){return t==e?0:t<e?-1:1}:r;f<=p&&1e4>d;){if(l=h(.5*(p+f)),o=t[u(0,l-1)][n],s=t[l][n],a=t[c(t.length-1,l+1)][n],0==r(s,e))return l;if(0>r(o,e)&&0<r(s,e))return"before"==i?u(0,l-1):l;if(0>r(s,e)&&0<r(a,e))return"before"==i?l:c(t.length-1,l+1);0>r(s,e)?f=l+1:p=l-1,d++}return-1}var Rr={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Lr(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;return n==i&&(i=e.clientWidth),document.body.removeChild(e),n-i}function Fr(t,e){var n;Array.isArray(e)||(e=[e]);var i=!0,r=!1,o=void 0;try{for(var s,a,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)if(a=s.value,a){n=a[e[0]];for(var u=1;u<e.length;u++)n&&(n=n[e[u]]);if("undefined"!=typeof n)break}}catch(t){r=!0,o=t}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}return n}var jr=Object.freeze({isNumber:Li,recursiveDOMDelete:Fi,isString:ji,isObject:zi,isDate:Bi,isMoment:Ui,fillIfDefined:Wi,extend:Yi,selectiveExtend:Vi,selectiveDeepExtend:Gi,selectiveNotDeepExtend:$i,deepExtend:qi,equalArray:Ki,convert:Zi,getType:Xi,copyAndExtendArray:Qi,copyArray:Ji,getAbsoluteLeft:tr,getAbsoluteRight:er,getAbsoluteTop:nr,addClassName:ir,removeClassName:rr,forEach:or,toArray:sr,updateProperty:ar,throttle:lr,addEventListener:ur,removeEventListener:cr,preventDefault:hr,getTarget:dr,hasParent:fr,option:pr,hexToRGB:vr,overrideOpacity:gr,RGBToHex:mr,parseColor:yr,RGBToHSV:_r,addCssText:wr,removeCssText:kr,HSVToRGB:xr,HSVToHex:Er,hexToHSV:Sr,isValidHex:Tr,isValidRGB:Or,isValidRGBA:Cr,selectiveBridgeObject:Ir,bridgeObject:Nr,insertSort:Mr,mergeOptions:Ar,binarySearchCustom:Dr,binarySearchValue:Pr,easingFunctions:Rr,getScrollBarWidth:Lr,topMost:Fr,randomUUID:Ni}),zr=Object.freeze({default:jr,HSVToHex:Er,HSVToRGB:xr,RGBToHSV:_r,RGBToHex:mr,addClassName:ir,addCssText:wr,addEventListener:ur,binarySearchCustom:Dr,binarySearchValue:Pr,bridgeObject:Nr,convert:Zi,copyAndExtendArray:Qi,copyArray:Ji,deepExtend:qi,easingFunctions:Rr,equalArray:Ki,extend:Yi,fillIfDefined:Wi,forEach:or,getAbsoluteLeft:tr,getAbsoluteRight:er,getAbsoluteTop:nr,getScrollBarWidth:Lr,getTarget:dr,getType:Xi,hasParent:fr,hexToHSV:Sr,hexToRGB:vr,insertSort:Mr,isDate:Bi,isMoment:Ui,isNumber:Li,isObject:zi,isString:ji,isValidHex:Tr,isValidRGB:Or,isValidRGBA:Cr,mergeOptions:Ar,option:pr,overrideOpacity:gr,parseColor:yr,preventDefault:hr,randomUUID:Ni,recursiveDOMDelete:Fi,removeClassName:rr,removeCssText:kr,removeEventListener:cr,selectiveBridgeObject:Ir,selectiveDeepExtend:Gi,selectiveExtend:Vi,selectiveNotDeepExtend:$i,throttle:lr,toArray:sr,topMost:Fr,updateProperty:ar});function Br(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ur=Br;function Hr(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Wr=Hr((function(t){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(i){return t.exports=n="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},n(i)}t.exports=n}));function Yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Vr=Yr;function Gr(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function $r(t,e,n){return e&&Gr(t.prototype,e),n&&Gr(t,n),t}var qr=$r;function Kr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Zr=Kr;function Xr(t,e){return!e||"object"!==Wr(e)&&"function"!=typeof e?Zr(t):e}var Qr=Xr,Jr=Hr((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e})),to=Hr((function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,i)}t.exports=e}));function eo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&to(t,e)}for(var no=eo,io=[],ro=0;256>ro;ro++)io[ro]=(ro+256).toString(16).substr(1);function oo(t,e){var n=e||0,i=io;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}for(var so=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=Array(16);return function(){for(var t,n=0;16>n;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=255&t>>>((3&n)<<3);return e}}(),ao=[],lo=0;256>lo;lo++)ao[lo]=(lo+256).toString(16).substr(1);var uo=so();uo[0],uo[1],uo[2],uo[3],uo[4],uo[5],uo[6],uo[7];function co(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,i=e&&n||0;"string"==typeof t&&(e="binary"===t?Array(16):void 0,t={});var r=t.random||(t.rng||so)();if(r[6]=64|15&r[6],r[8]=128|63&r[8],e)for(var o=0;16>o;o++)e[i+o]=r[o];return e||oo(r)}function ho(t){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(t)}"undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof n.g?"undefined"==typeof self||self:n.g:window:globalThis;function fo(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function po(t,e){return e={exports:{}},t(e,e.exports),e.exports}for(var vo=po((function(t){var e=Math.round,n=Math.pow,i=Math.max,r=Math.abs,o=Math.min,s=Math.floor,a=Math.ceil;(function(e,n){t.exports=n()})(0,(function(){function l(){return $e.apply(null,arguments)}function u(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function c(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function h(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function d(t){return void 0===t}function f(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function p(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function v(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function m(t,e){for(var n in e)g(e,n)&&(t[n]=e[n]);return g(e,"toString")&&(t.toString=e.toString),g(e,"valueOf")&&(t.valueOf=e.valueOf),t}function y(t,e,n,i){return ie(t,e,n,i,!0).utc()}function _(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function b(t){return null==t._pf&&(t._pf=_()),t._pf}function w(t){if(null==t._isValid){var e=b(t),n=qe.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&0>e.overflow&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function k(t){var e=y(NaN);return null==t?b(e).userInvalidated=!0:m(b(e),t),e}function x(t,e){var n,i,r;if(d(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),d(e._i)||(t._i=e._i),d(e._f)||(t._f=e._f),d(e._l)||(t._l=e._l),d(e._strict)||(t._strict=e._strict),d(e._tzm)||(t._tzm=e._tzm),d(e._isUTC)||(t._isUTC=e._isUTC),d(e._offset)||(t._offset=e._offset),d(e._pf)||(t._pf=b(e)),d(e._locale)||(t._locale=e._locale),0<Ke.length)for(n=0;n<Ke.length;n++)i=Ke[n],r=e[i],d(r)||(t[i]=r);return t}function E(t){x(this,t),this._d=new Date(null==t._d?NaN:t._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===Ze&&(Ze=!0,l.updateOffset(this),Ze=!1)}function S(t){return t instanceof E||null!=t&&null!=t._isAMomentObject}function T(t){return 0>t?a(t)||0:s(t)}function O(t){var e=+t,n=0;return 0!=e&&isFinite(e)&&(n=T(e)),n}function C(t,e,n){var i,s=o(t.length,e.length),a=r(t.length-e.length),l=0;for(i=0;i<s;i++)(n&&t[i]!==e[i]||!n&&O(t[i])!==O(e[i]))&&l++;return l+a}function I(t){!1===l.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function N(t,e){var n=!0;return m((function(){if(null!=l.deprecationHandler&&l.deprecationHandler(null,t),n){for(var i,r=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var s in i+="\n["+o+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];r.push(i)}I(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}function M(t,e){null!=l.deprecationHandler&&l.deprecationHandler(t,e),Xe[t]||(I(e),Xe[t]=!0)}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,n;for(n in t)e=t[n],A(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(t,e){var n,i=m({},t);for(n in e)g(e,n)&&(c(t[n])&&c(e[n])?(i[n]={},m(i[n],t[n]),m(i[n],e[n])):null==e[n]?delete i[n]:i[n]=e[n]);for(n in t)g(t,n)&&!g(e,n)&&c(t[n])&&(i[n]=m({},i[n]));return i}function R(t){null!=t&&this.set(t)}function L(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return A(i)?i.call(e,n):i}function F(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])}function j(t,e){var n=t.toLowerCase();tn[n]=tn[n+"s"]=tn[e]=t}function z(t){return"string"==typeof t?tn[t]||tn[t.toLowerCase()]:void 0}function B(t){var e,n,i={};for(n in t)g(t,n)&&(e=z(n),e&&(i[e]=t[n]));return i}function U(t,e){en[t]=e}function H(t){var e=[];for(var n in t)e.push({unit:n,priority:en[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}function W(t,e,o){var s=""+r(t),a=e-s.length;return(0<=t?o?"+":"":"-")+n(10,i(0,a)).toString().substr(1)+s}function Y(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(sn[t]=r),e&&(sn[e[0]]=function(){return W(r.apply(this,arguments),e[1],e[2])}),n&&(sn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G(t){var e,n,i=t.match(nn);for(e=0,n=i.length;e<n;e++)i[e]=sn[i[e]]?sn[i[e]]:V(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=A(i[r])?i[r].call(e,t):i[r];return o}}function $(t,e){return t.isValid()?(e=q(e,t.localeData()),on[e]=on[e]||G(e),on[e](t)):t.localeData().invalidDate()}function q(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(rn.lastIndex=0;0<=i&&rn.test(t);)t=t.replace(rn,n),rn.lastIndex=0,i-=1;return t}function K(t,e,n){En[t]=A(e)?e:function(t){return t&&n?n:e}}function Z(t,e){return g(En,t)?En[t](e._strict,e._locale):new RegExp(X(t))}function X(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r})))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),f(e)&&(i=function(t,n){n[e]=O(t)}),n=0;n<t.length;n++)Sn[t[n]]=i}function tt(t,e){J(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function et(t,e,n){null!=e&&g(Sn,t)&&Sn[t](e,n._a,n,t)}function nt(t){return it(t)?366:365}function it(t){return 0==t%4&&0!=t%100||0==t%400}function rt(t,e){return function(n){return null==n?ot(this,t):(st(this,t,n),l.updateOffset(this,e),this)}}function ot(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function st(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&it(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),ut(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function at(t,e){if("object"==typeof t){t=B(t);for(var n=H(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=z(t),A(this[t]))return this[t](e);return this}function lt(t,e){return(t%e+e)%e}function ut(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=lt(e,12);return t+=(e-n)/12,1===n?it(t)?29:28:31-n%7%2}function ct(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=y([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=An.call(this._shortMonthsParse,s),-1===r?null:r):(r=An.call(this._longMonthsParse,s),-1===r?null:r):"MMM"===e?(r=An.call(this._shortMonthsParse,s),-1!==r?r:(r=An.call(this._longMonthsParse,s),-1===r?null:r)):(r=An.call(this._longMonthsParse,s),-1!==r?r:(r=An.call(this._shortMonthsParse,s),-1===r?null:r))}function ht(t,e,n){var i,r,o;if(this._monthsParseExact)return ct.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=y([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function dt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=O(e);else if(e=t.localeData().monthsParse(e),!f(e))return t;return n=o(t.date(),ut(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ft(t){return null==t?ot(this,"Month"):(dt(this,t),l.updateOffset(this,!0),this)}function pt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=y([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=Q(i[e]),r[e]=Q(r[e]);for(e=0;24>e;e++)o[e]=Q(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function vt(t,e,n,i,r,o,s){var a;return 100>t&&0<=t?(a=new Date(t+400,e,n,i,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,i,r,o,s),a}function gt(t){var e;if(100>t&&0<=t){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function mt(t,e,n){var i=7+e-n,r=(7+gt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function yt(t,e,n,i,r){var o,s,a=mt(t,i,r),l=1+7*(e-1)+(7+n-i)%7+a;return 0>=l?(o=t-1,s=nt(o)+l):l>nt(t)?(o=t+1,s=l-nt(t)):(o=t,s=l),{year:o,dayOfYear:s}}function _t(t,e,n){var i,r,o=mt(t.year(),e,n),a=s((t.dayOfYear()-o-1)/7)+1;return 1>a?(r=t.year()-1,i=a+bt(r,e,n)):a>bt(t.year(),e,n)?(i=a-bt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function bt(t,e,n){var i=mt(t,e,n),r=mt(t+1,e,n);return(nt(t)-i+r)/7}function wt(t,e){return"string"==typeof t?isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10):t}function kt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function xt(t,e){return t.slice(e,7).concat(t.slice(0,e))}function Et(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=y([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=An.call(this._weekdaysParse,s),-1===r?null:r):"ddd"===e?(r=An.call(this._shortWeekdaysParse,s),-1===r?null:r):(r=An.call(this._minWeekdaysParse,s),-1===r?null:r):"dddd"===e?(r=An.call(this._weekdaysParse,s),-1!==r?r:(r=An.call(this._shortWeekdaysParse,s),-1!==r?r:(r=An.call(this._minWeekdaysParse,s),-1===r?null:r))):"ddd"===e?(r=An.call(this._shortWeekdaysParse,s),-1!==r?r:(r=An.call(this._weekdaysParse,s),-1!==r?r:(r=An.call(this._minWeekdaysParse,s),-1===r?null:r))):(r=An.call(this._minWeekdaysParse,s),-1!==r?r:(r=An.call(this._weekdaysParse,s),-1!==r?r:(r=An.call(this._shortWeekdaysParse,s),-1===r?null:r)))}function St(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Et.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=y([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Tt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],u=[];for(e=0;7>e;e++)n=y([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(s.sort(t),a.sort(t),l.sort(t),u.sort(t),e=0;7>e;e++)a[e]=Q(a[e]),l[e]=Q(l[e]),u[e]=Q(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ot(){return this.hours()%12||12}function Ct(t,e){Y(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function It(t,e){return e._meridiemParse}function Nt(t){return t?t.toLowerCase().replace("_","-"):t}function Mt(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Nt(t[o]).split("-"),e=r.length,n=Nt(t[o+1]),n=n?n.split("-"):null;0<e;){if(i=At(r.slice(0,e).join("-")),i)return i;if(n&&n.length>=e&&C(r,n,!0)>=e-1)break;e--}o++}return Fn}function At(e){var n=null;if(!Un[e]&&t&&t.exports)try{n=Fn._abbr,fo("./locale/"+e),Dt(n)}catch(e){}return Un[e]}function Dt(t,e){var n;return t&&(n=d(e)?Rt(t):Pt(t,e),n?Fn=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Fn._abbr}function Pt(t,e){if(null!==e){var n,i=Bn;if(e.abbr=t,null!=Un[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Un[t]._config;else if(null!=e.parentLocale)if(null!=Un[e.parentLocale])i=Un[e.parentLocale]._config;else{if(n=At(e.parentLocale),null==n)return Hn[e.parentLocale]||(Hn[e.parentLocale]=[]),Hn[e.parentLocale].push({name:t,config:e}),null;i=n._config}return Un[t]=new R(P(i,e)),Hn[t]&&Hn[t].forEach((function(t){Pt(t.name,t.config)})),Dt(t),Un[t]}return delete Un[t],null}function Rt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Fn;if(!u(t)){if(e=At(t),e)return e;t=[t]}return Mt(t)}function Lt(){return Qe(Un)}function Ft(t){var e,n=t._a;return n&&-2===b(t).overflow&&(e=0>n[1]||11<n[1]?1:1>n[2]||n[2]>ut(n[0],n[1])?2:0>n[3]||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:0>n[4]||59<n[4]?4:0>n[5]||59<n[5]?5:0>n[6]||999<n[6]?6:-1,b(t)._overflowDayOfYear&&(0>e||2<e)&&(e=2),b(t)._overflowWeeks&&-1===e&&(e=7),b(t)._overflowWeekday&&-1===e&&(e=8),b(t).overflow=e),t}function jt(t,e,n){return null==t?null==e?n:e:t}function zt(t){var e=new Date(l.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Bt(t){var e,n,i,r,o,s=[];if(!t._d){for(i=zt(t),t._w&&null==t._a[2]&&null==t._a[1]&&Ut(t),null!=t._dayOfYear&&(o=jt(t._a[0],i[0]),(t._dayOfYear>nt(o)||0===t._dayOfYear)&&(b(t)._overflowDayOfYear=!0),n=gt(o,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?gt:vt).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==r&&(b(t).weekdayMismatch=!0)}}function Ut(t){var e,n,i,r,o,s,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,s=4,n=jt(e.GG,t._a[0],_t(re(),1,4).year),i=jt(e.W,1),r=jt(e.E,1),(1>r||7<r)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var u=_t(re(),o,s);n=jt(e.gg,t._a[0],u.year),i=jt(e.w,u.week),null==e.d?null==e.e?r=o:(r=e.e+o,(0>e.e||6<e.e)&&(l=!0)):(r=e.d,(0>r||6<r)&&(l=!0))}1>i||i>bt(n,o,s)?b(t)._overflowWeeks=!0:null==l?(a=yt(n,i,r,o,s),t._a[0]=a.year,t._dayOfYear=a.dayOfYear):b(t)._overflowWeekday=!0}function Ht(t){var e,n,i,r,o,s,a=t._i,l=Wn.exec(a)||Yn.exec(a);if(l){for(b(t).iso=!0,e=0,n=Gn.length;e<n;e++)if(Gn[e][1].exec(l[1])){r=Gn[e][0],i=!1!==Gn[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=$n.length;e<n;e++)if($n[e][1].exec(l[3])){o=(l[2]||" ")+$n[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Vn.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),Zt(t)}else t._isValid=!1}function Wt(t,e,n,i,r,o){var s=[Yt(t),Rn.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}function Yt(t){var e=parseInt(t,10);return 49>=e?2e3+e:999>=e?1900+e:e}function Vt(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Gt(t,e,n){if(t){var i=Ln.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return b(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function $t(t,e,n){if(t)return Zn[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function qt(t){var e=Kn.exec(Vt(t._i));if(e){var n=Wt(e[4],e[3],e[2],e[5],e[6],e[7]);if(!Gt(e[1],n,t))return;t._a=n,t._tzm=$t(e[8],e[9],e[10]),t._d=gt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),b(t).rfc2822=!0}else t._isValid=!1}function Kt(t){var e=qn.exec(t._i);null===e?(Ht(t),!1===t._isValid&&(delete t._isValid,qt(t),!1===t._isValid&&(delete t._isValid,l.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Zt(t){if(t._f!==l.ISO_8601)if(t._f!==l.RFC_2822){t._a=[],b(t).empty=!0;var e,n,i,r,o,s=""+t._i,a=s.length,u=0;for(i=q(t._f,t._locale).match(nn)||[],e=0;e<i.length;e++)r=i[e],n=(s.match(Z(r,t))||[])[0],n&&(o=s.substr(0,s.indexOf(n)),0<o.length&&b(t).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),u+=n.length),sn[r]?(n?b(t).empty=!1:b(t).unusedTokens.push(r),et(r,n,t)):t._strict&&!n&&b(t).unusedTokens.push(r);b(t).charsLeftOver=a-u,0<s.length&&b(t).unusedInput.push(s),12>=t._a[3]&&!0===b(t).bigHour&&0<t._a[3]&&(b(t).bigHour=void 0),b(t).parsedDateParts=t._a.slice(0),b(t).meridiem=t._meridiem,t._a[3]=Xt(t._locale,t._a[3],t._meridiem),Bt(t),Ft(t)}else qt(t);else Ht(t)}function Xt(t,e,n){var i;return null==n?e:null==t.meridiemHour?(null==t.isPM||(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0)),e):t.meridiemHour(e,n)}function Qt(t){var e,n,i,r,o;if(0===t._f.length)return b(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Zt(e),w(e)&&(o+=b(e).charsLeftOver,o+=10*b(e).unusedTokens.length,b(e).score=o,(null==i||o<i)&&(i=o,n=e));m(t,n||e)}function Jt(t){if(!t._d){var e=B(t._i);t._a=v([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Bt(t)}}function te(t){var e=new E(Ft(ee(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ee(t){var e=t._i,n=t._f;return t._locale=t._locale||Rt(t._l),null===e||void 0===n&&""===e?k({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),S(e)?new E(Ft(e)):(p(e)?t._d=e:u(n)?Qt(t):n?Zt(t):ne(t),w(t)||(t._d=null),t))}function ne(t){var e=t._i;d(e)?t._d=new Date(l.now()):p(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Kt(t):u(e)?(t._a=v(e.slice(0),(function(t){return parseInt(t,10)})),Bt(t)):c(e)?Jt(t):f(e)?t._d=new Date(e):l.createFromInputFallback(t)}function ie(t,e,n,i,r){var o={};return(!0===n||!1===n)&&(i=n,n=void 0),(c(t)&&h(t)||u(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,te(o)}function re(t,e,n,i){return ie(t,e,n,i,!1)}function oe(t,e){var n,i;if(1===e.length&&u(e[0])&&(e=e[0]),!e.length)return re();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function se(t){for(var e in t)if(-1===An.call(Jn,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Jn.length;++i)if(t[Jn[i]]){if(n)return!1;parseFloat(t[Jn[i]])!==O(t[Jn[i]])&&(n=!0)}return!0}function ae(t){var e=B(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=se(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=Rt(),this._bubble()}function le(t){return t instanceof ae}function ue(t){return 0>t?-1*e(-1*t):e(t)}function ce(t,e){Y(t,0,0,(function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+W(~~(t/60),2)+e+W(~~t%60,2)}))}function he(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(ti)||["-",0,0],o=60*r[1]+O(r[2]);return 0===o?0:"+"===r[0]?o:-o}function de(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(S(t)||p(t)?t.valueOf():re(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),l.updateOffset(n,!1),n):re(t).local()}function fe(t){return 15*-e(t._d.getTimezoneOffset()/15)}function pe(){if(!d(this._isDSTShifted))return this._isDSTShifted;var t={};if(x(t,this),t=ee(t),t._a){var e=t._isUTC?y(t._a):re(t._a);this._isDSTShifted=this.isValid()&&0<C(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}function ve(){return!!this.isValid()&&this._isUTC&&0===this._offset}function ge(t,e){var n,i,r,o=t,s=null;return le(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:f(t)?(o={},e?o[e]=t:o.milliseconds=t):(s=ei.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:O(s[2])*n,h:O(s[3])*n,m:O(s[4])*n,s:O(s[5])*n,ms:O(ue(1e3*s[6]))*n}):(s=ni.exec(t))?(n="-"===s[1]?-1:1,o={y:me(s[2],n),M:me(s[3],n),w:me(s[4],n),d:me(s[5],n),h:me(s[6],n),m:me(s[7],n),s:me(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=_e(re(o.from),re(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new ae(o),le(t)&&g(t,"_locale")&&(i._locale=t._locale),i}function me(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ye(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function _e(t,e){var n;return t.isValid()&&e.isValid()?(e=de(e,t),t.isBefore(e)?n=ye(t,e):(n=ye(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function be(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=ge(n,i),we(this,r,t),this}}function we(t,e,n,i){var r=e._milliseconds,o=ue(e._days),s=ue(e._months);t.isValid()&&(i=null==i||i,s&&dt(t,ot(t,"Month")+s*n),o&&st(t,"Date",ot(t,"Date")+o*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&l.updateOffset(t,o||s))}function ke(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function xe(t){var e;return void 0===t?this._locale._abbr:(e=Rt(t),null!=e&&(this._locale=e),this)}function Ee(){return this._locale}function Se(t,e){return(t%e+e)%e}function Te(t,e,n){return 100>t&&0<=t?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function Oe(t,e,n){return 100>t&&0<=t?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function Ce(t,e){Y(0,[t,t.length],0,e)}function Ie(t,e,n,i,r){var o;return null==t?_t(this,i,r).year:(o=bt(t,i,r),e>o&&(e=o),Ne.call(this,t,e,n,i,r))}function Ne(t,e,n,i,r){var o=yt(t,e,n,i,r),s=gt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Me(t,e){e[6]=O(1e3*("0."+t))}function Ae(t){return t}function De(t,e,n,i){var r=Rt(),o=y().set(i,e);return r[n](o,t)}function Pe(t,e,n){if(f(t)&&(e=t,t=void 0),t=t||"",null!=e)return De(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=De(t,i,n,"month");return r}function Re(t,e,n,i){"boolean"==typeof t?(f(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,f(e)&&(n=e,e=void 0),e=e||"");var r=Rt(),o=t?r._week.dow:0;if(null!=n)return De(e,(n+o)%7,i,"day");var s,a=[];for(s=0;7>s;s++)a[s]=De(e,(s+o)%7,i,"day");return a}function Le(t,e,n,i){var r=ge(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Fe(t){return 0>t?s(t):a(t)}function je(t){return 4800*t/146097}function ze(t){return 146097*t/4800}function Be(t){return function(){return this.as(t)}}function Ue(t){return function(){return this.isValid()?this._data[t]:NaN}}function He(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function We(t,e,n){var i=ge(t).abs(),r=Ni(i.as("s")),o=Ni(i.as("m")),s=Ni(i.as("h")),a=Ni(i.as("d")),l=Ni(i.as("M")),u=Ni(i.as("y")),c=r<=Mi.ss&&["s",r]||r<Mi.s&&["ss",r]||1>=o&&["m"]||o<Mi.m&&["mm",o]||1>=s&&["h"]||s<Mi.h&&["hh",s]||1>=a&&["d"]||a<Mi.d&&["dd",a]||1>=l&&["M"]||l<Mi.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=0<+t,c[4]=n,He.apply(null,c)}function Ye(t){return void 0===t?Ni:"function"==typeof t&&(Ni=t,!0)}function Ve(t){return(0<t)-(0>t)||+t}function Ge(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=Ai(this._milliseconds)/1e3,r=Ai(this._days),o=Ai(this._months);t=T(i/60),e=T(t/60),i%=60,t%=60,n=T(o/12),o%=12;var s=n,a=o,l=r,u=e,c=t,h=i?i.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=0>d?"-":"",p=Ve(this._months)===Ve(d)?"":"-",v=Ve(this._days)===Ve(d)?"":"-",g=Ve(this._milliseconds)===Ve(d)?"":"-";return f+"P"+(s?p+s+"Y":"")+(a?p+a+"M":"")+(l?v+l+"D":"")+(u||c||h?"T":"")+(u?g+u+"H":"")+(c?g+c+"M":"")+(h?g+h+"S":"")}var $e,qe;qe=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Ke=l.momentProperties=[],Ze=!1,Xe={};l.suppressDeprecationWarnings=!1,l.deprecationHandler=null;var Qe=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)g(t,e)&&n.push(e);return n},Je=/\d{1,2}/,tn={},en={},nn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,rn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,on={},sn={},an=/\d/,ln=/\d\d/,un=/\d{3}/,cn=/\d{4}/,hn=/[+-]?\d{6}/,dn=/\d\d?/,fn=/\d\d\d\d?/,pn=/\d\d\d\d\d\d?/,vn=/\d{1,3}/,gn=/\d{1,4}/,mn=/[+-]?\d{1,6}/,yn=/\d+/,_n=/[+-]?\d+/,bn=/Z|[+-]\d\d:?\d\d/gi,wn=/Z|[+-]\d\d(?::?\d\d)?/gi,kn=/[+-]?\d+(\.\d{1,3})?/,xn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,En={},Sn={},Tn=0,On=1,Cn=2,In=3,Nn=4,Mn=5;Y("Y",0,0,(function(){var t=this.year();return 9999>=t?""+t:"+"+t})),Y(0,["YY",2],0,(function(){return this.year()%100})),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),j("year","y"),U("year",1),K("Y",_n),K("YY",dn,ln),K("YYYY",gn,cn),K("YYYYY",mn,hn),K("YYYYYY",mn,hn),J(["YYYYY","YYYYYY"],Tn),J("YYYY",(function(t,e){e[Tn]=2===t.length?l.parseTwoDigitYear(t):O(t)})),J("YY",(function(t,e){e[Tn]=l.parseTwoDigitYear(t)})),J("Y",(function(t,e){e[Tn]=parseInt(t,10)})),l.parseTwoDigitYear=function(t){return O(t)+(68<O(t)?1900:2e3)};var An,Dn=rt("FullYear",!0);An=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Y("M",["MM",2],"Mo",(function(){return this.month()+1})),Y("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),Y("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),j("month","M"),U("month",8),K("M",dn),K("MM",dn,ln),K("MMM",(function(t,e){return e.monthsShortRegex(t)})),K("MMMM",(function(t,e){return e.monthsRegex(t)})),J(["M","MM"],(function(t,e){e[On]=O(t)-1})),J(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null==r?b(n).invalidMonth=t:e[On]=r}));var Pn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Rn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),U("week",5),U("isoWeek",5),K("w",dn),K("ww",dn,ln),K("W",dn),K("WW",dn,ln),tt(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=O(t)})),Y("d",0,"do","day"),Y("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),Y("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),Y("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),K("d",dn),K("e",dn),K("E",dn),K("dd",(function(t,e){return e.weekdaysMinRegex(t)})),K("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),K("dddd",(function(t,e){return e.weekdaysRegex(t)})),tt(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null==r?b(n).invalidWeekday=t:e.d=r})),tt(["d","e","E"],(function(t,e,n,i){e[i]=O(t)}));var Ln=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Ot),Y("k",["kk",2],0,(function(){return this.hours()||24})),Y("hmm",0,0,(function(){return""+Ot.apply(this)+W(this.minutes(),2)})),Y("hmmss",0,0,(function(){return""+Ot.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)})),Y("Hmm",0,0,(function(){return""+this.hours()+W(this.minutes(),2)})),Y("Hmmss",0,0,(function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)})),Ct("a",!0),Ct("A",!1),j("hour","h"),U("hour",13),K("a",It),K("A",It),K("H",dn),K("h",dn),K("k",dn),K("HH",dn,ln),K("hh",dn,ln),K("kk",dn,ln),K("hmm",fn),K("hmmss",pn),K("Hmm",fn),K("Hmmss",pn),J(["H","HH"],In),J(["k","kk"],(function(t,e){var n=O(t);e[In]=24===n?0:n})),J(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),J(["h","hh"],(function(t,e,n){e[In]=O(t),b(n).bigHour=!0})),J("hmm",(function(t,e,n){var i=t.length-2;e[In]=O(t.substr(0,i)),e[Nn]=O(t.substr(i)),b(n).bigHour=!0})),J("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[In]=O(t.substr(0,i)),e[Nn]=O(t.substr(i,2)),e[Mn]=O(t.substr(r)),b(n).bigHour=!0})),J("Hmm",(function(t,e){var n=t.length-2;e[In]=O(t.substr(0,n)),e[Nn]=O(t.substr(n))})),J("Hmmss",(function(t,e){var n=t.length-4,i=t.length-2;e[In]=O(t.substr(0,n)),e[Nn]=O(t.substr(n,2)),e[Mn]=O(t.substr(i))}));var Fn,jn=/[ap]\.?m?\.?/i,zn=rt("Hours",!0),Bn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Je,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:Rn,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Ln,meridiemParse:jn},Un={},Hn={},Wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vn=/Z|[+-]\d\d(?::?\d\d)?/,Gn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],$n=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qn=/^\/?Date\((\-?\d+)/i,Kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Zn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};l.createFromInputFallback=N("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),l.ISO_8601=function(){},l.RFC_2822=function(){};var Xn=N("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=re.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:k()})),Qn=N("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=re.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:k()})),Jn=["year","quarter","month","week","day","hour","minute","second","millisecond"];ce("Z",":"),ce("ZZ",""),K("Z",wn),K("ZZ",wn),J(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=he(wn,t)}));var ti=/([\+\-]|\d\d)/gi;l.updateOffset=function(){};var ei=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ni=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;ge.fn=ae.prototype,ge.invalid=function(){return ge(NaN)};var ii=be(1,"add"),ri=be(-1,"subtract");l.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",l.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=N("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));Y(0,["gg",2],0,(function(){return this.weekYear()%100})),Y(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ce("gggg","weekYear"),Ce("ggggg","weekYear"),Ce("GGGG","isoWeekYear"),Ce("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),K("G",_n),K("g",_n),K("GG",dn,ln),K("gg",dn,ln),K("GGGG",gn,cn),K("gggg",gn,cn),K("GGGGG",mn,hn),K("ggggg",mn,hn),tt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=O(t)})),tt(["gg","GG"],(function(t,e,n,i){e[i]=l.parseTwoDigitYear(t)})),Y("Q",0,"Qo","quarter"),j("quarter","Q"),U("quarter",7),K("Q",an),J("Q",(function(t,e){e[On]=3*(O(t)-1)})),Y("D",["DD",2],"Do","date"),j("date","D"),U("date",9),K("D",dn),K("DD",dn,ln),K("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),J(["D","DD"],Cn),J("Do",(function(t,e){e[Cn]=O(t.match(dn)[0])}));var si=rt("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),U("dayOfYear",4),K("DDD",vn),K("DDDD",un),J(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=O(t)})),Y("m",["mm",2],0,"minute"),j("minute","m"),U("minute",14),K("m",dn),K("mm",dn,ln),J(["m","mm"],Nn);var ai=rt("Minutes",!1);Y("s",["ss",2],0,"second"),j("second","s"),U("second",15),K("s",dn),K("ss",dn,ln),J(["s","ss"],Mn);var li,ui=rt("Seconds",!1);for(Y("S",0,0,(function(){return~~(this.millisecond()/100)})),Y(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Y(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Y(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Y(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Y(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Y(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),j("millisecond","ms"),U("millisecond",16),K("S",vn,an),K("SS",vn,ln),K("SSS",vn,un),li="SSSS";9>=li.length;li+="S")K(li,yn);for(li="S";9>=li.length;li+="S")J(li,Me);var ci=rt("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var hi=E.prototype;hi.add=ii,hi.calendar=function(t,e){var n=t||re(),i=de(n,this).startOf("day"),r=l.calendarFormat(this,i)||"sameElse",o=e&&(A(e[r])?e[r].call(this,n):e[r]);return this.format(o||this.localeData().calendar(r,this,re(n)))},hi.clone=function(){return new E(this)},hi.diff=function(t,e,n){var i,r,o;return this.isValid()?(i=de(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=z(e),o="year"===e?ke(this,i)/12:"month"===e?ke(this,i):"quarter"===e?ke(this,i)/3:"second"===e?(this-i)/1e3:"minute"===e?(this-i)/6e4:"hour"===e?(this-i)/36e5:"day"===e?(this-i-r)/864e5:"week"===e?(this-i-r)/6048e5:this-i,n?o:T(o)):NaN):NaN},hi.endOf=function(t){var e;if(t=z(t),void 0===t||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Oe:Te;return"year"===t?e=n(this.year()+1,0,1)-1:"quarter"===t?e=n(this.year(),this.month()-this.month()%3+3,1)-1:"month"===t?e=n(this.year(),this.month()+1,1)-1:"week"===t?e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:"isoWeek"===t?e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:"day"===t||"date"===t?e=n(this.year(),this.month(),this.date()+1)-1:"hour"===t?(e=this._d.valueOf(),e+=36e5-Se(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):"minute"===t?(e=this._d.valueOf(),e+=6e4-Se(e,6e4)-1):"second"===t&&(e=this._d.valueOf(),e+=1e3-Se(e,1e3)-1),this._d.setTime(e),l.updateOffset(this,!0),this},hi.format=function(t){t||(t=this.isUtc()?l.defaultFormatUtc:l.defaultFormat);var e=$(this,t);return this.localeData().postformat(e)},hi.from=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||re(t).isValid())?ge({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hi.fromNow=function(t){return this.from(re(),t)},hi.to=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||re(t).isValid())?ge({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hi.toNow=function(t){return this.to(re(),t)},hi.get=function(t){return t=z(t),A(this[t])?this[t]():this},hi.invalidAt=function(){return b(this).overflow},hi.isAfter=function(t,e){var n=S(t)?t:re(t);return!(!this.isValid()||!n.isValid())&&(e=z(e)||"millisecond","millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},hi.isBefore=function(t,e){var n=S(t)?t:re(t);return!(!this.isValid()||!n.isValid())&&(e=z(e)||"millisecond","millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},hi.isBetween=function(t,e,n,i){var r=S(t)?t:re(t),o=S(e)?e:re(e);return!!(this.isValid()&&r.isValid()&&o.isValid())&&(i=i||"()",("("===i[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n)))},hi.isSame=function(t,e){var n,i=S(t)?t:re(t);return!(!this.isValid()||!i.isValid())&&(e=z(e)||"millisecond","millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},hi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},hi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},hi.isValid=function(){return w(this)},hi.lang=oi,hi.locale=xe,hi.localeData=Ee,hi.max=Qn,hi.min=Xn,hi.parsingFlags=function(){return m({},b(this))},hi.set=at,hi.startOf=function(t){var e;if(t=z(t),void 0===t||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Oe:Te;return"year"===t?e=n(this.year(),0,1):"quarter"===t?e=n(this.year(),this.month()-this.month()%3,1):"month"===t?e=n(this.year(),this.month(),1):"week"===t?e=n(this.year(),this.month(),this.date()-this.weekday()):"isoWeek"===t?e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):"day"===t||"date"===t?e=n(this.year(),this.month(),this.date()):"hour"===t?(e=this._d.valueOf(),e-=Se(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)):"minute"===t?(e=this._d.valueOf(),e-=Se(e,6e4)):"second"===t&&(e=this._d.valueOf(),e-=Se(e,1e3)),this._d.setTime(e),l.updateOffset(this,!0),this},hi.subtract=ri,hi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},hi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},hi.toDate=function(){return new Date(this.valueOf())},hi.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return 0>n.year()||9999<n.year()?$(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(n,"Z")):$(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},hi.toJSON=function(){return this.isValid()?this.toISOString():null},hi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hi.unix=function(){return s(this.valueOf()/1e3)},hi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hi.year=Dn,hi.isLeapYear=function(){return it(this.year())},hi.weekYear=function(t){return Ie.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hi.isoWeekYear=function(t){return Ie.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},hi.quarter=hi.quarters=function(t){return null==t?a((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},hi.month=ft,hi.daysInMonth=function(){return ut(this.year(),this.month())},hi.week=hi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},hi.isoWeek=hi.isoWeeks=function(t){var e=_t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},hi.weeksInYear=function(){var t=this.localeData()._week;return bt(this.year(),t.dow,t.doy)},hi.isoWeeksInYear=function(){return bt(this.year(),1,4)},hi.date=si,hi.day=hi.days=function(t){if(!this.isValid())return null==t?NaN:this;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:(t=wt(t,this.localeData()),this.add(t-e,"d"))},hi.weekday=function(t){if(!this.isValid())return null==t?NaN:this;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},hi.isoWeekday=function(t){if(!this.isValid())return null==t?NaN:this;if(null!=t){var e=kt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},hi.dayOfYear=function(t){var n=e((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?n:this.add(t-n,"d")},hi.hour=hi.hours=zn,hi.minute=hi.minutes=ai,hi.second=hi.seconds=ui,hi.millisecond=hi.milliseconds=ci,hi.utcOffset=function(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null==t?NaN:this;if(null!=t){if("string"!=typeof t)16>r(t)&&!n&&(t*=60);else if(t=he(wn,t),null===t)return this;return!this._isUTC&&e&&(i=fe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?we(this,ge(t-o,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:fe(this)},hi.utc=function(t){return this.utcOffset(0,t)},hi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fe(this),"m")),this},hi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=he(bn,this._i);null==t?this.utcOffset(0,!0):this.utcOffset(t)}return this},hi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?re(t).utcOffset():0,0==(this.utcOffset()-t)%60)},hi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hi.isLocal=function(){return!!this.isValid()&&!this._isUTC},hi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hi.isUtc=ve,hi.isUTC=ve,hi.zoneAbbr=function(){return this._isUTC?"UTC":""},hi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hi.dates=N("dates accessor is deprecated. Use date instead.",si),hi.months=N("months accessor is deprecated. Use month instead",ft),hi.years=N("years accessor is deprecated. Use year instead",Dn),hi.zone=N("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null==t?-this.utcOffset():("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this)})),hi.isDSTShifted=N("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pe);var di=R.prototype;di.calendar=L,di.longDateFormat=F,di.invalidDate=function(){return this._invalidDate},di.ordinal=function(t){return this._ordinal.replace("%d",t)},di.preparse=Ae,di.postformat=Ae,di.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return A(r)?r(t,e,n,i):r.replace(/%d/i,t)},di.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return A(n)?n(e):n.replace(/%s/i,e)},di.set=D,di.months=function(t,e){return t?u(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Pn).test(e)?"format":"standalone"][t.month()]:u(this._months)?this._months:this._months.standalone},di.monthsShort=function(t,e){return t?u(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Pn.test(e)?"format":"standalone"][t.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},di.monthsParse=ht,di.monthsRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(g(this,"_monthsRegex")||(this._monthsRegex=xn),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},di.monthsShortRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,"_monthsShortRegex")||(this._monthsShortRegex=xn),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},di.week=function(t){return _t(t,this._week.dow,this._week.doy).week},di.firstDayOfYear=function(){return this._week.doy},di.firstDayOfWeek=function(){return this._week.dow},di.weekdays=function(t,e){var n=u(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?xt(n,this._week.dow):t?n[t.day()]:n},di.weekdaysMin=function(t){return!0===t?xt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},di.weekdaysShort=function(t){return!0===t?xt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},di.weekdaysParse=St,di.weekdaysRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Tt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,"_weekdaysRegex")||(this._weekdaysRegex=xn),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},di.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Tt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xn),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},di.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Tt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xn),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},di.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},di.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},Dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===O(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th";return t+n}}),l.lang=N("moment.lang is deprecated. Use moment.locale instead.",Dt),l.langData=N("moment.langData is deprecated. Use moment.localeData instead.",Rt);var fi=r,pi=Be("ms"),vi=Be("s"),gi=Be("m"),mi=Be("h"),yi=Be("d"),_i=Be("w"),bi=Be("M"),wi=Be("Q"),ki=Be("y"),xi=Ue("milliseconds"),Ei=Ue("seconds"),Si=Ue("minutes"),Ti=Ue("hours"),Oi=Ue("days"),Ci=Ue("months"),Ii=Ue("years"),Ni=e,Mi={ss:44,s:45,m:45,h:22,d:26,M:11},Ai=r,Di=ae.prototype;return Di.isValid=function(){return this._isValid},Di.abs=function(){var t=this._data;return this._milliseconds=fi(this._milliseconds),this._days=fi(this._days),this._months=fi(this._months),t.milliseconds=fi(t.milliseconds),t.seconds=fi(t.seconds),t.minutes=fi(t.minutes),t.hours=fi(t.hours),t.months=fi(t.months),t.years=fi(t.years),this},Di.add=function(t,e){return Le(this,t,e,1)},Di.subtract=function(t,e){return Le(this,t,e,-1)},Di.as=function(t){if(!this.isValid())return NaN;var n,i,r=this._milliseconds;if(t=z(t),"month"===t||"quarter"===t||"year"===t)switch(n=this._days+r/864e5,i=this._months+je(n),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(n=this._days+e(ze(this._months)),t){case"week":return n/7+r/6048e5;case"day":return n+r/864e5;case"hour":return 24*n+r/36e5;case"minute":return 1440*n+r/6e4;case"second":return 86400*n+r/1e3;case"millisecond":return s(864e5*n)+r;default:throw new Error("Unknown unit "+t)}},Di.asMilliseconds=pi,Di.asSeconds=vi,Di.asMinutes=gi,Di.asHours=mi,Di.asDays=yi,Di.asWeeks=_i,Di.asMonths=bi,Di.asQuarters=wi,Di.asYears=ki,Di.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*O(this._months/12):NaN},Di._bubble=function(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return 0<=o&&0<=s&&0<=a||0>=o&&0>=s&&0>=a||(o+=864e5*Fe(ze(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=T(o/1e3),l.seconds=t%60,e=T(t/60),l.minutes=e%60,n=T(e/60),l.hours=n%24,s+=T(n/24),r=T(je(s)),a+=r,s-=Fe(ze(r)),i=T(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},Di.clone=function(){return ge(this)},Di.get=function(t){return t=z(t),this.isValid()?this[t+"s"]():NaN},Di.milliseconds=xi,Di.seconds=Ei,Di.minutes=Si,Di.hours=Ti,Di.days=Oi,Di.weeks=function(){return T(this.days()/7)},Di.months=Ci,Di.years=Ii,Di.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=We(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Di.toISOString=Ge,Di.toString=Ge,Di.toJSON=Ge,Di.locale=xe,Di.localeData=Ee,Di.toIsoString=N("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ge),Di.lang=oi,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),K("x",_n),K("X",kn),J("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),J("x",(function(t,e,n){n._d=new Date(O(t))})),l.version="2.24.0",function(t){$e=t}(re),l.fn=hi,l.min=function(){var t=[].slice.call(arguments,0);return oe("isBefore",t)},l.max=function(){var t=[].slice.call(arguments,0);return oe("isAfter",t)},l.now=function(){return Date.now?Date.now():+new Date},l.utc=y,l.unix=function(t){return re(1e3*t)},l.months=function(t,e){return Pe(t,e,"months")},l.isDate=p,l.locale=Dt,l.invalid=k,l.duration=ge,l.isMoment=S,l.weekdays=function(t,e,n){return Re(t,e,n,"weekdays")},l.parseZone=function(){return re.apply(null,arguments).parseZone()},l.localeData=Rt,l.isDuration=le,l.monthsShort=function(t,e){return Pe(t,e,"monthsShort")},l.weekdaysMin=function(t,e,n){return Re(t,e,n,"weekdaysMin")},l.defineLocale=Pt,l.updateLocale=function(t,e){if(null!=e){var n,i,r=Bn;i=At(t),null!=i&&(r=i._config),e=P(r,e),n=new R(e),n.parentLocale=Un[t],Un[t]=n,Dt(t)}else null!=Un[t]&&(null==Un[t].parentLocale?null!=Un[t]&&delete Un[t]:Un[t]=Un[t].parentLocale);return Un[t]},l.locales=Lt,l.weekdaysShort=function(t,e,n){return Re(t,e,n,"weekdaysShort")},l.normalizeUnits=z,l.relativeTimeRounding=Ye,l.relativeTimeThreshold=function(t,e){return void 0!==Mi[t]&&(void 0===e?Mi[t]:(Mi[t]=e,"s"===t&&(Mi.ss=e-1),!0))},l.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"},l.prototype=hi,l.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},l}))})),go=[],mo=0;256>mo;mo++)go[mo]=(mo+256).toString(16).substr(1);for(var yo=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=Array(16);return function(){for(var t,n=0;16>n;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=255&t>>>((3&n)<<3);return e}}(),_o=[],bo=0;256>bo;bo++)_o[bo]=(bo+256).toString(16).substr(1);var wo=yo(),ko=(wo[0],wo[1],wo[2],wo[3],wo[4],wo[5],wo[6],wo[7],/^\/?Date\((-?\d+)/i);function xo(t){return t instanceof Number||"number"==typeof t}function Eo(t){return t instanceof String||"string"==typeof t}function So(t){return vo.isMoment(t)}function To(t,e){var n;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!t;case"number":case"Number":return Eo(t)&&!isNaN(Date.parse(t))?vo(t).valueOf():+t.valueOf();case"string":case"String":return t+"";case"Date":if(xo(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(So(t))return new Date(t.valueOf());if(Eo(t))return n=ko.exec(t),n?new Date(+n[1]):vo(new Date(t)).toDate();throw new Error("Cannot convert object of type "+Oo(t)+" to type Date");case"Moment":if(xo(t))return vo(t);if(t instanceof Date)return vo(t.valueOf());if(So(t))return vo(t);if(Eo(t))return n=ko.exec(t),vo(n?+n[1]:t);throw new Error("Cannot convert object of type "+Oo(t)+" to type Date");case"ISODate":if(xo(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(So(t))return t.toDate().toISOString();if(Eo(t))return n=ko.exec(t),n?new Date(+n[1]).toISOString():vo(t).format();throw new Error("Cannot convert object of type "+Oo(t)+" to type ISODate");case"ASPDate":if(xo(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";var i;if(Eo(t))return n=ko.exec(t),i=n?new Date(+n[1]).valueOf():new Date(t).valueOf(),"/Date("+i+")/";throw new Error("Cannot convert object of type "+Oo(t)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function Oo(t){var e=ho(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function Co(t){return"string"==typeof t||"number"==typeof t}var Io=function(){function t(e){Vr(this,t),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(e)}return qr(t,[{key:"setOptions",value:function(t){t&&"undefined"!=typeof t.delay&&(this.delay=t.delay),t&&"undefined"!=typeof t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t,e=this._extended.object,n=this._extended.methods,i=0;i<n.length;i++)t=n[i],t.original?e[t.name]=t.original:delete e[t.name];this._extended=null}}},{key:"replace",value:function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n.queue({args:e,fn:i,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),0<this.queue.length&&"number"==typeof this.delay&&(this._timeout=setTimeout((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){this._queue.splice(0).forEach((function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,n){var i=new t(n);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o,s=0;s<n.replace.length;s++)o=n.replace[s],r.push({name:o,original:e[o]}),i.replace(e,o);return i._extended={object:e,methods:r},i}}]),t}();function No(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var Mo=No;function Ao(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}var Do=Ao;function Po(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var Ro=Po;function Lo(t){return Mo(t)||Do(t)||Ro()}var Fo=Lo,jo=function(){function t(){Vr(this,t),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=t.prototype.on,this.unsubscribe=t.prototype.off}return qr(t,[{key:"_trigger",value:function(t,e,n){if("*"===t)throw new Error("Cannot trigger event *");for(var i,r=[].concat(Fo(this._subscribers[t]),Fo(this._subscribers["*"])),o=0,s=r.length;o<s;o++)i=r[o],i.callback&&i.callback(t,e,null==n?null:n)}},{key:"on",value:function(t,e){this._subscribers[t].push({callback:e})}},{key:"off",value:function(t,e){this._subscribers[t]=this._subscribers[t].filter((function(t){return t.callback!==e}))}}]),t}();function zo(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function Bo(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?zo(e,!0).forEach((function(n){Ur(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):zo(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var Uo=function(t){function e(t,n){var i;if(Vr(this,e),i=Qr(this,Jr(e).call(this)),t&&!Array.isArray(t)&&(n=t,t=[]),i._options=n||{},i._data=Object.create({}),i.length=0,i._idProp=i._options.fieldId||"id",i._type={},i._options.type)for(var r=Object.keys(i._options.type),o=0,s=r.length;o<s;o++){var a=r[o],l=i._options.type[a];i._type[a]="Date"==l||"ISODate"==l||"ASPDate"==l?"Date":l}return t&&t.length&&i.add(t),i.setOptions(n),i}return no(e,t),qr(e,[{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(!this._queue&&(this._queue=Io.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===Wr(t.queue)&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var n,i=[];if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)n=this._addItem(t[r]),i.push(n);else{if(!t||"object"!==Wr(t))throw new Error("Unknown dataType");n=this._addItem(t),i.push(n)}return i.length&&this._trigger("add",{items:i},e),i}},{key:"update",value:function(t,e){var n=this,i=[],r=[],o=[],s=[],a=this._idProp,l=function(t){var e=t[a];if(null!=e&&n._data[e]){var l=t,u=Object.assign({},n._data[e]),c=n._updateItem(l);r.push(c),s.push(l),o.push(u)}else{var h=n._addItem(t);i.push(h)}};if(Array.isArray(t))for(var u=0,c=t.length;u<c;u++)t[u]&&"object"===Wr(t[u])?l(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==Wr(t))throw new Error("Unknown dataType");l(t)}return i.length&&this._trigger("add",{items:i},e),r.length&&this._trigger("update",{items:r,oldData:o,data:s},e),i.concat(r)}},{key:"get",value:function(t,e){var n=void 0,i=void 0,r=void 0;Co(t)?(n=t,r=e):Array.isArray(t)?(i=t,r=e):r=t;var o=r&&"Object"===r.returnType?"Object":"Array",s=r&&r.type||this._options.type,a=r&&r.filter,l=[],u=null,c=null,h=null;if(null!=n)u=this._getItem(n,s),u&&a&&!a(u)&&(u=null);else if(null!=i)for(var d=0,f=i.length;d<f;d++)u=this._getItem(i[d],s),null!=u&&(!a||a(u))&&l.push(u);else{c=Object.keys(this._data);for(var p=0,v=c.length;p<v;p++)h=c[p],u=this._getItem(h,s),null!=u&&(!a||a(u))&&l.push(u)}if(r&&r.order&&null==n&&this._sort(l,r.order),r&&r.fields){var g=r.fields;if(null!=n&&null!=u)u=this._filterFields(u,g);else for(var m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],g)}if("Object"==o){for(var _={},b=0,w=l.length;b<w;b++){var k=l[b],x=k[this._idProp];_[x]=k}return _}return null==n?l:u}},{key:"getIds",value:function(t){var e,n,i=this._data,r=t&&t.filter,o=t&&t.order,s=t&&t.type||this._options.type,a=Object.keys(i),l=[];if(r)if(o){n=[];for(var u,c=0,h=a.length;c<h;c++)u=a[c],e=this._getItem(u,s),r(e)&&n.push(e);this._sort(n,o);for(var d=0,f=n.length;d<f;d++)l.push(n[d][this._idProp])}else for(var p,v=0,g=a.length;v<g;v++)p=a[v],e=this._getItem(p,s),r(e)&&l.push(e[this._idProp]);else if(o){n=[];for(var m,y=0,_=a.length;y<_;y++)m=a[y],n.push(i[m]);this._sort(n,o);for(var b=0,w=n.length;b<w;b++)l.push(n[b][this._idProp])}else for(var k,x=0,E=a.length;x<E;x++)k=a[x],e=i[k],l.push(e[this._idProp]);return l}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var n=e&&e.filter,i=e&&e.type||this._options.type,r=this._data,o=Object.keys(r);if(e&&e.order)for(var s=this.get(e),a=0,l=s.length;a<l;a++){var u=s[a],c=u[this._idProp];t(u,c)}else for(var h=0,d=o.length;h<d;h++){var f=o[h],p=this._getItem(f,i);(!n||n(p))&&t(p,f)}}},{key:"map",value:function(t,e){for(var n=e&&e.filter,i=e&&e.type||this._options.type,r=[],o=this._data,s=Object.keys(o),a=0,l=s.length;a<l;a++){var u=s[a],c=this._getItem(u,i);(!n||n(c))&&r.push(t(c,u))}return e&&e.order&&this._sort(r,e.order),r}},{key:"_filterFields",value:function(t,e){return t?(Array.isArray(e)?e:Object.keys(e)).reduce((function(e,n){return e[n]=t[n],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var n=e;t.sort((function(t,e){var i=t[n],r=e[n];return i>r?1:i<r?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}}},{key:"remove",value:function(t,e){for(var n,i=[],r=[],o=Array.isArray(t)?t:[t],s=0,a=o.length;s<a;s++)if(n=this._remove(o[s]),n){var l=n[this._idProp];null!=l&&(i.push(l),r.push(n))}return i.length&&this._trigger("remove",{items:i,oldData:r},e),i}},{key:"_remove",value:function(t){var e;if(Co(t)?e=t:t&&"object"===Wr(t)&&(e=t[this._idProp]),null!=e&&this._data[e]){var n=this._data[e];return delete this._data[e],--this.length,n}return null}},{key:"clear",value:function(t){for(var e=Object.keys(this._data),n=[],i=0,r=e.length;i<r;i++)n.push(this._data[e[i]]);return this._data={},this.length=0,this._trigger("remove",{items:e,oldData:n},t),e}},{key:"max",value:function(t){for(var e=this._data,n=Object.keys(e),i=null,r=null,o=0,s=n.length;o<s;o++){var a=n[o],l=e[a],u=l[t];null!=u&&(null==r||u>r)&&(i=l,r=u)}return i}},{key:"min",value:function(t){for(var e=this._data,n=Object.keys(e),i=null,r=null,o=0,s=n.length;o<s;o++){var a=n[o],l=e[a],u=l[t];null!=u&&(null==r||u<r)&&(i=l,r=u)}return i}},{key:"distinct",value:function(t){for(var e=this._data,n=Object.keys(e),i=[],r=this._options.type&&this._options.type[t]||null,o=0,s=0,a=n.length;s<a;s++){for(var l=n[s],u=e[l],c=u[t],h=!1,d=0;d<o;d++)if(i[d]==c){h=!0;break}h||void 0===c||(i[o]=c,o++)}if(r)for(var f=0,p=i.length;f<p;f++)i[f]=To(i[f],r);return i}},{key:"_addItem",value:function(t){var e=t[this._idProp];if(null==e)e=co(),t[this._idProp]=e;else if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists");for(var n={},i=Object.keys(t),r=0,o=i.length;r<o;r++){var s=i[r],a=this._type[s];n[s]=To(t[s],a)}return this._data[e]=n,this.length++,e}},{key:"_getItem",value:function(t,e){var n=this._data[t];if(!n)return null;var i,r=Object.keys(n);if(e){i={};for(var o=0,s=r.length;o<s;o++){var a=r[o],l=n[a];i[a]=To(l,e[a])}}else i=Bo({},n);return null==i[this._idProp]&&(i[this._idProp]=n.id),i}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var n=this._data[e];if(!n)throw new Error("Cannot update item: no item with id "+e+" found");for(var i=Object.keys(t),r=0,o=i.length;r<o;r++){var s=i[r],a=this._type[s];n[s]=To(t[s],a)}return e}}]),e}(jo),Ho=function(t){function e(t,n){var i;return Vr(this,e),i=Qr(this,Jr(e).call(this)),i.length=0,i._ids={},i._options=n||{},i.listener=i._onEvent.bind(Zr(i)),i.setData(t),i}return no(e,t),qr(e,[{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this.listener);var e=this._data.getIds({filter:this._options.filter}),n=this._data.get(e);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:n})}if(null!=t){this._data=t;for(var i,r=this._data.getIds({filter:this._options.filter}),o=0,s=r.length;o<s;o++)i=r[o],this._ids[i]=!0;this.length=r.length,this._trigger("add",{items:r})}else this._data=new Uo;this._data.on&&this._data.on("*",this.listener)}},{key:"refresh",value:function(){for(var t,e=this._data.getIds({filter:this._options.filter}),n=Object.keys(this._ids),i={},r=[],o=[],s=[],a=0,l=e.length;a<l;a++)t=e[a],i[t]=!0,this._ids[t]||(r.push(t),this._ids[t]=!0);for(var u=0,c=n.length;u<c;u++){var h=n[u],d=this._data.get(h);null==d?console.error("If you see this, report it please."):!i[h]&&(o.push(h),s.push(d),delete this._ids[h])}this.length+=r.length-o.length,r.length&&this._trigger("add",{items:r}),o.length&&this._trigger("remove",{items:o,oldData:s})}},{key:"get",value:function(t,e){if(null==this._data)return null;var n,i=null;Co(t)||Array.isArray(t)?(i=t,n=e):n=t;var r=Object.assign({},this._options,n),o=this._options.filter,s=n&&n.filter;return o&&s&&(r.filter=function(t){return o(t)&&s(t)}),null==i?this._data.get(r):this._data.get(i,r)}},{key:"getIds",value:function(t){if(this._data.length){var e,n=this._options.filter,i=null==t?null:t.filter;return e=i?n?function(t){return n(t)&&i(t)}:i:n,this._data.getIds({filter:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var n,i=this._options.filter,r=e&&e.filter;n=r?i?function(t){return i(t)&&r(t)}:r:i,this._data.forEach(t,{filter:n,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var n,i=this._options.filter,r=e&&e.filter;return n=r?i?function(t){return i(t)&&r(t)}:r:i,this._data.map(t,{filter:n,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"_onEvent",value:function(t,e,n){if(e&&e.items&&this._data){var i=e.items,r=[],o=[],s=[],a=[],l=[],u=[];switch(t){case"add":for(var c=0,h=i.length;c<h;c++){var d=i[c],f=this.get(d);f&&(this._ids[d]=!0,r.push(d))}break;case"update":for(var p=0,v=i.length;p<v;p++){var g=i[p],m=this.get(g);m?this._ids[g]?(o.push(g),l.push(e.data[p]),a.push(e.oldData[p])):(this._ids[g]=!0,r.push(g)):this._ids[g]&&(delete this._ids[g],s.push(g),u.push(e.oldData[p]))}break;case"remove":for(var y,_=0,b=i.length;_<b;_++)y=i[_],this._ids[y]&&(delete this._ids[y],s.push(y),u.push(e.oldData[_]))}this.length+=r.length-s.length,r.length&&this._trigger("add",{items:r},n),o.length&&this._trigger("update",{items:o,oldData:a,data:l},n),s.length&&this._trigger("remove",{items:s,oldData:u},n)}}}]),e}(jo),Wo={DataSet:Uo,DataView:Ho,Queue:Io},Yo=Object.freeze({default:Wo,DataSet:Uo,DataView:Ho,Queue:Io});"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,n){this.beginPath(),this.arc(t,e,n,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,n){this.beginPath(),this.rect(t-n,e-n,2*n,2*n),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,n){var i=Math.sqrt;this.beginPath(),n*=1.15,e+=.275*n;var r=2*n,o=r/2,s=i(3)/6*r,a=i(r*r-o*o);this.moveTo(t,e-(a-s)),this.lineTo(t+o,e+s),this.lineTo(t-o,e+s),this.lineTo(t,e-(a-s)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,n){var i=Math.sqrt;this.beginPath(),n*=1.15,e-=.275*n;var r=2*n,o=r/2,s=i(3)/6*r,a=i(r*r-o*o);this.moveTo(t,e+(a-s)),this.lineTo(t+o,e-s),this.lineTo(t-o,e-s),this.lineTo(t,e+(a-s)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,n){var i=Math.cos,r=Math.sin,o=Math.PI;this.beginPath(),n*=.82,e+=.1*n;for(var s,a=0;10>a;a++)s=0==a%2?1.3*n:.5*n,this.lineTo(t+s*r(2*a*o/10),e-s*i(2*a*o/10));this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,n){this.beginPath(),this.lineTo(t,e+n),this.lineTo(t+n,e),this.lineTo(t,e-n),this.lineTo(t-n,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,i,r){var o=Math.PI/180;0>n-2*r&&(r=n/2),0>i-2*r&&(r=i/2),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+n-r,e),this.arc(t+n-r,e+r,r,270*o,360*o,!1),this.lineTo(t+n,e+i-r),this.arc(t+n-r,e+i-r,r,0,90*o,!1),this.lineTo(t+r,e+i),this.arc(t+r,e+i-r,r,90*o,180*o,!1),this.lineTo(t,e+r),this.arc(t+r,e+r,r,180*o,270*o,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,n,i){var r=.5522848,o=n/2*r,s=i/2*r,a=t+n,l=e+i,u=t+n/2,c=e+i/2;this.beginPath(),this.moveTo(t,c),this.bezierCurveTo(t,c-s,u-o,e,u,e),this.bezierCurveTo(u+o,e,a,c-s,a,c),this.bezierCurveTo(a,c+s,u+o,l,u,l),this.bezierCurveTo(u-o,l,t,c+s,t,c),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,n,i){var r=n,o=i*(1/3),s=.5522848,a=r/2*s,l=o/2*s,u=t+r,c=e+o,h=t+r/2,d=e+o/2,f=e+(i-o/2),p=e+i;this.beginPath(),this.moveTo(u,d),this.bezierCurveTo(u,d+l,h+a,c,h,c),this.bezierCurveTo(h-a,c,t,d+l,t,d),this.bezierCurveTo(t,d-l,h-a,e,h,e),this.bezierCurveTo(h+a,e,u,d-l,u,d),this.lineTo(u,f),this.bezierCurveTo(u,f+l,h+a,p,h,p),this.bezierCurveTo(h-a,p,t,f+l,t,f),this.lineTo(t,d)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,n,i,r){var o=Math.sqrt;this.beginPath(),this.moveTo(t,e);for(var s=r.length,a=n-t,l=i-e,u=l/a,c=o(a*a+l*l),h=0,d=!0,f=0,p=+r[0];.1<=c;)p=+r[h++%s],p>c&&(p=c),f=o(p*p/(1+u*u)),f=0>a?-f:f,t+=f,e+=u*f,!0===d?this.lineTo(t,e):this.moveTo(t,e),c-=p,d=!d},CanvasRenderingContext2D.prototype.hexagon=function(t,e,n){this.beginPath();var i=2*Math.PI/6;this.moveTo(t+n,e);for(var r=1;r<6;r++)this.lineTo(t+n*Math.cos(i*r),e+n*Math.sin(i*r));this.closePath()});"undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof n.g?"undefined"==typeof self||self:n.g:window:globalThis;function Vo(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function Go(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}function $o(t,e){return e={exports:{}},t(e,e.exports),e.exports}function qo(t){return t&&t["default"]||t}var Ko=$o((function(t){function e(t){if(t)return n(t)}function n(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===e||i.fn===e){n.splice(r,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);i=0;for(var r=n.length;i<r;++i)n[i].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}));function Zo(t){return es=t,ms()}var Xo={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Qo=Object.create(Xo);Qo.color="color.color",Qo.style="dashes";var Jo={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},ts={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},es="",ns=0,is="",rs="",os=Jo.NULL;function ss(){ns=0,is=es.charAt(0)}function as(){ns++,is=es.charAt(ns)}function ls(){return es.charAt(ns+1)}var us=/[a-zA-Z_0-9.:#]/;function cs(t){return us.test(t)}function hs(t,e){if(t||(t={}),e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ds(t,e,n){for(var i=e.split("."),r=t;i.length;){var o=i.shift();i.length?(!r[o]&&(r[o]={}),r=r[o]):r[o]=n}}function fs(t,e){for(var n,i,r=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(n=0,i=s.nodes.length;n<i;n++)if(e.id===s.nodes[n].id){r=s.nodes[n];break}for(r||(r={id:e.id},t.node&&(r.attr=hs(r.attr,t.node))),n=o.length-1;0<=n;n--){var a=o[n];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(r)&&a.nodes.push(r)}e.attr&&(r.attr=hs(r.attr,e.attr))}function ps(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var n=hs({},t.edge);e.attr=hs(n,e.attr)}}function vs(t,e,n,i,r){var o={from:e,to:n,type:i};return t.edge&&(o.attr=hs({},t.edge)),o.attr=hs(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function gs(){for(os=Jo.NULL,rs="";" "===is||"\t"===is||"\n"===is||"\r"===is;)as();do{var t=!1;if("#"===is){for(var e=ns-1;" "===es.charAt(e)||"\t"===es.charAt(e);)e--;if("\n"===es.charAt(e)||""===es.charAt(e)){for(;""!=is&&"\n"!=is;)as();t=!0}}if("/"===is&&"/"===ls()){for(;""!=is&&"\n"!=is;)as();t=!0}if("/"===is&&"*"===ls()){for(;""!=is;){if("*"===is&&"/"===ls()){as(),as();break}as()}t=!0}for(;" "===is||"\t"===is||"\n"===is||"\r"===is;)as()}while(t);if(""!==is){var n=is+ls();if(ts[n])return os=Jo.DELIMITER,rs=n,as(),void as();if(ts[is])return os=Jo.DELIMITER,rs=is,void as();if(cs(is)||"-"===is){for(rs+=is,as();cs(is);)rs+=is,as();return"false"===rs?rs=!1:"true"===rs?rs=!0:!isNaN(+rs)&&(rs=+rs),void(os=Jo.IDENTIFIER)}if('"'===is){for(as();""!=is&&('"'!=is||'"'===is&&'"'===ls());)'"'===is?(rs+=is,as()):"\\"===is&&"n"===ls()?(rs+="\n",as()):rs+=is,as();if('"'!=is)throw Ss('End of string " expected');return as(),void(os=Jo.IDENTIFIER)}for(os=Jo.UNKNOWN;""!=is;)rs+=is,as();throw new SyntaxError('Syntax error in part "'+Ts(rs,30)+'"')}os=Jo.DELIMITER}function ms(){var t={};if(ss(),gs(),"strict"===rs&&(t.strict=!0,gs()),("graph"===rs||"digraph"===rs)&&(t.type=rs,gs()),os===Jo.IDENTIFIER&&(t.id=rs,gs()),"{"!=rs)throw Ss("Angle bracket { expected");if(gs(),ys(t),"}"!=rs)throw Ss("Angle bracket } expected");if(gs(),""!==rs)throw Ss("End of file expected");return gs(),delete t.node,delete t.edge,delete t.graph,t}function ys(t){for(;""!==rs&&"}"!=rs;)_s(t),";"===rs&&gs()}function _s(t){var e=bs(t);if(e)xs(t,e);else{var n=ws(t);if(!n){if(os!=Jo.IDENTIFIER)throw Ss("Identifier expected");var i=rs;if(gs(),"="===rs){if(gs(),os!=Jo.IDENTIFIER)throw Ss("Identifier expected");t[i]=rs,gs()}else ks(t,i)}}}function bs(t){var e=null;if("subgraph"===rs&&(e={},e.type="subgraph",gs(),os===Jo.IDENTIFIER&&(e.id=rs,gs())),"{"===rs){if(gs(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,ys(e),"}"!=rs)throw Ss("Angle bracket } expected");gs(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function ws(t){return"node"===rs?(gs(),t.node=Es(),"node"):"edge"===rs?(gs(),t.edge=Es(),"edge"):"graph"===rs?(gs(),t.graph=Es(),"graph"):null}function ks(t,e){var n={id:e},i=Es();i&&(n.attr=i),fs(t,n),xs(t,e)}function xs(t,e){for(;"->"===rs||"--"===rs;){var n,i=rs;gs();var r=bs(t);if(r)n=r;else{if(os!=Jo.IDENTIFIER)throw Ss("Identifier or subgraph expected");n=rs,fs(t,{id:n}),gs()}var o=Es(),s=vs(t,e,n,i,o);ps(t,s),e=n}}function Es(){for(var t,e=null,n={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},r=[],o=[];"["===rs;){for(gs(),e={};""!==rs&&"]"!=rs;){if(os!=Jo.IDENTIFIER)throw Ss("Attribute name expected");var s=rs;if(gs(),"="!=rs)throw Ss("Equal sign = expected");if(gs(),os!=Jo.IDENTIFIER)throw Ss("Attribute value expected");var a,l=rs;"style"===s&&(l=n[l]),"arrowhead"===s&&(a=i[l],s="arrows",l={to:{enabled:!0,type:a}}),"arrowtail"===s&&(a=i[l],s="arrows",l={from:{enabled:!0,type:a}}),r.push({attr:e,name:s,value:l}),o.push(s),gs(),","==rs&&gs()}if("]"!=rs)throw Ss("Bracket ] expected");gs()}if(o.includes("dir")){var u={arrows:{}};for(t=0;t<r.length;t++)if("arrows"!==r[t].name)"dir"===r[t].name&&(u.dir=t);else if(null!=r[t].value.to)u.arrows.to=t;else{if(null==r[t].value.from)throw Ss("Invalid value of arrows");u.arrows.from=t}var c,h,d=r[u.dir].value;if(!o.includes("arrows"))if("both"===d)r.push({attr:r[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=r.length-1,r.push({attr:r[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=r.length-1;else if("forward"===d)r.push({attr:r[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=r.length-1;else if("back"===d)r.push({attr:r[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=r.length-1;else{if("none"!==d)throw Ss('Invalid dir type "'+d+'"');r.push({attr:r[u.dir].attr,name:"arrows",value:""}),u.arrows.to=r.length-1}if("both"===d)u.arrows.to&&u.arrows.from?(h=r[u.arrows.to].value.to.type,c=r[u.arrows.from].value.from.type,r[u.arrows.to]={attr:r[u.arrows.to].attr,name:r[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},r.splice(u.arrows.from,1)):u.arrows.to?(h=r[u.arrows.to].value.to.type,c="arrow",r[u.arrows.to]={attr:r[u.arrows.to].attr,name:r[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c=r[u.arrows.from].value.from.type,r[u.arrows.from]={attr:r[u.arrows.from].attr,name:r[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if("back"===d)u.arrows.to&&u.arrows.from?(h="",c=r[u.arrows.from].value.from.type,r[u.arrows.from]={attr:r[u.arrows.from].attr,name:r[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.to?(h="",c="arrow",u.arrows.from=u.arrows.to,r[u.arrows.from]={attr:r[u.arrows.from].attr,name:r[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="",c=r[u.arrows.from].value.from.type,r[u.arrows.to]={attr:r[u.arrows.from].attr,name:r[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),r[u.arrows.from]={attr:r[u.arrows.from].attr,name:r[u.arrows.from].name,value:{from:{enabled:!0,type:r[u.arrows.from].value.from.type}}};else if("none"===d){var f;f=u.arrows.to?u.arrows.to:u.arrows.from,r[f]={attr:r[f].attr,name:r[f].name,value:""}}else{if("forward"!==d)throw Ss('Invalid dir type "'+d+'"');u.arrows.to&&u.arrows.from||u.arrows.to?(h=r[u.arrows.to].value.to.type,c="",r[u.arrows.to]={attr:r[u.arrows.to].attr,name:r[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c="",u.arrows.to=u.arrows.from,r[u.arrows.to]={attr:r[u.arrows.to].attr,name:r[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),r[u.arrows.to]={attr:r[u.arrows.to].attr,name:r[u.arrows.to].name,value:{to:{enabled:!0,type:r[u.arrows.to].value.to.type}}}}r.splice(u.dir,1)}var p;if(o.includes("penwidth")){var v=[];for(p=r.length,t=0;t<p;t++)"width"!==r[t].name&&("penwidth"===r[t].name&&(r[t].name="width"),v.push(r[t]));r=v}for(p=r.length,t=0;t<p;t++)ds(r[t].attr,r[t].name,r[t].value);return e}function Ss(t){return new SyntaxError(t+', got "'+Ts(rs,30)+'" (char '+ns+")")}function Ts(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Os(t,e,n){Array.isArray(t)?t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n(t,e)})):n(t,e)})):Array.isArray(e)?e.forEach((function(e){n(t,e)})):n(t,e)}function Cs(t,e,n){for(var i,r=e.split("."),o=r.pop(),s=t,a=0;a<r.length;a++)i=r[a],i in s||(s[i]={}),s=s[i];return s[o]=n,t}function Is(t,e){var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=e[i];Array.isArray(r)?r.forEach((function(e){Cs(n,e,t[i])})):Cs(n,"string"==typeof r?r:i,t[i])}return n}function Ns(t){var e=Zo(t),n={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach((function(t){var e={id:t.id,label:(t.label||t.id)+""};hs(e,Is(t.attr,Xo)),e.image&&(e.shape="image"),n.nodes.push(e)})),e.edges){var i=function(t){var e={from:t.from,to:t.to};return hs(e,Is(t.attr,Qo)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};e.edges.forEach((function(t){var e,r;e=t.from instanceof Object?t.from.nodes:{id:t.from},r=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach((function(t){var e=i(t);n.edges.push(e)})),Os(e,r,(function(e,r){var o=vs(n,e.id,r.id,t.type,t.attr),s=i(o);n.edges.push(s)})),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach((function(t){var e=i(t);n.edges.push(e)}))}))}return e.attr&&(n.options=e.attr),n}var Ms=Zo,As=Ns,Ds={parseDOT:Ms,DOTToGraph:As},Ps=Object.freeze({default:Ds,__moduleExports:Ds,parseDOT:Ms,DOTToGraph:As});function Rs(t,e){var n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(n.nodes.fixed=e.fixed),null!=e.parseColor&&(n.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(n.edges.inheritColor=e.inheritColor));var i=t.edges,r=i.map((function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===n.edges.inheritColor&&(e.color=t.color),e})),o=t.nodes.map((function(t){var e={id:t.id,fixed:n.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===n.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e}));return{nodes:o,edges:r}}var Ls=Object.freeze({parseGephi:Rs}),Fs=Object.freeze({}),js=$o((function(t){(function(e,n){t.exports=n()})(0,(function(){function t(t){var e,n=String.fromCharCode,i=t&&t.preventDefault||!1,r=t&&t.container||window,o={},s={keydown:{},keyup:{}},a={};for(e=97;122>=e;e++)a[n(e)]={code:e-97+65,shift:!1};for(e=65;90>=e;e++)a[n(e)]={code:e,shift:!0};for(e=0;9>=e;e++)a[""+e]={code:48+e,shift:!1};for(e=1;12>=e;e++)a["F"+e]={code:111+e,shift:!1};for(e=0;9>=e;e++)a["num"+e]={code:96+e,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a["delete"]={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var l=function(t){c(t,"keydown")},u=function(t){c(t,"keyup")},c=function(t,e){if(void 0!==s[e][t.keyCode]){for(var n=s[e][t.keyCode],r=0;r<n.length;r++)(void 0===n[r].shift||1==n[r].shift&&1==t.shiftKey||0==n[r].shift&&0==t.shiftKey)&&n[r].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===s[n][a[t].code]&&(s[n][a[t].code]=[]),s[n][a[t].code].push({fn:e,shift:a[t].shift})},o.bindAll=function(t,e){for(var n in void 0===e&&(e="keydown"),a)a.hasOwnProperty(n)&&o.bind(n,t,e)},o.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var i=[],r=s[n][a[t].code];if(void 0!==r)for(var o=0;o<r.length;o++)(r[o].fn!=e||r[o].shift!=a[t].shift)&&i.push(s[n][a[t].code][o]);s[n][a[t].code]=i}else s[n][a[t].code]=[]},o.reset=function(){s={keydown:{},keyup:{}}},o.destroy=function(){s={keydown:{},keyup:{}},r.removeEventListener("keydown",l,!0),r.removeEventListener("keyup",u,!0)},r.addEventListener("keydown",l,!0),r.addEventListener("keyup",u,!0),o}return t}))})),zs=Object.freeze({default:js,__moduleExports:js});function Bs(){return Bs=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Bs.apply(this,arguments)}function Us(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Hs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ws="function"==typeof Object.assign?Object.assign:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e,n=Object(t),i=1;i<arguments.length;i++)if(e=arguments[i],void 0!==e&&null!==e)for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},Ys=Ws,Vs=["","webkit","Moz","MS","ms","o"],Gs="undefined"==typeof document?{style:{}}:document.createElement("div"),$s="function",qs=Math.round,Ks=Math.abs,Zs=Date.now;function Xs(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<Vs.length;){if(n=Vs[o],i=n?n+r:e,i in t)return i;o++}}var Qs="undefined"==typeof window?{}:window,Js=Xs(Gs.style,"touchAction"),ta=void 0!==Js;function ea(){if(!ta)return!1;var t={},e=Qs.CSS&&Qs.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||Qs.CSS.supports("touch-action",n)})),t}var na="compute",ia="auto",ra="manipulation",oa="none",sa="pan-x",aa="pan-y",la=ea(),ua=/mobile|tablet|ip(ad|hone|od)|android/i,ca="ontouchstart"in Qs,ha=void 0!==Xs(Qs,"PointerEvent"),da=ca&&ua.test(navigator.userAgent),fa="touch",pa="pen",va="mouse",ga="kinect",ma=25,ya=1,_a=2,ba=4,wa=8,ka=1,xa=2,Ea=4,Sa=8,Ta=16,Oa=xa|Ea,Ca=Sa|Ta,Ia=Oa|Ca,Na=["x","y"],Ma=["clientX","clientY"];function Aa(t,e,n){if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function Da(t,e){return typeof t===$s?t.apply(e&&e[0]||void 0,e):t}function Pa(t,e){return-1<t.indexOf(e)}function Ra(t){if(Pa(t,oa))return oa;var e=Pa(t,sa),n=Pa(t,aa);return e&&n?oa:e||n?e?sa:aa:Pa(t,ra)?ra:ia}var La=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===na&&(t=this.compute()),ta&&this.manager.element.style&&la[t]&&(this.manager.element.style[Js]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Aa(this.manager.recognizers,(function(e){Da(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),Ra(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,r=Pa(i,oa)&&!la[oa],o=Pa(i,aa)&&!la[aa],s=Pa(i,sa)&&!la[sa];if(r){var a=1===t.pointers.length,l=2>t.distance,u=250>t.deltaTime;if(a&&l&&u)return}return s&&o?void 0:r||o&&n&Oa||s&&n&Ca?this.preventSrc(e):void 0}e.preventDefault()},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Fa(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ja(t){var e=t.length;if(1===e)return{x:qs(t[0].clientX),y:qs(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:qs(n/e),y:qs(i/e)}}function za(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:qs(t.pointers[n].clientX),clientY:qs(t.pointers[n].clientY)},n++;return{timeStamp:Zs(),pointers:e,center:ja(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Ba(t,e,n){n||(n=Na);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function Ua(t,e,n){n||(n=Na);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function Ha(t,e){return t===e?ka:Ks(t)>=Ks(e)?0>t?xa:Ea:0>e?Sa:Ta}function Wa(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};(e.eventType===ya||o.eventType===ba)&&(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function Ya(t,e,n){return{x:e/t||0,y:n/t||0}}function Va(t,e){return Ba(e[0],e[1],Ma)/Ba(t[0],t[1],Ma)}function Ga(t,e){return Ua(e[1],e[0],Ma)+Ua(t[1],t[0],Ma)}function $a(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==wa&&(a>ma||void 0===s.velocity)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=Ya(a,l,u);i=c.x,r=c.y,n=Ks(c.x)>Ks(c.y)?c.x:c.y,o=Ha(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function qa(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=za(e)),1<r&&!n.firstMultiple?n.firstMultiple=za(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=ja(i);e.timeStamp=Zs(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Ua(a,l),e.distance=Ba(a,l),Wa(n,e),e.offsetDirection=Ha(e.deltaX,e.deltaY);var u=Ya(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Ks(u.x)>Ks(u.y)?u.x:u.y,e.scale=s?Va(s.pointers,i):1,e.rotation=s?Ga(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,$a(n,e);var c=t.element;Fa(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function Ka(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&ya&&0==i-r;n.isFirst=!!o,n.isFinal=!!(e&(ba|wa)&&0==i-r),o&&(t.session={}),n.eventType=e,qa(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Za(t){return t.trim().split(/\s+/g)}function Xa(t,e,n){Aa(Za(e),(function(e){t.addEventListener(e,n,!1)}))}function Qa(t,e,n){Aa(Za(e),(function(e){t.removeEventListener(e,n,!1)}))}function Ja(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var tl=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Da(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Xa(this.element,this.evEl,this.domHandler),this.evTarget&&Xa(this.target,this.evTarget,this.domHandler),this.evWin&&Xa(Ja(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Qa(this.element,this.evEl,this.domHandler),this.evTarget&&Qa(this.target,this.evTarget,this.domHandler),this.evWin&&Qa(Ja(this.element),this.evWin,this.domHandler)},t}();function el(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var nl={pointerdown:ya,pointermove:_a,pointerup:ba,pointercancel:wa,pointerout:wa},il={2:fa,3:pa,4:va,5:ga},rl="pointerdown",ol="pointermove pointerup pointercancel";Qs.MSPointerEvent&&!Qs.PointerEvent&&(rl="MSPointerDown",ol="MSPointerMove MSPointerUp MSPointerCancel");var sl=function(t){function e(){var n,i=e.prototype;return i.evEl=rl,i.evWin=ol,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}Us(e,t);var n=e.prototype;return n.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=nl[i],o=il[t.pointerType]||t.pointerType,s=el(e,t.pointerId,"pointerId");r&ya&&(0===t.button||o===fa)?0>s&&(e.push(t),s=e.length-1):r&(ba|wa)&&(n=!0),0>s||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))},e}(tl);function al(t){return Array.prototype.slice.call(t,0)}function ll(t,e,n){for(var i,r=[],o=[],s=0;s<t.length;)i=e?t[s][e]:t[s],0>el(o,i)&&r.push(t[s]),o[s]=i,s++;return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}var ul={touchstart:ya,touchmove:_a,touchend:ba,touchcancel:wa},cl="touchstart touchmove touchend touchcancel",hl=function(t){function e(){var n;return e.prototype.evTarget=cl,n=t.apply(this,arguments)||this,n.targetIds={},n}Us(e,t);var n=e.prototype;return n.handler=function(t){var e=ul[t.type],n=dl.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:fa,srcEvent:t})},e}(tl);function dl(t,e){var n=al(t.touches),i=this.targetIds;if(e&(ya|_a)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=al(t.changedTouches),a=[],l=this.target;if(o=n.filter((function(t){return Fa(t.target,l)})),e===ya)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(ba|wa)&&delete i[s[r].identifier],r++;return a.length?[ll(o.concat(a),"identifier",!0),a]:void 0}var fl={mousedown:ya,mousemove:_a,mouseup:ba},pl="mousedown",vl="mousemove mouseup",gl=function(t){function e(){var n,i=e.prototype;return i.evEl=pl,i.evWin=vl,n=t.apply(this,arguments)||this,n.pressed=!1,n}Us(e,t);var n=e.prototype;return n.handler=function(t){var e=fl[t.type];e&ya&&0===t.button&&(this.pressed=!0),e&_a&&1!==t.which&&(e=ba),this.pressed&&(e&ba&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:va,srcEvent:t}))},e}(tl),ml=2500,yl=25;function _l(t){var e=t.changedPointers,n=e[0];if(n.identifier===this.primaryTouch){var i={x:n.clientX,y:n.clientY},r=this.lastTouches;this.lastTouches.push(i);var o=function(){var t=r.indexOf(i);-1<t&&r.splice(t,1)};setTimeout(o,ml)}}function bl(t,e){t&ya?(this.primaryTouch=e.changedPointers[0].identifier,_l.call(this,e)):t&(ba|wa)&&_l.call(this,e)}function wl(t){for(var e=Math.abs,n=t.srcEvent.clientX,i=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],s=e(n-o.x),a=e(i-o.y);if(s<=yl&&a<=yl)return!0}return!1}var kl=function(){var t=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.handler=function(t,e,n){var r=n.pointerType===fa,o=n.pointerType===va;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)bl.call(Hs(Hs(i)),e,n);else if(o&&wl.call(Hs(Hs(i)),n))return;i.callback(t,e,n)}},i.touch=new hl(i.manager,i.handler),i.mouse=new gl(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}Us(e,t);var n=e.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(tl);return t}();function xl(t){var e,n=t.options.inputClass;return e=n||(ha?sl:da?hl:ca?kl:gl),new e(t,Ka)}function El(t,e,n){return!!Array.isArray(t)&&(Aa(t,n[e],n),!0)}var Sl=1,Tl=2,Ol=4,Cl=8,Il=Cl,Nl=16,Ml=32,Al=1;function Dl(){return Al++}function Pl(t,e){var n=e.manager;return n?n.get(t):t}function Rl(t){return t&Nl?"cancel":t&Cl?"end":t&Ol?"move":t&Tl?"start":""}var Ll=function(){function t(t){void 0===t&&(t={}),this.options=Bs({enable:!0},t),this.id=Dl(),this.manager=null,this.state=Sl,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Ys(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(El(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Pl(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return El(t,"dropRecognizeWith",this)||(t=Pl(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(El(t,"requireFailure",this))return this;var e=this.requireFail;return t=Pl(t,this),-1===el(e,t)&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(El(t,"dropRequireFailure",this))return this;t=Pl(t,this);var e=el(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return 0<this.requireFail.length},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i<Cl&&e(n.options.event+Rl(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=Cl&&e(n.options.event+Rl(i))},e.tryEmit=function(t){return this.canEmit()?this.emit(t):void(this.state=Ml)},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Ml|Sl)))return!1;t++}return!0},e.recognize=function(t){var e=Ys({},t);return Da(this.options.enable,[this,e])?(this.state&(Il|Nl|Ml)&&(this.state=Sl),this.state=this.process(e),void(this.state&(Tl|Ol|Cl|Nl)&&this.tryEmit(e))):(this.reset(),void(this.state=Ml))},e.process=function(){},e.getTouchAction=function(){},e.reset=function(){},t}(),Fl={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},jl=1,zl=2;function Bl(t,e){var n,i=t.element;i.style&&(Aa(t.options.cssProps,(function(r,o){n=Xs(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}function Ul(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var Hl=function(){function t(t,e){var n=this;this.options=Ys({},Fl,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=xl(this),this.touchAction=new La(this,this.options.touchAction),Bl(this,!0),Aa(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Ys(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?zl:jl},e.recognize=function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Il)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],e.stopped===zl||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(Tl|Ol|Cl)&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof Ll)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(El(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(El(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=el(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return Aa(Za(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return Aa(Za(t),(function(t){e?n[t]&&n[t].splice(el(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&Ul(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&Bl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Wl={touchstart:ya,touchmove:_a,touchend:ba,touchcancel:wa},Yl="touchstart",Vl="touchstart touchmove touchend touchcancel",Gl=function(t){function e(){var n,i=e.prototype;return i.evTarget=Yl,i.evWin=Vl,n=t.apply(this,arguments)||this,n.started=!1,n}Us(e,t);var n=e.prototype;return n.handler=function(t){var e=Wl[t.type];if(e===ya&&(this.started=!0),this.started){var n=$l.call(this,t,e);e&(ba|wa)&&0==n[0].length-n[1].length&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:fa,srcEvent:t})}},e}(tl);function $l(t,e){var n=al(t.touches),i=al(t.changedTouches);return e&(ba|wa)&&(n=ll(n.concat(i),"identifier",!0)),[n,i]}var ql=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Bs({pointers:1},e))||this}Us(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=e&(Tl|Ol),r=this.attrTest(t);return i&&(n&wa||!r)?e|Nl:i||r?n&ba?e|Cl:e&Tl?e|Ol:Tl:Ml},e}(Ll),Kl=function(t){function e(e){var n;return void 0===e&&(e={}),n=t.call(this,Bs({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Us(e,t);var n=e.prototype;return n.getTouchAction=function(){return[ra]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),t.eventType&ya&&0===this.count)return this.failTimeout();if(r&&o&&i){if(t.eventType!==ba)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||Ba(this.pCenter,t.center)<n.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var l=this.count%n.taps;if(0==l)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=Il,e.tryEmit()}),n.interval),Tl):Il}return Ml},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Ml}),this.options.interval),Ml},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){this.state===Il&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ll);function Zl(t){return t===Ta?"down":t===Sa?"up":t===xa?"left":t===Ea?"right":""}var Xl=function(t){var e=Math.abs;function n(e){var n;return void 0===e&&(e={}),n=t.call(this,Bs({event:"pan",threshold:10,pointers:1,direction:Ia},e))||this,n.pX=null,n.pY=null,n}Us(n,t);var i=n.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return t&Oa&&e.push(aa),t&Ca&&e.push(sa),e},i.directionTest=function(t){var n=this.options,i=!0,r=t.distance,o=t.direction,s=t.deltaX,a=t.deltaY;return o&n.direction||(n.direction&Oa?(o=0===s?ka:0>s?xa:Ea,i=s!==this.pX,r=e(t.deltaX)):(o=0===a?ka:0>a?Sa:Ta,i=a!==this.pY,r=e(t.deltaY))),t.direction=o,i&&r>n.threshold&&o&n.direction},i.attrTest=function(t){return ql.prototype.attrTest.call(this,t)&&(this.state&Tl||!(this.state&Tl)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=Zl(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},n}(ql),Ql=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Bs({event:"swipe",threshold:10,velocity:.3,direction:Oa|Ca,pointers:1},e))||this}Us(e,t);var n=e.prototype;return n.getTouchAction=function(){return Xl.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return i&(Oa|Ca)?n=e.overallVelocity:i&Oa?n=e.overallVelocityX:i&Ca&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Ks(n)>this.options.velocity&&e.eventType&ba},n.emit=function(t){var e=Zl(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(ql),Jl=function(t){var e=Math.abs;function n(e){return void 0===e&&(e={}),t.call(this,Bs({event:"pinch",threshold:0,pointers:2},e))||this}Us(n,t);var i=n.prototype;return i.getTouchAction=function(){return[oa]},i.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(e(n.scale-1)>this.options.threshold||this.state&Tl)},i.emit=function(e){if(1!==e.scale){var n=1>e.scale?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},n}(ql),tu=function(t){var e=Math.abs;function n(e){return void 0===e&&(e={}),t.call(this,Bs({event:"rotate",threshold:0,pointers:2},e))||this}Us(n,t);var i=n.prototype;return i.getTouchAction=function(){return[oa]},i.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(e(n.rotation)>this.options.threshold||this.state&Tl)},n}(ql),eu=function(t){function e(e){var n;return void 0===e&&(e={}),n=t.call(this,Bs({event:"press",pointers:1,time:251,threshold:9},e))||this,n._timer=null,n._input=null,n}Us(e,t);var n=e.prototype;return n.getTouchAction=function(){return[ia]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||t.eventType&(ba|wa)&&!o)this.reset();else if(t.eventType&ya)this.reset(),this._timer=setTimeout((function(){e.state=Il,e.tryEmit()}),n.time);else if(t.eventType&ba)return Il;return Ml},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){this.state!==Il||(t&&t.eventType&ba?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Zs(),this.manager.emit(this.options.event,this._input)))},e}(Ll);function nu(t,e,n){return function(){var i=new Error("get-stack-trace"),r=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,"DEPRECATED METHOD: "+e+"\n"+n+" AT \n",r),t.apply(this,arguments)}}var iu=nu((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),ru=nu((function(t,e){return iu(t,e,!0)}),"merge","Use `assign`.");function ou(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&Ys(i,n)}function su(t,e){return function(){return t.apply(e,arguments)}}var au=function(){var t=function(t,e){return void 0===e&&(e={}),new Hl(t,Bs({recognizers:[[tu,{enable:!1}],[Jl,{enable:!1},["rotate"]],[Ql,{direction:Oa}],[Xl,{direction:Oa},["swipe"]],[Kl],[Kl,{event:"doubletap",taps:2},["tap"]],[eu]]},e))};return t.VERSION="2.0.15",t.DIRECTION_ALL=Ia,t.DIRECTION_DOWN=Ta,t.DIRECTION_LEFT=xa,t.DIRECTION_RIGHT=Ea,t.DIRECTION_UP=Sa,t.DIRECTION_HORIZONTAL=Oa,t.DIRECTION_VERTICAL=Ca,t.DIRECTION_NONE=ka,t.DIRECTION_DOWN=Ta,t.INPUT_START=ya,t.INPUT_MOVE=_a,t.INPUT_END=ba,t.INPUT_CANCEL=wa,t.STATE_POSSIBLE=Sl,t.STATE_BEGAN=Tl,t.STATE_CHANGED=Ol,t.STATE_ENDED=Cl,t.STATE_RECOGNIZED=Il,t.STATE_CANCELLED=Nl,t.STATE_FAILED=Ml,t.Manager=Hl,t.Input=tl,t.TouchAction=La,t.TouchInput=hl,t.MouseInput=gl,t.PointerEventInput=sl,t.TouchMouseInput=kl,t.SingleTouchInput=Gl,t.Recognizer=Ll,t.AttrRecognizer=ql,t.Tap=Kl,t.Pan=Xl,t.Swipe=Ql,t.Pinch=Jl,t.Rotate=tu,t.Press=eu,t.on=Xa,t.off=Qa,t.each=Aa,t.merge=ru,t.extend=iu,t.bindFn=su,t.assign=Ys,t.inherit=ou,t.bindFn=su,t.prefixed=Xs,t.toArray=al,t.inArray=el,t.uniqueArray=ll,t.splitStr=Za,t.boolOrFn=Da,t.hasParent=Fa,t.addEventListeners=Xa,t.removeEventListeners=Qa,t.defaults=Fl,t}(),lu=$o((function(t){function e(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}if("undefined"!=typeof window){var n=window.Hammer||au;t.exports=n}else t.exports=function(){return e()}})),uu=Object.freeze({default:lu,__moduleExports:lu});function cu(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=lu(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach((function(t){e.hammer.on(t,(function(t){t.stopPropagation()}))})),document&&document.body&&(this.onClick=function(n){hu(n.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=js(),this.escListener=this.deactivate.bind(this)}function hu(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}qo(Fs),Ko(cu.prototype),cu.current=null,cu.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},cu.prototype.activate=function(){cu.current&&cu.current.deactivate(),cu.current=this,this.active=!0,this.dom.overlay.style.display="none",jr.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},cu.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",jr.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},cu.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()};var du=cu,fu=$o((function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"L√∂sche Auswahl",back:"Zur√ºck",addNode:"Knoten hinzuf√ºgen",addEdge:"Kante hinzuf√ºgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m√∂glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k√∂nnen nicht gel√∂scht werden.",editClusterError:"Cluster k√∂nnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selecci√≥n",back:"Atr√°s",addNode:"A√±adir nodo",addEdge:"A√±adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac√≠o para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n√≥",addEdge:"Adicionar aresta",editNode:"Editar n√≥",editEdge:"Editar aresta",addDescription:"Clique em um espa√ßo em branco para adicionar um novo n√≥",edgeDescription:"Clique em um n√≥ e arraste a aresta at√© outro n√≥ para conect√°-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n√≥ para conect√°-los",createEdgeError:"N√£o foi poss√≠vel linkar arestas a um cluster.",deleteClusterError:"Clusters n√£o puderam ser removidos.",editClusterError:"Clusters n√£o puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",del:"–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ",back:"–ù–∞–∑–∞–¥",addNode:"–î–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª",addEdge:"–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—Ä–æ",editNode:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —É–∑–µ–ª",editEdge:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–±—Ä–æ",addDescription:"–ö–ª–∏–∫–Ω–∏—Ç–µ –≤ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —É–∑–µ–ª.",edgeDescription:"–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —É–∑–µ–ª –∏ –ø—Ä–æ—Ç—è–Ω–∏—Ç–µ —Ä–µ–±—Ä–æ –∫ –¥—Ä—É–≥–æ–º—É —É–∑–ª—É, —á—Ç–æ–±—ã —Å–æ–µ–¥–∏–Ω–∏—Ç—å –∏—Ö.",editEdgeDescription:"–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏—Ö –≤ —É–∑–µ–ª, —á—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–µ–º—É.",createEdgeError:"–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–µ–¥–∏–Ω–∏—Ç—å —Ä–µ–±—Ä–∞ –≤ –∫–ª–∞—Å—Ç–µ—Ä.",deleteClusterError:"–ö–ª–∞—Å—Ç–µ—Ä—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã",editClusterError:"–ö–ª–∞—Å—Ç–µ—Ä—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è."},e.ru_RU=e.ru,e.cn={edit:"ÁºñËæë",del:"Âà†Èô§ÈÄâÂÆö",back:"ËøîÂõû",addNode:"Ê∑ªÂä†ËäÇÁÇπ",addEdge:"Ê∑ªÂä†ËøûÊé•Á∫ø",editNode:"ÁºñËæëËäÇÁÇπ",editEdge:"ÁºñËæëËøûÊé•Á∫ø",addDescription:"ÂçïÂáªÁ©∫ÁôΩÂ§ÑÊîæÁΩÆÊñ∞ËäÇÁÇπ„ÄÇ",edgeDescription:"ÂçïÂáªÊüê‰∏™ËäÇÁÇπÂπ∂Â∞ÜËØ•ËøûÊé•Á∫øÊãñÂä®Âà∞Âè¶‰∏Ä‰∏™ËäÇÁÇπ‰ª•ËøûÊé•ÂÆÉ‰ª¨„ÄÇ",editEdgeDescription:"ÂçïÂáªÊéßÂà∂ËäÇÁÇπÂπ∂Â∞ÜÂÆÉ‰ª¨ÊãñÂà∞ËäÇÁÇπ‰∏äËøûÊé•„ÄÇ",createEdgeError:"Êó†Ê≥ïÂ∞ÜËøûÊé•Á∫øËøûÊé•Âà∞Áæ§ÈõÜ„ÄÇ",deleteClusterError:"Êó†Ê≥ïÂà†Èô§Áæ§ÈõÜ„ÄÇ",editClusterError:"Êó†Ê≥ïÁºñËæëÁæ§ÈõÜ„ÄÇ"},e.zh_CN=e.cn,e.uk={edit:"–†–µ–¥–∞–≥—É–≤–∞—Ç–∏",del:"–í–∏–¥–∞–ª–∏—Ç–∏ –æ–±—Ä–∞–Ω–µ",back:"–ù–∞–∑–∞–¥",addNode:"–î–æ–¥–∞—Ç–∏ –≤—É–∑–æ–ª",addEdge:"–î–æ–¥–∞—Ç–∏ –∫—Ä–∞–π",editNode:"–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –≤—É–∑–æ–ª",editEdge:"–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫—Ä–∞–π",addDescription:"K–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –≤—ñ–ª—å–Ω–µ –º—ñ—Å—Ü–µ, —â–æ–± –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –≤—É–∑–æ–ª.",edgeDescription:"–ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –≤—É–∑–æ–ª —ñ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –∫—Ä–∞–π –¥–æ —ñ–Ω—à–æ–≥–æ –≤—É–∑–ª–∞, —â–æ–± —ó—Ö –∑'—î–¥–Ω–∞—Ç–∏.",editEdgeDescription:"–ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ —Ç–æ—á–∫–∏ —ñ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —ó—Ö —É –≤—É–∑–æ–ª, —â–æ–± –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –Ω—å–æ–≥–æ.",createEdgeError:"–ù–µ –º–æ–∂–ª–∏–≤–æ –æ–±'—î–¥–Ω–∞—Ç–∏ –∫—Ä–∞—ó –≤ –≥—Ä—É–ø—É.",deleteClusterError:"–ì—Ä—É–ø–∏ –Ω–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω—ñ.",editClusterError:"–ì—Ä—É–ø–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è."},e.uk_UA=e.uk,e.fr={edit:"Editer",del:"Effacer la selection",back:"Retour",addNode:"Ajouter un noeud",addEdge:"Ajouter un lien",editNode:"Editer le noeud",editEdge:"Editer le lien",addDescription:"Cliquez dans un endroit vide pour placer un noeud.",edgeDescription:"Cliquez sur un noeud et glissez le lien vers un autre noeud pour les connecter.",editEdgeDescription:"Cliquez sur les points de contr√¥le et glissez-les pour connecter un noeud.",createEdgeError:"Impossible de cr√©er un lien vers un cluster.",deleteClusterError:"Les clusters ne peuvent pas √™tre √©ffac√©s.",editClusterError:"Les clusters ne peuvent pas √™tre √©dites."},e.fr_FR=e.fr,e.cs={edit:"Upravit",del:"Smazat v√Ωbƒõr",back:"Zpƒõt",addNode:"P≈ôidat vrchol",addEdge:"P≈ôidat hranu",editNode:"Upravit vrchol",editEdge:"Upravit hranu",addDescription:"Kluknut√≠m do pr√°zdn√©ho prostoru m≈Ø≈æete p≈ôidat nov√Ω vrchol.",edgeDescription:"P≈ôeta≈æen√≠m z jednoho vrcholu do druh√©ho m≈Ø≈æete spojit tyto vrcholy novou hranou.",editEdgeDescription:"P≈ôeta≈æen√≠m kontroln√≠ho vrcholu hrany ji m≈Ø≈æete p≈ôipojit k jin√©mu vrcholu.",createEdgeError:"Nelze p≈ôipojit hranu ke shluku.",deleteClusterError:"Nelze mazat shluky.",editClusterError:"Nelze upravovat shluky."},e.cs_CZ=e.cs}));function pu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var vu=pu;function gu(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function mu(t,e,n){return e&&gu(t.prototype,e),n&&gu(t,n),t}var yu=mu,_u=function(){var t=Math.floor;function e(){vu(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return yu(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,n=this.image.height;this.width=e,this.height=n;var i=t(n/2),r=t(n/4),o=t(n/8),s=t(n/16),a=t(e/2),l=t(e/4),u=t(e/8),c=t(e/16);this.canvas.width=3*l,this.canvas.height=i,this.coordinates=[[0,0,a,i],[a,0,l,r],[a,r,u,o],[5*u,r,c,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],r=this.coordinates[n];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,n,i,r,o){if(this.initialized())if(2<e){e*=.5;for(var s=0;2<e&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],n,i,r,o)}else t.drawImage(this.image,n,i,r,o)}}]),e}(),bu=function(){function t(e){vu(this,t),this.images={},this.imageBroken={},this.callback=e}return yu(t,[{key:"_tryloadBrokenUrl",value:function(t,e,n){return void 0===t||void 0===n?void 0:void 0===e?void console.warn("No broken url image defined"):(n.image.onerror=function(){console.error("Could not load brokenImage:",e)},void(n.image.src=e))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var n=this,i=this.images[t];if(i)return i;var r=new _u;return this.images[t]=r,r.image.onload=function(){n._fixImageCoordinates(r.image),r.init(),n._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),n._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),wu=function(){function t(){vu(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},jr.extend(this.options,this.defaultOptions)}return yu(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var n in t)if(t.hasOwnProperty(n)&&-1===e.indexOf(n)){var i=t[n];this.add(n,i)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.groups[t];if(void 0===n&&e)if(!1===this.options.useDefaultGroups&&0<this.groupsArray.length){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,n={},n.color=this.groups[this.groupsArray[i]],this.groups[t]=n}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,n={},n.color=this.defaultGroups[r],this.groups[t]=n}return n}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();function ku(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xu=ku;function Eu(t){if(Array.isArray(t))return t}var Su=Eu;function Tu(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw o}}return n}var Ou=Tu;function Cu(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Iu=Cu;function Nu(t,e){return Su(t)||Ou(t,e)||Iu()}var Mu=Nu,Au=$o((function(t){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(i){return t.exports=n="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},n(i)}t.exports=n})),Du=function(){var t=Math.cos,e=Math.sin;function n(){vu(this,n)}return yu(n,null,[{key:"choosify",value:function(t,e){var n=["node","edge","label"],i=!0,r=jr.topMost(e,"chosen");if("boolean"==typeof r)i=r;else if("object"===Au(r)){if(-1===n.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+n.join("', '")+"'");var o=jr.topMost(e,["chosen",t]);("boolean"==typeof o||"function"==typeof o)&&(i=o)}return i}},{key:"pointInRect",value:function(n,i,r){if(0>=n.width||0>=n.height)return!1;if(void 0!==r){var o={x:i.x-r.x,y:i.y-r.y};if(0!==r.angle){var s=-r.angle,a={x:t(s)*o.x-e(s)*o.y,y:e(s)*o.x+t(s)*o.y};i=a}else i=o}var l=n.x+n.width,u=n.y+n.width;return n.left<i.x&&l>i.x&&n.top<i.y&&u>i.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),n}(),Pu=function(){function t(e){vu(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return yu(t,[{key:"_add",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var i=e;(void 0===e||""===e)&&(i=" ");var r=this.measureText(i,n),o=Object.assign({},r.values);o.text=e,o.width=r.width,o.mod=n,(void 0===e||""===e)&&(o.width=0),this.lines[t].blocks.push(o),this.lines[t].width+=o.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],n=0;if(void 0!==e.blocks)for(var i,r=0;r<e.blocks.length;r++)i=e.blocks[r],n<i.height&&(n=i.height);e.height=n}}},{key:"determineLabelSize",value:function(){for(var t,e=0,n=0,i=0;i<this.lines.length;i++)t=this.lines[i],t.width>e&&(e=t.width),n+=t.height;this.width=e,this.height=n}},{key:"removeEmptyBlocks",value:function(){for(var t,e=[],n=0;n<this.lines.length;n++)if(t=this.lines[n],0!==t.blocks.length){if(n==this.lines.length-1&&0===t.width)continue;var i={};Object.assign(i,t),i.blocks=[];for(var r,o=void 0,s=[],a=0;a<t.blocks.length;a++)r=t.blocks[a],0===r.width?void 0===o&&(o=r):s.push(r);0===s.length&&void 0!==o&&s.push(o),i.blocks=s,e.push(i)}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),Ru={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/\_/,"`":/`/,afterBold:/[^\*]/,afterItal:/[^_]/,afterMono:/[^`]/},Lu=function(){function t(e){vu(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return yu(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e))&&(this.setTag(t),!0)}},{key:"match",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.prepareRegExp(t),i=Mu(n,2),r=i[0],o=i[1],s=r.test(this.text.substr(this.position,o));return s&&e&&(this.position+=o-1),s}},{key:"parseEndTag",value:function(t,e,n){var i=this.mod()===t;return i="mono"===t?i&&this.mono:i&&!this.mono,!(!i||!this.match(e))&&((void 0===n||this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(t),!0)}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,n;if(t instanceof RegExp)n=t,e=1;else{var i=Ru[t];n=void 0===i?new RegExp(t):i,e=t.length}return[n,e]}}]),t}(),Fu=function(){function t(e,n,i,r){var o=this;vu(this,t),this.ctx=e,this.parent=n,this.selected=i,this.hover=r,this.lines=new Pu((function(t,n){if(void 0===t)return 0;var s=o.parent.getFormattingValues(e,i,r,n),a=0;if(""!==t){var l=o.ctx.measureText(t);a=l.width}return{width:a,values:s}}))}return yu(t,[{key:"process",value:function(t){if(!Du.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n");var n=(t+"").split("\n"),i=n.length;if(e.multi){for(var r,o=0;o<i;o++)if(r=this.splitBlocks(n[o],e.multi),void 0!==r){if(0===r.length){this.lines.newLine("");continue}if(0<e.maxWdt)for(var s=0;s<r.length;s++){var a=r[s].mod,l=r[s].text;this.splitStringIntoLines(l,a,!0)}else for(var u=0;u<r.length;u++){var c=r[u].mod,h=r[u].text;this.lines.append(h,c)}this.lines.newLine()}}else if(0<e.maxWdt)for(var d=0;d<i;d++)this.splitStringIntoLines(n[d]);else for(var f=0;f<i;f++)this.lines.newLine(n[f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":(!0===t||"html"===t)&&(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new Lu(t),n=function(t){if(/&/.test(t)){var n=e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&");return n||e.add("&"),!0}return!1};e.position<e.text.length;){var i=e.text.charAt(e.position),r=e.parseWS(i)||/</.test(i)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||n(i);r||e.add(i),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,n=new Lu(t),i=!0,r=function(t){return!!/\\/.test(t)&&(n.position<e.text.length+1&&(n.position++,t=e.text.charAt(n.position),/ \t/.test(t)?n.spacing=!0:(n.add(t),i=!1)),!0)};n.position<n.text.length;){var o=n.text.charAt(n.position),s=n.parseWS(o)||r(o)||(i||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono");s||(n.add(o),i=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(t,e){var n=this.decodeMarkupSystem(e);return"none"===n?[{text:t,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(t):"html"===n?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",n=0;n<t.length;){var i=""===e?"":" ",r=e+i+t[n];if(this.overMaxWidth(r))break;e=r,n++}return n}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal",n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e),t=t.replace(/^( +)/g,"$1\r"),t=t.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var i,r=t.split("\r");0<r.length;)if(i=this.getLongestFit(r),0===i){var o=r[0],s=this.getLongestFitWord(o);this.lines.newLine(o.slice(0,s),e),r[0]=o.slice(s)}else{var a=i;" "===r[i-1]?i--:" "===r[a]&&a++;var l=r.slice(0,i).join("");i==r.length&&n?this.lines.append(l,e):this.lines.newLine(l,e),r=r.slice(a)}}}]),t}(),ju=["bold","ital","boldital","mono"],zu=function(){var t=Math.max,e=Math.min;function n(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];vu(this,n),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return yu(n,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),Du.isValidLabel(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===Au(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(t){var e=this;return jr.forEach(ju,(function(t){e.fontOptions[t]={}})),n.parseFontString(this.fontOptions,t)?void(this.fontOptions.vadjust=0):void jr.forEach(t,(function(t,n){void 0!==t&&null!==t&&"object"!==Au(t)&&(e.fontOptions[n]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=jr.topMost(t,"widthConstraint");if("number"==typeof n)e.maxWdt=+n,e.minWdt=+n;else if("object"===Au(n)){var i=jr.topMost(t,["widthConstraint","maximum"]);"number"==typeof i&&(e.maxWdt=+i);var r=jr.topMost(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=+r)}var o=jr.topMost(t,"heightConstraint");if("number"==typeof o)e.minHgt=+o;else if("object"===Au(o)){var s=jr.topMost(t,["heightConstraint","minimum"]);"number"==typeof s&&(e.minHgt=+s);var a=jr.topMost(t,["heightConstraint","valign"]);"string"==typeof a&&("top"===a||"bottom"===a)&&(e.valign=a)}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),jr.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=Du.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var n=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(t,e){for(var n=0;n<e.length;++n)this.addFontToPile(t,e[n])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var n=e.font;t.push(n)}}},{key:"getBasicOptions",value:function(t){for(var e={},i=0;i<t.length;++i){var r=t[i],o={};n.parseFontString(o,r)&&(r=o),jr.forEach(r,(function(t,n){void 0===t||e.hasOwnProperty(n)||(-1===ju.indexOf(n)?e[n]=t:e[n]={})}))}return e}},{key:"getFontOption",value:function(t,e,i){for(var r,o,s=0;s<t.length;++s)if(o=t[s],o.hasOwnProperty(e)){if(r=o[e],void 0===r||null===r)continue;var a={};if(n.parseFontString(a,r)&&(r=a),r.hasOwnProperty(i))return r[i]}if(this.fontOptions.hasOwnProperty(i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(t,e){for(var n,i={},r=["color","size","face","mod","vadjust"],o=0;o<r.length;++o)n=r[o],i[n]=this.getFontOption(t,e,n);return i}},{key:"propagateFonts",value:function(t){var e=this,n=[];this.addFontOptionsToPile(n,t),this.fontOptions=this.getBasicOptions(n);for(var i=function(t){var i=ju[t],r=e.fontOptions[i],o=e.getFontOptions(n,i);jr.forEach(o,(function(t,e){r[e]=t})),r.size=+r.size,r.vadjust=+r.vadjust},r=0;r<ju.length;++r)i(r)}},{key:"draw",value:function(t,e,n,i,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=+this.elementOptions.scaling.label.maxVisible/this.body.view.scale),this.calculateLabelSize(t,i,r,e,n,o),this._drawBackground(t),this._drawText(t,e,this.size.yLine,o,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle",r=4<arguments.length?arguments[4]:void 0,o=this._setAlignment(t,e,n,i),s=Mu(o,2);e=s[0],n=s[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var a,l=0;l<this.lineCount;l++)if(a=this.lines[l],a&&a.blocks){var u=0;this.isEdgeLabel||"center"===this.fontOptions.align?u+=(this.size.width-a.width)/2:"right"===this.fontOptions.align&&(u+=this.size.width-a.width);for(var c,h=0;h<a.blocks.length;h++){c=a.blocks[h],t.font=c.font;var d=this._getColor(c.color,r,c.strokeColor),f=Mu(d,2),p=f[0],v=f[1];0<c.strokeWidth&&(t.lineWidth=c.strokeWidth,t.strokeStyle=v,t.lineJoin="round"),t.fillStyle=p,0<c.strokeWidth&&t.strokeText(c.text,e+u,n+c.vadjust),t.fillText(c.text,e+u,n+c.vadjust),u+=c.width}n+=a.height}}},{key:"_setAlignment",value:function(t,e,n,i){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,n=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",n+=4):t.textBaseline="middle"):t.textBaseline=i,[e,n]}},{key:"_getColor",value:function(n,i,r){var o=n||"#000000",s=r||"#ffffff";if(i<=this.elementOptions.scaling.label.drawThreshold){var a=t(0,e(1,1-(this.elementOptions.scaling.label.drawThreshold-i)));o=jr.overrideOpacity(o,a),s=jr.overrideOpacity(s,a)}return[o,s]}},{key:"getTextSize",value:function(t){var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return this._processLabel(t,e,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=n,e=.5*-this.size.height;break;case"top":t=n,e=-(this.size.height+2);break;case"bottom":t=n,e=2}}var i={left:t,top:e,width:this.size.width,height:this.size.height};return i}},{key:"calculateLabelSize",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,n),this.size.left=i-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,n,i){var r=function(t,e,n){return"normal"===e?"mod"===n?"":t[n]:void 0===t[e][n]?t[n]:t[e][n]},o={color:r(this.fontOptions,i,"color"),size:r(this.fontOptions,i,"size"),face:r(this.fontOptions,i,"face"),mod:r(this.fontOptions,i,"mod"),vadjust:r(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,e,n));var s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),s+=o.size+"px "+o.face,t.font=s.replace(/"/g,""),o.font=t.font,o.height=o.size,o}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,n,i){var r=new Fu(t,this,e,n);return r.process(i)}},{key:"_processLabel",value:function(t,e,n){if(!1!==this.labelDirty||this.differentState(e,n)){var i=this._processLabelText(t,e,n,this.elementOptions.label);0<this.fontOptions.minWdt&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,0<this.fontOptions.minHgt&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=e,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){if(0===this.size.width||0===this.size.height||void 0===this.elementOptions.label)return!1;var t=this.fontOptions.size*this.body.view.scale;return!(t<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var n=e.split(" ");return t.size=+n[0].replace("px",""),t.face=n[1],t.color=n[2],!0}}]),n}();function Bu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Uu=Bu;function Hu(t,e){return!e||"object"!==Au(e)&&"function"!=typeof e?Uu(t):e}var Wu=Hu,Yu=$o((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e})),Vu=$o((function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,i)}t.exports=e}));function Gu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vu(t,e)}var $u,qu=Gu,Ku=function(){var t=Math.cos,e=Math.sin,n=Math.abs,i=Math.min;function r(t,e,n){vu(this,r),this.body=e,this.labelModule=n,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return yu(r,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==Au(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(r,o){var s=this.options.borderWidth;return this.resize(r),i(n(this.width/2/t(o)),n(this.height/2/e(o)))+s}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var n=e.borderDashes;!0===n&&(n=[5,15]),t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0===t.setLineDash?(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1):t.setLineDash([0]))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.lineWidth=i(this.width,n),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.save(),0<n&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,n,i,r){void 0!==n&&this.resize(n,i,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r)}},{key:"getDimensionsFromLabel",value:function(t,e,n){this.textSize=this.labelModule.getTextSize(t,e,n);var i=this.textSize.width,r=this.textSize.height,o=14;return 0===i&&(i=o,r=o),{width:i,height:r}}}]),r}(),Zu=function(t){var e=Math.cos,n=Math.sin,i=Math.abs,r=Math.min;function o(t,e,n){var i;return vu(this,o),i=Wu(this,Yu(o).call(this,t,e,n)),i._setMargins(n),i}return qu(o,t),yu(o,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),t.roundRect(this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(t,o){this.resize(t);var s=this.options.borderWidth;return r(i(this.width/2/e(o)),i(this.height/2/n(o)))+s}}]),o}(Ku),Xu=function(t){function e(t,n,i){var r;return vu(this,e),r=Wu(this,Yu(e).call(this,t,n,i)),r.labelOffset=0,r.selected=!1,r}return qu(e,t),yu(e,[{key:"setOptions",value:function(t,e,n){this.options=t,void 0===e&&void 0===n||this.setImages(e,n)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==Au(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),t=2*this.options.size*n,e=2*this.options.size*i}else{var r=this._getImagePadding();t=this.imageObj.width+r.left+r.right,e=this.imageObj.height+r.top+r.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,n,i){this.initContextForDraw(t,i),t.circle(e,n,i.size),this.performFill(t,i)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);var i=this._getImagePadding(),r=this.left+i.left,o=this.top+i.top,s=this.width-i.left-i.right,a=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(t,n,r,o,s,a),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,n,i,r){var o,s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(t,i,r);1<=a.lineCount&&(s+=a.height/2)}o=n+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,o,i,r,"hanging")}}]),e}(Ku),Qu=function(t){var e=Math.max;function n(t,e,i){var r;return vu(this,n),r=Wu(this,Yu(n).call(this,t,e,i)),r._setMargins(i),r}return qu(n,t),yu(n,[{key:"resize",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(n,i)){var r=this.getDimensionsFromLabel(t,n,i),o=e(r.width+this.margin.right+this.margin.left,r.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,o),this.updateBoundingBox(e,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,n,i,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return this.resize(t),.5*this.width}}]),n}(Xu),Ju=function(t){var e=Math.max,n=Math.min;function i(t,e,n,r,o){var s;return vu(this,i),s=Wu(this,Yu(i).call(this,t,e,n)),s.setImages(r,o),s}return qu(i,t),yu(i,[{key:"resize",value:function(){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var i=2*this.options.size;return this.width=i,this.height=i,void(this.radius=.5*this.width)}this.needsRefresh(t,e)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,r,o){this.switchImages(i),this.resize(),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,o),t.save(),t.clip(),this._drawImageAtPosition(t,o),t.restore(),this._drawImageLabel(t,e,n,i,r),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=i+this.options.size,this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=e(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=e(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return this.resize(t),.5*this.width}}]),i}(Xu),tc=function(t){function e(t,n,i){var r;return vu(this,e),r=Wu(this,Yu(e).call(this,t,n,i)),r._setMargins(i),r}return qu(e,t),yu(e,[{key:"resize",value:function(t,e,n){if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n),r=i.width+this.margin.right+this.margin.left;this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),t.database(e-this.width/2,n-this.height/2,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(Ku),ec=function(t){var e=Math.max,n=Math.min;function i(t,e,n){return vu(this,i),Wu(this,Yu(i).call(this,t,e,n))}return qu(i,t),yu(i,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,n)){this.labelModule.getTextSize(t,e,n);var r=2*i.size;this.width=r,this.height=r,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,n,i,r,o,s,a){if(this.resize(t,o,s,a),this.left=i-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),t[e](i,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,i,r)),void 0!==this.options.label){this.labelModule.calculateLabelSize(t,o,s,i,r,"hanging");var l=r+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,i,l,o,s,"hanging")}this.updateBoundingBox(i,r)}},{key:"updateBoundingBox",value:function(t,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=i+this.options.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=e(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=e(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),i}(Ku),nc=function(t){function e(t,n,i){return vu(this,e),Wu(this,Yu(e).call(this,t,n,i))}return qu(e,t),yu(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"diamond",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(ec),ic=function(t){function e(t,n,i){return vu(this,e),Wu(this,Yu(e).call(this,t,n,i))}return qu(e,t),yu(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"circle",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t){return this.resize(t),this.options.size}}]),e}(ec),rc=function(t){var e=Math.cos,n=Math.sin,i=Math.sqrt;function r(t,e,n){return vu(this,r),Wu(this,Yu(r).call(this,t,e,n))}return qu(r,t),yu(r,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(t,o),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,e,n,i,r)}},{key:"distanceToBorder",value:function(t,r){this.resize(t);var o=.5*this.width,s=.5*this.height,a=n(r)*o,l=e(r)*s;return o*s/i(a*a+l*l)}}]),r}(Ku),oc=function(t){var e=Math.max,n=Math.min;function i(t,e,n){var r;return vu(this,i),r=Wu(this,Yu(i).call(this,t,e,n)),r._setMargins(n),r}return qu(i,t),yu(i,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.iconSize={width:+this.options.icon.size,height:+this.options.icon.size},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=n-this.height/2,this._icon(t,e,n,i,r,o),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,i){this.boundingBox.top=i-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=i+.5*this.options.icon.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=e(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=e(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,n,i,r,o){var s=+this.options.icon.size;void 0===this.options.icon.code?console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally."):(t.font=(i?"bold ":"")+s+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,o),t.fillText(this.options.icon.code,e,n),this.disableShadow(t,o))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ku),sc=function(t){var e=Math.max,n=Math.min;function i(t,e,n,r,o){var s;return vu(this,i),s=Wu(this,Yu(i).call(this,t,e,n)),s.setImages(r,o),s}return qu(i,t),yu(i,[{key:"resize",value:function(){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var i=2*this.options.size;return this.width=i,void(this.height=i)}this.needsRefresh(t,e)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,r,o,s){if(this.switchImages(r),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var a=this.options.borderWidth,l=this.options.borderWidthSelected||2*this.options.borderWidth,u=(r?l:a)/this.body.view.scale;t.lineWidth=n(this.width,u),t.beginPath(),t.strokeStyle=r?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.fillStyle=r?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,s),t.closePath()}this._drawImageAtPosition(t,s),this._drawImageLabel(t,e,i,r,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,i){this.resize(),this._updateBoundingBox(t,i),void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=e(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=e(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Xu),ac=function(t){function e(t,n,i){return vu(this,e),Wu(this,Yu(e).call(this,t,n,i))}return qu(e,t),yu(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"square",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(ec),lc=function(t){function e(t,n,i){return vu(this,e),Wu(this,Yu(e).call(this,t,n,i))}return qu(e,t),yu(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"hexagon",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(ec),uc=function(t){function e(t,n,i){return vu(this,e),Wu(this,Yu(e).call(this,t,n,i))}return qu(e,t),yu(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"star",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(ec),cc=function(t){function e(t,n,i){var r;return vu(this,e),r=Wu(this,Yu(e).call(this,t,n,i)),r._setMargins(i),r}return qu(e,t),yu(e,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.textSize=this.labelModule.getTextSize(t,e,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.enableShadow(t,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r),this.disableShadow(t,o),this.updateBoundingBox(e,n,t,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(Ku),hc=function(t){function e(t,n,i){return vu(this,e),Wu(this,Yu(e).call(this,t,n,i))}return qu(e,t),yu(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"triangle",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(ec),dc=function(t){function e(t,n,i){return vu(this,e),Wu(this,Yu(e).call(this,t,n,i))}return qu(e,t),yu(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"triangleDown",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(ec),fc=!1,pc="background: #FFeeee; color: #dd0000",vc=function(){var t=Math.min;function e(){vu(this,e)}return yu(e,null,[{key:"validate",value:function(t,n,i){fc=!1,$u=n;var r=n;return void 0!==i&&(r=n[i]),e.parse(t,r,[]),fc}},{key:"parse",value:function(t,n,i){for(var r in t)t.hasOwnProperty(r)&&e.check(r,t,n,i)}},{key:"check",value:function(t,n,i,r){if(void 0!==i[t]||void 0!==i.__any__){var o=t,s=!0;void 0===i[t]&&void 0!==i.__any__&&(o="__any__",s="object"===e.getType(n[t]));var a=i[o];s&&void 0!==a.__type__&&(a=a.__type__),e.checkFields(t,n,i,o,a,r)}else e.getSuggestion(t,i,r)}},{key:"checkFields",value:function(t,n,i,r,o,s){var a=function(n){console.log("%c"+n+e.printLocation(s,t),pc)},l=e.getType(n[t]),u=o[l];void 0===u?void 0===o.any&&(a('Invalid type received for "'+t+'". Expected: '+e.print(Object.keys(o))+". Received ["+l+'] "'+n[t]+'"'),fc=!0):"array"===e.getType(u)&&-1===u.indexOf(n[t])?(a('Invalid option detected in "'+t+'". Allowed values are:'+e.print(u)+' not "'+n[t]+'". '),fc=!0):"object"===l&&"__any__"!==r&&(s=jr.copyAndExtendArray(s,t),e.parse(n[t],i[r],s))}},{key:"getType",value:function(t){var e=Au(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0===t.nodeType?!0===t._isAMomentObject?"moment":"object":"dom":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(t,n,i){var r,o=e.findInOptions(t,n,i,!1),s=e.findInOptions(t,$u,[],!0);r=void 0===o.indexMatch?s.distance<=4&&o.distance>s.distance?" in "+e.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+e.printLocation(o.path,t):". Did you mean one of these: "+e.print(Object.keys(n))+e.printLocation(i,t):" in "+e.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n',console.log('%cUnknown option detected: "'+t+'"'+r,pc),fc=!0}},{key:"findInOptions",value:function(t,n,i){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],o=1e9,s="",a=[],l=t.toLowerCase(),u=void 0;for(var c in n){var h=void 0;if(void 0!==n[c].__type__&&!0===r){var d=e.findInOptions(t,n[c],jr.copyAndExtendArray(i,c));o>d.distance&&(s=d.closestMatch,a=d.path,o=d.distance,u=d.indexMatch)}else-1!==c.toLowerCase().indexOf(l)&&(u=c),h=e.levenshteinDistance(t,c),o>h&&(s=c,a=jr.copyArray(i),o=h)}return{closestMatch:s,path:a,distance:o,indexMatch:u}}},{key:"printLocation",value:function(t,e){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",i="\n\n"+n+"options = {\n",r=0;r<t.length;r++){for(var o=0;o<r+1;o++)i+="  ";i+=t[r]+": {\n"}for(var s=0;s<t.length+1;s++)i+="  ";i+=e+"\n";for(var a=0;a<t.length+1;a++){for(var l=0;l<t.length-a;l++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return JSON.stringify(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(e,n){if(0===e.length)return n.length;if(0===n.length)return e.length;var i,r,o=[];for(i=0;i<=n.length;i++)o[i]=[i];for(r=0;r<=e.length;r++)o[0][r]=r;for(i=1;i<=n.length;i++)for(r=1;r<=e.length;r++)o[i][r]=n.charAt(i-1)==e.charAt(r-1)?o[i-1][r-1]:t(o[i-1][r-1]+1,t(o[i][r-1]+1,o[i-1][r]+1));return o[n.length][e.length]}}]),e}();function gc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function mc(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?gc(e,!0).forEach((function(n){xu(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):gc(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var yc=function(){function t(e,n,i,r,o,s){vu(this,t),this.options=jr.bridgeObject(o),this.globalOptions=o,this.defaultOptions=s,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new zu(this.body,this.options,!1),this.setOptions(e)}return yu(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var n=this.options.shape;if(e){if("undefined"!=typeof e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var i=[e,this.options,this.defaultOptions];return this.chooser=Du.choosify("node",i),this._load_images(),this.updateLabelModule(e),this.updateShape(n),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0===this.options.image.selected?void 0:this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id)}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor!==this.options.shadow.color||t.shadowSize!==this.options.shadow.size||t.shadowX!==this.options.shadow.x||t.shadowY!==this.options.shadow.y)&&(t.shadow=!0)):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){(void 0===this.options.label||null===this.options.label)&&(this.options.label=""),t.updateGroupOptions(this.options,mc({},e,{color:e&&e.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1),i=[e,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Zu(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Qu(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Ju(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new tc(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new nc(this.options,this.body,this.labelModule);break;case"dot":this.shape=new ic(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new rc(this.options,this.body,this.labelModule);break;case"icon":this.shape=new oc(this.options,this.body,this.labelModule);break;case"image":this.shape=new sc(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new ac(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new lc(this.options,this.body,this.labelModule);break;case"star":this.shape=new uc(this.options,this.body,this.labelModule);break;case"text":this.shape=new cc(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new hc(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new dc(this.options,this.body,this.labelModule);break;default:this.shape=new rc(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&Du.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),Du.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,n){if(void 0!==n){var i=t.group;if(void 0!==e&&void 0!==e.group&&i!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof i||"string"==typeof i&&""!=i){var r=n.get(i),o=["font"];void 0!==e&&void 0!==e.color&&null!=e.color&&o.push("color"),jr.selectiveNotDeepExtend(o,t,r),t.color=jr.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,n){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;if(jr.selectiveNotDeepExtend(["color","fixed","shadow"],e,n,i),t.checkMass(n),jr.mergeOptions(e,n,"shadow",r),void 0!==n.color&&null!==n.color){var s=jr.parseColor(n.color);jr.fillIfDefined(e.color,s)}else!0===i&&null===n.color&&(e.color=jr.bridgeObject(r.color));void 0!==n.fixed&&null!==n.fixed&&("boolean"==typeof n.fixed?(e.fixed.x=n.fixed,e.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(e.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(e.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(e.font=jr.bridgeObject(r.font)),t.updateGroupOptions(e,n,o),void 0!==n.scaling&&jr.mergeOptions(e.scaling,n.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&0>=t.mass){var n="";void 0!==e&&(n=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+n+", setting mass to 1.",pc),t.mass=1}}}]),t}(),_c=function(){var t=Math.round,e=Math.max;function n(t,i,r,o){var s=this;if(vu(this,n),this.body=t,this.images=i,this.groups=r,this.layoutEngine=o,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,n,i,r){return n===t?.5:e(0,1/(n-t)*(r-t))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},0>=this.defaultOptions.mass)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=jr.bridgeObject(this.defaultOptions),this.bindEventListeners()}return yu(n,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){jr.forEach(t.nodesListeners,(function(e,n){t.body.data.nodes&&t.body.data.nodes.off(n,e)})),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(yc.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&(this.body.nodes[n].updateLabelModule(),this.body.nodes[n].needsRefresh());if(void 0!==t.size)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&this.body.nodes[i].needsRefresh();(void 0!==t.hidden||void 0!==t.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=this.body.data.nodes;if(t instanceof Uo||t instanceof Ho)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new Uo,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new Uo}if(n&&jr.forEach(this.nodesListeners,(function(t,e){n.off(e,t)})),this.body.nodes={},this.body.data.nodes){var i=this;jr.forEach(this.nodesListeners,(function(t,e){i.body.data.nodes.on(e,t)}));var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=[],r=0;r<t.length;r++){e=t[r];var o=this.body.data.nodes.get(e),s=this.create(o);i.push(s),this.body.nodes[e]=s}this.layoutEngine.positionInitially(i),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,n){for(var i=this.body.nodes,r=!1,o=0;o<t.length;o++){var s=t[o],a=i[s],l=e[o];void 0===a?(r=!0,a=this.create(l),i[s]=a):a.setOptions(l)&&(r=!0)}r||void 0===n||(r=e.some((function(t,e){var i=n[e];return i&&i.level!==t.level}))),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e,n=this.body.nodes,i=0;i<t.length;i++)e=t[i],delete n[e];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:yc;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];jr.forEach(this.body.nodes,(function(n,i){var r=t.body.data.nodes.get(i);void 0!==r&&(!0===e&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}))}},{key:"getPositions",value:function(e){var n={};if(void 0===e)for(var i,r=0;r<this.body.nodeIndices.length;r++)i=this.body.nodes[this.body.nodeIndices[r]],n[this.body.nodeIndices[r]]={x:t(i.x),y:t(i.y)};else if(!0===Array.isArray(e)){for(var o=0;o<e.length;o++)if(void 0!==this.body.nodes[e[o]]){var s=this.body.nodes[e[o]];n[e[o]]={x:t(s.x),y:t(s.y)}}}else if(void 0!==this.body.nodes[e]){var a=this.body.nodes[e];n[e]={x:t(a.x),y:t(a.y)}}return n}},{key:"storePositions",value:function(){var e=[],n=this.body.data.nodes.getDataSet();for(var i in n._data)if(n._data.hasOwnProperty(i)){var r=this.body.nodes[i];(n._data[i].x!=t(r.x)||n._data[i].y!=t(r.y))&&e.push({id:r.id,x:t(r.x),y:t(r.y)})}n.update(e)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var n=[];if(void 0!==this.body.nodes[t])for(var i,r=this.body.nodes[t],o={},s=0;s<r.edges.length;s++)i=r.edges[s],"to"!==e&&i.toId==r.id?void 0===o[i.fromId]&&(n.push(i.fromId),o[i.fromId]=!0):"from"!==e&&i.fromId==r.id&&void 0===o[i.toId]&&(n.push(i.toId),o[i.toId]=!0);return n}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],i=0;i<n.edges.length;i++)e.push(n.edges[i].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,n){var i=this;void 0===this.body.nodes[t]?console.log("Node id supplied to moveNode does not exist. Provided: ",t):(this.body.nodes[t].x=+e,this.body.nodes[t].y=+n,setTimeout((function(){i.body.emitter.emit("startSimulation")}),0))}}]),n}();function bc(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Yu(t),null!==t););return t}var wc=bc,kc=$o((function(t){function e(n,i,r){return t.exports=e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=wc(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},e(n,i,r||n)}t.exports=e})),xc=function(){var t=Math.cos,e=Math.sin;function n(){vu(this,n)}return yu(n,null,[{key:"transform",value:function(n,i){Array.isArray(n)||(n=[n]);for(var r=i.point.x,o=i.point.y,s=i.angle,a=i.length,l=0;l<n.length;++l){var u=n[l],c=u.x*t(s)-u.y*e(s),h=u.x*e(s)+u.y*t(s);u.x=r+a*c,u.y=o+a*h}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;++n)t.lineTo(e[n].x,e[n].y);t.closePath()}}]),n}(),Ec=function(t){function e(){return vu(this,e),Wu(this,Yu(e).apply(this,arguments))}return qu(e,t),yu(e,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];xc.transform(n,e),xc.drawPath(t,n)}}]),e}(xc),Sc=function(){function t(){vu(this,t)}return yu(t,null,[{key:"draw",value:function(t,e){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];xc.transform(n,e),xc.drawPath(t,n)}}]),t}(),Tc=function(){var t=Math.PI;function e(){vu(this,e)}return yu(e,null,[{key:"draw",value:function(e,n){var i={x:-.4,y:0};xc.transform(i,n),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var r=t,o=n.angle-r/2,s=n.angle+r/2;e.beginPath(),e.arc(i.x,i.y,.4*n.length,o,s,!1),e.stroke()}}]),e}(),Oc=function(){var t=Math.PI;function e(){vu(this,e)}return yu(e,null,[{key:"draw",value:function(e,n){var i={x:-.3,y:0};xc.transform(i,n),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var r=t,o=n.angle+r/2,s=n.angle+3*r/2;e.beginPath(),e.arc(i.x,i.y,.4*n.length,o,s,!1),e.stroke()}}]),e}(),Cc=function(){function t(){vu(this,t)}return yu(t,null,[{key:"draw",value:function(t,e){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];xc.transform(n,e),xc.drawPath(t,n)}}]),t}(),Ic=function(){function t(){vu(this,t)}return yu(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];xc.transform(n,e),xc.drawPath(t,n)}}]),t}(),Nc=function(){function t(){vu(this,t)}return yu(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};xc.transform(n,e),t.circle(n.x,n.y,.4*e.length)}}]),t}(),Mc=function(){function t(){vu(this,t)}return yu(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];xc.transform(n,e),xc.drawPath(t,n)}}]),t}(),Ac=function(){function t(){vu(this,t)}return yu(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];xc.transform(n,e),xc.drawPath(t,n)}}]),t}(),Dc=function(){function t(){vu(this,t)}return yu(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];xc.transform(n,e),xc.drawPath(t,n)}}]),t}(),Pc=function(){function t(){vu(this,t)}return yu(t,null,[{key:"draw",value:function(t,e){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];xc.transform(n,e),xc.drawPath(t,n)}}]),t}(),Rc=function(){function t(){vu(this,t)}return yu(t,null,[{key:"draw",value:function(t,e){var n;switch(e.type&&(n=e.type.toLowerCase()),n){case"circle":Nc.draw(t,e);break;case"box":Ac.draw(t,e);break;case"crow":Sc.draw(t,e);break;case"curve":Tc.draw(t,e);break;case"diamond":Dc.draw(t,e);break;case"inv_curve":Oc.draw(t,e);break;case"triangle":Cc.draw(t,e);break;case"inv_triangle":Ic.draw(t,e);break;case"bar":Mc.draw(t,e);break;case"vee":Pc.draw(t,e);break;case"arrow":default:Ec.draw(t,e)}}}]),t}();function Lc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Fc(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?Lc(e,!0).forEach((function(n){xu(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Lc(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var jc=function(){var t=Math.atan2,e=Math.cos,n=Math.sin,i=Math.sqrt,r=Math.PI,o=Math.pow,s=Math.max,a=Math.abs;function l(t,e,n){vu(this,l),this._body=e,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return yu(l,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1===e.dashes?this._drawLine(t,e,n):this._drawDashedLine(t,e,n)}},{key:"_drawLine",value:function(t,e,n,i,r){if(this.from!=this.to)this._line(t,e,n,i,r);else{var o=this._getCircleData(t),s=Mu(o,3),a=s[0],l=s[1],u=s[2];this._circle(t,e,a,l,u)}}},{key:"_drawDashedLine",value:function(t,e,n){t.lineCap="round";var i=Array.isArray(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(i),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,n);else{var r=this._getCircleData(t),o=Mu(r,3),s=o[0],a=o[1],l=o[2];this._circle(t,e,s,a,l)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,i);else{var u=this._getCircleData(t),c=Mu(u,3),h=c[0],d=c[1],f=c[2];this._circle(t,e,h,d,f)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,n){return this.from==this.to?this._findBorderPositionCircle(t,e,n):this._findBorderPosition(t,e,n)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e=this._getCircleData(t).slice(0,2),n=Mu(e,2),i=n[0],r=n[1];return{from:this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e,n,i=this.from,r=this.options.selfReferenceSize;return void 0!==t&&void 0===i.shape.width&&i.shape.resize(t),i.shape.width>i.shape.height?(e=i.x+.5*i.shape.width,n=i.y-r):(e=i.x+r,n=i.y-.5*i.shape.height),[e,n,r]}},{key:"_pointOnCircle",value:function(t,i,o,s){var a=2*s*r;return{x:t+o*e(a),y:i-o*n(a)}}},{key:"_findBorderPositionCircle",value:function(e,n,r){var s,l=r.x,u=r.y,c=r.low,h=r.high,d=r.direction,f=this.options.selfReferenceSize,p=.5*(c+h),v=0;do{p=.5*(c+h),s=this._pointOnCircle(l,u,f,p);var g=t(e.y-s.y,e.x-s.x),m=e.distanceToBorder(n,g),y=i(o(s.x-e.x,2)+o(s.y-e.y,2)),_=m-y;if(a(_)<.05)break;0<_?0<d?c=p:h=p:0<d?h=p:c=p,++v}while(c<=h&&v<10);return Fc({},s,{t:p})}},{key:"getLineWidth",value:function(t,e){return s(!0===t?this.selectionWidth:!0===e?this.hoverWidth:this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var n=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(i=gr(this.from.options.color.border,e.opacity),r=gr(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,r),n}return"to"===e.inheritsColor?gr(this.to.options.color.border,e.opacity):gr(this.from.options.color.border,e.opacity)}return gr(e.color,e.opacity)}},{key:"_circle",value:function(t,e,n,i,o){this.enableShadow(t,e),t.beginPath(),t.arc(n,i,o,0,2*r,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,n,r,o,s){if(this.from!=this.to)return this._getDistanceToEdge(t,e,n,r,o,s);var l=this._getCircleData(void 0),u=Mu(l,3),c=u[0],h=u[1],d=u[2],f=c-o,p=h-s;return a(i(f*f+p*p)-d)}},{key:"_getDistanceToLine",value:function(t,e,n,r,o,s){var a=n-t,l=r-e,u=((o-t)*a+(s-e)*l)/(a*a+l*l);1<u?u=1:0>u&&(u=0);var c=t+u*a,h=e+u*l,d=c-o,f=h-s;return i(d*d+f*f)}},{key:"getArrowData",value:function(i,o,s,l,u,c){var h,d,f,p,v,g,m,y=Math.hypot,_=c.width;"from"===o?(f=this.from,p=this.to,v=0>c.fromArrowScale,g=a(c.fromArrowScale),m=c.fromArrowType):"to"===o?(f=this.to,p=this.from,v=0>c.toArrowScale,g=a(c.toArrowScale),m=c.toArrowType):(f=this.to,p=this.from,v=0>c.middleArrowScale,g=a(c.middleArrowScale),m=c.middleArrowType);var b=15*g+3*_;if(f!=p){var w=y(f.x-p.x,f.y-p.y),k=b/w;if("middle"===o){var x=(v?-k:k)/2,E=this.getPoint(.5+x,s),S=this.getPoint(.5-x,s);h=t(E.y-S.y,E.x-S.x),d=this.getPoint(.5,s)}else if(!0===this.options.smooth.enabled){var T=this._findBorderPosition(f,i,{via:s}),O=this.getPoint(T.t+k*("from"===o?1:-1),s);h=t(T.y-O.y,T.x-O.x),d=T}else h=t(f.y-p.y,f.x-p.x),d=this._findBorderPosition(f,i)}else{var C=this._getCircleData(i),I=Mu(C,3),N=I[0],M=I[1],A=I[2];if("from"===o){var D=this._findBorderPositionCircle(this.from,i,{x:N,y:M,low:.25,high:.6,direction:-1});h=-2*D.t*r+1.5*r+.1*r,d=D}else if("to"===o){var P=this._findBorderPositionCircle(this.from,i,{x:N,y:M,low:.6,high:1,direction:1});h=-2*P.t*r+1.5*r-1.1*r,d=P}else d=this._pointOnCircle(N,M,A,.175),h=3.9269908169872414}var R=d.x-.9*b*e(h),L=d.y-.9*b*n(h);return{point:d,core:{x:R,y:L},angle:h,length:b,type:m}}},{key:"drawArrowHead",value:function(t,e,n,i,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,Rc.draw(t,r),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var n={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=n.strokeStyle,t.lineWidth=n.lineWidth,t.dashes=n.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1===e)void 0===t.setLineDash?console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used."):t.setLineDash([]);else if(void 0!==t.setLineDash){var n=Array.isArray(e)?e:[5,5];t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),l}();function zc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Bc(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?zc(e,!0).forEach((function(n){xu(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):zc(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var Uc=function(t){var e=Math.atan2,n=Math.sqrt,i=Math.pow,r=Math.abs;function o(t,e,n){return vu(this,o),Wu(this,Yu(o).call(this,t,e,n))}return qu(o,t),yu(o,[{key:"_findBorderPositionBezier",value:function(t,o){var s,a,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),u=!1,c=1,h=0,d=this.to;t.id===this.from.id&&(d=this.from,u=!0);var f=0;do{a=.5*(h+c),s=this.getPoint(a,l);var p=e(d.y-s.y,d.x-s.x),v=d.distanceToBorder(o,p),g=n(i(s.x-d.x,2)+i(s.y-d.y,2)),m=v-g;if(r(m)<.2)break;0>m?!1===u?h=a:c=a:!1===u?c=a:h=a,++f}while(h<=c&&f<10);return Bc({},s,{t:a})}},{key:"_getDistanceToBezierEdge",value:function(t,e,n,r,o,s,a){var l,u,c,h,d,f=1e9,p=t,v=e;for(u=1;10>u;u++)c=.1*u,h=i(1-c,2)*t+2*c*(1-c)*a.x+i(c,2)*n,d=i(1-c,2)*e+2*c*(1-c)*a.y+i(c,2)*r,0<u&&(l=this._getDistanceToLine(p,v,h,d,o,s),f=l<f?l:f),p=h,v=d;return f}},{key:"_bezierCurve",value:function(t,e,n,i){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=i&&null!=i.x?t.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),o}(jc),Hc=function(t){var e=Math.cos,n=Math.sin,i=Math.PI,r=Math.pow;function o(t,e,n){var i;return vu(this,o),i=Wu(this,Yu(o).call(this,t,e,n)),i.via=i.via,i._boundFunction=function(){i.positionBezierNode()},i._body.emitter.on("_repositionBezierNodes",i._boundFunction),i}return qu(o,t),yu(o,[{key:"setOptions",value:function(t){kc(Yu(o.prototype),"setOptions",this).call(this,t);var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),1==e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var s=this._getCircleData(),a=Mu(s,3),l=a[0],u=a[1],c=a[2],h=2*i*(1-t);return{x:l+c*n(h),y:u+c-c*(1-e(h))}}return{x:r(1-t,2)*this.fromPoint.x+2*t*(1-t)*o.x+r(t,2)*this.toPoint.x,y:r(1-t,2)*this.fromPoint.y+2*t*(1-t)*o.y+r(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToBezierEdge(t,e,n,i,r,o,this.via)}}]),o}(Uc),Wc=function(t){var e=Math.atan2,n=Math.cos,i=Math.sin,r=Math.sqrt,o=Math.PI,s=Math.pow,a=Math.abs;function l(t,e,n){return vu(this,l),Wu(this,Yu(l).call(this,t,e,n))}return qu(l,t),yu(l,[{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,s,l=this.options.smooth.roundness,u=this.options.smooth.type,c=a(this.from.x-this.to.x),h=a(this.from.y-this.to.y);if("discrete"===u||"diagonalCross"===u){var d,f;d=f=c<=h?l*h:l*c,this.from.x>this.to.x&&(d=-d),this.from.y>=this.to.y&&(f=-f);var p=this.from.x+d,v=this.from.y+f;return"discrete"===u&&(c<=h?p=c<l*h?this.from.x:p:v=h<l*c?this.from.y:v),{x:p,y:v}}if("straightCross"===u){var g=(1-l)*c,m=(1-l)*h;return c<=h?(g=0,this.from.y<this.to.y&&(m=-m)):(this.from.x<this.to.x&&(g=-g),m=0),{x:this.to.x+g,y:this.to.y+m}}if("horizontal"===u){var y=(1-l)*c;return this.from.x<this.to.x&&(y=-y),{x:this.to.x+y,y:this.from.y}}if("vertical"===u){var _=(1-l)*h;return this.from.y<this.to.y&&(_=-_),{x:this.from.x,y:this.to.y+_}}if("curvedCW"===u){c=this.to.x-this.from.x,h=this.from.y-this.to.y;var b=r(c*c+h*h),w=o,k=e(h,c),x=(k+(.5*l+.5)*w)%(2*w);return{x:this.from.x+(.5*l+.5)*b*i(x),y:this.from.y+(.5*l+.5)*b*n(x)}}if("curvedCCW"===u){c=this.to.x-this.from.x,h=this.from.y-this.to.y;var E=r(c*c+h*h),S=o,T=e(h,c),O=(T+(.5*-l+.5)*S)%(2*S);return{x:this.from.x+(.5*l+.5)*E*i(O),y:this.from.y+(.5*l+.5)*E*n(O)}}t=s=c<=h?l*h:l*c,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(s=-s);var C=this.from.x+t,I=this.from.y+s;return c<=h?C=this.from.x<=this.to.x?this.to.x<C?this.to.x:C:this.to.x>C?this.to.x:C:I=this.from.y>=this.to.y?this.to.y>I?this.to.y:I:this.to.y<I?this.to.y:I,{x:C,y:I}}},{key:"_findBorderPosition",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,n.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){var s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,n,i,r,o,s)}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=t,i=s(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+s(n,2)*this.toPoint.x,r=s(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+s(n,2)*this.toPoint.y;return{x:i,y:r}}}]),l}(Uc),Yc=function(t){var e=Math.pow;function n(t,e,i){return vu(this,n),Wu(this,Yu(n).call(this,t,e,i))}return qu(n,t),yu(n,[{key:"_getDistanceToBezierEdge2",value:function(t,n,i,r,o,s,a,l){for(var u,c=1e9,h=t,d=n,f=[0,0,0,0],p=1;10>p;p++){u=.1*p,f[0]=e(1-u,3),f[1]=3*u*e(1-u,2),f[2]=3*e(u,2)*(1-u),f[3]=e(u,3);var v=f[0]*t+f[1]*a.x+f[2]*l.x+f[3]*i,g=f[0]*n+f[1]*a.y+f[2]*l.y+f[3]*r;if(0<p){var m=this._getDistanceToLine(h,d,v,g,o,s);c=m<c?m:c}h=v,d=g}return c}}]),n}(Uc),Vc=function(t){var e=Math.pow,n=Math.abs;function i(t,e,n){return vu(this,i),Wu(this,Yu(i).call(this,t,e,n))}return qu(i,t),yu(i,[{key:"_line",value:function(t,e,n){var i=n[0],r=n[1];this._bezierCurve(t,e,i,r)}},{key:"_getViaCoordinates",value:function(){var t,e,i,r,o=this.from.x-this.to.x,s=this.from.y-this.to.y,a=this.options.smooth.roundness;return(n(o)>n(s)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,r=this.to.y,t=this.from.x-a*o,i=this.to.x+a*o):(e=this.from.y-a*s,r=this.to.y+a*s,t=this.from.x,i=this.to.x),[{x:t,y:e},{x:i,y:r}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){var s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),a=Mu(s,2),l=a[0],u=a[1];return this._getDistanceToBezierEdge2(t,e,n,i,r,o,l,u)}},{key:"getPoint",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=Mu(n,2),r=i[0],o=i[1],s=t,a=[e(1-s,3),3*s*e(1-s,2),3*e(s,2)*(1-s),e(s,3)],l=a[0]*this.fromPoint.x+a[1]*r.x+a[2]*o.x+a[3]*this.toPoint.x,u=a[0]*this.fromPoint.y+a[1]*r.y+a[2]*o.y+a[3]*this.toPoint.y;return{x:l,y:u}}}]),i}(Yc),Gc=function(t){var e=Math.atan2,n=Math.sqrt;function i(t,e,n){return vu(this,i),Wu(this,Yu(i).call(this,t,e,n))}return qu(i,t),yu(i,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,i){var r=this.to,o=this.from;t.id===this.from.id&&(r=this.from,o=this.to);var s=e(r.y-o.y,r.x-o.x),a=r.x-o.x,l=r.y-o.y,u=n(a*a+l*l),c=t.distanceToBorder(i,s),h=(u-c)/u;return{x:(1-h)*o.x+h*r.x,y:(1-h)*o.y+h*r.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToLine(t,e,n,i,r,o)}}]),i}(jc),$c=function(){var t=Math.atan2,e=Math.cos,n=Math.sin,i=Math.PI,r=Math.max,o=Math.min;function s(t,e,n,i){if(vu(this,s),void 0===e)throw new Error("No body provided");this.options=jr.bridgeObject(n),this.globalOptions=n,this.defaultOptions=i,this.body=e,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new zu(this.body,this.options,!0),this.setOptions(t)}return yu(s,[{key:"setOptions",value:function(t){if(t){var e=this.options.hidden;(void 0===e||null===e)&&(e=!1),s.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=parseFloat(t.value));var n=[t,this.options,this.defaultOptions];this.chooser=Du.choosify("edge",n),this.updateLabelModule(t);var i=this.updateEdgeType();this._setInteractionWidths(),this.connect();var r=this.options.hidden;return(void 0===r||null===r)&&(r=!1),(r!=e||void 0!==t.physics)&&(i=!0),void 0!==t.physics&&(i=!0),i}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,i=this.options.color.inherit,o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover){if(!0!==this.chooser)"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor!==this.options.shadow.color||o.shadowSize!==this.options.shadow.size||o.shadowX!==this.options.shadow.x||o.shadowY!==this.options.shadow.y)&&(o.shadow=!0));else if(this.selected){var s=this.options.selectionWidth;"function"==typeof s?o.width=s(o.width):"number"==typeof s&&(o.width+=s),o.width=r(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;"function"==typeof a?o.width=a(o.width):"number"==typeof a&&(o.width+=a),o.width=r(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else o.shadow=this.options.shadow.enabled,o.width=r(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof Hc&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof Vc&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof Wc&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof Gc&&!1===t.type.enabled)&&(n=!1),!0===n&&(e=this.cleanup())),!0===n?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new Hc(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new Vc(this.options,this.body,this.labelModule):this.edgeType=new Wc(this.options,this.body,this.labelModule):this.edgeType=new Gc(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(i.from=this.edgeType.getArrowData(t,"from",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core)),e.toArrow&&(i.to=this.edgeType.getArrowData(t,"to",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core)),e.middleArrow&&(i.middle=this.edgeType.getArrowData(t,"middle",n,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,n),this.drawArrows(t,i,e),this.drawLabel(t,n)}}},{key:"drawArrows",value:function(t,e,n){n.fromArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.from),n.middleArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.middle),n.toArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var n=this.from,i=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),n.id!=i.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,e);t.save();var o=this._getRotation(t);0!=o.angle&&(t.translate(o.x,o.y),t.rotate(o.angle)),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s,a,l=this.options.selfReferenceSize;n.shape.width>n.shape.height?(s=n.x+.5*n.shape.width,a=n.y-l):(s=n.x+l,a=n.y-.5*n.shape.height),r=this._pointOnCircle(s,a,l,.125),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var n=this._getRotation();Du.pointInRect(this.labelModule.getSize(),t,n)&&e.push({edgeId:this.id,labelId:0})}var i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,n=this.from.y,i=this.to.x,r=this.to.y,o=t.left,s=t.top,a=this.edgeType.getDistanceToEdge(e,n,i,r,o,s);return 10>a}return!1}},{key:"_getRotation",value:function(e){var n=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,n);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);var o={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return o;if("horizontal"===this.options.font.align)return o;var s=this.from.y-this.to.y,a=this.from.x-this.to.x,l=t(s,a);return(-1>l&&0>a||0<l&&0>a)&&(l+=i),o.angle=l,o}},{key:"_pointOnCircle",value:function(t,r,o,s){var a=2*s*i;return{x:t+o*e(a),y:r-o*n(a)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},s=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4];if(jr.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],t,e,n),Du.isValidLabel(e.label)?t.label=e.label:!Du.isValidLabel(t.label)&&(t.label=void 0),jr.mergeOptions(t,e,"smooth",i),jr.mergeOptions(t,e,"shadow",i),jr.mergeOptions(t,e,"background",i),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===n&&null===e.dashes&&(t.dashes=Object.create(i.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),jr.mergeOptions(t.scaling,e.scaling,"label",i.scaling)):!0===n&&null===e.scaling&&(t.scaling=Object.create(i.scaling)),void 0===e.arrows||null===e.arrows)!0===n&&null===e.arrows&&(t.arrows=Object.create(i.arrows));else if("string"==typeof e.arrows){var a=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=a.indexOf("to"),t.arrows.middle.enabled=-1!=a.indexOf("middle"),t.arrows.from.enabled=-1!=a.indexOf("from")}else{if("object"!==Au(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(e.arrows));jr.mergeOptions(t.arrows,e.arrows,"to",i.arrows),jr.mergeOptions(t.arrows,e.arrows,"middle",i.arrows),jr.mergeOptions(t.arrows,e.arrows,"from",i.arrows)}if(void 0!==e.color&&null!==e.color){var l=jr.isString(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,u=t.color;if(s)jr.deepExtend(u,i.color,!1,n);else for(var c in u)u.hasOwnProperty(c)&&delete u[c];if(jr.isString(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,void 0===l.opacity&&(u.opacity=1);else{var h=!1;void 0!==l.color&&(u.color=l.color,h=!0),void 0!==l.highlight&&(u.highlight=l.highlight,h=!0),void 0!==l.hover&&(u.hover=l.hover,h=!0),void 0!==l.inherit&&(u.inherit=l.inherit),void 0!==l.opacity&&(u.opacity=o(1,r(0,l.opacity))),1==h?u.inherit=!1:void 0===u.inherit&&(u.inherit="from")}}else!0===n&&null===e.color&&(t.color=jr.bridgeObject(i.color));!0===n&&null===e.font&&(t.font=jr.bridgeObject(i.font))}}]),s}(),qc=function(){var t=Math.max;function e(n,i,r){var o=this;vu(this,e),this.body=n,this.images=i,this.groups=r,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,n,i,r){return n===e?.5:t(0,1/(n-e)*(r-e))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},jr.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return yu(e,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(e){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var i=!1;for(var r in t.body.edges)if(t.body.edges.hasOwnProperty(r)){var o=t.body.edges[r],s=t.body.data.edges._data[r];if(void 0!==s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===e?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:e}}),i=!0)}}!0===n&&1==i&&t.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){t.reconnectEdges()})),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){jr.forEach(t.edgesListeners,(function(e,n){t.body.data.edges&&t.body.data.edges.off(n,e)})),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){$c.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&(e=this.body.edges[n].updateEdgeType()||e);if(void 0!==t.font)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&this.body.edges[i].updateLabelModule();(void 0!==t.hidden||void 0!==t.physics||!0===e)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=this.body.data.edges;if(t instanceof Uo||t instanceof Ho)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new Uo,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new Uo}if(i&&jr.forEach(this.edgesListeners,(function(t,e){i.off(e,t)})),this.body.edges={},this.body.data.edges){jr.forEach(this.edgesListeners,(function(t,n){e.body.data.edges.on(n,t)}));var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=this.body.edges,i=this.body.data.edges,r=0;r<t.length;r++){var o=t[r],s=n[o];s&&s.disconnect();var a=i.get(o,{showInternalIds:!0});n[o]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,n=this.body.data.edges,i=!1,r=0;r<t.length;r++){var o=t[r],s=n.get(o),a=e[o];void 0===a?(this.body.edges[o]=this.create(s),i=!0):(a.disconnect(),i=a.setOptions(s)||i,a.connect())}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var n=this.body.edges;jr.forEach(t,(function(t){var e=n[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;jr.forEach(this.body.edges,(function(e,n){var i=t.body.data.edges._data[n];void 0!==i&&e.setOptions(i)}))}},{key:"create",value:function(t){return new $c(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,n=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in n)if(n.hasOwnProperty(t)){var i=n[t];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var n=this.body.edges[t];void 0!==n.fromId&&e.push(n.fromId),void 0!==n.toId&&e.push(n.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];jr.forEach(this.body.edges,(function(n,i){var r=t.body.nodes[n.toId],o=t.body.nodes[n.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||(void 0===r||void 0===o)&&e.push(i)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(void 0!==t&&null!==t){var e=this.body.edges,n=[];t.forEach((function(t,i){var r=e[i];void 0===r&&n.push(i)})),this.add(n,!0)}}}]),e}(),Kc=function(){var t=Math.sin,e=Math.sqrt,n=Math.pow,i=Math.max,r=Math.abs,o=Math.min,s=Math.floor;function a(t,e,n){vu(this,a),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return yu(a,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-i(0,o(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var e=1e4*t(this.randomSeed++);return e-s(e)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&0<this.physicsBody.physicsNodeIndices.length){var t,e=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,r=this._formBarnesHutTree(e,n);this.barnesHutTree=r;for(var o=0;o<i;o++)t=e[n[o]],0<t.options.mass&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,n){var i,r,o;0<t.childrenCount&&(i=t.centerOfMass.x-n.x,r=t.centerOfMass.y-n.y,o=e(i*i+r*r),o*t.calcSize>this.thetaInversed?this._calculateForces(o,i,r,n,t):4===t.childrenCount?this._getForceContributions(t,n):t.children.data.id!=n.id&&this._calculateForces(o,i,r,n,t))}},{key:"_calculateForces",value:function(t,e,r,o,s){0===t&&(t=.1,e=t),1>this.overlapAvoidanceFactor&&o.shape.radius&&(t=i(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var a=this.options.gravitationalConstant*s.mass*o.options.mass/n(t,3),l=e*a;this.physicsBody.forces[o.id].x+=l,this.physicsBody.forces[o.id].y+=r*a}},{key:"_formBarnesHutTree",value:function(t,e){for(var n,o=e.length,s=t[e[0]].x,a=t[e[0]].y,l=t[e[0]].x,u=t[e[0]].y,c=1;c<o;c++){var h=t[e[c]],d=h.x,f=h.y;0<h.options.mass&&(d<s&&(s=d),d>l&&(l=d),f<a&&(a=f),f>u&&(u=f))}var p=r(l-s)-r(u-a);0<p?(a-=.5*p,u+=.5*p):(s+=.5*p,l-=.5*p);var v=i(1e-5,r(l-s)),g=.5*v,m=.5*(s+l),y=.5*(a+u),_={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-g,maxX:m+g,minY:y-g,maxY:y+g},size:v,calcSize:1/v,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(_.root);for(var b=0;b<o;b++)n=t[e[b]],0<n.options.mass&&this._placeInTree(_.root,n);return _}},{key:"_updateBranchMass",value:function(t,e){var n=t.centerOfMass,r=t.mass+e.options.mass,o=1/r;n.x=n.x*t.mass+e.x*e.options.mass,n.x*=o,n.y=n.y*t.mass+e.y*e.options.mass,n.y*=o,t.mass=r;var s=i(i(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<s?s:t.maxWidth}},{key:"_placeInTree",value:function(t,e,n){(1!=n||void 0===n)&&this._updateBranchMass(t,e);var i,r=t.children.NW.range;i=r.maxX>e.x?r.maxY>e.y?"NW":"SW":r.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,i)}},{key:"_placeInRegion",value:function(t,e,n){var i=t.children[n];switch(i.childrenCount){case 0:i.children.data=e,i.childrenCount=1,this._updateBranchMass(i,e);break;case 1:i.children.data.x===e.x&&i.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(i),this._placeInTree(i,e));break;case 4:this._placeInTree(i,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var n,i,r,o,s=.5*t.size;"NW"===e?(n=t.range.minX,i=t.range.minX+s,r=t.range.minY,o=t.range.minY+s):"NE"===e?(n=t.range.minX+s,i=t.range.maxX,r=t.range.minY,o=t.range.minY+s):"SW"===e?(n=t.range.minX,i=t.range.minX+s,r=t.range.minY+s,o=t.range.maxY):"SE"===e&&(n=t.range.minX+s,i=t.range.maxX,r=t.range.minY+s,o=t.range.maxY),t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:r,maxY:o},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,n){void 0===n&&(n="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=n,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),a}(),Zc=function(){var t=Math.sqrt;function e(t,n,i){vu(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return yu(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var e,n,i,r,o,s,a,l,u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,d=this.options.nodeDistance,f=0;f<c.length-1;f++){a=u[c[f]];for(var p=f+1;p<c.length;p++)l=u[c[p]],e=l.x-a.x,n=l.y-a.y,i=t(e*e+n*n),0===i&&(i=.1*Math.random(),e=i),i<2*d&&(s=i<.5*d?1:-2/3/d*i+4/3,s/=i,r=e*s,o=n*s,h[a.id].x-=r,h[a.id].y-=o,h[l.id].x+=r,h[l.id].y+=o)}}}]),e}(),Xc=function(){var t=Math.sqrt,e=Math.pow;function n(t,e,i){vu(this,n),this.body=t,this.physicsBody=e,this.setOptions(i)}return yu(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var n,i,r,o,s,a,l,u,c,h,d=this.body.nodes,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,v=this.options.nodeDistance;for(c=0;c<f.length-1;c++)for(l=d[f[c]],h=c+1;h<f.length;h++)if(u=d[f[h]],l.level===u.level){n=u.x-l.x,i=u.y-l.y,r=t(n*n+i*i);var g=.05;a=r<v?-e(g*r,2)+e(g*v,2):0,0===r?r=.01:a/=r,o=n*a,s=i*a,p[l.id].x-=o,p[l.id].y-=s,p[u.id].x+=o,p[u.id].y+=s}}}]),n}(),Qc=function(){var t=Math.sqrt,e=Math.max;function n(t,e,i){vu(this,n),this.body=t,this.physicsBody=e,this.setOptions(i)}return yu(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o=this.physicsBody.physicsEdgeIndices,s=this.body.edges,a=0;a<o.length;a++)e=s[o[a]],!0===e.connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0===e.edgeType.via?(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)):(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.to,i=e.edgeType.via,r=e.from,this._calculateSpringForce(n,i,.5*t),this._calculateSpringForce(i,r,.5*t)))}},{key:"_calculateSpringForce",value:function(n,i,r){var o=n.x-i.x,s=n.y-i.y,a=e(t(o*o+s*s),.01),l=this.options.springConstant*(r-a)/a,u=o*l,c=s*l;void 0!==this.physicsBody.forces[n.id]&&(this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=c),void 0!==this.physicsBody.forces[i.id]&&(this.physicsBody.forces[i.id].x-=u,this.physicsBody.forces[i.id].y-=c)}}]),n}(),Jc=function(){var t=Math.sqrt,e=Math.max,n=Math.min;function i(t,e,n){vu(this,i),this.body=t,this.physicsBody=e,this.setOptions(n)}return yu(i,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var i,r,o,s,a,l,u,c,h,d=this.body.edges,f=.5,p=this.physicsBody.physicsEdgeIndices,v=this.physicsBody.physicsNodeIndices,g=this.physicsBody.forces,m=0;m<v.length;m++)h=v[m],g[h].springFx=0,g[h].springFy=0;for(var y=0;y<p.length;y++)r=d[p[y]],!0===r.connected&&(i=void 0===r.options.length?this.options.springLength:r.options.length,o=r.from.x-r.to.x,s=r.from.y-r.to.y,c=t(o*o+s*s),c=0===c?.01:c,u=this.options.springConstant*(i-c)/c,a=o*u,l=s*u,r.to.level==r.from.level?(void 0!==g[r.toId]&&(g[r.toId].x-=f*a,g[r.toId].y-=f*l),void 0!==g[r.fromId]&&(g[r.fromId].x+=f*a,g[r.fromId].y+=f*l)):(void 0!==g[r.toId]&&(g[r.toId].springFx-=a,g[r.toId].springFy-=l),void 0!==g[r.fromId]&&(g[r.fromId].springFx+=a,g[r.fromId].springFy+=l)));u=1;for(var _,b,w,k=0;k<v.length;k++)w=v[k],_=n(u,e(-u,g[w].springFx)),b=n(u,e(-u,g[w].springFy)),g[w].x+=_,g[w].y+=b;for(var x,E=0,S=0,T=0;T<v.length;T++)x=v[T],E+=g[x].x,S+=g[x].y;for(var O,C=E/v.length,I=S/v.length,N=0;N<v.length;N++)O=v[N],g[O].x-=C,g[O].y-=I}}]),i}(),th=function(){var t=Math.sqrt;function e(t,n,i){vu(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return yu(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var e,n,i,r,o,s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,u=0;u<a.length;u++)o=a[u],r=s[o],e=-r.x,n=-r.y,i=t(e*e+n*n),this._calculateForces(i,e,n,l,r)}},{key:"_calculateForces",value:function(t,e,n,i,r){var o=0===t?0:this.options.centralGravity/t;i[r.id].x=e*o,i[r.id].y=n*o}}]),e}(),eh=function(t){var e=Math.pow,n=Math.max;function i(t,e,n){return vu(this,i),Wu(this,Yu(i).call(this,t,e,n))}return qu(i,t),yu(i,[{key:"_calculateForces",value:function(t,i,r,o,s){0===t&&(t=.1*Math.random(),i=t),1>this.overlapAvoidanceFactor&&o.shape.radius&&(t=n(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var a=o.edges.length+1,l=this.options.gravitationalConstant*s.mass*o.options.mass*a/e(t,2),u=i*l;this.physicsBody.forces[o.id].x+=u,this.physicsBody.forces[o.id].y+=r*l}}]),i}(Kc),nh=function(t){function e(t,n,i){return vu(this,e),Wu(this,Yu(e).call(this,t,n,i))}return qu(e,t),yu(e,[{key:"_calculateForces",value:function(t,e,n,i,r){if(0<t){var o=r.edges.length+1,s=this.options.centralGravity*o*r.options.mass;i[r.id].x=e*s,i[r.id].y=n*s}}}]),e}(th),ih=function(){var t=Math.atan2,e=Math.sqrt,n=Math.pow,i=Math.max,r=Math.abs,o=Math.min;function s(t){vu(this,s),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},jr.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return yu(s,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,jr.selectiveNotDeepExtend(["stabilization"],this.options,t),jr.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new eh(this.body,this.physicsBody,t),this.edgesSolver=new Qc(this.body,this.physicsBody,t),this.gravitySolver=new nh(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new Zc(this.body,this.physicsBody,t),this.edgesSolver=new Qc(this.body,this.physicsBody,t),this.gravitySolver=new th(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new Xc(this.body,this.physicsBody,t),this.edgesSolver=new Jc(this.body,this.physicsBody,t),this.gravitySolver=new th(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new Kc(this.body,this.physicsBody,t),this.edgesSolver=new Qc(this.body,this.physicsBody,t),this.gravitySolver=new th(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick();var e=Date.now()-t;(e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(1<this.stabilizationIterations||!0===this.startedStabilization)&&setTimeout((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var t=1.2;!0===this._evaluateStepQuality()?this.timestep=t*this.timestep:this.timestep/t<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=i(this.options.timestep,this.timestep/t))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled){var t=0==this.adaptiveCounter%this.adaptiveInterval;t?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var n in t)t.hasOwnProperty(n)&&!0===t[n].options.physics&&this.physicsBody.physicsNodeIndices.push(t[n].id);for(var i in e)e.hasOwnProperty(i)&&!0===e[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[i].id);for(var r,o=0;o<this.physicsBody.physicsNodeIndices.length;o++)r=this.physicsBody.physicsNodeIndices[o],this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0});for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=Object.keys(this.previousStates),e=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i,r=0;r<t.length;r++)i=t[r],void 0===e[i]?delete this.previousStates[i]:!0===e[i].options.physics&&(this.referenceState[i]={positions:{x:e[i].x,y:e[i].y}},n[i].x=this.previousStates[i].vx,n[i].y=this.previousStates[i].vy,e[i].x=this.previousStates[i].x,e[i].y=this.previousStates[i].y)}},{key:"_evaluateStepQuality",value:function(){var t,i,r,o=this.body.nodes,s=this.referenceState;for(var a in this.referenceState)if(this.referenceState.hasOwnProperty(a)&&void 0!==o[a]&&(t=o[a].x-s[a].positions.x,i=o[a].y-s[a].positions.y,r=e(n(t,2)+n(i,2)),r>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,n=0,r=5,o=0;o<t.length;o++){var s=t[o],a=this._performStep(s);e=i(e,a),n+=a}this.adaptiveTimestepEnabled=n/t.length<r,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,n){var i=this.modelOptions.damping*t;t+=(e-i)/n*this.timestep;var o=this.options.maxVelocity||1e9;return r(t)>o&&(t=0<t?o:-o),t}},{key:"_performStep",value:function(t){var i=this.body.nodes[t],r=this.physicsBody.forces[t],o=this.physicsBody.velocities[t];this.previousStates[t]={x:i.x,y:i.y,vx:o.x,vy:o.y},!1===i.options.fixed.x?(o.x=this.calculateComponentVelocity(o.x,r.x,i.options.mass),i.x+=o.x*this.timestep):(r.x=0,o.x=0),!1===i.options.fixed.y?(o.y=this.calculateComponentVelocity(o.y,r.y,i.options.mass),i.y+=o.y*this.timestep):(r.y=0,o.y=0);var s=e(n(o.x,2)+n(o.y,2));return s}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var n=t[e].options.fixed;this.freezeCache[e]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;return"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0===this.physicsBody.physicsNodeIndices.length?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout((function(){return t._stabilizationBatch()}),0))}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},n=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&n();for(var i=0;e()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;n(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(r){for(var s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var a=this.physicsBody.physicsNodeIndices[s],l=this.body.nodes[a],u=this.physicsBody.forces[a],c=20,h=e(n(u.x,2)+n(u.x,2)),d=o(i(5,h),15),f=jr.HSVToHex((180-180*o(1,i(0,.03*h)))/360,1,1),p={x:l.x+c*u.x,y:l.y+c*u.y};r.lineWidth=d,r.strokeStyle=f,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(p.x,p.y),r.stroke();var v=t(u.y,u.x);r.fillStyle=f,Rc.draw(r,{type:"arrow",point:p,angle:v,length:3*d}),r.fill()}}}]),s}(),rh=function(){function t(){vu(this,t)}return yu(t,null,[{key:"getRange",value:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(0<n.length)for(var a=0;a<n.length;a++)e=t[n[a]],o>e.shape.boundingBox.left&&(o=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),i>e.shape.boundingBox.top&&(i=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"getRangeCore",value:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(0<n.length)for(var a=0;a<n.length;a++)e=t[n[a]],o>e.x&&(o=e.x),s<e.x&&(s=e.x),i>e.y&&(i=e.y),r<e.y&&(r=e.y);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var n={};return void 0===e||"node"===e?(jr.deepExtend(n,t.options,!0),n.x=t.x,n.y=t.y,n.amountOfConnections=t.edges.length):jr.deepExtend(n,t.options,!0),n}}]),t}(),oh=function(t){function e(t,n,i,r,o,s){var a;return vu(this,e),a=Wu(this,Yu(e).call(this,t,n,i,r,o,s)),a.isCluster=!0,a.containedNodes={},a.containedEdges={},a}return qu(e,t),yu(e,[{key:"_openChildCluster",value:function(t){var e=this,n=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],jr.forEach(n.edges,(function(t){delete e.containedEdges[t.id]})),jr.forEach(n.containedNodes,(function(t,n){e.containedNodes[n]=t})),n.containedNodes={},jr.forEach(n.containedEdges,(function(t,n){e.containedEdges[n]=t})),n.containedEdges={},jr.forEach(n.edges,(function(t){jr.forEach(e.edges,(function(n){var i=n.clusteringEdgeReplacingIds.indexOf(t.id);-1===i||(jr.forEach(t.clusteringEdgeReplacingIds,(function(t){n.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=n.id})),n.clusteringEdgeReplacingIds.splice(i,1))}))})),n.edges=[]}}]),e}(yc),sh=function(){var t=Math.sqrt,e=Math.pow,n=Math.floor;function i(t){var e=this;vu(this,i),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},jr.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){e.clusteredNodes={},e.clusteredEdges={}}))}return yu(i,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===Au(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var n,i=[],r=0;r<this.body.nodeIndices.length;r++)n=this.body.nodes[this.body.nodeIndices[r]],n.edges.length>=t&&i.push(n.id);for(var o=0;o<i.length;o++)this.clusterByConnection(i[o],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var i={},r={};jr.forEach(this.body.nodes,(function(n,o){n.options&&!0===e.joinCondition(n.options)&&(i[o]=n,jr.forEach(n.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)})))})),this._cluster(i,r,e,n)}},{key:"clusterByEdgeCount",value:function(t,e){var n=this,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r,o,s,a=[],l={},u=function(i){var u={},c={},p=n.body.nodeIndices[i],v=n.body.nodes[p];if(void 0===l[p]){s=0,o=[];for(var g=0;g<v.edges.length;g++)r=v.edges[g],void 0===n.clusteredEdges[r.id]&&(r.toId!==r.fromId&&s++,o.push(r));if(s===t){h=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var n=rh.cloneOptions(t);return e.joinCondition(n)};for(var m=!0,y=0;y<o.length;y++){r=o[y];var _=n._getConnectedId(r,p);if(!h(v)){m=!1;break}c[r.id]=r,u[p]=v,u[_]=n.body.nodes[_],l[p]=!0}if(0<Object.keys(u).length&&0<Object.keys(c).length&&!0===m)if(d=function(){for(var t=0;t<a.length;++t)for(var e in u)if(void 0!==a[t].nodes[e])return a[t]},f=d(),void 0!==f){for(var b in u)void 0===f.nodes[b]&&(f.nodes[b]=u[b]);for(var w in c)void 0===f.edges[w]&&(f.edges[w]=c[w])}else a.push({nodes:u,edges:c})}}},c=0;c<this.body.nodeIndices.length;c++){var h,d,f;u(c)}for(c=0;c<a.length;c++)this._cluster(a[c].nodes,a[c].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var i=this.body.nodes[t];e=this._checkOptions(e,i),void 0===e.clusterNodeProperties.x&&(e.clusterNodeProperties.x=i.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=i.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=i.options.fixed.x,e.clusterNodeProperties.fixed.y=i.options.fixed.y);var r={},o={},s=i.id,a=rh.cloneOptions(i);r[s]=i;for(var l,u=0;u<i.edges.length;u++)if(l=i.edges[u],void 0===this.clusteredEdges[l.id]){var c=this._getConnectedId(l,s);if(void 0===this.clusteredNodes[c])if(c===s)o[l.id]=l;else if(void 0===e.joinCondition)o[l.id]=l,r[c]=this.body.nodes[c];else{var h=rh.cloneOptions(this.body.nodes[c]);!0===e.joinCondition(a,h)&&(o[l.id]=l,r[c]=this.body.nodes[c])}}var d=Object.keys(r).map((function(t){return r[t].id}));for(p in r)if(r.hasOwnProperty(p))for(var f,p=r[p],v=0;v<p.edges.length;v++)f=p.edges[v],-1<d.indexOf(this._getConnectedId(f,p.id))&&(o[f.id]=f);this._cluster(r,o,e,n)}},{key:"_createClusterEdges",value:function(t,e,n,i){for(var r,o,s,a,l,u,c=Object.keys(t),h=[],d=0;d<c.length;d++){o=c[d],s=t[o];for(var f=0;f<s.edges.length;f++)r=s.edges[f],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==o?(a=n.id,l=r.fromId,u=l):(a=r.toId,l=n.id,u=a),void 0===t[u]&&h.push({edge:r,fromId:l,toId:a}))}for(var p=[],v=function(t){for(var e=0;e<p.length;e++){var n=p[e],i=t.fromId===n.fromId&&t.toId===n.toId,r=t.fromId===n.toId&&t.toId===n.fromId;if(i||r)return n}return null},g=0;g<h.length;g++){var m=h[g],y=m.edge,_=v(m);null===_?(_=this._createClusteredEdge(m.fromId,m.toId,y,i),p.push(_)):_.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=_.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,n){var i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=[];for(var o in t)t.hasOwnProperty(o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var s=0;s<r.length;++s)delete t[r[s]];if(0!=Object.keys(t).length&&(1!=Object.keys(t).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var a=jr.deepExtend({},n.clusterNodeProperties);if(void 0!==n.processProperties){var l=[];for(var u in t)if(t.hasOwnProperty(u)){var c=rh.cloneOptions(t[u]);l.push(c)}var h=[];for(var d in e)if(e.hasOwnProperty(d)&&"clusterEdge:"!==d.substr(0,12)){var f=rh.cloneOptions(e[d],"edge");h.push(f)}if(a=n.processProperties(a,l,h),!a)throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+jr.randomUUID());var p,v=a.id;void 0===a.label&&(a.label="cluster"),void 0===a.x&&(p=this._getClusterPosition(t),a.x=p.x),void 0===a.y&&(void 0===p&&(p=this._getClusterPosition(t)),a.y=p.y),a.id=v;var g=this.body.functions.createNode(a,oh);g.containedNodes=t,g.containedEdges=e,g.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=g,this._clusterEdges(t,e,a,n.clusterEdgeProperties),a.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0===this.body.nodes[t]?(console.log("Node does not exist."),!1):!0===this.body.nodes[t].isCluster}},{key:"_getClusterPosition",value:function(t){for(var e,n=Object.keys(t),i=t[n[0]].x,r=t[n[0]].x,o=t[n[0]].y,s=t[n[0]].y,a=1;a<n.length;a++)e=t[n[a]],i=e.x<i?e.x:i,r=e.x>r?e.x:r,o=e.y<o?e.y:o,s=e.y>s?e.y:s;return{x:.5*(i+r),y:.5*(o+s)}}},{key:"openCluster",value:function(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[t];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),o=r.indexOf(t)-1;if(0<=o){var s=r[o],a=this.body.nodes[s];return a._openChildCluster(t),delete this.body.nodes[t],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var l=i.containedNodes,u=i.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var c={},h={x:i.x,y:i.y};for(var d in l)if(l.hasOwnProperty(d)){var f=this.body.nodes[d];c[d]={x:f.x,y:f.y}}var p=e.releaseFunction(h,c);for(var v in l)if(l.hasOwnProperty(v)){var g=this.body.nodes[v];void 0!==p[v]&&(g.x=void 0===p[v].x?i.x:p[v].x,g.y=void 0===p[v].y?i.y:p[v].y)}}else jr.forEach(l,(function(t){!1===t.options.fixed.x&&(t.x=i.x),!1===t.options.fixed.y&&(t.y=i.y)}));for(var m in l)if(l.hasOwnProperty(m)){var y=this.body.nodes[m];y.vx=i.vx,y.vy=i.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[m]}for(var _=[],b=0;b<i.edges.length;b++)_.push(i.edges[b]);for(var w=0;w<_.length;w++){for(var k=_[w],x=this._getConnectedId(k,t),E=this.clusteredNodes[x],S=0;S<k.clusteringEdgeReplacingIds.length;S++){var T=k.clusteringEdgeReplacingIds[S],O=this.body.edges[T];if(void 0!==O)if(void 0!==E){var C=this.body.nodes[E.clusterId];C.containedEdges[O.id]=O,delete u[O.id];var I=O.fromId,N=O.toId;O.toId==x?N=E.clusterId:I=E.clusterId,this._createClusteredEdge(I,N,O,C.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(O)}k.remove()}for(var M in u)u.hasOwnProperty(M)&&this._restoreEdge(u[M]);delete this.body.nodes[t],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var n=this.body.nodes[t].containedNodes;for(var i in n)n.hasOwnProperty(i)&&e.push(this.body.nodes[i].id)}return e}},{key:"findNode",value:function(t){for(var e,n=[],i=0;void 0!==this.clusteredNodes[t]&&i<100;){if(e=this.body.nodes[t],void 0===e)return[];n.push(e.id),t=this.clusteredNodes[t].clusterId,i++}return e=this.body.nodes[t],void 0===e?[]:(n.push(e.id),n.reverse(),n)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n,i=this.getClusteredEdges(t),r=0;r<i.length;r++)n=this.body.edges[i[r]],n.setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],n=0;void 0!==t&&void 0!==this.body.edges[t]&&n<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,n++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e,n=[t],i=[],r=[],o=0;0<n.length&&o<100;)if(e=n.pop(),void 0!==e){var s=this.body.edges[e];if(void 0!==s){o++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)r.push(e);else for(var l,u=0;u<a.length;++u)l=a[u],-1===n.indexOf(a)&&-1===i.indexOf(a)&&n.push(l);i.push(e)}}return r}},{key:"_getConnectedId",value:function(t,e){return t.toId==e?(t.fromId,t.fromId):t.toId}},{key:"_getHubSize",value:function(){for(var i,r=0,o=0,s=0,a=0,l=0;l<this.body.nodeIndices.length;l++)i=this.body.nodes[this.body.nodeIndices[l]],i.edges.length>a&&(a=i.edges.length),r+=i.edges.length,o+=e(i.edges.length,2),s+=1;r/=s,o/=s;var u=o-e(r,2),c=t(u),h=n(r+2*c);return h>a&&(h=a),h}},{key:"_createClusteredEdge",value:function(t,e,n,i,r){var o=rh.cloneOptions(n,"edge");jr.deepExtend(o,i),o.from=t,o.to=e,o.id="clusterEdge:"+jr.randomUUID(),void 0!==r&&jr.deepExtend(o,r);var s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[n.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,n,i){if(e instanceof $c){var r=e,o={};o[r.id]=r,e=o}if(t instanceof yc){var s=t,a={};a[s.id]=s,t=a}if(void 0===n||null===n)throw new Error("_clusterEdges: parameter clusterNode required");for(var l in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(t,e,n,i),e)if(e.hasOwnProperty(l)&&void 0!==this.body.edges[l]){var u=this.body.edges[l];this._backupEdgeOptions(u),u.setOptions({physics:!1})}for(var c in t)t.hasOwnProperty(c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var n=e.clusterId;return void 0===n?void 0:this.body.nodes[n]}}}},{key:"_filter",value:function(t,e){var n=[];return jr.forEach(t,(function(t){e(t)&&n.push(t)})),n}},{key:"_updateState",value:function(){var t,e=this,n=[],i={},r=function(t){jr.forEach(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(t)){var o=this.body.nodes[t];void 0===o&&n.push(t)}r((function(t){for(var e=0;e<n.length;e++)delete t.containedNodes[n[e]]}));for(var s=0;s<n.length;s++)delete this.clusteredNodes[n[s]];jr.forEach(this.clusteredEdges,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()||(i[t]=t)})),r((function(t){jr.forEach(t.containedEdges,(function(t,e){t.endPointsValid()||i[e]||(i[e]=e)}))})),jr.forEach(this.body.edges,(function(t,n){var r=!0,o=t.clusteringEdgeReplacingIds;if(void 0!==o){var s=0;jr.forEach(o,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()&&(s+=1)})),r=0<s}t.endPointsValid()&&r||(i[n]=n)})),r((function(t){jr.forEach(i,(function(n){delete t.containedEdges[n],jr.forEach(t.edges,(function(r,o){return r.id===n?void(t.edges[o]=null):void(r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,(function(t){return!i[t]})))})),t.edges=e._filter(t.edges,(function(t){return null!==t}))}))})),jr.forEach(i,(function(t){delete e.clusteredEdges[t]})),jr.forEach(i,(function(t){delete e.body.edges[t]}));var a=Object.keys(this.body.edges);jr.forEach(a,(function(t){var n=e.body.edges[t],i=e._isClusteredNode(n.fromId)||e._isClusteredNode(n.toId);if(i!==e._isClusteredEdge(n.id))if(i){var r=e._getClusterNodeForNode(n.fromId);void 0!==r&&e._clusterEdges(e.body.nodes[n.fromId],n,r);var o=e._getClusterNodeForNode(n.toId);void 0!==o&&e._clusterEdges(e.body.nodes[n.toId],n,o)}else delete e._clusterEdges[t],e._restoreEdge(n)}));for(var l=!1,u=!0,c=function(){var t=[];r((function(e){var n=Object.keys(e.containedNodes).length,i=!0===e.options.allowSingleNodeCluster;(i&&1>n||!i&&2>n)&&t.push(e.id)}));for(var n=0;n<t.length;++n)e.openCluster(t[n],{},!1);u=0<t.length,l=l||u};u;)c();l&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),i}();function ah(){var t;void 0!==window&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===t?function(t){t()}:t}var lh=function(){function t(e,n){vu(this,t),ah(),this.body=e,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},jr.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return yu(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",(function(){t.dragging=!0})),this.body.emitter.on("dragEnd",(function(){t.dragging=!1})),this.body.emitter.on("zoom",(function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=window.setTimeout((function(){t.zooming=!1,t._requestRedraw.bind(t)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){t._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===t.renderingActive&&t._redraw()})),this.body.emitter.on("_blockRedraw",(function(){t.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){t.allowRedraw=!0,t.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",(function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()})),this.body.emitter.on("_stopRendering",(function(){t.renderRequests-=1,t.renderingActive=0<t.renderRequests,t.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()}))}},{key:"setOptions",value:function(t){void 0!==t&&jr.selectiveDeepExtend(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var n,i=window;return!0===this.requiresTimeout?n=i.setTimeout(t,e):i.requestAnimationFrame&&(n=i.requestAnimationFrame(t)),n}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,n,i),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,n,i)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,n=this.body.nodes;for(var i in n)n.hasOwnProperty(i)&&(e=n[i],e.resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=this.body.nodes,r=this.body.nodeIndices,o=[],s=20,a=this.canvas.DOMtoCanvas({x:-s,y:-s}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+s,y:this.canvas.frame.canvas.clientHeight+s}),u={top:a.y,left:a.x,bottom:l.y,right:l.x},c=0;c<r.length;c++)e=i[r[c]],e.isSelected()?o.push(r[c]):!0===n||!0===e.isBoundingBoxOverlappingWith(u)?e.draw(t):e.updateBoundingBox(t,e.selected);for(var h=0;h<o.length;h++)e=i[o[h]],e.draw(t)}},{key:"_drawEdges",value:function(t){for(var e,n=this.body.edges,i=this.body.edgeIndices,r=0;r<i.length;r++)e=n[i[r]],!0===e.connected&&e.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1==t.indexOf("msie 9.0")?-1!=t.indexOf("safari")&&-1>=t.indexOf("chrome")&&(this.requiresTimeout=!0):this.requiresTimeout=!0}else this.requiresTimeout=!0}}]),t}(),uh=$o((function(t,e){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}})),ch=(uh.onTouch,uh.onRelease,uh.offTouch,uh.offRelease,uh.disablePreventDefaultVertically,function(){var t=Math.round;function e(t){vu(this,e),this.body=t,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},jr.extend(this.options,this.defaultOptions),this.bindEventListeners()}return yu(e,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",(function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)})),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",(function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()}))}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&jr.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval((function(){var t=e.setSize();!0===t&&e.body.emitter.emit("_requestRedraw")}),1e3),this.resizeFunction=this._onResize.bind(this),jr.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),jr.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&0<this.cameraState.previousWidth){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=t&&1!=e?n=.5*this.cameraState.scale*(t+e):1==t?1!=e&&(n=this.cameraState.scale*e):n=this.cameraState.scale*t,this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new lu(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:lu.DIRECTION_ALL}),uh.onTouch(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("mousewheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("DOMMouseScroll",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new lu(this.frame),uh.onRelease(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.width,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),n=this._prepareValue(n);var i=!1,r=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||n!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=n)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=n,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=t(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=t(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=n,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var a=t(this.frame.canvas.clientWidth*this.pixelRatio),l=t(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(s),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,i=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,i=!0)}return 1==i&&(this.body.emitter.emit("resize",{width:t(this.frame.canvas.width/this.pixelRatio),height:t(this.frame.canvas.height/this.pixelRatio),oldWidth:t(r/this.pixelRatio),oldHeight:t(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;"undefined"!=typeof window&&(e=window.devicePixelRatio||1);var n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/n}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),e}()),hh=function(){var t=Math.abs,e=Math.min;function n(t,e){var i=this;vu(this,n),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",(function(){i.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return yu(n,[{key:"setOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var n,i,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{nodes:[]},o=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(r=Object.assign({},r),(void 0===r.nodes||0===r.nodes.length)&&(r.nodes=this.body.nodeIndices),!0===o){var s=0;for(var a in this.body.nodes)if(this.body.nodes.hasOwnProperty(a)){var l=this.body.nodes[a];!0===l.predefinedPosition&&(s+=1)}if(s>.5*this.body.nodeIndices.length)return void this.fit(r,!1);n=rh.getRange(this.body.nodes,r.nodes);var u=this.body.nodeIndices.length;i=12.662/(u+7.4147)+.0964822;var c=e(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);i*=c}else{this.body.emitter.emit("_resizeNodes"),n=rh.getRange(this.body.nodes,r.nodes);var h=1.1*t(n.maxX-n.minX),d=1.1*t(n.maxY-n.minY),f=this.canvas.frame.canvas.clientWidth/h,p=this.canvas.frame.canvas.clientHeight/d;i=f<=p?f:p}(1<i||0===i)&&(i=1);var v=rh.findCenter(n),g={position:v,scale:i,animation:r.animation};this.moveTo(g)}},{key:"focus",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var n={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=n,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){var e=Number.isFinite;if(void 0!==t){if(null!=t.offset){if(null==t.offset.x)t.offset.x=0;else if(t.offset.x=+t.offset.x,!e(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.');if(null==t.offset.y)t.offset.x=0;else if(t.offset.y=+t.offset.y,!e(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset={x:0,y:0};if(null!=t.position){if(null==t.position.x)t.position.x=0;else if(t.position.x=+t.position.x,!e(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.');if(null==t.position.y)t.position.x=0;else if(t.position.y=+t.position.y,!e(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position=this.getViewPosition();if(null==t.scale)t.scale=this.body.view.scale;else if(t.scale=+t.scale,!(0<t.scale))throw new TypeError('The option "scale" has to be a number greater than zero.');void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+t.offset.y},0===t.animation.duration?null==this.lockedOnNodeId?(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:e.x-t.x,y:e.y-t.y},i=this.body.view.translation,r={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=r}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=jr.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},1<=this.easingTime&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),n}(),dh=function(){function t(e,n){var i=this;vu(this,t),this.body=e,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){i.activated=!0,i.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){i.activated=!1,i.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==i.keycharm&&i.keycharm.destroy()})),this.options={}}return yu(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<e.length;i++){this.navigationDOM[e[i]]=document.createElement("div"),this.navigationDOM[e[i]].className="vis-button vis-"+e[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[i]]);var r=new lu(this.navigationDOM[e[i]]);"_fit"===n[i]?uh.onTouch(r,this._fit.bind(this)):uh.onTouch(r,this.bindToRedraw.bind(this,n[i])),this.navigationHammers.push(r)}var o=new lu(this.canvas.frame);uh.onRelease(o,(function(){t._stopMovement()})),this.navigationHammers.push(o),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){700<(new Date).valueOf()-this.touchTime&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=!0===this.options.keyboard.bindToWindow?js({container:window,preventDefault:!0}):js({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",(function(){t.bindToRedraw("_moveUp")}),"keydown"),this.keycharm.bind("down",(function(){t.bindToRedraw("_moveDown")}),"keydown"),this.keycharm.bind("left",(function(){t.bindToRedraw("_moveLeft")}),"keydown"),this.keycharm.bind("right",(function(){t.bindToRedraw("_moveRight")}),"keydown"),this.keycharm.bind("=",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num+",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num-",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("-",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("[",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("]",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pageup",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pagedown",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("up",(function(){t.unbindFromRedraw("_moveUp")}),"keyup"),this.keycharm.bind("down",(function(){t.unbindFromRedraw("_moveDown")}),"keyup"),this.keycharm.bind("left",(function(){t.unbindFromRedraw("_moveLeft")}),"keyup"),this.keycharm.bind("right",(function(){t.unbindFromRedraw("_moveRight")}),"keyup"),this.keycharm.bind("=",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num+",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num-",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("-",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("[",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("]",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pageup",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pagedown",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}(),fh=function(){function t(e,n){vu(this,t),this.container=e,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return yu(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,s=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+n>r-this.padding&&(a=!0),o=a?this.x-n:this.x,s=l?this.y-e:this.y}else s=this.y-e,s+e+this.padding>i&&(s=i-e-this.padding),s<this.padding&&(s=this.padding),o=this.x,o+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),ph=function(){function t(e,n,i){vu(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new dh(e,n),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},jr.extend(this.options,this.defaultOptions),this.bindEventListeners()}return yu(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){void 0!==t&&(jr.selectiveNotDeepExtend(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),jr.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(jr.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=jr.parseColor(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-jr.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-jr.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){50<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,n),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,n),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if(10<(new Date).valueOf()-this.touchTime){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=this.selectionHandler.getSelection(),r=!1;r=!0===n?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var o=this.selectionHandler.getSelection(),s=this._determineDifference(i,o),a=this._determineDifference(o,i);0<s.edges.length&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,i),r=!0),0<s.nodes.length&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,i),r=!0),0<a.nodes.length&&(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0),0<a.edges.length&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var n=function(t,e){for(var n,i=[],r=0;r<t.length;r++)n=t[r],-1===e.indexOf(n)&&i.push(n);return i};return{nodes:n(t.nodes,e.nodes),edges:n(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=jr.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var i in n)if(n.hasOwnProperty(i)){var r=n[i],o={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(o)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,n);var r=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;i.forEach((function(t){var n=t.node;!1===t.xFixed&&(n.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(n.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+o))})),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=n.x-this.drag.pointer.x,a=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach((function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*t.scale;this.zoom(n,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var n,i=this.body.view.scale;1e-5>t&&(t=1e-5),10<t&&(t=10),void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=t/i,s=(1-o)*e.x+r.x*o,a=(1-o)*e.y+r.y*o;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!=e){var n=this.body.view.scale,i=e*(this.options.zoomSpeed/10);0>e&&(i/=1-i),n*=1+i;var r=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(n,r)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,n=this.getPointer({x:t.clientX,y:t.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),!this.drag.dragging&&(this.popupTimer=setTimeout((function(){return e._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,n)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),n=this.canvas._YconvertDOMtoCanvas(t.y),i={left:e,top:n,right:e,bottom:n},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var a,l=this.body.nodeIndices,u=this.body.nodes,c=[],h=0;h<l.length;h++)a=u[l[h]],!0===a.isOverlappingWith(i)&&(o=!0,void 0!==a.getTitle()&&c.push(l[h]));0<c.length&&(this.popupObj=u[c[c.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var d,f=this.body.edgeIndices,p=this.body.edges,v=[],g=0;g<f.length;g++)d=p[f[g]],!0===d.isOverlappingWith(i)&&!0===d.connected&&void 0!==d.getTitle()&&v.push(f[g]);0<v.length&&(this.popupObj=p[v[v.length-1]],s="edge")}void 0===this.popupObj?void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup")):this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new fh(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),n=!1;if("node"!==this.popup.popupTargetType)void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));else if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),!0===n)){var i=this.selectionHandler.getNodeAt(t);n=void 0!==i&&i.id===this.popup.popupTargetId}!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}(),vh=function(){function t(e,n){var i=this;vu(this,t),this.body=e,this.canvas=n,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},jr.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){i.updateSelection()}))}return yu(t,[{key:"setOptions",value:function(t){void 0!==t&&jr.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==n&&(e=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==n&&(e=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var n={pointer:{DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},event:t};return n}},{key:"_generateClickEvent",value:function(t,e,n,i){var r=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4],o=this._initBaseEvent(e,n);if(!0===r)o.nodes=[],o.edges=[];else{var s=this.getSelection();o.nodes=s.nodes,o.edges=s.edges}void 0!==i&&(o.previousSelection=i),"click"==t&&(o.items=this.getClickedItems(n)),void 0!==e.controlEdge&&(o.controlEdge=e.controlEdge),this.body.emitter.emit(t,o)}},{key:"selectObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof yc&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e,n=[],i=this.body.nodes,r=0;r<this.body.nodeIndices.length;r++)e=this.body.nodeIndices[r],i[e].isOverlappingWith(t)&&n.push(e);return n}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(t),i=this._getAllNodesOverlappingWith(n);return 0<i.length?!0===e?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var n,i=this.body.edges,r=0;r<this.body.edgeIndices.length;r++)n=this.body.edgeIndices[r],i[n].isOverlappingWith(t)&&e.push(n)}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(t),i=10,r=null,o=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],l=o[a];if(l.connected){var u=l.from.x,c=l.from.y,h=l.to.x,d=l.to.y,f=l.edgeType.getDistanceToEdge(u,c,h,d,n.x,n.y);f<i&&(r=a,i=f)}}return null===r?void 0:!0===e?this.body.edges[r]:r}},{key:"_addToSelection",value:function(t){t instanceof yc?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof yc?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof yc?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&1<this.selectionObj.nodes[t].clusterSize)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e,n=0;n<t.edges.length;n++)e=t.edges[n],e.select(),this._addToSelection(e)}},{key:"_hoverConnectedEdges",value:function(t){for(var e,n=0;n<t.edges.length;n++)e=t.edges[n],e.hover=!0,this._addToHover(e)}},{key:"_unselectConnectedEdges",value:function(t){for(var e,n=0;n<t.edges.length;n++)e=t.edges[n],e.unselect(),this._removeFromSelection(e)}},{key:"emitBlurEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e);!0===n.hover&&(n.hover=!1,n instanceof yc?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e),r=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),r=!0,n instanceof yc?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),r}},{key:"hoverObject",value:function(t,e){var n=this.getNodeAt(e);void 0===n&&(n=this.getEdgeAt(e));var i=!1;for(var r in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(r)&&(void 0===n||n instanceof yc&&n.id!=r||n instanceof $c)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],i=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(!0===i?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof $c&&n.id!=o||n instanceof yc&&!n.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],i=!0));if(void 0!==n){var s=Object.keys(this.hoverObj.edges).length,a=Object.keys(this.hoverObj.nodes).length,l=n instanceof $c&&0===s&&0===a,u=n instanceof yc&&0===s&&0===a;(i||l||u)&&(i=this.emitHoverEvent(t,e,n)),n instanceof yc&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var t=this.getSelectedNodes(),e=this.getSelectedEdges();return{nodes:t,edges:e}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((i.unselectAll||void 0===i.unselectAll)&&this.unselectAll(),t.nodes)for(e=0;e<t.nodes.length;e++){n=t.nodes[e];var r=this.body.nodes[n];if(!r)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(r,i.highlightEdges)}if(t.edges)for(e=0;e<t.edges.length;e++){n=t.edges[e];var o=this.body.edges[n];if(!o)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(o)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),n=[],i=this.body.nodeIndices,r=this.body.nodes,o=i.length-1;0<=o;o--){var s=r[i[o]],a=s.getItemsOnPoint(e);n.push.apply(n,a)}for(var l=this.body.edgeIndices,u=this.body.edges,c=l.length-1;0<=c;c--){var h=u[l[c]],d=h.getItemsOnPoint(e);n.push.apply(n,d)}return n}}]),t}(),gh=$o((function(t,e){(function(t,n){n(e)})(0,(function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){return 1e5>t?100>t?10>t?0:1:1e4>t?1e3>t?2:3:4:1e7>t?1e6>t?5:6:1e9>t?1e8>t?7:8:9}function i(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(0===t||0===e)return t<e?-1:1;if(0>t||0>e){if(0<=e)return-1;if(0<=t)return 1;t=-t,e=-e}var i=n(t),r=n(e),o=0;return i<r?(t*=d[r-i-1],e/=10,o=-1):i>r&&(e*=d[i-r-1],t/=10,o=1),t===e?o:t<e?-1:1}var s=t+"",a=e+"";return s===a?0:s<a?-1:1}function r(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}function o(t,e,n,i){var r=e+1;if(r===n)return 1;if(0>i(t[r++],t[e])){for(;r<n&&0>i(t[r],t[r-1]);)r++;s(t,e,r)}else for(;r<n&&0<=i(t[r],t[r-1]);)r++;return r-e}function s(t,e,n){for(n--;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}function a(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o=t[i],s=e,a=i;s<a;){var l=s+a>>>1;0>r(o,t[l])?a=l:s=l+1}var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<u;)t[s+u]=t[s+u-1],u--}t[s]=o}}function l(t,e,n,i,r,o){var s=0,a=0,l=1;if(0<o(t,e[n+r])){for(a=i-r;l<a&&0<o(t,e[n+r+l]);)s=l,l=1+(l<<1),0>=l&&(l=a);l>a&&(l=a),s+=r,l+=r}else{for(a=r+1;l<a&&0>=o(t,e[n+r-l]);)s=l,l=1+(l<<1),0>=l&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}for(s++;s<l;){var c=s+(l-s>>>1);0<o(t,e[n+c])?s=c+1:l=c}return l}function u(t,e,n,i,r,o){var s=0,a=0,l=1;if(0>o(t,e[n+r])){for(a=r+1;l<a&&0>o(t,e[n+r-l]);)s=l,l=1+(l<<1),0>=l&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}else{for(a=i-r;l<a&&0<=o(t,e[n+r+l]);)s=l,l=1+(l<<1),0>=l&&(l=a);l>a&&(l=a),s+=r,l+=r}for(s++;s<l;){var c=s+(l-s>>>1);0>o(t,e[n+c])?l=c:s=c+1}return l}t.__esModule=!0,t.sort=function(t,e,n,s){if(!Array.isArray(t))throw new TypeError("Can only sort arrays");e?"function"!=typeof e&&(s=n,n=e,e=i):e=i,n||(n=0),s||(s=t.length);var l=s-n;if(!(2>l)){var u=0;if(32>l)return u=o(t,n,s,e),void a(t,n,s,n+u,e);var c=new f(t,e),h=r(l);do{if(u=o(t,n,s,e),u<h){var d=l;d>h&&(d=h),a(t,n,n+d,n+u,e),u=d}c.pushRun(n,u),c.mergeRuns(),l-=u,n+=u}while(0!==l);c.forceMergeRuns()}};var c=7,h=256,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],f=function(){function t(n,i){e(this,t),this.array=null,this.compare=null,this.minGallop=c,this.length=0,this.tmpStorageLength=h,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=n,this.compare=i,this.length=n.length,this.length<2*h&&(this.tmpStorageLength=this.length>>>1),this.tmp=Array(this.tmpStorageLength),this.stackLength=120>this.length?5:1542>this.length?10:119151>this.length?19:40,this.runStart=Array(this.stackLength),this.runLength=Array(this.stackLength)}return t.prototype.pushRun=function(t,e){this.runStart[this.stackSize]=t,this.runLength[this.stackSize]=e,this.stackSize+=1},t.prototype.mergeRuns=function(){for(;1<this.stackSize;){var t=this.stackSize-2;if(1<=t&&this.runLength[t-1]<=this.runLength[t]+this.runLength[t+1]||2<=t&&this.runLength[t-2]<=this.runLength[t]+this.runLength[t-1])this.runLength[t-1]<this.runLength[t+1]&&t--;else if(this.runLength[t]>this.runLength[t+1])break;this.mergeAt(t)}},t.prototype.forceMergeRuns=function(){for(;1<this.stackSize;){var t=this.stackSize-2;0<t&&this.runLength[t-1]<this.runLength[t+1]&&t--,this.mergeAt(t)}},t.prototype.mergeAt=function(t){var e=this.compare,n=this.array,i=this.runStart[t],r=this.runLength[t],o=this.runStart[t+1],s=this.runLength[t+1];this.runLength[t]=r+s,t===this.stackSize-3&&(this.runStart[t+1]=this.runStart[t+2],this.runLength[t+1]=this.runLength[t+2]),this.stackSize--;var a=u(n[o],n,i,r,0,e);i+=a,r-=a,0!==r&&(s=l(n[i+r-1],n,o,s,s-1,e),0===s||(r<=s?this.mergeLow(i,r,o,s):this.mergeHigh(i,r,o,s)))},t.prototype.mergeLow=function(t,e,n,i){var r=this.compare,o=this.array,s=this.tmp,a=0;for(a=0;a<e;a++)s[a]=o[t+a];var h=0,d=n,f=t;if(o[f++]=o[d++],0!=--i)if(1!==e){for(var p=this.minGallop;;){var v=0,g=0,m=!1;do{if(0>r(o[d],s[h])){if(o[f++]=o[d++],g++,v=0,0==--i){m=!0;break}}else if(o[f++]=s[h++],v++,g=0,1==--e){m=!0;break}}while((v|g)<p);if(m)break;do{if(v=u(o[d],s,h,e,0,r),0!==v){for(a=0;a<v;a++)o[f+a]=s[h+a];if(f+=v,h+=v,e-=v,1>=e){m=!0;break}}if(o[f++]=o[d++],0==--i){m=!0;break}if(g=l(s[h],o,d,i,0,r),0!==g){for(a=0;a<g;a++)o[f+a]=o[d+a];if(f+=g,d+=g,i-=g,0===i){m=!0;break}}if(o[f++]=s[h++],1==--e){m=!0;break}p--}while(v>=c||g>=c);if(m)break;0>p&&(p=0),p+=2}if(this.minGallop=p,1>p&&(this.minGallop=1),1===e){for(a=0;a<i;a++)o[f+a]=o[d+a];o[f+i]=s[h]}else{if(0===e)throw new Error("mergeLow preconditions were not respected");for(a=0;a<e;a++)o[f+a]=s[h+a]}}else{for(a=0;a<i;a++)o[f+a]=o[d+a];o[f+i]=s[h]}else for(a=0;a<e;a++)o[f+a]=s[h+a]},t.prototype.mergeHigh=function(t,e,n,i){var r=this.compare,o=this.array,s=this.tmp,a=0;for(a=0;a<i;a++)s[a]=o[n+a];var h=t+e-1,d=i-1,f=n+i-1,p=0,v=0;if(o[f--]=o[h--],0!=--e)if(1!==i){for(var g=this.minGallop;;){var m=0,y=0,_=!1;do{if(0>r(s[d],o[h])){if(o[f--]=o[h--],m++,y=0,0==--e){_=!0;break}}else if(o[f--]=s[d--],y++,m=0,1==--i){_=!0;break}}while((m|y)<g);if(_)break;do{if(m=e-u(s[d],o,t,e,e-1,r),0!=m){for(f-=m,h-=m,e-=m,v=f+1,p=h+1,a=m-1;0<=a;a--)o[v+a]=o[p+a];if(0===e){_=!0;break}}if(o[f--]=s[d--],1==--i){_=!0;break}if(y=i-l(o[h],s,0,i,i-1,r),0!==y){for(f-=y,d-=y,i-=y,v=f+1,p=d+1,a=0;a<y;a++)o[v+a]=s[p+a];if(1>=i){_=!0;break}}if(o[f--]=o[h--],0==--e){_=!0;break}g--}while(m>=c||y>=c);if(_)break;0>g&&(g=0),g+=2}if(this.minGallop=g,1>g&&(this.minGallop=1),1===i){for(f-=e,h-=e,v=f+1,p=h+1,a=e-1;0<=a;a--)o[v+a]=o[p+a];o[f]=s[d]}else{if(0===i)throw new Error("mergeHigh preconditions were not respected");for(p=f-(i-1),a=0;a<i;a++)o[p+a]=s[a]}}else{for(f-=e,h-=e,v=f+1,p=h+1,a=e-1;0<=a;a--)o[v+a]=o[p+a];o[f]=s[d]}else for(p=f-(i-1),a=0;a<i;a++)o[p+a]=s[a]},t}()}))}));Go(gh);var mh=gh,yh=function(){function t(){vu(this,t)}return yu(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,n),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),_h=function(t){function e(t){var n;return vu(this,e),n=Wu(this,Yu(e).call(this)),n.layout=t,n}return qu(e,t),yu(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){mh.sort(t,(function(t,e){return t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(yh),bh=function(t){function e(t){var n;return vu(this,e),n=Wu(this,Yu(e).call(this)),n.layout=t,n}return qu(e,t),yu(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){mh.sort(t,(function(t,e){return t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}(yh),wh=function(){var t=Math.max,e=Math.min;function n(){vu(this,n),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return yu(n,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(1<this.parentReference[t].length)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,n){void 0===n||void 0===this.trees[e.id]&&(this.trees[e.id]=n,this.treeIndex=t(n,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(e){var n=this,i={},r=function e(r){if(void 0!==i[r])return i[r];var o=n.levels[r];if(n.childrenReference[r]){var s=n.childrenReference[r];if(0<s.length)for(var a=0;a<s.length;a++)o=t(o,e(s[a]))}return i[r]=o,o};return r(e)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var n=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(n=e(this.levels[i],n));for(var r in t)t.hasOwnProperty(r)&&void 0!==this.levels[r]&&(this.levels[r]-=n)}},{key:"getTreeSize",value:function(n,i){var r=1e9,o=-1e9,s=1e9,a=-1e9;for(var l in this.trees)if(this.trees.hasOwnProperty(l)&&this.trees[l]===i){var u=n[l];r=e(u.x,r),o=t(u.x,o),s=e(u.y,s),a=t(u.y,a)}return{min_x:r,max_x:o,min_y:s,max_y:a}}},{key:"hasSameParent",value:function(t,e){var n=this.parentReference[t.id],i=this.parentReference[e.id];if(void 0===n||void 0===i)return!1;for(var r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(n[r]==i[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return Object.keys(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var n=!1,i=this.distributionOrdering[e];for(var r in i)if(i[r]===t){n=!0;break}n||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),n}(),kh=function(){var t=Math.cos,e=Math.sin,n=Math.sqrt,i=Math.PI,r=Math.round,o=Math.pow,s=Math.max,a=Math.abs,l=Math.min,u=Math.floor;function c(t){vu(this,c),this.body=t,this.initialRandomSeed=r(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},jr.extend(this.options,this.defaultOptions),this.bindEventListeners()}return yu(c,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var n=this.options.hierarchical,i=n.enabled;if(jr.selectiveDeepExtend(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),jr.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?0<n.levelSeparation&&(n.levelSeparation*=-1):0>n.levelSeparation&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),jr.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===Au(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:n};else{var i=t.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection},t.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return t}},{key:"seededRandom",value:function(){var t=1e4*e(this.randomSeed++);return t-u(t)}},{key:"positionInitially",value:function(n){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var r=n.length+50,o=0;o<n.length;o++){var s=n[o],a=2*i*this.seededRandom();void 0===s.x&&(s.x=r*t(a)),void 0===s.y&&(s.y=r*e(a))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t,e=this.body.nodeIndices,n=0,i=0;i<e.length;i++)t=this.body.nodes[e[i]],!0===t.predefinedPosition&&(n+=1);if(n<.5*e.length){var r=0,o=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){for(var l=e.length;e.length>o&&10>=r;){r+=1;var u=e.length;0==r%3?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);var c=e.length;if(u==c&&0!=r%3)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:s(150,2*l)})}10<r&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var h,d=70,f=0;f<e.length;f++)h=this.body.nodes[e[f]],!1===h.predefinedPosition&&(h.x+=(.5-this.seededRandom())*d,h.y+=(.5-this.seededRandom())*d);this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t,e=rh.getRangeCore(this.body.nodes,this.body.nodeIndices),n=rh.findCenter(e),i=0;i<this.body.nodeIndices.length;i++)t=this.body.nodes[this.body.nodeIndices[i]],t.x-=n.x,t.y-=n.y}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&0<this.body.nodeIndices.length){var t,e,n=!1,i=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new wh,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],void 0===t.options.level?i=!0:(n=!0,this.hierarchical.levels[e]=t.options.level));if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.hierarchical.ensureLevel(o);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},u=function(){for(var e,n=h(),i=0,r=0;r<n.length-1;r++)e=n[r].max-n[r+1].min,i+=e+t.options.hierarchical.treeSpacing,c(r+1,i)},c=function(e,n){var i=t.hierarchical.trees;for(var r in i)i.hasOwnProperty(r)&&i[r]===e&&t.direction.shift(r,n)},h=function(){for(var e=[],n=0;n<t.hierarchical.numTrees();n++)e.push(t.direction.getTreeSize(n));return e},d=function e(n,i){if(!i[n.id]&&(i[n.id]=!0,t.hierarchical.childrenReference[n.id])){var r=t.hierarchical.childrenReference[n.id];if(0<r.length)for(var o=0;o<r.length;o++)e(t.body.nodes[r[o]],i)}},f=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,r=1e9,o=1e9,a=-1e9;for(var u in e)if(e.hasOwnProperty(u)){var c=t.body.nodes[u],h=t.hierarchical.levels[c.id],d=t.direction.getPosition(c),f=t._getSpaceAroundNode(c,e),p=Mu(f,2),v=p[0],g=p[1];i=l(v,i),r=l(g,r),h<=n&&(o=l(d,o),a=s(d,a))}return[o,a,i,r]},p=function(e,n){var i=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(n.id);return l(i,r)},v=function(e,n,i){for(var r=t.hierarchical,o=0;o<n.length;o++){var s=n[o],a=r.distributionOrdering[s];if(1<a.length)for(var l=0;l<a.length-1;l++){var u=a[l],c=a[l+1];r.hasSameParent(u,c)&&r.inSameSubNetwork(u,c)&&e(u,c,i)}}},g=function(n,i){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],o=t.direction.getPosition(n),s=t.direction.getPosition(i),l=a(s-o),u=t.options.hierarchical.nodeSpacing;if(l>u){var c={},h={};d(n,c),d(i,h);var v=p(n,i),g=f(c,v),m=f(h,v),y=g[1],_=m[0],b=m[2],w=a(y-_);if(w>u){var k=y-_+u;k<-b+u&&(k=-b+u),0>k&&(t._shiftBlock(i.id,k),e=!0,!0===r&&t._centerParent(i))}}},m=function(a,u){for(var c,h=u.id,p=u.edges,v=t.hierarchical.levels[u.id],g=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,m={},y=[],_=0;_<p.length;_++)if(c=p[_],c.toId!=c.fromId){var b=c.toId==h?c.from:c.to;m[p[_].id]=b,t.hierarchical.levels[b.id]<v&&y.push(c)}var w=function(e,i){for(var r=0,o=0;o<i.length;o++)if(void 0!==m[i[o].id]){var s=t.direction.getPosition(m[i[o].id])-e;r+=s/n(s*s+g)}return r},k=function(e,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==m[n[r].id]){var s=t.direction.getPosition(m[n[r].id])-e;i-=g*o(s*s+g,-1.5)}return i},x=function(e,n){for(var i=t.direction.getPosition(u),o={},a=0;a<e;a++){var c=w(i,n),h=k(i,n),d=40,f=s(-d,l(d,r(c/h)));if(i-=f,void 0!==o[i])break;o[i]=a}return i},E=function(n){var r=t.direction.getPosition(u);if(void 0===i[u.id]){var o={};d(u,o),i[u.id]=o}var s=f(i[u.id]),a=s[2],c=s[3],h=n-r,p=0;0<h?p=l(h,c-t.options.hierarchical.nodeSpacing):0>h&&(p=-l(-h,a-t.options.hierarchical.nodeSpacing)),0!=p&&(t._shiftBlock(u.id,p),e=!0)},S=function(n){var i=t.direction.getPosition(u),r=t._getSpaceAroundNode(u),o=Mu(r,2),a=o[0],c=o[1],h=n-i,d=i;0<h?d=l(i+(c-t.options.hierarchical.nodeSpacing),n):0>h&&(d=s(i-(a-t.options.hierarchical.nodeSpacing),n)),d!==i&&(t.direction.setPosition(u,d),e=!0)},T=x(a,y);E(T),T=x(a,p),S(T)},y=function(n){var i=t.hierarchical.getLevels();i=i.reverse();for(var r=0;r<n;r++){e=!1;for(var o=0;o<i.length;o++)for(var s=i[o],a=t.hierarchical.distributionOrdering[s],l=0;l<a.length;l++)m(1e3,a[l]);if(!0!==e)break}},_=function(n){var i=t.hierarchical.getLevels();i=i.reverse();for(var r=0;r<n&&(e=!1,v(g,i,!0),!0===e);r++);},b=function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var n=0;n<e.length;n++)for(var i=e[n],r=t.hierarchical.distributionOrdering[i],o=0;o<r.length;o++)t._centerParent(r[o])};!0===this.options.hierarchical.blockShifting&&(_(5),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&y(20),!0===this.options.hierarchical.parentCentralization&&b(),u()}},{key:"_getSpaceAroundNode",value:function(t,e){var n=!0;void 0===e&&(n=!1);var i=this.hierarchical.levels[t.id];if(void 0!==i){var r=this.hierarchical.distributionIndex[t.id],o=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[i],a=1e9,u=1e9;if(0!==r){var c=s[r-1];if(1==n&&void 0===e[c.id]||0==n){var h=this.direction.getPosition(c);a=o-h}}if(r!=s.length-1){var d=s[r+1];if(1==n&&void 0===e[d.id]||0==n){var f=this.direction.getPosition(d);u=l(u,f-o)}}return[a,u]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],n=0;n<e.length;n++){var i=e[n],r=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){var s=this._getCenterPosition(o),l=this.direction.getPosition(r),u=this._getSpaceAroundNode(r),c=Mu(u,2),h=c[0],d=c[1],f=l-s;(0>f&&a(f)<d-this.options.hierarchical.nodeSpacing||0<f&&a(f)<h-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,s)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var n=Object.keys(t[e]);n=this._indexArrayToNodes(n),this.direction.sort(n);for(var i,r=0,o=0;o<n.length;o++)if(i=n[o],void 0===this.positionedNodes[i.id]){var s=this.options.hierarchical.nodeSpacing,a=s*r;0<r&&(a=this.direction.getPosition(n[o-1])+s),this.direction.setPosition(i,a,e),this._validatePositionAndContinue(i,e,a),r++}}}},{key:"_placeBranchNodes",value:function(t,e){var n=this.hierarchical.childrenReference[t];if(void 0!==n){for(var i=[],r=0;r<n.length;r++)i.push(this.body.nodes[n[r]]);this.direction.sort(i);for(var o=0;o<i.length;o++){var s=i[o],a=this.hierarchical.levels[s.id];if(!(a>e&&void 0===this.positionedNodes[s.id]))return;var l=this.options.hierarchical.nodeSpacing,u=void 0;u=0==o?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(i[o-1])+l,this.direction.setPosition(s,u,a),this._validatePositionAndContinue(s,a,u)}var c=this._getCenterPosition(i);this.direction.setPosition(this.body.nodes[t],c,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(n-i<this.options.hierarchical.nodeSpacing){var r=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.body.nodes[t[n]]);return e}},{key:"_getDistribution",value:function(){var t,e,n={};for(t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){e=this.body.nodes[t];var i=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e,i),void 0===n[i]&&(n[i]={}),n[i][t]=e}return n}},{key:"_getActiveEdges",value:function(t){var e=this,n=[];return jr.forEach(t.edges,(function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&n.push(t)})),n}},{key:"_getHubSizes",value:function(){var t=this,e={},n=this.body.nodeIndices;jr.forEach(n,(function(n){var i=t.body.nodes[n],r=t._getActiveEdges(i).length;e[r]=!0}));var i=[];return jr.forEach(e,(function(t){i.push(+t)})),mh.sort(i,(function(t,e){return e-t})),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t,e=this,n=function(t,n){e.hierarchical.levelDownstream(t,n)},i=this._getHubSizes(),r=function(t){var r=i[t];return 0===r?"break":void jr.forEach(e.body.nodeIndices,(function(t){var i=e.body.nodes[t];r===e._getActiveEdges(i).length&&e._crawlNetwork(n,t)}))},o=0;o<i.length&&(t=r(o),"break"!==t);++o);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this,e=function(){};this._crawlNetwork((function(n,i,r){var o=t.hierarchical.levels[n.id];void 0===o&&(o=t.hierarchical.levels[n.id]=1e5);var s=e(rh.cloneOptions(n,"node"),rh.cloneOptions(i,"node"),rh.cloneOptions(r,"edge"));t.hierarchical.levels[i.id]=o+s})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this,e=function(e){return jr.forEach(t.body.edges,(function(t){if(t.toId===e.fromId&&t.fromId===e.toId)return!0})),!1};this._crawlNetwork((function(n,i,r){var o=t.hierarchical.levels[n.id];t.hierarchical.levels[i.id];e(r),void 0===o&&(o=t.hierarchical.levels[n.id]=1e4),t.hierarchical.levels[i.id]=r.toId==i.id?o+1:o-1})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,n){t.hierarchical.levels[n.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,n.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},n=1<arguments.length?arguments[1]:void 0,i={},r=function n(r,o){if(void 0===i[r.id]){t.hierarchical.setTreeIndex(r,o),i[r.id]=!0;for(var s,a,l=t._getActiveEdges(r),u=0;u<l.length;u++)a=l[u],!0===a.connected&&(s=a.toId==r.id?a.from:a.to,r.id!=s.id&&(e(r,s,a),n(s,o)))}};if(void 0===n){for(var o,s=0,a=0;a<this.body.nodeIndices.length;a++)if(o=this.body.nodeIndices[a],void 0===i[o]){var l=this.body.nodes[o];r(l,s),s+=1}}else{var u=this.body.nodes[n];if(void 0===u)return void console.error("Node not found:",n);r(u)}}},{key:"_shiftBlock",value:function(t,e){var n=this,i={},r=function t(r){if(!i[r]){i[r]=!0,n.direction.shift(r,e);var o=n.hierarchical.childrenReference[r];if(void 0!==o)for(var s=0;s<o.length;s++)t(o[s])}};r(t)}},{key:"_findCommonParent",value:function(t,e){var n=this,i={},r=function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o,s=0;s<r.length;s++)o=r[s],e[o]=!0,t(e,o)},o=function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o,s=0;s<r.length;s++){if(o=r[s],void 0!==e[o])return{foundParent:o,withChild:i};var a=t(e,o);if(null!==a.foundParent)return a}return{foundParent:null,withChild:i}};return r(i,t),o(i,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new _h(this):new bh(this)}},{key:"_getCenterPosition",value:function(t){for(var e,n=1e9,i=-1e9,r=0;r<t.length;r++){if(e=void 0,void 0!==t[r].id)e=t[r];else{var o=t[r];e=this.body.nodes[o]}var a=this.direction.getPosition(e);n=l(n,a),i=s(i,a)}return.5*(n+i)}}]),c}(),xh=function(){function t(e,n,i){var r=this;vu(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},jr.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){r._clean()})),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return yu(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,n){void 0!==e&&(this.options.locale=void 0===e.locale?n.locale:e.locale,this.options.locales=void 0===e.locales?n.locales:e.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,jr.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),n=this.options.locales[this.options.locale],i=!1;!1!==this.options.addNode&&(this._createAddNodeButton(n),i=!0),!1!==this.options.addEdge&&(!0===i?this._createSeperator(1):i=!0,this._createAddEdgeButton(n)),1===t&&"function"==typeof this.options.editNode?(!0===i?this._createSeperator(2):i=!0,this._createEditNodeButton(n)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===i?this._createSeperator(3):i=!0,this._createEditEdgeButton(n)),0!==t+e&&(0<t&&!1!==this.options.deleteNode||0===t&&!1!==this.options.deleteEdge)&&(!0===i&&this._createSeperator(4),this._createDeleteButton(n)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0===e)this.showManipulatorToolbar();else{if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var n=jr.deepExtend({},e.options,!1);if(n.x=e.x,n.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,(function(e){null!==e&&void 0!==e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==Au(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(e.from.x,e.from.y),i=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(i.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var r=e.edgeType.findBorderPositions(t);!1===n.selected&&(n.x=r.from.x,n.y=r.from.y),!1===i.selected&&(i.x=r.to.x,i.y=r.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var r=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(r.from,r.to)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),i=void 0;if(0<e.length){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else 0<n.length&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i({nodes:e,edges:n},(function(e){null!==e&&void 0!==e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var n=jr.deepExtend({},this.options.controlNodeStyle);n.id="targetNode"+jr.randomUUID(),n.hidden=!1,n.physics=!1,n.x=t,n.y=e;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:t,right:t,top:e,bottom:e},i}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},jr.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(jr.recursiveDOMDelete(this.editModeDiv),jr.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),jr.recursiveDOMDelete(this.manipulationDiv),jr.recursiveDOMDelete(this.editModeDiv),jr.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",n=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=i,this.manipulationDOM[t+"Label"].innerHTML=n,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,n=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,n)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var n=new lu(t,{});uh.onTouch(n,e),this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){delete this.body.nodes[this.temporaryIds.nodes[n]];var i=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[n]);-1!==i&&this.body.nodeIndices.splice(i,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=jr.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(e),s=i.isOverlappingWith(e);!0===o?(this.selectedControlNode=n,r.edgeType.from=n):!0===s&&(this.selectedControlNode=i,r.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),n=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y;else{var i=e.x-this.lastTouch.x,r=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+i,y:this.lastTouch.translation.y+r}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;0<=s;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}if(void 0===o||void 0===this.selectedControlNode)i.updateEdgeType(),this.body.emitter.emit("restorePhysics");else if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if(100<(new Date).valueOf()-this.touchTime){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=jr.extend({},this.body.view.translation);var e=this.lastTouch,n=this.selectionHandler.getNodeAt(e);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var r=this.body.functions.createEdge({id:"connectionEdge"+jr.randomUUID(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;0<=s;s--)if(-1===this.temporaryIds.nodes.indexOf(r[s])){o=this.body.nodes[r[s]];break}if(t.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var a=this.body.nodes[this.temporaryIds.nodes[0]];a.x=this.canvas._XconvertDOMtoCanvas(e.x),a.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var l=e.x-this.lastTouch.x,u=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+l,y:this.lastTouch.translation.y+u}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;0<=s;s--)if(-1===this.temporaryIds.nodes.indexOf(r[s])){o=this.body.nodes[r[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(i,o.id)),t.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,n={id:jr.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"!=typeof this.options.addNode)this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar();else{if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,(function(t){null!==t&&void 0!==t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()}))}}},{key:"_performAddEdge",value:function(t,e){var n=this,i={from:t,to:e};if("function"!=typeof this.options.addEdge)this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else{if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,(function(t){null!==t&&void 0!==t&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}}},{key:"_performEditEdge",value:function(t,e){var n=this,i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},r=this.options.editEdge;if("object"===Au(r)&&(r=r.editWithoutDrag),"function"!=typeof r)this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else{if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(i,(function(t){null===t||void 0===t||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}}}]),t}(),Eh={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},Sh=function(){var t=Math.atan2,e=Math.cos,n=Math.sin,i=Math.sqrt,r=Math.PI,o=Math.min;function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;vu(this,s),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return yu(s,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return Eh[t]}},{key:"setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==t){var n,i=this._isColorString(t);if(void 0!==i&&(t=i),!0===jr.isString(t)){if(!0===jr.isValidRGB(t)){var r=t.substr(4).substr(0,t.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===jr.isValidRGBA(t)){var o=t.substr(5).substr(0,t.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===jr.isValidHex(t)){var s=jr.hexToRGB(t);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0===t.a?"1.0":t.a;n={r:t.r,g:t.g,b:t.b,a}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(n,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=jr.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0===this.previousColor?alert("There is no last color to load..."):this.setColor(this.previousColor,!1)}},{key:"_setColor",value:function(t){var i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];!0===i&&(this.initialColor=jr.extend({},t)),this.color=t;var o=jr.RGBToHSV(t.r,t.g,t.b),s=2*r,a=this.r*o.s,l=this.centerCoordinates.x+a*n(s*o.h),u=this.centerCoordinates.y+a*e(s*o.h);this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=jr.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var n=jr.HSVToRGB(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,e=jr.RGBToHSV(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-e.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(e){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(e){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new lu(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),uh.onTouch(this.hammer,(function(e){t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i,o,s,a,l=this.colorPickerCanvas.clientWidth,u=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,l,u),this.centerCoordinates={x:.5*l,y:.5*u},this.r=.49*l;var c,h=2*r/360,d=1/this.r;for(s=0;360>s;s++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*n(h*s),o=this.centerCoordinates.y+a*e(h*s),c=jr.HSVToRGB(s*(1/360),a*d,1),t.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",t.fillRect(i-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,l,u)}this.generated=!0}},{key:"_moveSelector",value:function(s){var a=this.colorPickerDiv.getBoundingClientRect(),l=s.center.x-a.left,u=s.center.y-a.top,c=.5*this.colorPickerDiv.clientHeight,h=.5*this.colorPickerDiv.clientWidth,d=l-h,f=u-c,p=t(d,f),v=.98*o(i(d*d+f*f),h),g=e(p)*v+c,m=n(p)*v+h;this.colorPickerSelector.style.top=g-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=m-.5*this.colorPickerSelector.clientWidth+"px";var y=p/(2*r);y=0>y?y+1:y;var _=v/this.r,b=jr.RGBToHSV(this.color.r,this.color.g,this.color.b);b.h=y,b.s=_;var w=jr.HSVToRGB(b.h,b.s,b.v);w.a=this.color.a,this.color=w,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),s}(),Th=function(){var t=Math.ceil;function e(t,n,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;vu(this,e),this.parent=t,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},jr.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Sh(r),this.wrapper=void 0}return yu(e,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(t instanceof Array)this.options.filter=t.join();else if("object"===Au(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=this.options.filter,e=0,n=!1;for(var i in this.configureOptions)this.configureOptions.hasOwnProperty(i)&&(this.allowCreation=!1,n=!1,"function"==typeof t?(n=t(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(!0===t||-1!==t.indexOf(i))&&(n=!0),!1!==n&&(this.allowCreation=!0,0<e&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,n=0;n<t.length;n++){if(void 0===e[t[n]]){e=void 0;break}e=e[t[n]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+e.length,i.innerHTML=!0===n?"<i><b>"+t+":</b></i>":t+":",i}},{key:"_makeDropdown",value:function(t,e,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==t.indexOf(e)&&(r=t.indexOf(e));for(var o,s=0;s<t.length;s++)o=document.createElement("option"),o.value=t[s],s==r&&(o.selected="selected"),o.innerHTML=t[s],i.appendChild(o);var a=this;i.onchange=function(){a._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,i)}},{key:"_makeRange",value:function(e,n,i){var r=e[0],o=e[1],s=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=o,l.max=s}catch(e){}l.step=a;var u="",c=0;if(void 0!==n){var h=1.2;0>n&&n*h<o?(l.min=t(n*h),c=l.min,u="range increased"):n/h<o&&(l.min=t(n/h),c=l.min,u="range increased"),n*h>s&&1!==s&&(l.max=t(n*h),c=l.max,u="range increased"),l.value=n}else l.value=r;var d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=l.value;var f=this;l.onchange=function(){d.value=this.value,f._update(+this.value,i)},l.oninput=function(){d.value=this.value};var p=this._makeLabel(i[i.length-1],i),v=this._makeItem(i,p,l,d);""!=u&&this.popupHistory[v]!==c&&(this.popupHistory[v]=c,this._setupPopup(u,v))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index],n=e.getBoundingClientRect();this.popupDiv.html.style.left=n.left+"px",this.popupDiv.html.style.top=n.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=setTimeout((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=t,void 0!==e&&(i.checked=e,e!==t&&("object"===Au(t)?e!==t.enabled&&this.changedOptions.push({path:n,value:e}):this.changedOptions.push({path:n,value:e})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeTextInput",value:function(t,e,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=e,e!==t&&this.changedOptions.push({path:n,value:e});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeColorField",value:function(t,e,n){var i=this,r=t[1],o=document.createElement("div");e=void 0===e?r:e,"none"===e?o.className="vis-configuration vis-config-colorBlock none":(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e),e=void 0===e?r:e,o.onclick=function(){i._showColorPicker(e,o,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,o)}},{key:"_showColorPicker",value:function(t,e,n){var i=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,i._update(r,n)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){i._showColorPicker(t,e,n)}}))}},{key:"_handleObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=!1,r=this.options.filter,o=!1;for(var s in t)if(t.hasOwnProperty(s)){i=!0;var a=t[s],l=jr.copyAndExtendArray(e,s);if("function"==typeof r&&(i=r(s,e),!1===i&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,i=this._handleObject(a,l,!0),this.allowCreation=!1===n)),!1!==i){o=!0;var u=this._getValue(l);if(a instanceof Array)this._handleArray(a,u,l);else if("string"==typeof a)this._makeTextInput(a,u,l);else if("boolean"==typeof a)this._makeCheckbox(a,u,l);else if(a instanceof Object){var c=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==s&&(c=!1),1==c)if(void 0!==a.enabled){var h=jr.copyAndExtendArray(l,"enabled"),d=this._getValue(h);if(!0===d){var f=this._makeLabel(s,l,!0);this._makeItem(l,f),o=this._handleObject(a,l)||o}else this._makeCheckbox(a,d,l)}else{var p=this._makeLabel(s,l,!0);this._makeItem(l,p),o=this._handleObject(a,l)||o}}else console.error("dont know how to handle",a,s,l)}}return o}},{key:"_handleArray",value:function(t,e,n){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,n),t[1]!==e&&this.changedOptions.push({path:n,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:+e}))}},{key:"_update",value:function(t,e){var n=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=n;t="true"===t||t,t="false"!==t&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===i[e[r]]&&(i[e[r]]={}),r==e.length-1?i[e[r]]=t:i=i[e[r]]);return n}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),e}(),Oh="string",Ch="boolean",Ih="number",Nh="array",Mh="object",Ah="dom",Dh="any",Ph=["arrow","circle","bar"],Rh={configure:{enabled:{boolean:Ch},filter:{boolean:Ch,string:Oh,array:Nh,function:"function"},container:{dom:Ah},showButton:{boolean:Ch},__type__:{object:Mh,boolean:Ch,string:Oh,array:Nh,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Ch},scaleFactor:{number:Ih},type:{string:Ph},__type__:{object:Mh,boolean:Ch}},middle:{enabled:{boolean:Ch},scaleFactor:{number:Ih},type:{string:Ph},__type__:{object:Mh,boolean:Ch}},from:{enabled:{boolean:Ch},scaleFactor:{number:Ih},type:{string:Ph},__type__:{object:Mh,boolean:Ch}},__type__:{string:["from","to","middle"],object:Mh}},arrowStrikethrough:{boolean:Ch},background:{enabled:{boolean:Ch},color:{string:Oh},size:{number:Ih},dashes:{boolean:Ch,array:Nh},__type__:{object:Mh,boolean:Ch}},chosen:{label:{boolean:Ch,function:"function"},edge:{boolean:Ch,function:"function"},__type__:{object:Mh,boolean:Ch}},color:{color:{string:Oh},highlight:{string:Oh},hover:{string:Oh},inherit:{string:["from","to","both"],boolean:Ch},opacity:{number:Ih},__type__:{object:Mh,string:Oh}},dashes:{boolean:Ch,array:Nh},font:{color:{string:Oh},size:{number:Ih},face:{string:Oh},background:{string:Oh},strokeWidth:{number:Ih},strokeColor:{string:Oh},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:Ih},multi:{boolean:Ch,string:Oh},bold:{color:{string:Oh},size:{number:Ih},face:{string:Oh},mod:{string:Oh},vadjust:{number:Ih},__type__:{object:Mh,string:Oh}},boldital:{color:{string:Oh},size:{number:Ih},face:{string:Oh},mod:{string:Oh},vadjust:{number:Ih},__type__:{object:Mh,string:Oh}},ital:{color:{string:Oh},size:{number:Ih},face:{string:Oh},mod:{string:Oh},vadjust:{number:Ih},__type__:{object:Mh,string:Oh}},mono:{color:{string:Oh},size:{number:Ih},face:{string:Oh},mod:{string:Oh},vadjust:{number:Ih},__type__:{object:Mh,string:Oh}},__type__:{object:Mh,string:Oh}},hidden:{boolean:Ch},hoverWidth:{function:"function",number:Ih},label:{string:Oh,undefined:"undefined"},labelHighlightBold:{boolean:Ch},length:{number:Ih,undefined:"undefined"},physics:{boolean:Ch},scaling:{min:{number:Ih},max:{number:Ih},label:{enabled:{boolean:Ch},min:{number:Ih},max:{number:Ih},maxVisible:{number:Ih},drawThreshold:{number:Ih},__type__:{object:Mh,boolean:Ch}},customScalingFunction:{function:"function"},__type__:{object:Mh}},selectionWidth:{function:"function",number:Ih},selfReferenceSize:{number:Ih},shadow:{enabled:{boolean:Ch},color:{string:Oh},size:{number:Ih},x:{number:Ih},y:{number:Ih},__type__:{object:Mh,boolean:Ch}},smooth:{enabled:{boolean:Ch},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:Ih},forceDirection:{string:["horizontal","vertical","none"],boolean:Ch},__type__:{object:Mh,boolean:Ch}},title:{string:Oh,undefined:"undefined"},width:{number:Ih},widthConstraint:{maximum:{number:Ih},__type__:{object:Mh,boolean:Ch,number:Ih}},value:{number:Ih,undefined:"undefined"},__type__:{object:Mh}},groups:{useDefaultGroups:{boolean:Ch},__any__:"get from nodes, will be overwritten below",__type__:{object:Mh}},interaction:{dragNodes:{boolean:Ch},dragView:{boolean:Ch},hideEdgesOnDrag:{boolean:Ch},hideEdgesOnZoom:{boolean:Ch},hideNodesOnDrag:{boolean:Ch},hover:{boolean:Ch},keyboard:{enabled:{boolean:Ch},speed:{x:{number:Ih},y:{number:Ih},zoom:{number:Ih},__type__:{object:Mh}},bindToWindow:{boolean:Ch},__type__:{object:Mh,boolean:Ch}},multiselect:{boolean:Ch},navigationButtons:{boolean:Ch},selectable:{boolean:Ch},selectConnectedEdges:{boolean:Ch},hoverConnectedEdges:{boolean:Ch},tooltipDelay:{number:Ih},zoomView:{boolean:Ch},zoomSpeed:{number:Ih},__type__:{object:Mh}},layout:{randomSeed:{undefined:"undefined",number:Ih},improvedLayout:{boolean:Ch},clusterThreshold:{number:Ih},hierarchical:{enabled:{boolean:Ch},levelSeparation:{number:Ih},nodeSpacing:{number:Ih},treeSpacing:{number:Ih},blockShifting:{boolean:Ch},edgeMinimization:{boolean:Ch},parentCentralization:{boolean:Ch},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:Mh,boolean:Ch}},__type__:{object:Mh}},manipulation:{enabled:{boolean:Ch},initiallyActive:{boolean:Ch},addNode:{boolean:Ch,function:"function"},addEdge:{boolean:Ch,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Mh,boolean:Ch,function:"function"}},deleteNode:{boolean:Ch,function:"function"},deleteEdge:{boolean:Ch,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:Mh,boolean:Ch}},nodes:{borderWidth:{number:Ih},borderWidthSelected:{number:Ih,undefined:"undefined"},brokenImage:{string:Oh,undefined:"undefined"},chosen:{label:{boolean:Ch,function:"function"},node:{boolean:Ch,function:"function"},__type__:{object:Mh,boolean:Ch}},color:{border:{string:Oh},background:{string:Oh},highlight:{border:{string:Oh},background:{string:Oh},__type__:{object:Mh,string:Oh}},hover:{border:{string:Oh},background:{string:Oh},__type__:{object:Mh,string:Oh}},__type__:{object:Mh,string:Oh}},fixed:{x:{boolean:Ch},y:{boolean:Ch},__type__:{object:Mh,boolean:Ch}},font:{align:{string:Oh},color:{string:Oh},size:{number:Ih},face:{string:Oh},background:{string:Oh},strokeWidth:{number:Ih},strokeColor:{string:Oh},vadjust:{number:Ih},multi:{boolean:Ch,string:Oh},bold:{color:{string:Oh},size:{number:Ih},face:{string:Oh},mod:{string:Oh},vadjust:{number:Ih},__type__:{object:Mh,string:Oh}},boldital:{color:{string:Oh},size:{number:Ih},face:{string:Oh},mod:{string:Oh},vadjust:{number:Ih},__type__:{object:Mh,string:Oh}},ital:{color:{string:Oh},size:{number:Ih},face:{string:Oh},mod:{string:Oh},vadjust:{number:Ih},__type__:{object:Mh,string:Oh}},mono:{color:{string:Oh},size:{number:Ih},face:{string:Oh},mod:{string:Oh},vadjust:{number:Ih},__type__:{object:Mh,string:Oh}},__type__:{object:Mh,string:Oh}},group:{string:Oh,number:Ih,undefined:"undefined"},heightConstraint:{minimum:{number:Ih},valign:{string:Oh},__type__:{object:Mh,boolean:Ch,number:Ih}},hidden:{boolean:Ch},icon:{face:{string:Oh},code:{string:Oh},size:{number:Ih},color:{string:Oh},__type__:{object:Mh}},id:{string:Oh,number:Ih},image:{selected:{string:Oh,undefined:"undefined"},unselected:{string:Oh,undefined:"undefined"},__type__:{object:Mh,string:Oh}},imagePadding:{top:{number:Ih},right:{number:Ih},bottom:{number:Ih},left:{number:Ih},__type__:{object:Mh,number:Ih}},label:{string:Oh,undefined:"undefined"},labelHighlightBold:{boolean:Ch},level:{number:Ih,undefined:"undefined"},margin:{top:{number:Ih},right:{number:Ih},bottom:{number:Ih},left:{number:Ih},__type__:{object:Mh,number:Ih}},mass:{number:Ih},physics:{boolean:Ch},scaling:{min:{number:Ih},max:{number:Ih},label:{enabled:{boolean:Ch},min:{number:Ih},max:{number:Ih},maxVisible:{number:Ih},drawThreshold:{number:Ih},__type__:{object:Mh,boolean:Ch}},customScalingFunction:{function:"function"},__type__:{object:Mh}},shadow:{enabled:{boolean:Ch},color:{string:Oh},size:{number:Ih},x:{number:Ih},y:{number:Ih},__type__:{object:Mh,boolean:Ch}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:Ch,array:Nh},borderRadius:{number:Ih},interpolation:{boolean:Ch},useImageSize:{boolean:Ch},useBorderWithImage:{boolean:Ch},__type__:{object:Mh}},size:{number:Ih},title:{string:Oh,dom:Ah,undefined:"undefined"},value:{number:Ih,undefined:"undefined"},widthConstraint:{minimum:{number:Ih},maximum:{number:Ih},__type__:{object:Mh,boolean:Ch,number:Ih}},x:{number:Ih},y:{number:Ih},__type__:{object:Mh}},physics:{enabled:{boolean:Ch},barnesHut:{gravitationalConstant:{number:Ih},centralGravity:{number:Ih},springLength:{number:Ih},springConstant:{number:Ih},damping:{number:Ih},avoidOverlap:{number:Ih},__type__:{object:Mh}},forceAtlas2Based:{gravitationalConstant:{number:Ih},centralGravity:{number:Ih},springLength:{number:Ih},springConstant:{number:Ih},damping:{number:Ih},avoidOverlap:{number:Ih},__type__:{object:Mh}},repulsion:{centralGravity:{number:Ih},springLength:{number:Ih},springConstant:{number:Ih},nodeDistance:{number:Ih},damping:{number:Ih},__type__:{object:Mh}},hierarchicalRepulsion:{centralGravity:{number:Ih},springLength:{number:Ih},springConstant:{number:Ih},nodeDistance:{number:Ih},damping:{number:Ih},__type__:{object:Mh}},maxVelocity:{number:Ih},minVelocity:{number:Ih},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Ch},iterations:{number:Ih},updateInterval:{number:Ih},onlyDynamicEdges:{boolean:Ch},fit:{boolean:Ch},__type__:{object:Mh,boolean:Ch}},timestep:{number:Ih},adaptiveTimestep:{boolean:Ch},__type__:{object:Mh,boolean:Ch}},autoResize:{boolean:Ch},clickToUse:{boolean:Ch},locale:{string:Oh},locales:{__any__:{any:Dh},__type__:{object:Mh}},height:{string:Oh},width:{string:Oh},__type__:{object:Mh}};Rh.groups.__any__=Rh.nodes,Rh.manipulation.controlNodeStyle=Rh.nodes;var Lh={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,1,1,1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}},Fh=Object.freeze({allOptions:Rh,configureOptions:Lh}),jh=function(){var t=Math.min;function e(){vu(this,e)}return yu(e,[{key:"getDistances",value:function(e,n,i){for(var r={},o=e.edges,s=0;s<n.length;s++){var a=n[s],l={};r[a]=l;for(var u=0;u<n.length;u++)l[n[u]]=s==u?0:1e9}for(var c,h=0;h<i.length;h++)c=o[i[h]],!0===c.connected&&void 0!==r[c.fromId]&&void 0!==r[c.toId]&&(r[c.fromId][c.toId]=1,r[c.toId][c.fromId]=1);for(var d=n.length,f=0;f<d;f++)for(var p=n[f],v=r[p],g=0;g<d-1;g++)for(var m=n[g],y=r[m],_=g+1;_<d;_++){var b=n[_],w=r[b],k=t(y[b],y[p]+v[b]);y[b]=k,w[m]=k}return r}}]),e}(),zh=function(){var t=Math.sqrt,e=Math.pow,n=Math.max,i=Math.min;function r(t,e,n){vu(this,r),this.body=t,this.springLength=e,this.springConstant=n,this.distanceSolver=new jh}return yu(r,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var s=0,a=n(1e3,i(10*this.body.nodeIndices.length,6e3)),l=1e9,u=0,c=0,h=0,d=0,f=0;l>.01&&s<a;){s+=1;var p=this._getHighestEnergyNode(r),v=Mu(p,4);for(u=v[0],l=v[1],c=v[2],h=v[3],d=l,f=0;d>1&&f<5;){f+=1,this._moveNode(u,c,h);var g=this._getEnergy(u),m=Mu(g,3);d=m[0],c=m[1],h=m[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e,n=this.body.nodeIndices,i=this.body.nodes,r=0,o=n[0],s=0,a=0,l=0;l<n.length;l++)if(e=n[l],!1===i[e].predefinedPosition||!0===i[e].isCluster&&!0===t||!0===i[e].options.fixed.x||!0===i[e].options.fixed.y){var u=this._getEnergy(e),c=Mu(u,3),h=c[0],d=c[1],f=c[2];r<h&&(r=h,o=e,s=d,a=f)}return[o,r,s,a]}},{key:"_getEnergy",value:function(n){var i=Mu(this.E_sums[n],2),r=i[0],o=i[1],s=t(e(r,2)+e(o,2));return[s,r,o]}},{key:"_moveNode",value:function(t,n,i){for(var r,o=this.body.nodeIndices,s=this.body.nodes,a=0,l=0,u=0,c=s[t].x,h=s[t].y,d=this.K_matrix[t],f=this.L_matrix[t],p=0;p<o.length;p++)if(r=o[p],r!==t){var v=s[r].x,g=s[r].y,m=d[r],y=f[r],_=1/e(e(c-v,2)+e(h-g,2),1.5);a+=m*(1-y*e(h-g,2)*_),l+=m*(y*(c-v)*(h-g)*_),u+=m*(1-y*e(c-v,2)*_)}var b=a,w=l,k=n,x=u,E=(k/b+i/w)/(w/b-x/w);s[t].x+=-(w*E+k)/b,s[t].y+=E,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<e.length;i++){this.L_matrix[e[i]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[i]][e[r]]=n*t[e[i]][e[r]]}}},{key:"_createK_matrix",value:function(t){var n=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var r=0;r<n.length;r++){this.K_matrix[n[r]]={};for(var o=0;o<n.length;o++)this.K_matrix[n[r]][n[o]]=i*e(t[n[r]][n[o]],-2)}}},{key:"_createE_matrix",value:function(){var n=this.body.nodeIndices,i=this.body.nodes;this.E_matrix={},this.E_sums={};for(var r=0;r<n.length;r++)this.E_matrix[n[r]]=[];for(var o=0;o<n.length;o++){for(var s,a=n[o],l=i[a].x,u=i[a].y,c=0,h=0,d=o;d<n.length;d++)if(s=n[d],s!==a){var f=i[s].x,p=i[s].y,v=1/t(e(l-f,2)+e(u-p,2));this.E_matrix[a][d]=[this.K_matrix[a][s]*(l-f-this.L_matrix[a][s]*(l-f)*v),this.K_matrix[a][s]*(u-p-this.L_matrix[a][s]*(u-p)*v)],this.E_matrix[s][o]=this.E_matrix[a][d],c+=this.E_matrix[a][d][0],h+=this.E_matrix[a][d][1]}this.E_sums[a]=[c,h]}}},{key:"_updateE_matrix",value:function(n){for(var i,r=this.body.nodeIndices,o=this.body.nodes,s=this.E_matrix[n],a=this.K_matrix[n],l=this.L_matrix[n],u=o[n].x,c=o[n].y,h=0,d=0,f=0;f<r.length;f++)if(i=r[f],i!==n){var p=s[f],v=p[0],g=p[1],m=o[i].x,y=o[i].y,_=1/t(e(u-m,2)+e(c-y,2)),b=a[i]*(u-m-l[i]*(u-m)*_),w=a[i]*(c-y-l[i]*(c-y)*_);s[f]=[b,w],h+=b,d+=w;var k=this.E_sums[i];k[0]+=b-v,k[1]+=w-g}this.E_sums[n]=[h,d]}}]),r}();function Bh(t,e,n){var i=this;if(!(this instanceof Bh))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:fu,clickToUse:!1},jr.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new bu((function(){return i.body.emitter.emit("_requestRedraw")})),this.groups=new wu,this.canvas=new ch(this.body),this.selectionHandler=new vh(this.body,this.canvas),this.interactionHandler=new ph(this.body,this.canvas,this.selectionHandler),this.view=new hh(this.body,this.canvas),this.renderer=new lh(this.body,this.canvas),this.physics=new ih(this.body),this.layoutEngine=new kh(this.body),this.clustering=new sh(this.body),this.manipulation=new xh(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new _c(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new qc(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new zh(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(e)}Ko(Bh.prototype),Bh.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){var n=vc.validate(t,Rh);if(!0===n&&console.log("%cErrors have been found in the supplied options object.",pc),jr.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(!this.configurator&&(this.configurator=new Th(this,this.body.container,Lh,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};jr.deepExtend(i.nodes,this.nodesHandler.options),jr.deepExtend(i.edges,this.edgesHandler.options),jr.deepExtend(i.layout,this.layoutEngine.options),jr.deepExtend(i.interaction,this.selectionHandler.options),jr.deepExtend(i.interaction,this.renderer.options),jr.deepExtend(i.interaction,this.interactionHandler.options),jr.deepExtend(i.manipulation,this.manipulation.options),jr.deepExtend(i.physics,this.physics.options),jr.deepExtend(i.global,this.canvas.options),jr.deepExtend(i.global,this.options),this.configurator.setModuleOptions(i)}void 0===t.clickToUse?this.body.emitter.emit("activate"):!0===t.clickToUse?void 0===this.activator&&(this.activator=new du(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Bh.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(n)&&(this.clustering._isClusteredNode(n)||!1!==t[n].options.hidden||this.body.nodeIndices.push(t[n].id));for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=t[r.fromId],s=t[r.toId],a=!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&void 0!==o&&void 0!==s&&!1===o.options.hidden&&!1===s.options.hidden;a&&this.body.edgeIndices.push(r.id)}},Bh.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},Bh.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Ds.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=Rs(t.gephi);this.setData(n)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Bh.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];jr.recursiveDOMDelete(this.body.container)},Bh.prototype._updateValueRange=function(t){var e,n=void 0,i=void 0,r=0;for(e in t)if(t.hasOwnProperty(e)){var o=t[e].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(n,i,r)},Bh.prototype.isActive=function(){return!this.activator||this.activator.active},Bh.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Bh.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Bh.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Bh.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Bh.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Bh.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Bh.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Bh.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Bh.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Bh.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Bh.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Bh.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Bh.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Bh.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Bh.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Bh.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Bh.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Bh.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Bh.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Bh.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Bh.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Bh.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Bh.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Bh.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Bh.prototype.getConnectedNodes=function(t){return void 0===this.body.nodes[t]?this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments):this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments)},Bh.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Bh.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Bh.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Bh.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Bh.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Bh.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Bh.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},Bh.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},Bh.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},Bh.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},Bh.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Bh.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Bh.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},Bh.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Bh.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Bh.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Bh.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Bh.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Bh.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Bh.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Bh.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var Uh=$o((function(t,e){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var n=0;n<t[e].redundant.length;n++)t[e].redundant[n].parentNode.removeChild(t[e].redundant[n]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,n){var i;return e.hasOwnProperty(t)?0<e[t].redundant.length?(i=e[t].redundant[0],e[t].redundant.shift()):(i=document.createElementNS("http://www.w3.org/2000/svg",t),n.appendChild(i)):(i=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},n.appendChild(i)),e[t].used.push(i),i},e.getDOMElement=function(t,e,n,i){var r;return e.hasOwnProperty(t)?0<e[t].redundant.length?(r=e[t].redundant[0],e[t].redundant.shift()):(r=document.createElement(t),void 0===i?n.appendChild(r):n.insertBefore(r,i)):(r=document.createElement(t),e[t]={used:[],redundant:[]},void 0===i?n.appendChild(r):n.insertBefore(r,i)),e[t].used.push(r),r},e.drawPoint=function(t,n,i,r,o,s){var a;if("circle"==i.style?(a=e.getSVGElement("circle",r,o),a.setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",n),a.setAttributeNS(null,"r",.5*i.size)):(a=e.getSVGElement("rect",r,o),a.setAttributeNS(null,"x",t-.5*i.size),a.setAttributeNS(null,"y",n-.5*i.size),a.setAttributeNS(null,"width",i.size),a.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&a.setAttributeNS(null,"style",i.styles),a.setAttributeNS(null,"class",i.className+" vis-point"),s){var l=e.getSVGElement("text",r,o);s.xOffset&&(t+=s.xOffset),s.yOffset&&(n+=s.yOffset),s.content&&(l.textContent=s.content),s.className&&l.setAttributeNS(null,"class",s.className+" vis-label"),l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",n)}return a},e.drawBar=function(t,n,i,r,o,s,a,l){if(0!=r){0>r&&(r*=-1,n-=r);var u=e.getSVGElement("rect",s,a);u.setAttributeNS(null,"x",t-.5*i),u.setAttributeNS(null,"y",n),u.setAttributeNS(null,"width",i),u.setAttributeNS(null,"height",r),u.setAttributeNS(null,"class",o),l&&u.setAttributeNS(null,"style",l)}}})),Hh=Uh.prepareElements,Wh=Uh.cleanupElements,Yh=Uh.resetElements,Vh=Uh.getSVGElement,Gh=Uh.getDOMElement,$h=Uh.drawPoint,qh=Uh.drawBar,Kh=Object.freeze({default:Uh,__moduleExports:Uh,prepareElements:Hh,cleanupElements:Wh,resetElements:Yh,getSVGElement:Vh,getDOMElement:Gh,drawPoint:$h,drawBar:qh}),Zh=$o((function(t){var e=Math.round,n=Math.pow,i=Math.max,r=Math.abs,o=Math.min,s=Math.floor,a=Math.ceil;(function(e,n){t.exports=n()})(0,(function(){function l(){return $e.apply(null,arguments)}function u(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function c(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function h(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function d(t){return void 0===t}function f(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function p(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function v(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function m(t,e){for(var n in e)g(e,n)&&(t[n]=e[n]);return g(e,"toString")&&(t.toString=e.toString),g(e,"valueOf")&&(t.valueOf=e.valueOf),t}function y(t,e,n,i){return ie(t,e,n,i,!0).utc()}function _(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function b(t){return null==t._pf&&(t._pf=_()),t._pf}function w(t){if(null==t._isValid){var e=b(t),n=qe.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&0>e.overflow&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function k(t){var e=y(NaN);return null==t?b(e).userInvalidated=!0:m(b(e),t),e}function x(t,e){var n,i,r;if(d(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),d(e._i)||(t._i=e._i),d(e._f)||(t._f=e._f),d(e._l)||(t._l=e._l),d(e._strict)||(t._strict=e._strict),d(e._tzm)||(t._tzm=e._tzm),d(e._isUTC)||(t._isUTC=e._isUTC),d(e._offset)||(t._offset=e._offset),d(e._pf)||(t._pf=b(e)),d(e._locale)||(t._locale=e._locale),0<Ke.length)for(n=0;n<Ke.length;n++)i=Ke[n],r=e[i],d(r)||(t[i]=r);return t}function E(t){x(this,t),this._d=new Date(null==t._d?NaN:t._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===Ze&&(Ze=!0,l.updateOffset(this),Ze=!1)}function S(t){return t instanceof E||null!=t&&null!=t._isAMomentObject}function T(t){return 0>t?a(t)||0:s(t)}function O(t){var e=+t,n=0;return 0!=e&&isFinite(e)&&(n=T(e)),n}function C(t,e,n){var i,s=o(t.length,e.length),a=r(t.length-e.length),l=0;for(i=0;i<s;i++)(n&&t[i]!==e[i]||!n&&O(t[i])!==O(e[i]))&&l++;return l+a}function I(t){!1===l.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function N(t,e){var n=!0;return m((function(){if(null!=l.deprecationHandler&&l.deprecationHandler(null,t),n){for(var i,r=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var s in i+="\n["+o+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];r.push(i)}I(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}function M(t,e){null!=l.deprecationHandler&&l.deprecationHandler(t,e),Xe[t]||(I(e),Xe[t]=!0)}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,n;for(n in t)e=t[n],A(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(t,e){var n,i=m({},t);for(n in e)g(e,n)&&(c(t[n])&&c(e[n])?(i[n]={},m(i[n],t[n]),m(i[n],e[n])):null==e[n]?delete i[n]:i[n]=e[n]);for(n in t)g(t,n)&&!g(e,n)&&c(t[n])&&(i[n]=m({},i[n]));return i}function R(t){null!=t&&this.set(t)}function L(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return A(i)?i.call(e,n):i}function F(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])}function j(t,e){var n=t.toLowerCase();tn[n]=tn[n+"s"]=tn[e]=t}function z(t){return"string"==typeof t?tn[t]||tn[t.toLowerCase()]:void 0}function B(t){var e,n,i={};for(n in t)g(t,n)&&(e=z(n),e&&(i[e]=t[n]));return i}function U(t,e){en[t]=e}function H(t){var e=[];for(var n in t)e.push({unit:n,priority:en[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}function W(t,e,o){var s=""+r(t),a=e-s.length;return(0<=t?o?"+":"":"-")+n(10,i(0,a)).toString().substr(1)+s}function Y(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(sn[t]=r),e&&(sn[e[0]]=function(){return W(r.apply(this,arguments),e[1],e[2])}),n&&(sn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G(t){var e,n,i=t.match(nn);for(e=0,n=i.length;e<n;e++)i[e]=sn[i[e]]?sn[i[e]]:V(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=A(i[r])?i[r].call(e,t):i[r];return o}}function $(t,e){return t.isValid()?(e=q(e,t.localeData()),on[e]=on[e]||G(e),on[e](t)):t.localeData().invalidDate()}function q(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(rn.lastIndex=0;0<=i&&rn.test(t);)t=t.replace(rn,n),rn.lastIndex=0,i-=1;return t}function K(t,e,n){En[t]=A(e)?e:function(t){return t&&n?n:e}}function Z(t,e){return g(En,t)?En[t](e._strict,e._locale):new RegExp(X(t))}function X(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r})))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),f(e)&&(i=function(t,n){n[e]=O(t)}),n=0;n<t.length;n++)Sn[t[n]]=i}function tt(t,e){J(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function et(t,e,n){null!=e&&g(Sn,t)&&Sn[t](e,n._a,n,t)}function nt(t){return it(t)?366:365}function it(t){return 0==t%4&&0!=t%100||0==t%400}function rt(t,e){return function(n){return null==n?ot(this,t):(st(this,t,n),l.updateOffset(this,e),this)}}function ot(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function st(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&it(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),ut(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function at(t,e){if("object"==typeof t){t=B(t);for(var n=H(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=z(t),A(this[t]))return this[t](e);return this}function lt(t,e){return(t%e+e)%e}function ut(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=lt(e,12);return t+=(e-n)/12,1===n?it(t)?29:28:31-n%7%2}function ct(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=y([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=An.call(this._shortMonthsParse,s),-1===r?null:r):(r=An.call(this._longMonthsParse,s),-1===r?null:r):"MMM"===e?(r=An.call(this._shortMonthsParse,s),-1!==r?r:(r=An.call(this._longMonthsParse,s),-1===r?null:r)):(r=An.call(this._longMonthsParse,s),-1!==r?r:(r=An.call(this._shortMonthsParse,s),-1===r?null:r))}function ht(t,e,n){var i,r,o;if(this._monthsParseExact)return ct.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=y([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function dt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=O(e);else if(e=t.localeData().monthsParse(e),!f(e))return t;return n=o(t.date(),ut(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ft(t){return null==t?ot(this,"Month"):(dt(this,t),l.updateOffset(this,!0),this)}function pt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=y([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=Q(i[e]),r[e]=Q(r[e]);for(e=0;24>e;e++)o[e]=Q(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function vt(t,e,n,i,r,o,s){var a;return 100>t&&0<=t?(a=new Date(t+400,e,n,i,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,i,r,o,s),a}function gt(t){var e;if(100>t&&0<=t){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function mt(t,e,n){var i=7+e-n,r=(7+gt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function yt(t,e,n,i,r){var o,s,a=mt(t,i,r),l=1+7*(e-1)+(7+n-i)%7+a;return 0>=l?(o=t-1,s=nt(o)+l):l>nt(t)?(o=t+1,s=l-nt(t)):(o=t,s=l),{year:o,dayOfYear:s}}function _t(t,e,n){var i,r,o=mt(t.year(),e,n),a=s((t.dayOfYear()-o-1)/7)+1;return 1>a?(r=t.year()-1,i=a+bt(r,e,n)):a>bt(t.year(),e,n)?(i=a-bt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function bt(t,e,n){var i=mt(t,e,n),r=mt(t+1,e,n);return(nt(t)-i+r)/7}function wt(t,e){return"string"==typeof t?isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10):t}function kt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function xt(t,e){return t.slice(e,7).concat(t.slice(0,e))}function Et(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=y([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=An.call(this._weekdaysParse,s),-1===r?null:r):"ddd"===e?(r=An.call(this._shortWeekdaysParse,s),-1===r?null:r):(r=An.call(this._minWeekdaysParse,s),-1===r?null:r):"dddd"===e?(r=An.call(this._weekdaysParse,s),-1!==r?r:(r=An.call(this._shortWeekdaysParse,s),-1!==r?r:(r=An.call(this._minWeekdaysParse,s),-1===r?null:r))):"ddd"===e?(r=An.call(this._shortWeekdaysParse,s),-1!==r?r:(r=An.call(this._weekdaysParse,s),-1!==r?r:(r=An.call(this._minWeekdaysParse,s),-1===r?null:r))):(r=An.call(this._minWeekdaysParse,s),-1!==r?r:(r=An.call(this._weekdaysParse,s),-1!==r?r:(r=An.call(this._shortWeekdaysParse,s),-1===r?null:r)))}function St(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Et.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=y([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Tt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],u=[];for(e=0;7>e;e++)n=y([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(s.sort(t),a.sort(t),l.sort(t),u.sort(t),e=0;7>e;e++)a[e]=Q(a[e]),l[e]=Q(l[e]),u[e]=Q(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ot(){return this.hours()%12||12}function Ct(t,e){Y(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function It(t,e){return e._meridiemParse}function Nt(t){return t?t.toLowerCase().replace("_","-"):t}function Mt(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Nt(t[o]).split("-"),e=r.length,n=Nt(t[o+1]),n=n?n.split("-"):null;0<e;){if(i=At(r.slice(0,e).join("-")),i)return i;if(n&&n.length>=e&&C(r,n,!0)>=e-1)break;e--}o++}return Fn}function At(e){var n=null;if(!Un[e]&&t&&t.exports)try{n=Fn._abbr,Vo("./locale/"+e),Dt(n)}catch(e){}return Un[e]}function Dt(t,e){var n;return t&&(n=d(e)?Rt(t):Pt(t,e),n?Fn=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Fn._abbr}function Pt(t,e){if(null!==e){var n,i=Bn;if(e.abbr=t,null!=Un[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Un[t]._config;else if(null!=e.parentLocale)if(null!=Un[e.parentLocale])i=Un[e.parentLocale]._config;else{if(n=At(e.parentLocale),null==n)return Hn[e.parentLocale]||(Hn[e.parentLocale]=[]),Hn[e.parentLocale].push({name:t,config:e}),null;i=n._config}return Un[t]=new R(P(i,e)),Hn[t]&&Hn[t].forEach((function(t){Pt(t.name,t.config)})),Dt(t),Un[t]}return delete Un[t],null}function Rt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Fn;if(!u(t)){if(e=At(t),e)return e;t=[t]}return Mt(t)}function Lt(){return Qe(Un)}function Ft(t){var e,n=t._a;return n&&-2===b(t).overflow&&(e=0>n[1]||11<n[1]?1:1>n[2]||n[2]>ut(n[0],n[1])?2:0>n[3]||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:0>n[4]||59<n[4]?4:0>n[5]||59<n[5]?5:0>n[6]||999<n[6]?6:-1,b(t)._overflowDayOfYear&&(0>e||2<e)&&(e=2),b(t)._overflowWeeks&&-1===e&&(e=7),b(t)._overflowWeekday&&-1===e&&(e=8),b(t).overflow=e),t}function jt(t,e,n){return null==t?null==e?n:e:t}function zt(t){var e=new Date(l.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Bt(t){var e,n,i,r,o,s=[];if(!t._d){for(i=zt(t),t._w&&null==t._a[2]&&null==t._a[1]&&Ut(t),null!=t._dayOfYear&&(o=jt(t._a[0],i[0]),(t._dayOfYear>nt(o)||0===t._dayOfYear)&&(b(t)._overflowDayOfYear=!0),n=gt(o,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?gt:vt).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==r&&(b(t).weekdayMismatch=!0)}}function Ut(t){var e,n,i,r,o,s,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,s=4,n=jt(e.GG,t._a[0],_t(re(),1,4).year),i=jt(e.W,1),r=jt(e.E,1),(1>r||7<r)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var u=_t(re(),o,s);n=jt(e.gg,t._a[0],u.year),i=jt(e.w,u.week),null==e.d?null==e.e?r=o:(r=e.e+o,(0>e.e||6<e.e)&&(l=!0)):(r=e.d,(0>r||6<r)&&(l=!0))}1>i||i>bt(n,o,s)?b(t)._overflowWeeks=!0:null==l?(a=yt(n,i,r,o,s),t._a[0]=a.year,t._dayOfYear=a.dayOfYear):b(t)._overflowWeekday=!0}function Ht(t){var e,n,i,r,o,s,a=t._i,l=Wn.exec(a)||Yn.exec(a);if(l){for(b(t).iso=!0,e=0,n=Gn.length;e<n;e++)if(Gn[e][1].exec(l[1])){r=Gn[e][0],i=!1!==Gn[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=$n.length;e<n;e++)if($n[e][1].exec(l[3])){o=(l[2]||" ")+$n[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Vn.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),Zt(t)}else t._isValid=!1}function Wt(t,e,n,i,r,o){var s=[Yt(t),Rn.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}function Yt(t){var e=parseInt(t,10);return 49>=e?2e3+e:999>=e?1900+e:e}function Vt(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Gt(t,e,n){if(t){var i=Ln.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return b(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function $t(t,e,n){if(t)return Zn[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function qt(t){var e=Kn.exec(Vt(t._i));if(e){var n=Wt(e[4],e[3],e[2],e[5],e[6],e[7]);if(!Gt(e[1],n,t))return;t._a=n,t._tzm=$t(e[8],e[9],e[10]),t._d=gt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),b(t).rfc2822=!0}else t._isValid=!1}function Kt(t){var e=qn.exec(t._i);null===e?(Ht(t),!1===t._isValid&&(delete t._isValid,qt(t),!1===t._isValid&&(delete t._isValid,l.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Zt(t){if(t._f!==l.ISO_8601)if(t._f!==l.RFC_2822){t._a=[],b(t).empty=!0;var e,n,i,r,o,s=""+t._i,a=s.length,u=0;for(i=q(t._f,t._locale).match(nn)||[],e=0;e<i.length;e++)r=i[e],n=(s.match(Z(r,t))||[])[0],n&&(o=s.substr(0,s.indexOf(n)),0<o.length&&b(t).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),u+=n.length),sn[r]?(n?b(t).empty=!1:b(t).unusedTokens.push(r),et(r,n,t)):t._strict&&!n&&b(t).unusedTokens.push(r);b(t).charsLeftOver=a-u,0<s.length&&b(t).unusedInput.push(s),12>=t._a[3]&&!0===b(t).bigHour&&0<t._a[3]&&(b(t).bigHour=void 0),b(t).parsedDateParts=t._a.slice(0),b(t).meridiem=t._meridiem,t._a[3]=Xt(t._locale,t._a[3],t._meridiem),Bt(t),Ft(t)}else qt(t);else Ht(t)}function Xt(t,e,n){var i;return null==n?e:null==t.meridiemHour?(null==t.isPM||(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0)),e):t.meridiemHour(e,n)}function Qt(t){var e,n,i,r,o;if(0===t._f.length)return b(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Zt(e),w(e)&&(o+=b(e).charsLeftOver,o+=10*b(e).unusedTokens.length,b(e).score=o,(null==i||o<i)&&(i=o,n=e));m(t,n||e)}function Jt(t){if(!t._d){var e=B(t._i);t._a=v([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Bt(t)}}function te(t){var e=new E(Ft(ee(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ee(t){var e=t._i,n=t._f;return t._locale=t._locale||Rt(t._l),null===e||void 0===n&&""===e?k({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),S(e)?new E(Ft(e)):(p(e)?t._d=e:u(n)?Qt(t):n?Zt(t):ne(t),w(t)||(t._d=null),t))}function ne(t){var e=t._i;d(e)?t._d=new Date(l.now()):p(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Kt(t):u(e)?(t._a=v(e.slice(0),(function(t){return parseInt(t,10)})),Bt(t)):c(e)?Jt(t):f(e)?t._d=new Date(e):l.createFromInputFallback(t)}function ie(t,e,n,i,r){var o={};return(!0===n||!1===n)&&(i=n,n=void 0),(c(t)&&h(t)||u(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,te(o)}function re(t,e,n,i){return ie(t,e,n,i,!1)}function oe(t,e){var n,i;if(1===e.length&&u(e[0])&&(e=e[0]),!e.length)return re();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function se(t){for(var e in t)if(-1===An.call(Jn,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Jn.length;++i)if(t[Jn[i]]){if(n)return!1;parseFloat(t[Jn[i]])!==O(t[Jn[i]])&&(n=!0)}return!0}function ae(t){var e=B(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=se(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=Rt(),this._bubble()}function le(t){return t instanceof ae}function ue(t){return 0>t?-1*e(-1*t):e(t)}function ce(t,e){Y(t,0,0,(function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+W(~~(t/60),2)+e+W(~~t%60,2)}))}function he(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(ti)||["-",0,0],o=60*r[1]+O(r[2]);return 0===o?0:"+"===r[0]?o:-o}function de(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(S(t)||p(t)?t.valueOf():re(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),l.updateOffset(n,!1),n):re(t).local()}function fe(t){return 15*-e(t._d.getTimezoneOffset()/15)}function pe(){if(!d(this._isDSTShifted))return this._isDSTShifted;var t={};if(x(t,this),t=ee(t),t._a){var e=t._isUTC?y(t._a):re(t._a);this._isDSTShifted=this.isValid()&&0<C(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}function ve(){return!!this.isValid()&&this._isUTC&&0===this._offset}function ge(t,e){var n,i,r,o=t,s=null;return le(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:f(t)?(o={},e?o[e]=t:o.milliseconds=t):(s=ei.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:O(s[2])*n,h:O(s[3])*n,m:O(s[4])*n,s:O(s[5])*n,ms:O(ue(1e3*s[6]))*n}):(s=ni.exec(t))?(n="-"===s[1]?-1:1,o={y:me(s[2],n),M:me(s[3],n),w:me(s[4],n),d:me(s[5],n),h:me(s[6],n),m:me(s[7],n),s:me(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=_e(re(o.from),re(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new ae(o),le(t)&&g(t,"_locale")&&(i._locale=t._locale),i}function me(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ye(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function _e(t,e){var n;return t.isValid()&&e.isValid()?(e=de(e,t),t.isBefore(e)?n=ye(t,e):(n=ye(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function be(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=ge(n,i),we(this,r,t),this}}function we(t,e,n,i){var r=e._milliseconds,o=ue(e._days),s=ue(e._months);t.isValid()&&(i=null==i||i,s&&dt(t,ot(t,"Month")+s*n),o&&st(t,"Date",ot(t,"Date")+o*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&l.updateOffset(t,o||s))}function ke(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function xe(t){var e;return void 0===t?this._locale._abbr:(e=Rt(t),null!=e&&(this._locale=e),this)}function Ee(){return this._locale}function Se(t,e){return(t%e+e)%e}function Te(t,e,n){return 100>t&&0<=t?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function Oe(t,e,n){return 100>t&&0<=t?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function Ce(t,e){Y(0,[t,t.length],0,e)}function Ie(t,e,n,i,r){var o;return null==t?_t(this,i,r).year:(o=bt(t,i,r),e>o&&(e=o),Ne.call(this,t,e,n,i,r))}function Ne(t,e,n,i,r){var o=yt(t,e,n,i,r),s=gt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Me(t,e){e[6]=O(1e3*("0."+t))}function Ae(t){return t}function De(t,e,n,i){var r=Rt(),o=y().set(i,e);return r[n](o,t)}function Pe(t,e,n){if(f(t)&&(e=t,t=void 0),t=t||"",null!=e)return De(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=De(t,i,n,"month");return r}function Re(t,e,n,i){"boolean"==typeof t?(f(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,f(e)&&(n=e,e=void 0),e=e||"");var r=Rt(),o=t?r._week.dow:0;if(null!=n)return De(e,(n+o)%7,i,"day");var s,a=[];for(s=0;7>s;s++)a[s]=De(e,(s+o)%7,i,"day");return a}function Le(t,e,n,i){var r=ge(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Fe(t){return 0>t?s(t):a(t)}function je(t){return 4800*t/146097}function ze(t){return 146097*t/4800}function Be(t){return function(){return this.as(t)}}function Ue(t){return function(){return this.isValid()?this._data[t]:NaN}}function He(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function We(t,e,n){var i=ge(t).abs(),r=Ni(i.as("s")),o=Ni(i.as("m")),s=Ni(i.as("h")),a=Ni(i.as("d")),l=Ni(i.as("M")),u=Ni(i.as("y")),c=r<=Mi.ss&&["s",r]||r<Mi.s&&["ss",r]||1>=o&&["m"]||o<Mi.m&&["mm",o]||1>=s&&["h"]||s<Mi.h&&["hh",s]||1>=a&&["d"]||a<Mi.d&&["dd",a]||1>=l&&["M"]||l<Mi.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=0<+t,c[4]=n,He.apply(null,c)}function Ye(t){return void 0===t?Ni:"function"==typeof t&&(Ni=t,!0)}function Ve(t){return(0<t)-(0>t)||+t}function Ge(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=Ai(this._milliseconds)/1e3,r=Ai(this._days),o=Ai(this._months);t=T(i/60),e=T(t/60),i%=60,t%=60,n=T(o/12),o%=12;var s=n,a=o,l=r,u=e,c=t,h=i?i.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=0>d?"-":"",p=Ve(this._months)===Ve(d)?"":"-",v=Ve(this._days)===Ve(d)?"":"-",g=Ve(this._milliseconds)===Ve(d)?"":"-";return f+"P"+(s?p+s+"Y":"")+(a?p+a+"M":"")+(l?v+l+"D":"")+(u||c||h?"T":"")+(u?g+u+"H":"")+(c?g+c+"M":"")+(h?g+h+"S":"")}var $e,qe;qe=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Ke=l.momentProperties=[],Ze=!1,Xe={};l.suppressDeprecationWarnings=!1,l.deprecationHandler=null;var Qe=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)g(t,e)&&n.push(e);return n},Je=/\d{1,2}/,tn={},en={},nn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,rn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,on={},sn={},an=/\d/,ln=/\d\d/,un=/\d{3}/,cn=/\d{4}/,hn=/[+-]?\d{6}/,dn=/\d\d?/,fn=/\d\d\d\d?/,pn=/\d\d\d\d\d\d?/,vn=/\d{1,3}/,gn=/\d{1,4}/,mn=/[+-]?\d{1,6}/,yn=/\d+/,_n=/[+-]?\d+/,bn=/Z|[+-]\d\d:?\d\d/gi,wn=/Z|[+-]\d\d(?::?\d\d)?/gi,kn=/[+-]?\d+(\.\d{1,3})?/,xn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,En={},Sn={},Tn=0,On=1,Cn=2,In=3,Nn=4,Mn=5;Y("Y",0,0,(function(){var t=this.year();return 9999>=t?""+t:"+"+t})),Y(0,["YY",2],0,(function(){return this.year()%100})),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),j("year","y"),U("year",1),K("Y",_n),K("YY",dn,ln),K("YYYY",gn,cn),K("YYYYY",mn,hn),K("YYYYYY",mn,hn),J(["YYYYY","YYYYYY"],Tn),J("YYYY",(function(t,e){e[Tn]=2===t.length?l.parseTwoDigitYear(t):O(t)})),J("YY",(function(t,e){e[Tn]=l.parseTwoDigitYear(t)})),J("Y",(function(t,e){e[Tn]=parseInt(t,10)})),l.parseTwoDigitYear=function(t){return O(t)+(68<O(t)?1900:2e3)};var An,Dn=rt("FullYear",!0);An=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Y("M",["MM",2],"Mo",(function(){return this.month()+1})),Y("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),Y("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),j("month","M"),U("month",8),K("M",dn),K("MM",dn,ln),K("MMM",(function(t,e){return e.monthsShortRegex(t)})),K("MMMM",(function(t,e){return e.monthsRegex(t)})),J(["M","MM"],(function(t,e){e[On]=O(t)-1})),J(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null==r?b(n).invalidMonth=t:e[On]=r}));var Pn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Rn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),U("week",5),U("isoWeek",5),K("w",dn),K("ww",dn,ln),K("W",dn),K("WW",dn,ln),tt(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=O(t)})),Y("d",0,"do","day"),Y("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),Y("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),Y("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),K("d",dn),K("e",dn),K("E",dn),K("dd",(function(t,e){return e.weekdaysMinRegex(t)})),K("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),K("dddd",(function(t,e){return e.weekdaysRegex(t)})),tt(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null==r?b(n).invalidWeekday=t:e.d=r})),tt(["d","e","E"],(function(t,e,n,i){e[i]=O(t)}));var Ln=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Ot),Y("k",["kk",2],0,(function(){return this.hours()||24})),Y("hmm",0,0,(function(){return""+Ot.apply(this)+W(this.minutes(),2)})),Y("hmmss",0,0,(function(){return""+Ot.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)})),Y("Hmm",0,0,(function(){return""+this.hours()+W(this.minutes(),2)})),Y("Hmmss",0,0,(function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)})),Ct("a",!0),Ct("A",!1),j("hour","h"),U("hour",13),K("a",It),K("A",It),K("H",dn),K("h",dn),K("k",dn),K("HH",dn,ln),K("hh",dn,ln),K("kk",dn,ln),K("hmm",fn),K("hmmss",pn),K("Hmm",fn),K("Hmmss",pn),J(["H","HH"],In),J(["k","kk"],(function(t,e){var n=O(t);e[In]=24===n?0:n})),J(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),J(["h","hh"],(function(t,e,n){e[In]=O(t),b(n).bigHour=!0})),J("hmm",(function(t,e,n){var i=t.length-2;e[In]=O(t.substr(0,i)),e[Nn]=O(t.substr(i)),b(n).bigHour=!0})),J("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[In]=O(t.substr(0,i)),e[Nn]=O(t.substr(i,2)),e[Mn]=O(t.substr(r)),b(n).bigHour=!0})),J("Hmm",(function(t,e){var n=t.length-2;e[In]=O(t.substr(0,n)),e[Nn]=O(t.substr(n))})),J("Hmmss",(function(t,e){var n=t.length-4,i=t.length-2;e[In]=O(t.substr(0,n)),e[Nn]=O(t.substr(n,2)),e[Mn]=O(t.substr(i))}));var Fn,jn=/[ap]\.?m?\.?/i,zn=rt("Hours",!0),Bn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Je,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:Rn,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Ln,meridiemParse:jn},Un={},Hn={},Wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vn=/Z|[+-]\d\d(?::?\d\d)?/,Gn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],$n=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qn=/^\/?Date\((\-?\d+)/i,Kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Zn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};l.createFromInputFallback=N("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),l.ISO_8601=function(){},l.RFC_2822=function(){};var Xn=N("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=re.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:k()})),Qn=N("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=re.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:k()})),Jn=["year","quarter","month","week","day","hour","minute","second","millisecond"];ce("Z",":"),ce("ZZ",""),K("Z",wn),K("ZZ",wn),J(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=he(wn,t)}));var ti=/([\+\-]|\d\d)/gi;l.updateOffset=function(){};var ei=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ni=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;ge.fn=ae.prototype,ge.invalid=function(){return ge(NaN)};var ii=be(1,"add"),ri=be(-1,"subtract");l.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",l.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=N("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));Y(0,["gg",2],0,(function(){return this.weekYear()%100})),Y(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ce("gggg","weekYear"),Ce("ggggg","weekYear"),Ce("GGGG","isoWeekYear"),Ce("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),K("G",_n),K("g",_n),K("GG",dn,ln),K("gg",dn,ln),K("GGGG",gn,cn),K("gggg",gn,cn),K("GGGGG",mn,hn),K("ggggg",mn,hn),tt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=O(t)})),tt(["gg","GG"],(function(t,e,n,i){e[i]=l.parseTwoDigitYear(t)})),Y("Q",0,"Qo","quarter"),j("quarter","Q"),U("quarter",7),K("Q",an),J("Q",(function(t,e){e[On]=3*(O(t)-1)})),Y("D",["DD",2],"Do","date"),j("date","D"),U("date",9),K("D",dn),K("DD",dn,ln),K("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),J(["D","DD"],Cn),J("Do",(function(t,e){e[Cn]=O(t.match(dn)[0])}));var si=rt("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),U("dayOfYear",4),K("DDD",vn),K("DDDD",un),J(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=O(t)})),Y("m",["mm",2],0,"minute"),j("minute","m"),U("minute",14),K("m",dn),K("mm",dn,ln),J(["m","mm"],Nn);var ai=rt("Minutes",!1);Y("s",["ss",2],0,"second"),j("second","s"),U("second",15),K("s",dn),K("ss",dn,ln),J(["s","ss"],Mn);var li,ui=rt("Seconds",!1);for(Y("S",0,0,(function(){return~~(this.millisecond()/100)})),Y(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Y(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Y(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Y(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Y(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Y(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),j("millisecond","ms"),U("millisecond",16),K("S",vn,an),K("SS",vn,ln),K("SSS",vn,un),li="SSSS";9>=li.length;li+="S")K(li,yn);for(li="S";9>=li.length;li+="S")J(li,Me);var ci=rt("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var hi=E.prototype;hi.add=ii,hi.calendar=function(t,e){var n=t||re(),i=de(n,this).startOf("day"),r=l.calendarFormat(this,i)||"sameElse",o=e&&(A(e[r])?e[r].call(this,n):e[r]);return this.format(o||this.localeData().calendar(r,this,re(n)))},hi.clone=function(){return new E(this)},hi.diff=function(t,e,n){var i,r,o;return this.isValid()?(i=de(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=z(e),o="year"===e?ke(this,i)/12:"month"===e?ke(this,i):"quarter"===e?ke(this,i)/3:"second"===e?(this-i)/1e3:"minute"===e?(this-i)/6e4:"hour"===e?(this-i)/36e5:"day"===e?(this-i-r)/864e5:"week"===e?(this-i-r)/6048e5:this-i,n?o:T(o)):NaN):NaN},hi.endOf=function(t){var e;if(t=z(t),void 0===t||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Oe:Te;return"year"===t?e=n(this.year()+1,0,1)-1:"quarter"===t?e=n(this.year(),this.month()-this.month()%3+3,1)-1:"month"===t?e=n(this.year(),this.month()+1,1)-1:"week"===t?e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:"isoWeek"===t?e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:"day"===t||"date"===t?e=n(this.year(),this.month(),this.date()+1)-1:"hour"===t?(e=this._d.valueOf(),e+=36e5-Se(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):"minute"===t?(e=this._d.valueOf(),e+=6e4-Se(e,6e4)-1):"second"===t&&(e=this._d.valueOf(),e+=1e3-Se(e,1e3)-1),this._d.setTime(e),l.updateOffset(this,!0),this},hi.format=function(t){t||(t=this.isUtc()?l.defaultFormatUtc:l.defaultFormat);var e=$(this,t);return this.localeData().postformat(e)},hi.from=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||re(t).isValid())?ge({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hi.fromNow=function(t){return this.from(re(),t)},hi.to=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||re(t).isValid())?ge({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hi.toNow=function(t){return this.to(re(),t)},hi.get=function(t){return t=z(t),A(this[t])?this[t]():this},hi.invalidAt=function(){return b(this).overflow},hi.isAfter=function(t,e){var n=S(t)?t:re(t);return!(!this.isValid()||!n.isValid())&&(e=z(e)||"millisecond","millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},hi.isBefore=function(t,e){var n=S(t)?t:re(t);return!(!this.isValid()||!n.isValid())&&(e=z(e)||"millisecond","millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},hi.isBetween=function(t,e,n,i){var r=S(t)?t:re(t),o=S(e)?e:re(e);return!!(this.isValid()&&r.isValid()&&o.isValid())&&(i=i||"()",("("===i[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n)))},hi.isSame=function(t,e){var n,i=S(t)?t:re(t);return!(!this.isValid()||!i.isValid())&&(e=z(e)||"millisecond","millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},hi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},hi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},hi.isValid=function(){return w(this)},hi.lang=oi,hi.locale=xe,hi.localeData=Ee,hi.max=Qn,hi.min=Xn,hi.parsingFlags=function(){return m({},b(this))},hi.set=at,hi.startOf=function(t){var e;if(t=z(t),void 0===t||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Oe:Te;return"year"===t?e=n(this.year(),0,1):"quarter"===t?e=n(this.year(),this.month()-this.month()%3,1):"month"===t?e=n(this.year(),this.month(),1):"week"===t?e=n(this.year(),this.month(),this.date()-this.weekday()):"isoWeek"===t?e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):"day"===t||"date"===t?e=n(this.year(),this.month(),this.date()):"hour"===t?(e=this._d.valueOf(),e-=Se(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)):"minute"===t?(e=this._d.valueOf(),e-=Se(e,6e4)):"second"===t&&(e=this._d.valueOf(),e-=Se(e,1e3)),this._d.setTime(e),l.updateOffset(this,!0),this},hi.subtract=ri,hi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},hi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},hi.toDate=function(){return new Date(this.valueOf())},hi.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return 0>n.year()||9999<n.year()?$(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(n,"Z")):$(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},hi.toJSON=function(){return this.isValid()?this.toISOString():null},hi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hi.unix=function(){return s(this.valueOf()/1e3)},hi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hi.year=Dn,hi.isLeapYear=function(){return it(this.year())},hi.weekYear=function(t){return Ie.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hi.isoWeekYear=function(t){return Ie.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},hi.quarter=hi.quarters=function(t){return null==t?a((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},hi.month=ft,hi.daysInMonth=function(){return ut(this.year(),this.month())},hi.week=hi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},hi.isoWeek=hi.isoWeeks=function(t){var e=_t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},hi.weeksInYear=function(){var t=this.localeData()._week;return bt(this.year(),t.dow,t.doy)},hi.isoWeeksInYear=function(){return bt(this.year(),1,4)},hi.date=si,hi.day=hi.days=function(t){if(!this.isValid())return null==t?NaN:this;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:(t=wt(t,this.localeData()),this.add(t-e,"d"))},hi.weekday=function(t){if(!this.isValid())return null==t?NaN:this;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},hi.isoWeekday=function(t){if(!this.isValid())return null==t?NaN:this;if(null!=t){var e=kt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},hi.dayOfYear=function(t){var n=e((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?n:this.add(t-n,"d")},hi.hour=hi.hours=zn,hi.minute=hi.minutes=ai,hi.second=hi.seconds=ui,hi.millisecond=hi.milliseconds=ci,hi.utcOffset=function(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null==t?NaN:this;if(null!=t){if("string"!=typeof t)16>r(t)&&!n&&(t*=60);else if(t=he(wn,t),null===t)return this;return!this._isUTC&&e&&(i=fe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?we(this,ge(t-o,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:fe(this)},hi.utc=function(t){return this.utcOffset(0,t)},hi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fe(this),"m")),this},hi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=he(bn,this._i);null==t?this.utcOffset(0,!0):this.utcOffset(t)}return this},hi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?re(t).utcOffset():0,0==(this.utcOffset()-t)%60)},hi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hi.isLocal=function(){return!!this.isValid()&&!this._isUTC},hi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hi.isUtc=ve,hi.isUTC=ve,hi.zoneAbbr=function(){return this._isUTC?"UTC":""},hi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hi.dates=N("dates accessor is deprecated. Use date instead.",si),hi.months=N("months accessor is deprecated. Use month instead",ft),hi.years=N("years accessor is deprecated. Use year instead",Dn),hi.zone=N("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null==t?-this.utcOffset():("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this)})),hi.isDSTShifted=N("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pe);var di=R.prototype;di.calendar=L,di.longDateFormat=F,di.invalidDate=function(){return this._invalidDate},di.ordinal=function(t){return this._ordinal.replace("%d",t)},di.preparse=Ae,di.postformat=Ae,di.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return A(r)?r(t,e,n,i):r.replace(/%d/i,t)},di.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return A(n)?n(e):n.replace(/%s/i,e)},di.set=D,di.months=function(t,e){return t?u(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Pn).test(e)?"format":"standalone"][t.month()]:u(this._months)?this._months:this._months.standalone},di.monthsShort=function(t,e){return t?u(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Pn.test(e)?"format":"standalone"][t.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},di.monthsParse=ht,di.monthsRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(g(this,"_monthsRegex")||(this._monthsRegex=xn),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},di.monthsShortRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,"_monthsShortRegex")||(this._monthsShortRegex=xn),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},di.week=function(t){return _t(t,this._week.dow,this._week.doy).week},di.firstDayOfYear=function(){return this._week.doy},di.firstDayOfWeek=function(){return this._week.dow},di.weekdays=function(t,e){var n=u(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?xt(n,this._week.dow):t?n[t.day()]:n},di.weekdaysMin=function(t){return!0===t?xt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},di.weekdaysShort=function(t){return!0===t?xt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},di.weekdaysParse=St,di.weekdaysRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Tt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,"_weekdaysRegex")||(this._weekdaysRegex=xn),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},di.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Tt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xn),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},di.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Tt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xn),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},di.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},di.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},Dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===O(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th";return t+n}}),l.lang=N("moment.lang is deprecated. Use moment.locale instead.",Dt),l.langData=N("moment.langData is deprecated. Use moment.localeData instead.",Rt);var fi=r,pi=Be("ms"),vi=Be("s"),gi=Be("m"),mi=Be("h"),yi=Be("d"),_i=Be("w"),bi=Be("M"),wi=Be("Q"),ki=Be("y"),xi=Ue("milliseconds"),Ei=Ue("seconds"),Si=Ue("minutes"),Ti=Ue("hours"),Oi=Ue("days"),Ci=Ue("months"),Ii=Ue("years"),Ni=e,Mi={ss:44,s:45,m:45,h:22,d:26,M:11},Ai=r,Di=ae.prototype;return Di.isValid=function(){return this._isValid},Di.abs=function(){var t=this._data;return this._milliseconds=fi(this._milliseconds),this._days=fi(this._days),this._months=fi(this._months),t.milliseconds=fi(t.milliseconds),t.seconds=fi(t.seconds),t.minutes=fi(t.minutes),t.hours=fi(t.hours),t.months=fi(t.months),t.years=fi(t.years),this},Di.add=function(t,e){return Le(this,t,e,1)},Di.subtract=function(t,e){return Le(this,t,e,-1)},Di.as=function(t){if(!this.isValid())return NaN;var n,i,r=this._milliseconds;if(t=z(t),"month"===t||"quarter"===t||"year"===t)switch(n=this._days+r/864e5,i=this._months+je(n),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(n=this._days+e(ze(this._months)),t){case"week":return n/7+r/6048e5;case"day":return n+r/864e5;case"hour":return 24*n+r/36e5;case"minute":return 1440*n+r/6e4;case"second":return 86400*n+r/1e3;case"millisecond":return s(864e5*n)+r;default:throw new Error("Unknown unit "+t)}},Di.asMilliseconds=pi,Di.asSeconds=vi,Di.asMinutes=gi,Di.asHours=mi,Di.asDays=yi,Di.asWeeks=_i,Di.asMonths=bi,Di.asQuarters=wi,Di.asYears=ki,Di.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*O(this._months/12):NaN},Di._bubble=function(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return 0<=o&&0<=s&&0<=a||0>=o&&0>=s&&0>=a||(o+=864e5*Fe(ze(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=T(o/1e3),l.seconds=t%60,e=T(t/60),l.minutes=e%60,n=T(e/60),l.hours=n%24,s+=T(n/24),r=T(je(s)),a+=r,s-=Fe(ze(r)),i=T(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},Di.clone=function(){return ge(this)},Di.get=function(t){return t=z(t),this.isValid()?this[t+"s"]():NaN},Di.milliseconds=xi,Di.seconds=Ei,Di.minutes=Si,Di.hours=Ti,Di.days=Oi,Di.weeks=function(){return T(this.days()/7)},Di.months=Ci,Di.years=Ii,Di.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=We(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Di.toISOString=Ge,Di.toString=Ge,Di.toJSON=Ge,Di.locale=xe,Di.localeData=Ee,Di.toIsoString=N("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ge),Di.lang=oi,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),K("x",_n),K("X",kn),J("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),J("x",(function(t,e,n){n._d=new Date(O(t))})),l.version="2.24.0",function(t){$e=t}(re),l.fn=hi,l.min=function(){var t=[].slice.call(arguments,0);return oe("isBefore",t)},l.max=function(){var t=[].slice.call(arguments,0);return oe("isAfter",t)},l.now=function(){return Date.now?Date.now():+new Date},l.utc=y,l.unix=function(t){return re(1e3*t)},l.months=function(t,e){return Pe(t,e,"months")},l.isDate=p,l.locale=Dt,l.invalid=k,l.duration=ge,l.isMoment=S,l.weekdays=function(t,e,n){return Re(t,e,n,"weekdays")},l.parseZone=function(){return re.apply(null,arguments).parseZone()},l.localeData=Rt,l.isDuration=le,l.monthsShort=function(t,e){return Pe(t,e,"monthsShort")},l.weekdaysMin=function(t,e,n){return Re(t,e,n,"weekdaysMin")},l.defineLocale=Pt,l.updateLocale=function(t,e){if(null!=e){var n,i,r=Bn;i=At(t),null!=i&&(r=i._config),e=P(r,e),n=new R(e),n.parentLocale=Un[t],Un[t]=n,Dt(t)}else null!=Un[t]&&(null==Un[t].parentLocale?null!=Un[t]&&delete Un[t]:Un[t]=Un[t].parentLocale);return Un[t]},l.locales=Lt,l.weekdaysShort=function(t,e,n){return Re(t,e,n,"weekdaysShort")},l.normalizeUnits=z,l.relativeTimeRounding=Ye,l.relativeTimeThreshold=function(t,e){return void 0!==Mi[t]&&(void 0===e?Mi[t]:(Mi[t]=e,"s"===t&&(Mi.ss=e-1),!0))},l.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"},l.prototype=hi,l.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},l}))})),Xh="undefined"!=typeof window&&window.moment||Zh,Qh=Object.freeze({default:Xh,__moduleExports:Xh}),Jh={Images:bu,dotparser:Ps,gephiParser:Ls,allOptions:Fh,convertDot:As,convertGephi:Rs};Object.freeze({util:zr,data:Yo,network:Jh,DOMutil:Kh,moment:Qh,Hammer:uu,keycharm:zs,DataSet:Uo,DataView:Ho,Queue:Io,Network:Bh})},7073:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>K});var i=n(5471);function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){if("undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");if(o.async=!0,o.src=t,o.defer=e.defer,e.preconnectOrigin){var s=document.createElement("link");s.href=e.preconnectOrigin,s.rel="preconnect",r.appendChild(s)}r.appendChild(o),o.onload=n,o.onerror=i}}))},u=function(t){return"function"===typeof t},c=function(t){return t&&"object"===r(t)&&!Array.isArray(t)},h=function t(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(!i.length)return e;var s=i.shift();if(c(e)&&c(s)){for(var a in s)c(s[a])?(e[a]||Object.assign(e,o({},a,{})),t(e[a],s[a])):Object.assign(e,o({},a,s[a]));return t.apply(void 0,[e].concat(i))}},d=function(){return"undefined"!==typeof window&&"undefined"!==typeof document},f=function(t){d()},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f('Missing "appName" property inside the plugin options.',null==t.app_name),f('Missing "name" property in the route.',null==t.screen_name),t};function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.split("/"),i=e.split("/");return""===n[0]&&"/"===e[e.length-1]&&n.shift(),i.join("/")+n.join("/")}var g,m=function(){return{bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}}},y={},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=m();y=h(e,t)},b=function(){return y},w=function(){var t,e=b(),n=e.globalObjectName;d()&&"undefined"!==typeof window[n]&&(t=window)[n].apply(t,arguments)},k=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=b(),r=i.config,o=i.includes;w.apply(void 0,["config",r.id].concat(e)),Array.isArray(o)&&o.forEach((function(t){w.apply(void 0,["config",t.id].concat(e))}))},x=function(t,e){d()&&(window["ga-disable-".concat(t)]=e)},E=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=b(),n=e.config,i=e.includes;x(n.id,t),Array.isArray(i)&&i.forEach((function(e){return x(e.id,t)}))},S=function(){E(!0)},T=function(){E(!1)},O=function(t){g=t},C=function(){return g},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=b(),i=n.includes,r=n.defaultGroupName;null==e.send_to&&Array.isArray(i)&&i.length&&(e.send_to=i.map((function(t){return t.id})).concat(r)),w("event",t,e)},N=function(t){if(d()){var e;if("string"===typeof t)e={page_path:t};else if(t.path||t.fullPath){var n=b(),i=n.pageTrackerUseFullPath,r=n.pageTrackerPrependBase,o=C(),s=o&&o.options.base,l=i?t.fullPath:t.path;e=a(a({},t.name&&{page_title:t.name}),{},{page_path:r?v(l,s):l})}else e=t;null==e.page_location&&(e.page_location=window.location.href),null==e.send_page_view&&(e.send_page_view=!0),I("page_view",e)}},M=function(t){var e,n=b(),i=n.appName;t&&(e="string"===typeof t?{screen_name:t}:t,e.app_name=e.app_name||i,I("screen_view",e))},A=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];I.apply(void 0,["exception"].concat(e))},D=function(t){k("linker",t)},P=function(t){I("timing_complete",t)},R=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];w.apply(void 0,["set"].concat(e))},L=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];I.apply(void 0,["refund"].concat(e))},F=function(t){I("purchase",t)},j=function(t){k({custom_map:t})},z=Object.freeze({__proto__:null,query:w,config:k,optOut:S,optIn:T,pageview:N,screenview:M,exception:A,linker:D,time:P,set:R,refund:L,purchase:F,customMap:j,event:I}),B=function(t){return t.$gtag=t.prototype.$gtag=z},U=function(){if(d()){var t=b(),e=t.enabled,n=t.globalObjectName,i=t.globalDataLayerName;return null==window[n]&&(window[i]=window[i]||[],window[n]=function(){window[i].push(arguments)}),window[n]("js",new Date),e||S(),window[n]}},H=function(t){return a({send_page_view:!1},t)},W=function(){var t=b(),e=t.config,n=t.includes;w("config",e.id,H(e.params)),Array.isArray(n)&&n.forEach((function(t){w("config",t.id,H(t.params))}))},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=b(),i=n.appName,r=n.pageTrackerTemplate,o=n.pageTrackerScreenviewEnabled,s=n.pageTrackerSkipSamePath;if(!s||t.path!==e.path){var a=t;u(r)?a=r(t,e):o&&(a=p({app_name:i,screen_name:t.name})),o?M(a):N(a)}},V=function(t){var e=b(),n=e.pageTrackerExcludedRoutes;return n.includes(t.path)||n.includes(t.name)},G=function(){var t=b(),e=t.onBeforeTrack,n=t.onAfterTrack,r=C();r.onReady((function(){i.Ay.nextTick().then((function(){var t=r.currentRoute;W(),V(t)||Y(t)})),r.afterEach((function(t,r){i.Ay.nextTick().then((function(){V(t)||(u(e)&&e(t,r),Y(t,r),u(n)&&n(t,r))}))}))}))},$=function(){var t=b(),e=t.onReady,n=t.onError,i=t.globalObjectName,r=t.globalDataLayerName,o=t.config,s=t.customResourceURL,a=t.customPreconnectOrigin,u=t.deferScriptLoad,c=t.pageTrackerEnabled,h=t.disableScriptLoad,d=Boolean(c&&C());if(U(),d?G():W(),!h)return l("".concat(s,"?id=").concat(o.id,"&l=").concat(r),{preconnectOrigin:a,defer:u}).then((function(){e&&e(window[i])})).catch((function(t){return n&&n(t),t}))},q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;B(t),_(e),O(n),b().bootstrap&&$()};const K=q},6369:function(t){!function(e,n){t.exports=n()}(0,(function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=7)}([function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e){t.exports=function(t,e,n,i){var r,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,o=t.default);var a="function"==typeof o?o.options:o;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),n&&(a._scopeId=n),i){var l=Object.create(a.computed||null);Object.keys(i).forEach((function(t){var e=i[t];l[t]=function(){return e}})),a.computed=l}return{esModule:r,exports:o,options:a}}},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=c[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(o(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(o(n.parts[r]));c[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var t=document.createElement("style");return t.type="text/css",h.appendChild(t),t}function o(t){var e,n,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(p)return v;i.parentNode.removeChild(i)}if(g){var o=f++;i=d||(d=r()),e=s.bind(null,i,o,!1),n=s.bind(null,i,o,!0)}else i=r(),e=a.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function s(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function a(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=n(19),c={},h=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,p=!1,v=function(){},g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){p=n;var r=u(t,e);return i(r),function(e){for(var n=[],o=0;o<r.length;o++){var s=r[o],a=c[s.id];a.refs--,n.push(a)}e?(r=u(t,e),i(r)):r=[];for(o=0;o<n.length;o++){a=n[o];if(0===a.refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete c[a.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){n(17);var i=n(1)(n(4),n(14),"data-v-566a42b8",null);t.exports=i.exports},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=i(r),s=n(11),a=i(s);e.default={name:"splitPane",components:{Resizer:o.default,Pane:a.default},props:{minPercent:{type:Number,default:10},defaultPercent:{type:Number,default:50},split:{validator:function(t){return["vertical","horizontal"].indexOf(t)>=0},required:!0},className:String},computed:{userSelect:function(){return this.active?"none":""},cursor:function(){return this.active?"vertical"===this.split?"col-resize":"row-resize":""}},watch:{defaultPercent:function(t,e){this.percent=t}},data:function(){return{active:!1,hasMoved:!1,height:null,percent:this.defaultPercent,type:"vertical"===this.split?"width":"height",resizeType:"vertical"===this.split?"left":"top"}},methods:{onClick:function(){this.hasMoved||(this.percent=50,this.$emit("resize",this.percent))},onMouseDown:function(){this.active=!0,this.hasMoved=!1},onMouseUp:function(){this.active=!1},onMouseMove:function(t){if(0!==t.buttons&&0!==t.which||(this.active=!1),this.active){var e=0,n=t.currentTarget;if("vertical"===this.split)for(;n;)e+=n.offsetLeft,n=n.offsetParent;else for(;n;)e+=n.offsetTop,n=n.offsetParent;var i="vertical"===this.split?t.pageX:t.pageY,r="vertical"===this.split?t.currentTarget.offsetWidth:t.currentTarget.offsetHeight,o=Math.floor((i-e)/r*1e4)/100;o>this.minPercent&&o<100-this.minPercent&&(this.percent=o),this.$emit("resize",this.percent),this.hasMoved=!0}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Pane",props:{className:String},data:function(){return{classes:[this.$parent.split,this.className].join(" "),percent:50}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{split:{validator:function(t){return["vertical","horizontal"].indexOf(t)>=0},required:!0},className:String},computed:{classes:function(){return["splitter-pane-resizer",this.split,this.className].join(" ")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("split-pane",r.default)},function(t,e,n){e=t.exports=n(0)(),e.push([t.i,".splitter-pane-resizer[data-v-212fa2a4]{box-sizing:border-box;background:#000;position:absolute;opacity:.2;z-index:1;background-clip:padding-box}.splitter-pane-resizer.horizontal[data-v-212fa2a4]{height:11px;margin:-5px 0;border-top:5px solid hsla(0,0%,100%,0);border-bottom:5px solid hsla(0,0%,100%,0);cursor:row-resize;width:100%}.splitter-pane-resizer.vertical[data-v-212fa2a4]{width:11px;height:100%;margin-left:-5px;border-left:5px solid hsla(0,0%,100%,0);border-right:5px solid hsla(0,0%,100%,0);cursor:col-resize}",""])},function(t,e,n){e=t.exports=n(0)(),e.push([t.i,'.clearfix[data-v-566a42b8]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.vue-splitter-container[data-v-566a42b8]{height:100%;position:relative}.vue-splitter-container-mask[data-v-566a42b8]{z-index:9999;width:100%;height:100%;position:absolute;top:0;left:0}',""])},function(t,e,n){e=t.exports=n(0)(),e.push([t.i,".splitter-pane.vertical.splitter-paneL[data-v-815c801c]{position:absolute;left:0;height:100%;padding-right:3px}.splitter-pane.vertical.splitter-paneR[data-v-815c801c]{position:absolute;right:0;height:100%;padding-left:3px}.splitter-pane.horizontal.splitter-paneL[data-v-815c801c]{position:absolute;top:0;width:100%}.splitter-pane.horizontal.splitter-paneR[data-v-815c801c]{position:absolute;bottom:0;width:100%;padding-top:3px}",""])},function(t,e,n){n(18);var i=n(1)(n(5),n(15),"data-v-815c801c",null);t.exports=i.exports},function(t,e,n){n(16);var i=n(1)(n(6),n(13),"data-v-212fa2a4",null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.classes})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t,e,n,i=this,r=i.$createElement,o=i._self._c||r;return o("div",{staticClass:"vue-splitter-container clearfix",style:{cursor:i.cursor,userSelect:i.userSelect},on:{mouseup:i.onMouseUp,mousemove:i.onMouseMove}},[o("pane",{staticClass:"splitter-pane splitter-paneL",style:(t={},t[i.type]=i.percent+"%",t),attrs:{split:i.split}},[i._t("paneL")],2),i._v(" "),o("resizer",{style:(e={},e[i.resizeType]=i.percent+"%",e),attrs:{className:i.className,split:i.split},nativeOn:{mousedown:function(t){return i.onMouseDown(t)},click:function(t){return i.onClick(t)}}}),i._v(" "),o("pane",{staticClass:"splitter-pane splitter-paneR",style:(n={},n[i.type]=100-i.percent+"%",n),attrs:{split:i.split}},[i._t("paneR")],2),i._v(" "),i.active?o("div",{staticClass:"vue-splitter-container-mask"}):i._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.classes},[t._t("default")],2)},staticRenderFns:[]}},function(t,e,n){var i=n(8);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),n(2)("a82a4610",i,!0)},function(t,e,n){var i=n(9);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),n(2)("033d59ad",i,!0)},function(t,e,n){var i=n(10);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),n(2)("6816c93c",i,!0)},function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],s=o[0],a=o[1],l=o[2],u=o[3],c={id:t+":"+r,css:a,media:l,sourceMap:u};i[s]?i[s].parts.push(c):n.push(i[s]={id:s,parts:[c]})}return n}}])}))},5471:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>Qi});
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({}),r=Array.isArray;function o(t){return void 0===t||null===t}function s(t){return void 0!==t&&null!==t}function a(t){return!0===t}function l(t){return!1===t}function u(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return"function"===typeof t}function h(t){return null!==t&&"object"===typeof t}var d=Object.prototype.toString;function f(t){return"[object Object]"===d.call(t)}function p(t){return"[object RegExp]"===d.call(t)}function v(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function g(t){return s(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function m(t){return null==t?"":Array.isArray(t)||f(t)&&t.toString===d?JSON.stringify(t,y,2):String(t)}function y(t,e){return e&&e.__v_isRef?e.value:e}function _(t){var e=parseFloat(t);return isNaN(e)?t:e}function b(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}b("slot,component",!0);var w=b("key,ref,slot,slot-scope,is");function k(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var x=Object.prototype.hasOwnProperty;function E(t,e){return x.call(t,e)}function S(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var T=/-(\w)/g,O=S((function(t){return t.replace(T,(function(t,e){return e?e.toUpperCase():""}))})),C=S((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),I=/\B([A-Z])/g,N=S((function(t){return t.replace(I,"-$1").toLowerCase()}));function M(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function A(t,e){return t.bind(e)}var D=Function.prototype.bind?A:M;function P(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function R(t,e){for(var n in e)t[n]=e[n];return t}function L(t){for(var e={},n=0;n<t.length;n++)t[n]&&R(e,t[n]);return e}function F(t,e,n){}var j=function(t,e,n){return!1},z=function(t){return t};function B(t,e){if(t===e)return!0;var n=h(t),i=h(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every((function(t,n){return B(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return B(t[n],e[n])}))}catch(l){return!1}}function U(t,e){for(var n=0;n<t.length;n++)if(B(t[n],e))return n;return-1}function H(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function W(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var Y="data-server-rendered",V=["component","directive","filter"],G=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:F,parsePlatformTagName:z,mustUseProp:j,async:!0,_lifecycleHooks:G},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function K(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function Z(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var X=new RegExp("[^".concat(q.source,".$_\\d]"));function Q(t){if(!X.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var J="__proto__"in{},tt="undefined"!==typeof window,et=tt&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),it=et&&et.indexOf("msie 9.0")>0,rt=et&&et.indexOf("edge/")>0;et&&et.indexOf("android");var ot=et&&/iphone|ipad|ipod|ios/.test(et);et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et);var st,at=et&&et.match(/firefox\/(\d+)/),lt={}.watch,ut=!1;if(tt)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){ut=!0}}),window.addEventListener("test-passive",null,ct)}catch(Js){}var ht=function(){return void 0===st&&(st=!tt&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),st},dt=tt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ft(t){return"function"===typeof t&&/native code/.test(t.toString())}var pt,vt="undefined"!==typeof Symbol&&ft(Symbol)&&"undefined"!==typeof Reflect&&ft(Reflect.ownKeys);pt="undefined"!==typeof Set&&ft(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var gt=null;function mt(t){void 0===t&&(t=null),t||gt&&gt._scope.off(),gt=t,t&&t._scope.on()}var yt=function(){function t(t,e,n,i,r,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),_t=function(t){void 0===t&&(t="");var e=new yt;return e.text=t,e.isComment=!0,e};function bt(t){return new yt(void 0,void 0,void 0,String(t))}function wt(t){var e=new yt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}"function"===typeof SuppressedError&&SuppressedError;var kt=0,xt=[],Et=function(){for(var t=0;t<xt.length;t++){var e=xt[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}xt.length=0},St=function(){function t(){this._pending=!1,this.id=kt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,xt.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,i=e.length;n<i;n++){var r=e[n];0,r.update()}},t}();St.target=null;var Tt=[];function Ot(t){Tt.push(t),St.target=t}function Ct(){Tt.pop(),St.target=Tt[Tt.length-1]}var It=Array.prototype,Nt=Object.create(It),Mt=["push","pop","shift","unshift","splice","sort","reverse"];Mt.forEach((function(t){var e=It[t];Z(Nt,t,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&s.observeArray(r),s.dep.notify(),o}))}));var At=Object.getOwnPropertyNames(Nt),Dt={},Pt=!0;function Rt(t){Pt=t}var Lt={notify:F,depend:F,addSub:F,removeSub:F},Ft=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Lt:new St,this.vmCount=0,Z(t,"__ob__",this),r(t)){if(!n)if(J)t.__proto__=Nt;else for(var i=0,o=At.length;i<o;i++){var s=At[i];Z(t,s,Nt[s])}e||this.observeArray(t)}else{var a=Object.keys(t);for(i=0;i<a.length;i++){s=a[i];zt(t,s,Dt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)jt(t[e],!1,this.mock)},t}();function jt(t,e,n){return t&&E(t,"__ob__")&&t.__ob__ instanceof Ft?t.__ob__:!Pt||!n&&ht()||!r(t)&&!f(t)||!Object.isExtensible(t)||t.__v_skip||Gt(t)||t instanceof yt?void 0:new Ft(t,e,n)}function zt(t,e,n,i,o,s,a){void 0===a&&(a=!1);var l=new St,u=Object.getOwnPropertyDescriptor(t,e);if(!u||!1!==u.configurable){var c=u&&u.get,h=u&&u.set;c&&!h||n!==Dt&&2!==arguments.length||(n=t[e]);var d=o?n&&n.__ob__:jt(n,!1,s);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(t):n;return St.target&&(l.depend(),d&&(d.dep.depend(),r(e)&&Ht(e))),Gt(e)&&!o?e.value:e},set:function(e){var i=c?c.call(t):n;if(W(i,e)){if(h)h.call(t,e);else{if(c)return;if(!o&&Gt(i)&&!Gt(e))return void(i.value=e);n=e}d=o?e&&e.__ob__:jt(e,!1,s),l.notify()}}}),l}}function Bt(t,e,n){if(!Vt(t)){var i=t.__ob__;return r(t)&&v(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),i&&!i.shallow&&i.mock&&jt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||i&&i.vmCount?n:i?(zt(i.value,e,n,void 0,i.shallow,i.mock),i.dep.notify(),n):(t[e]=n,n)}}function Ut(t,e){if(r(t)&&v(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Vt(t)||E(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ht(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),r(e)&&Ht(e)}function Wt(t){return Yt(t,!0),Z(t,"__v_isShallow",!0),t}function Yt(t,e){if(!Vt(t)){jt(t,e,ht());0}}function Vt(t){return!(!t||!t.__v_isReadonly)}function Gt(t){return!(!t||!0!==t.__v_isRef)}function $t(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Gt(t))return t.value;var i=t&&t.__ob__;return i&&i.dep.depend(),t},set:function(t){var i=e[n];Gt(i)&&!Gt(t)?i.value=t:e[n]=t}})}var qt="watcher";"".concat(qt," callback"),"".concat(qt," getter"),"".concat(qt," cleanup");var Kt;var Zt=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Kt,!t&&Kt&&(this.index=(Kt.scopes||(Kt.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Kt;try{return Kt=this,t()}finally{Kt=e}}else 0},t.prototype.on=function(){Kt=this},t.prototype.off=function(){Kt=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Xt(t,e){void 0===e&&(e=Kt),e&&e.active&&e.effects.push(t)}function Qt(){return Kt}function Jt(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}var te=S((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}}));function ee(t,e){function n(){var t=n.fns;if(!r(t))return Xe(t,null,arguments,e,"v-on handler");for(var i=t.slice(),o=0;o<i.length;o++)Xe(i[o],null,arguments,e,"v-on handler")}return n.fns=t,n}function ne(t,e,n,i,r,s){var l,u,c,h;for(l in t)u=t[l],c=e[l],h=te(l),o(u)||(o(c)?(o(u.fns)&&(u=t[l]=ee(u,s)),a(h.once)&&(u=t[l]=r(h.name,u,h.capture)),n(h.name,u,h.capture,h.passive,h.params)):u!==c&&(c.fns=u,t[l]=c));for(l in e)o(t[l])&&(h=te(l),i(h.name,e[l],h.capture))}function ie(t,e,n){var i;t instanceof yt&&(t=t.data.hook||(t.data.hook={}));var r=t[e];function l(){n.apply(this,arguments),k(i.fns,l)}o(r)?i=ee([l]):s(r.fns)&&a(r.merged)?(i=r,i.fns.push(l)):i=ee([r,l]),i.merged=!0,t[e]=i}function re(t,e,n){var i=e.options.props;if(!o(i)){var r={},a=t.attrs,l=t.props;if(s(a)||s(l))for(var u in i){var c=N(u);oe(r,l,u,c,!0)||oe(r,a,u,c,!1)}return r}}function oe(t,e,n,i,r){if(s(e)){if(E(e,n))return t[n]=e[n],r||delete e[n],!0;if(E(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function se(t){for(var e=0;e<t.length;e++)if(r(t[e]))return Array.prototype.concat.apply([],t);return t}function ae(t){return u(t)?[bt(t)]:r(t)?ue(t):void 0}function le(t){return s(t)&&s(t.text)&&l(t.isComment)}function ue(t,e){var n,i,l,c,h=[];for(n=0;n<t.length;n++)i=t[n],o(i)||"boolean"===typeof i||(l=h.length-1,c=h[l],r(i)?i.length>0&&(i=ue(i,"".concat(e||"","_").concat(n)),le(i[0])&&le(c)&&(h[l]=bt(c.text+i[0].text),i.shift()),h.push.apply(h,i)):u(i)?le(c)?h[l]=bt(c.text+i):""!==i&&h.push(bt(i)):le(i)&&le(c)?h[l]=bt(c.text+i.text):(a(t._isVList)&&s(i.tag)&&o(i.key)&&s(e)&&(i.key="__vlist".concat(e,"_").concat(n,"__")),h.push(i)));return h}function ce(t,e){var n,i,o,a,l=null;if(r(t)||"string"===typeof t)for(l=new Array(t.length),n=0,i=t.length;n<i;n++)l[n]=e(t[n],n);else if("number"===typeof t)for(l=new Array(t),n=0;n<t;n++)l[n]=e(n+1,n);else if(h(t))if(vt&&t[Symbol.iterator]){l=[];var u=t[Symbol.iterator](),c=u.next();while(!c.done)l.push(e(c.value,l.length)),c=u.next()}else for(o=Object.keys(t),l=new Array(o.length),n=0,i=o.length;n<i;n++)a=o[n],l[n]=e(t[a],a,n);return s(l)||(l=[]),l._isVList=!0,l}function he(t,e,n,i){var r,o=this.$scopedSlots[t];o?(n=n||{},i&&(n=R(R({},i),n)),r=o(n)||(c(e)?e():e)):r=this.$slots[t]||(c(e)?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function de(t){return Si(this.$options,"filters",t,!0)||z}function fe(t,e){return r(t)?-1===t.indexOf(e):t!==e}function pe(t,e,n,i,r){var o=$.keyCodes[e]||n;return r&&i&&!$.keyCodes[e]?fe(r,i):o?fe(o,t):i?N(i)!==e:void 0===t}function ve(t,e,n,i,o){if(n)if(h(n)){r(n)&&(n=L(n));var s=void 0,a=function(r){if("class"===r||"style"===r||w(r))s=t;else{var a=t.attrs&&t.attrs.type;s=i||$.mustUseProp(e,a,r)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=O(r),u=N(r);if(!(l in s)&&!(u in s)&&(s[r]=n[r],o)){var c=t.on||(t.on={});c["update:".concat(r)]=function(t){n[r]=t}}};for(var l in n)a(l)}else;return t}function ge(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),ye(i,"__static__".concat(t),!1)),i}function me(t,e,n){return ye(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function ye(t,e,n){if(r(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&_e(t[i],"".concat(e,"_").concat(i),n);else _e(t,e,n)}function _e(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function be(t,e){if(e)if(f(e)){var n=t.on=t.on?R({},t.on):{};for(var i in e){var r=n[i],o=e[i];n[i]=r?[].concat(r,o):o}}else;return t}function we(t,e,n,i){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var s=t[o];r(s)?we(s,e,n):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return i&&(e.$key=i),e}function ke(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function xe(t,e){return"string"===typeof t?e+t:t}function Ee(t){t._o=me,t._n=_,t._s=m,t._l=ce,t._t=he,t._q=B,t._i=U,t._m=ge,t._f=de,t._k=pe,t._b=ve,t._v=bt,t._e=_t,t._u=we,t._g=be,t._d=ke,t._p=xe}function Se(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var o=t[i],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,l=n[a]||(n[a]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var u in n)n[u].every(Te)&&delete n[u];return n}function Te(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Oe(t){return t.isComment&&t.asyncFactory}function Ce(t,e,n,r){var o,s=Object.keys(n).length>0,a=e?!!e.$stable:!s,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&r&&r!==i&&l===r.$key&&!s&&!r.$hasNormal)return r;for(var u in o={},e)e[u]&&"$"!==u[0]&&(o[u]=Ie(t,n,u,e[u]))}else o={};for(var c in n)c in o||(o[c]=Ne(n,c));return e&&Object.isExtensible(e)&&(e._normalized=o),Z(o,"$stable",a),Z(o,"$key",l),Z(o,"$hasNormal",s),o}function Ie(t,e,n,i){var o=function(){var e=gt;mt(t);var n=arguments.length?i.apply(null,arguments):i({});n=n&&"object"===typeof n&&!r(n)?[n]:ae(n);var o=n&&n[0];return mt(e),n&&(!o||1===n.length&&o.isComment&&!Oe(o))?void 0:n};return i.proxy&&Object.defineProperty(e,n,{get:o,enumerable:!0,configurable:!0}),o}function Ne(t,e){return function(){return t[e]}}function Me(t){var e=t.$options,n=e.setup;if(n){var i=t._setupContext=Ae(t);mt(t),Ot();var r=Xe(n,null,[t._props||Wt({}),i],t,"setup");if(Ct(),mt(),c(r))e.render=r;else if(h(r))if(t._setupState=r,r.__sfc){var o=t._setupProxy={};for(var s in r)"__sfc"!==s&&$t(o,r,s)}else for(var s in r)K(s)||$t(t,r,s);else 0}}function Ae(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};Z(e,"_v_attr_proxy",!0),De(e,t.$attrs,i,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};De(e,t.$listeners,i,t,"$listeners")}return t._listenersProxy},get slots(){return Re(t)},emit:D(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return $t(t,e,n)}))}}}function De(t,e,n,i,r){var o=!1;for(var s in e)s in t?e[s]!==n[s]&&(o=!0):(o=!0,Pe(t,s,i,r));for(var s in t)s in e||(o=!0,delete t[s]);return o}function Pe(t,e,n,i){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[i][e]}})}function Re(t){return t._slotsProxy||Le(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function Le(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function Fe(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=Se(e._renderChildren,r),t.$scopedSlots=n?Ce(t.$parent,n.data.scopedSlots,t.$slots):i,t._c=function(e,n,i,r){return Ge(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return Ge(t,e,n,i,r,!0)};var o=n&&n.data;zt(t,"$attrs",o&&o.attrs||i,null,!0),zt(t,"$listeners",e._parentListeners||i,null,!0)}var je=null;function ze(t){Ee(t.prototype),t.prototype.$nextTick=function(t){return cn(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,i=e._parentVnode;i&&t._isMounted&&(t.$scopedSlots=Ce(t.$parent,i.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&Le(t._slotsProxy,t.$scopedSlots)),t.$vnode=i;var o,s=gt,a=je;try{mt(t),je=t,o=n.call(t._renderProxy,t.$createElement)}catch(Js){Ze(Js,t,"render"),o=t._vnode}finally{je=a,mt(s)}return r(o)&&1===o.length&&(o=o[0]),o instanceof yt||(o=_t()),o.parent=i,o}}function Be(t,e){return(t.__esModule||vt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),h(t)?e.extend(t):t}function Ue(t,e,n,i,r){var o=_t();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:r},o}function He(t,e){if(a(t.error)&&s(t.errorComp))return t.errorComp;if(s(t.resolved))return t.resolved;var n=je;if(n&&s(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&s(t.loadingComp))return t.loadingComp;if(n&&!s(t.owners)){var i=t.owners=[n],r=!0,l=null,u=null;n.$on("hook:destroyed",(function(){return k(i,n)}));var c=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},d=H((function(n){t.resolved=Be(n,e),r?i.length=0:c(!0)})),f=H((function(e){s(t.errorComp)&&(t.error=!0,c(!0))})),p=t(d,f);return h(p)&&(g(p)?o(t.resolved)&&p.then(d,f):g(p.component)&&(p.component.then(d,f),s(p.error)&&(t.errorComp=Be(p.error,e)),s(p.loading)&&(t.loadingComp=Be(p.loading,e),0===p.delay?t.loading=!0:l=setTimeout((function(){l=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,c(!1))}),p.delay||200)),s(p.timeout)&&(u=setTimeout((function(){u=null,o(t.resolved)&&f(null)}),p.timeout)))),r=!1,t.loading?t.loadingComp:t.resolved}}function We(t){if(r(t))for(var e=0;e<t.length;e++){var n=t[e];if(s(n)&&(s(n.componentOptions)||Oe(n)))return n}}var Ye=1,Ve=2;function Ge(t,e,n,i,o,s){return(r(n)||u(n))&&(o=i,i=n,n=void 0),a(s)&&(o=Ve),$e(t,e,n,i,o)}function $e(t,e,n,i,o){if(s(n)&&s(n.__ob__))return _t();if(s(n)&&s(n.is)&&(e=n.is),!e)return _t();var a,l;if(r(i)&&c(i[0])&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),o===Ve?i=ae(i):o===Ye&&(i=se(i)),"string"===typeof e){var u=void 0;l=t.$vnode&&t.$vnode.ns||$.getTagNamespace(e),a=$.isReservedTag(e)?new yt($.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!s(u=Si(t.$options,"components",e))?new yt(e,n,i,void 0,void 0,t):li(u,n,t,i,e)}else a=li(e,n,t,i);return r(a)?a:s(a)?(s(l)&&qe(a,l),s(n)&&Ke(n),a):_t()}function qe(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),s(t.children))for(var i=0,r=t.children.length;i<r;i++){var l=t.children[i];s(l.tag)&&(o(l.ns)||a(n)&&"svg"!==l.tag)&&qe(l,e,n)}}function Ke(t){h(t.style)&&vn(t.style),h(t.class)&&vn(t.class)}function Ze(t,e,n){Ot();try{if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var s=!1===r[o].call(i,t,e,n);if(s)return}catch(Js){Qe(Js,i,"errorCaptured hook")}}}Qe(t,e,n)}finally{Ct()}}function Xe(t,e,n,i,r){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&g(o)&&!o._handled&&(o.catch((function(t){return Ze(t,i,r+" (Promise/async)")})),o._handled=!0)}catch(Js){Ze(Js,i,r)}return o}function Qe(t,e,n){if($.errorHandler)try{return $.errorHandler.call(null,t,e,n)}catch(Js){Js!==t&&Je(Js,null,"config.errorHandler")}Je(t,e,n)}function Je(t,e,n){if(!tt||"undefined"===typeof console)throw t;console.error(t)}var tn,en=!1,nn=[],rn=!1;function on(){rn=!1;var t=nn.slice(0);nn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ft(Promise)){var sn=Promise.resolve();tn=function(){sn.then(on),ot&&setTimeout(F)},en=!0}else if(nt||"undefined"===typeof MutationObserver||!ft(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())tn="undefined"!==typeof setImmediate&&ft(setImmediate)?function(){setImmediate(on)}:function(){setTimeout(on,0)};else{var an=1,ln=new MutationObserver(on),un=document.createTextNode(String(an));ln.observe(un,{characterData:!0}),tn=function(){an=(an+1)%2,un.data=String(an)},en=!0}function cn(t,e){var n;if(nn.push((function(){if(t)try{t.call(e)}catch(Js){Ze(Js,e,"nextTick")}else n&&n(e)})),rn||(rn=!0,tn()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function hn(t){return function(e,n){if(void 0===n&&(n=gt),n)return dn(n,t,e)}}function dn(t,e,n){var i=t.$options;i[e]=mi(i[e],n)}hn("beforeMount"),hn("mounted"),hn("beforeUpdate"),hn("updated"),hn("beforeDestroy"),hn("destroyed"),hn("activated"),hn("deactivated"),hn("serverPrefetch"),hn("renderTracked"),hn("renderTriggered"),hn("errorCaptured");var fn="2.7.16";var pn=new pt;function vn(t){return gn(t,pn),pn.clear(),t}function gn(t,e){var n,i,o=r(t);if(!(!o&&!h(t)||t.__v_skip||Object.isFrozen(t)||t instanceof yt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(o){n=t.length;while(n--)gn(t[n],e)}else if(Gt(t))gn(t.value,e);else{i=Object.keys(t),n=i.length;while(n--)gn(t[i[n]],e)}}}var mn,yn=0,_n=function(){function t(t,e,n,i,r){Xt(this,Kt&&!Kt._vm?Kt:t?t._scope:void 0),(this.vm=t)&&r&&(t._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++yn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pt,this.newDepIds=new pt,this.expression="",c(e)?this.getter=e:(this.getter=Q(e),this.getter||(this.getter=F)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;Ot(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Js){if(!this.user)throw Js;Ze(Js,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&vn(t),Ct(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Xn(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||h(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Xe(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&k(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function bn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&En(t,e)}function wn(t,e){mn.$on(t,e)}function kn(t,e){mn.$off(t,e)}function xn(t,e){var n=mn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function En(t,e,n){mn=t,ne(e,n||{},wn,kn,xn,t),mn=void 0}function Sn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(r(t))for(var o=0,s=t.length;o<s;o++)i.$on(t[o],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(r(t)){for(var i=0,o=t.length;i<o;i++)n.$off(t[i],e);return n}var s,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var l=a.length;while(l--)if(s=a[l],s===e||s.fn===e){a.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?P(n):n;for(var i=P(arguments,1),r='event handler for "'.concat(t,'"'),o=0,s=n.length;o<s;o++)Xe(n[o],e,i,e,r)}return e}}var Tn=null;function On(t){var e=Tn;return Tn=t,function(){Tn=e}}function Cn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function In(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,o=On(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);var s=n;while(s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode)s.$parent.$el=s.$el,s=s.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Rn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||k(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Rn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Nn(t,e,n){var i;t.$el=e,t.$options.render||(t.$options.render=_t),Rn(t,"beforeMount"),i=function(){t._update(t._render(),n)};var r={before:function(){t._isMounted&&!t._isDestroyed&&Rn(t,"beforeUpdate")}};new _n(t,i,F,r,!0),n=!1;var o=t._preWatchers;if(o)for(var s=0;s<o.length;s++)o[s].run();return null==t.$vnode&&(t._isMounted=!0,Rn(t,"mounted")),t}function Mn(t,e,n,r,o){var s=r.data.scopedSlots,a=t.$scopedSlots,l=!!(s&&!s.$stable||a!==i&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),u=!!(o||t.$options._renderChildren||l),c=t.$vnode;t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o;var h=r.data.attrs||i;t._attrsProxy&&De(t._attrsProxy,h,c.data&&c.data.attrs||i,t,"$attrs")&&(u=!0),t.$attrs=h,n=n||i;var d=t.$options._parentListeners;if(t._listenersProxy&&De(t._listenersProxy,n,d||i,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,En(t,n,d),e&&t.$options.props){Rt(!1);for(var f=t._props,p=t.$options._propKeys||[],v=0;v<p.length;v++){var g=p[v],m=t.$options.props;f[g]=Ti(g,m,e,t)}Rt(!0),t.$options.propsData=e}u&&(t.$slots=Se(o,r.context),t.$forceUpdate())}function An(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Dn(t,e){if(e){if(t._directInactive=!1,An(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Dn(t.$children[n]);Rn(t,"activated")}}function Pn(t,e){if((!e||(t._directInactive=!0,!An(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Pn(t.$children[n]);Rn(t,"deactivated")}}function Rn(t,e,n,i){void 0===i&&(i=!0),Ot();var r=gt,o=Qt();i&&mt(t);var s=t.$options[e],a="".concat(e," hook");if(s)for(var l=0,u=s.length;l<u;l++)Xe(s[l],t,n||null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),i&&(mt(r),o&&o.on()),Ct()}var Ln=[],Fn=[],jn={},zn=!1,Bn=!1,Un=0;function Hn(){Un=Ln.length=Fn.length=0,jn={},zn=Bn=!1}var Wn=0,Yn=Date.now;if(tt&&!nt){var Vn=window.performance;Vn&&"function"===typeof Vn.now&&Yn()>document.createEvent("Event").timeStamp&&(Yn=function(){return Vn.now()})}var Gn=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function $n(){var t,e;for(Wn=Yn(),Bn=!0,Ln.sort(Gn),Un=0;Un<Ln.length;Un++)t=Ln[Un],t.before&&t.before(),e=t.id,jn[e]=null,t.run();var n=Fn.slice(),i=Ln.slice();Hn(),Zn(n),qn(i),Et(),dt&&$.devtools&&dt.emit("flush")}function qn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i&&i._watcher===n&&i._isMounted&&!i._isDestroyed&&Rn(i,"updated")}}function Kn(t){t._inactive=!1,Fn.push(t)}function Zn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Dn(t[e],!0)}function Xn(t){var e=t.id;if(null==jn[e]&&(t!==St.target||!t.noRecurse)){if(jn[e]=!0,Bn){var n=Ln.length-1;while(n>Un&&Ln[n].id>t.id)n--;Ln.splice(n+1,0,t)}else Ln.push(t);zn||(zn=!0,cn($n))}}function Qn(t){var e=t.$options.provide;if(e){var n=c(e)?e.call(t):e;if(!h(n))return;for(var i=Jt(t),r=vt?Reflect.ownKeys(n):Object.keys(n),o=0;o<r.length;o++){var s=r[o];Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))}}}function Jn(t){var e=ti(t.$options.inject,t);e&&(Rt(!1),Object.keys(e).forEach((function(n){zt(t,n,e[n])})),Rt(!0))}function ti(t,e){if(t){for(var n=Object.create(null),i=vt?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){var s=t[o].from;if(s in e._provided)n[o]=e._provided[s];else if("default"in t[o]){var a=t[o].default;n[o]=c(a)?a.call(e):a}else 0}}return n}}function ei(t,e,n,o,s){var l,u=this,c=s.options;E(o,"_uid")?(l=Object.create(o),l._original=o):(l=o,o=o._original);var h=a(c._compiled),d=!h;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||i,this.injections=ti(c.inject,o),this.slots=function(){return u.$slots||Ce(o,t.scopedSlots,u.$slots=Se(n,o)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ce(o,t.scopedSlots,this.slots())}}),h&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Ce(o,t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,i){var s=Ge(l,t,e,n,i,d);return s&&!r(s)&&(s.fnScopeId=c._scopeId,s.fnContext=o),s}:this._c=function(t,e,n,i){return Ge(l,t,e,n,i,d)}}function ni(t,e,n,o,a){var l=t.options,u={},c=l.props;if(s(c))for(var h in c)u[h]=Ti(h,c,e||i);else s(n.attrs)&&ri(u,n.attrs),s(n.props)&&ri(u,n.props);var d=new ei(n,u,a,o,t),f=l.render.call(null,d._c,d);if(f instanceof yt)return ii(f,n,d.parent,l,d);if(r(f)){for(var p=ae(f)||[],v=new Array(p.length),g=0;g<p.length;g++)v[g]=ii(p[g],n,d.parent,l,d);return v}}function ii(t,e,n,i,r){var o=wt(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function ri(t,e){for(var n in e)t[O(n)]=e[n]}function oi(t){return t.name||t.__name||t._componentTag}Ee(ei.prototype);var si={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;si.prepatch(n,n)}else{var i=t.componentInstance=ui(t,Tn);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Mn(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Rn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Kn(n):Dn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Pn(e,!0):e.$destroy())}},ai=Object.keys(si);function li(t,e,n,i,r){if(!o(t)){var l=n.$options._base;if(h(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(o(t.cid)&&(u=t,t=He(u,l),void 0===t))return Ue(u,e,n,i,r);e=e||{},Zi(t),s(e.model)&&di(t.options,e);var c=re(e,t,r);if(a(t.options.functional))return ni(t,c,e,n,i);var d=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}ci(e);var p=oi(t.options)||r,v=new yt("vue-component-".concat(t.cid).concat(p?"-".concat(p):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:c,listeners:d,tag:r,children:i},u);return v}}}function ui(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return s(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function ci(t){for(var e=t.hook||(t.hook={}),n=0;n<ai.length;n++){var i=ai[n],r=e[i],o=si[i];r===o||r&&r._merged||(e[i]=r?hi(o,r):o)}}function hi(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function di(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[i],l=e.model.callback;s(a)?(r(a)?-1===a.indexOf(l):a!==l)&&(o[i]=[l].concat(a)):o[i]=l}var fi=F,pi=$.optionMergeStrategies;function vi(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var i,r,o,s=vt?Reflect.ownKeys(e):Object.keys(e),a=0;a<s.length;a++)i=s[a],"__ob__"!==i&&(r=t[i],o=e[i],n&&E(t,i)?r!==o&&f(r)&&f(o)&&vi(r,o):Bt(t,i,o));return t}function gi(t,e,n){return n?function(){var i=c(e)?e.call(n,n):e,r=c(t)?t.call(n,n):t;return i?vi(i,r):r}:e?t?function(){return vi(c(e)?e.call(this,this):e,c(t)?t.call(this,this):t)}:e:t}function mi(t,e){var n=e?t?t.concat(e):r(e)?e:[e]:t;return n?yi(n):n}function yi(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function _i(t,e,n,i){var r=Object.create(t||null);return e?R(r,e):r}pi.data=function(t,e,n){return n?gi(t,e,n):e&&"function"!==typeof e?t:gi(t,e)},G.forEach((function(t){pi[t]=mi})),V.forEach((function(t){pi[t+"s"]=_i})),pi.watch=function(t,e,n,i){if(t===lt&&(t=void 0),e===lt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var s in R(o,t),e){var a=o[s],l=e[s];a&&!r(a)&&(a=[a]),o[s]=a?a.concat(l):r(l)?l:[l]}return o},pi.props=pi.methods=pi.inject=pi.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return R(r,t),e&&R(r,e),r},pi.provide=function(t,e){return t?function(){var n=Object.create(null);return vi(n,c(t)?t.call(this):t),e&&vi(n,c(e)?e.call(this):e,!1),n}:e};var bi=function(t,e){return void 0===e?t:e};function wi(t,e){var n=t.props;if(n){var i,o,s,a={};if(r(n)){i=n.length;while(i--)o=n[i],"string"===typeof o&&(s=O(o),a[s]={type:null})}else if(f(n))for(var l in n)o=n[l],s=O(l),a[s]=f(o)?o:{type:o};else 0;t.props=a}}function ki(t,e){var n=t.inject;if(n){var i=t.inject={};if(r(n))for(var o=0;o<n.length;o++)i[n[o]]={from:n[o]};else if(f(n))for(var s in n){var a=n[s];i[s]=f(a)?R({from:s},a):{from:a}}else 0}}function xi(t){var e=t.directives;if(e)for(var n in e){var i=e[n];c(i)&&(e[n]={bind:i,update:i})}}function Ei(t,e,n){if(c(e)&&(e=e.options),wi(e,n),ki(e,n),xi(e),!e._base&&(e.extends&&(t=Ei(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Ei(t,e.mixins[i],n);var o,s={};for(o in t)a(o);for(o in e)E(t,o)||a(o);function a(i){var r=pi[i]||bi;s[i]=r(t[i],e[i],n,i)}return s}function Si(t,e,n,i){if("string"===typeof n){var r=t[e];if(E(r,n))return r[n];var o=O(n);if(E(r,o))return r[o];var s=C(o);if(E(r,s))return r[s];var a=r[n]||r[o]||r[s];return a}}function Ti(t,e,n,i){var r=e[t],o=!E(n,t),s=n[t],a=Mi(Boolean,r.type);if(a>-1)if(o&&!E(r,"default"))s=!1;else if(""===s||s===N(t)){var l=Mi(String,r.type);(l<0||a<l)&&(s=!0)}if(void 0===s){s=Oi(i,r,t);var u=Pt;Rt(!0),jt(s),Rt(u)}return s}function Oi(t,e,n){if(E(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:c(i)&&"Function"!==Ii(e.type)?i.call(t):i}}var Ci=/^\s*function (\w+)/;function Ii(t){var e=t&&t.toString().match(Ci);return e?e[1]:""}function Ni(t,e){return Ii(t)===Ii(e)}function Mi(t,e){if(!r(e))return Ni(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Ni(e[n],t))return n;return-1}var Ai={enumerable:!0,configurable:!0,get:F,set:F};function Di(t,e,n){Ai.get=function(){return this[e][n]},Ai.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Ai)}function Pi(t){var e=t.$options;if(e.props&&Ri(t,e.props),Me(t),e.methods&&Wi(t,e.methods),e.data)Li(t);else{var n=jt(t._data={});n&&n.vmCount++}e.computed&&zi(t,e.computed),e.watch&&e.watch!==lt&&Yi(t,e.watch)}function Ri(t,e){var n=t.$options.propsData||{},i=t._props=Wt({}),r=t.$options._propKeys=[],o=!t.$parent;o||Rt(!1);var s=function(o){r.push(o);var s=Ti(o,e,n,t);zt(i,o,s,void 0,!0),o in t||Di(t,"_props",o)};for(var a in e)s(a);Rt(!0)}function Li(t){var e=t.$options.data;e=t._data=c(e)?Fi(e,t):e||{},f(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var o=n[r];0,i&&E(i,o)||K(o)||Di(t,"_data",o)}var s=jt(e);s&&s.vmCount++}function Fi(t,e){Ot();try{return t.call(e,e)}catch(Js){return Ze(Js,e,"data()"),{}}finally{Ct()}}var ji={lazy:!0};function zi(t,e){var n=t._computedWatchers=Object.create(null),i=ht();for(var r in e){var o=e[r],s=c(o)?o:o.get;0,i||(n[r]=new _n(t,s||F,F,ji)),r in t||Bi(t,r,o)}}function Bi(t,e,n){var i=!ht();c(n)?(Ai.get=i?Ui(e):Hi(n),Ai.set=F):(Ai.get=n.get?i&&!1!==n.cache?Ui(e):Hi(n.get):F,Ai.set=n.set||F),Object.defineProperty(t,e,Ai)}function Ui(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),St.target&&e.depend(),e.value}}function Hi(t){return function(){return t.call(this,this)}}function Wi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?F:D(e[n],t)}function Yi(t,e){for(var n in e){var i=e[n];if(r(i))for(var o=0;o<i.length;o++)Vi(t,n,i[o]);else Vi(t,n,i)}}function Vi(t,e,n,i){return f(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function Gi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Bt,t.prototype.$delete=Ut,t.prototype.$watch=function(t,e,n){var i=this;if(f(e))return Vi(i,t,e,n);n=n||{},n.user=!0;var r=new _n(i,t,e,n);if(n.immediate){var o='callback for immediate watcher "'.concat(r.expression,'"');Ot(),Xe(e,i,[r.value],i,o),Ct()}return function(){r.teardown()}}}var $i=0;function qi(t){t.prototype._init=function(t){var e=this;e._uid=$i++,e._isVue=!0,e.__v_skip=!0,e._scope=new Zt(!0),e._scope.parent=void 0,e._scope._vm=!0,t&&t._isComponent?Ki(e,t):e.$options=Ei(Zi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Cn(e),bn(e),Fe(e),Rn(e,"beforeCreate",void 0,!1),Jn(e),Pi(e),Qn(e),Rn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Ki(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Zi(t){var e=t.options;if(t.super){var n=Zi(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=Xi(t);r&&R(t.extendOptions,r),e=t.options=Ei(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Xi(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function Qi(t){this._init(t)}function Ji(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=P(arguments,1);return n.unshift(this),c(t.install)?t.install.apply(t,n):c(t)&&t.apply(null,n),e.push(t),this}}function tr(t){t.mixin=function(t){return this.options=Ei(this.options,t),this}}function er(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var o=oi(t)||oi(n.options);var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=Ei(n.options,t),s["super"]=n,s.options.props&&nr(s),s.options.computed&&ir(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,V.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=R({},s.options),r[i]=s,s}}function nr(t){var e=t.options.props;for(var n in e)Di(t.prototype,"_props",n)}function ir(t){var e=t.options.computed;for(var n in e)Bi(t.prototype,n,e[n])}function rr(t){V.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&c(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function or(t){return t&&(oi(t.Ctor.options)||t.tag)}function sr(t,e){return r(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function ar(t,e){var n=t.cache,i=t.keys,r=t._vnode,o=t.$vnode;for(var s in n){var a=n[s];if(a){var l=a.name;l&&!e(l)&&lr(n,s,i,r)}}o.componentOptions.children=void 0}function lr(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,k(n,e)}qi(Qi),Gi(Qi),Sn(Qi),In(Qi),ze(Qi);var ur=[String,RegExp,Array],cr={name:"keep-alive",abstract:!0,props:{include:ur,exclude:ur,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,i=t.vnodeToCache,r=t.keyToCache;if(i){var o=i.tag,s=i.componentInstance,a=i.componentOptions;e[r]={name:or(a),tag:o,componentInstance:s},n.push(r),this.max&&n.length>parseInt(this.max)&&lr(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)lr(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){ar(t,(function(t){return sr(e,t)}))})),this.$watch("exclude",(function(e){ar(t,(function(t){return!sr(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=We(t),n=e&&e.componentOptions;if(n){var i=or(n),r=this,o=r.include,s=r.exclude;if(o&&(!i||!sr(o,i))||s&&i&&sr(s,i))return e;var a=this,l=a.cache,u=a.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;l[c]?(e.componentInstance=l[c].componentInstance,k(u,c),u.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||t&&t[0]}},hr={KeepAlive:cr};function dr(t){var e={get:function(){return $}};Object.defineProperty(t,"config",e),t.util={warn:fi,extend:R,mergeOptions:Ei,defineReactive:zt},t.set=Bt,t.delete=Ut,t.nextTick=cn,t.observable=function(t){return jt(t),t},t.options=Object.create(null),V.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,R(t.options.components,hr),Ji(t),tr(t),er(t),rr(t)}dr(Qi),Object.defineProperty(Qi.prototype,"$isServer",{get:ht}),Object.defineProperty(Qi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Qi,"FunctionalRenderContext",{value:ei}),Qi.version=fn;var fr=b("style,class"),pr=b("input,textarea,option,select,progress"),vr=function(t,e,n){return"value"===n&&pr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},gr=b("contenteditable,draggable,spellcheck"),mr=b("events,caret,typing,plaintext-only"),yr=function(t,e){return xr(e)||"false"===e?"false":"contenteditable"===t&&mr(e)?e:"true"},_r=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),br="http://www.w3.org/1999/xlink",wr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},kr=function(t){return wr(t)?t.slice(6,t.length):""},xr=function(t){return null==t||!1===t};function Er(t){var e=t.data,n=t,i=t;while(s(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Sr(i.data,e));while(s(n=n.parent))n&&n.data&&(e=Sr(e,n.data));return Tr(e.staticClass,e.class)}function Sr(t,e){return{staticClass:Or(t.staticClass,e.staticClass),class:s(t.class)?[t.class,e.class]:e.class}}function Tr(t,e){return s(t)||s(e)?Or(t,Cr(e)):""}function Or(t,e){return t?e?t+" "+e:t:e||""}function Cr(t){return Array.isArray(t)?Ir(t):h(t)?Nr(t):"string"===typeof t?t:""}function Ir(t){for(var e,n="",i=0,r=t.length;i<r;i++)s(e=Cr(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Nr(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Mr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ar=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Dr=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Pr=function(t){return Ar(t)||Dr(t)};function Rr(t){return Dr(t)?"svg":"math"===t?"math":void 0}var Lr=Object.create(null);function Fr(t){if(!tt)return!0;if(Pr(t))return!1;if(t=t.toLowerCase(),null!=Lr[t])return Lr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Lr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Lr[t]=/HTMLUnknownElement/.test(e.toString())}var jr=b("text,number,password,search,email,tel,url");function zr(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Br(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Ur(t,e){return document.createElementNS(Mr[t],e)}function Hr(t){return document.createTextNode(t)}function Wr(t){return document.createComment(t)}function Yr(t,e,n){t.insertBefore(e,n)}function Vr(t,e){t.removeChild(e)}function Gr(t,e){t.appendChild(e)}function $r(t){return t.parentNode}function qr(t){return t.nextSibling}function Kr(t){return t.tagName}function Zr(t,e){t.textContent=e}function Xr(t,e){t.setAttribute(e,"")}var Qr=Object.freeze({__proto__:null,createElement:Br,createElementNS:Ur,createTextNode:Hr,createComment:Wr,insertBefore:Yr,removeChild:Vr,appendChild:Gr,parentNode:$r,nextSibling:qr,tagName:Kr,setTextContent:Zr,setStyleScope:Xr}),Jr={create:function(t,e){to(e)},update:function(t,e){t.data.ref!==e.data.ref&&(to(t,!0),to(e))},destroy:function(t){to(t,!0)}};function to(t,e){var n=t.data.ref;if(s(n)){var i=t.context,o=t.componentInstance||t.elm,a=e?null:o,l=e?void 0:o;if(c(n))Xe(n,i,[a],i,"template ref function");else{var u=t.data.refInFor,h="string"===typeof n||"number"===typeof n,d=Gt(n),f=i.$refs;if(h||d)if(u){var p=h?f[n]:n.value;e?r(p)&&k(p,o):r(p)?p.includes(o)||p.push(o):h?(f[n]=[o],eo(i,n,f[n])):n.value=[o]}else if(h){if(e&&f[n]!==o)return;f[n]=l,eo(i,n,a)}else if(d){if(e&&n.value!==o)return;n.value=a}else 0}}}function eo(t,e,n){var i=t._setupState;i&&E(i,e)&&(Gt(i[e])?i[e].value=n:i[e]=n)}var no=new yt("",{},[]),io=["create","activate","update","remove","destroy"];function ro(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&s(t.data)===s(e.data)&&oo(t,e)||a(t.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function oo(t,e){if("input"!==t.tag)return!0;var n,i=s(n=t.data)&&s(n=n.attrs)&&n.type,r=s(n=e.data)&&s(n=n.attrs)&&n.type;return i===r||jr(i)&&jr(r)}function so(t,e,n){var i,r,o={};for(i=e;i<=n;++i)r=t[i].key,s(r)&&(o[r]=i);return o}function ao(t){var e,n,i={},l=t.modules,c=t.nodeOps;for(e=0;e<io.length;++e)for(i[io[e]]=[],n=0;n<l.length;++n)s(l[n][io[e]])&&i[io[e]].push(l[n][io[e]]);function h(t){return new yt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function d(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=c.parentNode(t);s(e)&&c.removeChild(e,t)}function p(t,e,n,i,r,o,l){if(s(t.elm)&&s(o)&&(t=o[l]=wt(t)),t.isRootInsert=!r,!v(t,e,n,i)){var u=t.data,h=t.children,d=t.tag;s(d)?(t.elm=t.ns?c.createElementNS(t.ns,d):c.createElement(d,t),x(t),_(t,h,e),s(u)&&k(t,e),y(n,t.elm,i)):a(t.isComment)?(t.elm=c.createComment(t.text),y(n,t.elm,i)):(t.elm=c.createTextNode(t.text),y(n,t.elm,i))}}function v(t,e,n,i){var r=t.data;if(s(r)){var o=s(t.componentInstance)&&r.keepAlive;if(s(r=r.hook)&&s(r=r.init)&&r(t,!1),s(t.componentInstance))return g(t,e),y(n,t.elm,i),a(o)&&m(t,e,n,i),!0}}function g(t,e){s(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(k(t,e),x(t)):(to(t),e.push(t))}function m(t,e,n,r){var o,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,s(o=a.data)&&s(o=o.transition)){for(o=0;o<i.activate.length;++o)i.activate[o](no,a);e.push(a);break}y(n,t.elm,r)}function y(t,e,n){s(t)&&(s(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function _(t,e,n){if(r(e)){0;for(var i=0;i<e.length;++i)p(e[i],n,t.elm,null,!0,e,i)}else u(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return s(t.tag)}function k(t,n){for(var r=0;r<i.create.length;++r)i.create[r](no,t);e=t.data.hook,s(e)&&(s(e.create)&&e.create(no,t),s(e.insert)&&n.push(t))}function x(t){var e;if(s(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)s(e=n.context)&&s(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}s(e=Tn)&&e!==t.context&&e!==t.fnContext&&s(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function E(t,e,n,i,r,o){for(;i<=r;++i)p(n[i],o,t,e,!1,n,i)}function S(t){var e,n,r=t.data;if(s(r))for(s(e=r.hook)&&s(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(s(e=t.children))for(n=0;n<t.children.length;++n)S(t.children[n])}function T(t,e,n){for(;e<=n;++e){var i=t[e];s(i)&&(s(i.tag)?(O(i),S(i)):f(i.elm))}}function O(t,e){if(s(e)||s(t.data)){var n,r=i.remove.length+1;for(s(e)?e.listeners+=r:e=d(t.elm,r),s(n=t.componentInstance)&&s(n=n._vnode)&&s(n.data)&&O(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);s(n=t.data.hook)&&s(n=n.remove)?n(t,e):e()}else f(t.elm)}function C(t,e,n,i,r){var a,l,u,h,d=0,f=0,v=e.length-1,g=e[0],m=e[v],y=n.length-1,_=n[0],b=n[y],w=!r;while(d<=v&&f<=y)o(g)?g=e[++d]:o(m)?m=e[--v]:ro(g,_)?(N(g,_,i,n,f),g=e[++d],_=n[++f]):ro(m,b)?(N(m,b,i,n,y),m=e[--v],b=n[--y]):ro(g,b)?(N(g,b,i,n,y),w&&c.insertBefore(t,g.elm,c.nextSibling(m.elm)),g=e[++d],b=n[--y]):ro(m,_)?(N(m,_,i,n,f),w&&c.insertBefore(t,m.elm,g.elm),m=e[--v],_=n[++f]):(o(a)&&(a=so(e,d,v)),l=s(_.key)?a[_.key]:I(_,e,d,v),o(l)?p(_,i,t,g.elm,!1,n,f):(u=e[l],ro(u,_)?(N(u,_,i,n,f),e[l]=void 0,w&&c.insertBefore(t,u.elm,g.elm)):p(_,i,t,g.elm,!1,n,f)),_=n[++f]);d>v?(h=o(n[y+1])?null:n[y+1].elm,E(t,h,n,f,y,i)):f>y&&T(e,d,v)}function I(t,e,n,i){for(var r=n;r<i;r++){var o=e[r];if(s(o)&&ro(t,o))return r}}function N(t,e,n,r,l,u){if(t!==e){s(e.elm)&&s(r)&&(e=r[l]=wt(e));var h=e.elm=t.elm;if(a(t.isAsyncPlaceholder))s(e.asyncFactory.resolved)?D(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,f=e.data;s(f)&&s(d=f.hook)&&s(d=d.prepatch)&&d(t,e);var p=t.children,v=e.children;if(s(f)&&w(e)){for(d=0;d<i.update.length;++d)i.update[d](t,e);s(d=f.hook)&&s(d=d.update)&&d(t,e)}o(e.text)?s(p)&&s(v)?p!==v&&C(h,p,v,n,u):s(v)?(s(t.text)&&c.setTextContent(h,""),E(h,null,v,0,v.length-1,n)):s(p)?T(p,0,p.length-1):s(t.text)&&c.setTextContent(h,""):t.text!==e.text&&c.setTextContent(h,e.text),s(f)&&s(d=f.hook)&&s(d=d.postpatch)&&d(t,e)}}}function M(t,e,n){if(a(n)&&s(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var A=b("attrs,class,staticClass,staticStyle,key");function D(t,e,n,i){var r,o=e.tag,l=e.data,u=e.children;if(i=i||l&&l.pre,e.elm=t,a(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(l)&&(s(r=l.hook)&&s(r=r.init)&&r(e,!0),s(r=e.componentInstance)))return g(e,n),!0;if(s(o)){if(s(u))if(t.hasChildNodes())if(s(r=l)&&s(r=r.domProps)&&s(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,d=0;d<u.length;d++){if(!h||!D(h,u[d],n,i)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else _(e,u,n);if(s(l)){var f=!1;for(var p in l)if(!A(p)){f=!0,k(e,n);break}!f&&l["class"]&&vn(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,r){if(!o(e)){var l=!1,u=[];if(o(t))l=!0,p(e,u);else{var d=s(t.nodeType);if(!d&&ro(t,e))N(t,e,u,null,null,r);else{if(d){if(1===t.nodeType&&t.hasAttribute(Y)&&(t.removeAttribute(Y),n=!0),a(n)&&D(t,e,u))return M(e,u,!0),t;t=h(t)}var f=t.elm,v=c.parentNode(f);if(p(e,u,f._leaveCb?null:v,c.nextSibling(f)),s(e.parent)){var g=e.parent,m=w(e);while(g){for(var y=0;y<i.destroy.length;++y)i.destroy[y](g);if(g.elm=e.elm,m){for(var _=0;_<i.create.length;++_)i.create[_](no,g);var b=g.data.hook.insert;if(b.merged)for(var k=b.fns.slice(1),x=0;x<k.length;x++)k[x]()}else to(g);g=g.parent}}s(v)?T([t],0,0):s(t.tag)&&S(t)}}return M(e,u,l),e.elm}s(t)&&S(t)}}var lo={create:uo,update:uo,destroy:function(t){uo(t,no)}};function uo(t,e){(t.data.directives||e.data.directives)&&co(t,e)}function co(t,e){var n,i,r,o=t===no,s=e===no,a=fo(t.data.directives,t.context),l=fo(e.data.directives,e.context),u=[],c=[];for(n in l)i=a[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,vo(r,"update",e,t),r.def&&r.def.componentUpdated&&c.push(r)):(vo(r,"bind",e,t),r.def&&r.def.inserted&&u.push(r));if(u.length){var h=function(){for(var n=0;n<u.length;n++)vo(u[n],"inserted",e,t)};o?ie(e,"insert",h):h()}if(c.length&&ie(e,"postpatch",(function(){for(var n=0;n<c.length;n++)vo(c[n],"componentUpdated",e,t)})),!o)for(n in a)l[n]||vo(a[n],"unbind",t,t,s)}var ho=Object.create(null);function fo(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++){if(i=t[n],i.modifiers||(i.modifiers=ho),r[po(i)]=i,e._setupState&&e._setupState.__sfc){var o=i.def||Si(e,"_setupState","v-"+i.name);i.def="function"===typeof o?{bind:o,update:o}:o}i.def=i.def||Si(e.$options,"directives",i.name,!0)}return r}function po(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function vo(t,e,n,i,r){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,i,r)}catch(Js){Ze(Js,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var go=[Jr,lo];function mo(t,e){var n=e.componentOptions;if((!s(n)||!1!==n.Ctor.options.inheritAttrs)&&(!o(t.data.attrs)||!o(e.data.attrs))){var i,r,l,u=e.elm,c=t.data.attrs||{},h=e.data.attrs||{};for(i in(s(h.__ob__)||a(h._v_attr_proxy))&&(h=e.data.attrs=R({},h)),h)r=h[i],l=c[i],l!==r&&yo(u,i,r,e.data.pre);for(i in(nt||rt)&&h.value!==c.value&&yo(u,"value",h.value),c)o(h[i])&&(wr(i)?u.removeAttributeNS(br,kr(i)):gr(i)||u.removeAttribute(i))}}function yo(t,e,n,i){i||t.tagName.indexOf("-")>-1?_o(t,e,n):_r(e)?xr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):gr(e)?t.setAttribute(e,yr(e,n)):wr(e)?xr(n)?t.removeAttributeNS(br,kr(e)):t.setAttributeNS(br,e,n):_o(t,e,n)}function _o(t,e,n){if(xr(n))t.removeAttribute(e);else{if(nt&&!it&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var bo={create:mo,update:mo};function wo(t,e){var n=e.elm,i=e.data,r=t.data;if(!(o(i.staticClass)&&o(i.class)&&(o(r)||o(r.staticClass)&&o(r.class)))){var a=Er(e),l=n._transitionClasses;s(l)&&(a=Or(a,Cr(l))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var ko,xo={create:wo,update:wo},Eo="__r",So="__c";function To(t){if(s(t[Eo])){var e=nt?"change":"input";t[e]=[].concat(t[Eo],t[e]||[]),delete t[Eo]}s(t[So])&&(t.change=[].concat(t[So],t.change||[]),delete t[So])}function Oo(t,e,n){var i=ko;return function r(){var o=e.apply(null,arguments);null!==o&&No(t,r,n,i)}}var Co=en&&!(at&&Number(at[1])<=53);function Io(t,e,n,i){if(Co){var r=Wn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}ko.addEventListener(t,e,ut?{capture:n,passive:i}:n)}function No(t,e,n,i){(i||ko).removeEventListener(t,e._wrapper||e,n)}function Mo(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},i=t.data.on||{};ko=e.elm||t.elm,To(n),ne(n,i,Io,No,Oo,e.context),ko=void 0}}var Ao,Do={create:Mo,update:Mo,destroy:function(t){return Mo(t,no)}};function Po(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,i,r=e.elm,l=t.data.domProps||{},u=e.data.domProps||{};for(n in(s(u.__ob__)||a(u._v_attr_proxy))&&(u=e.data.domProps=R({},u)),l)n in u||(r[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===l[n])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===n&&"PROGRESS"!==r.tagName){r._value=i;var c=o(i)?"":String(i);Ro(r,c)&&(r.value=c)}else if("innerHTML"===n&&Dr(r.tagName)&&o(r.innerHTML)){Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>".concat(i,"</svg>");var h=Ao.firstChild;while(r.firstChild)r.removeChild(r.firstChild);while(h.firstChild)r.appendChild(h.firstChild)}else if(i!==l[n])try{r[n]=i}catch(Js){}}}}function Ro(t,e){return!t.composing&&("OPTION"===t.tagName||Lo(t,e)||Fo(t,e))}function Lo(t,e){var n=!0;try{n=document.activeElement!==t}catch(Js){}return n&&t.value!==e}function Fo(t,e){var n=t.value,i=t._vModifiers;if(s(i)){if(i.number)return _(n)!==_(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var jo={create:Po,update:Po},zo=S((function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Bo(t){var e=Uo(t.style);return t.staticStyle?R(t.staticStyle,e):e}function Uo(t){return Array.isArray(t)?L(t):"string"===typeof t?zo(t):t}function Ho(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=Bo(r.data))&&R(i,n)}(n=Bo(t.data))&&R(i,n);var o=t;while(o=o.parent)o.data&&(n=Bo(o.data))&&R(i,n);return i}var Wo,Yo=/^--/,Vo=/\s*!important$/,Go=function(t,e,n){if(Yo.test(e))t.style.setProperty(e,n);else if(Vo.test(n))t.style.setProperty(N(e),n.replace(Vo,""),"important");else{var i=qo(e);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)t.style[i]=n[r];else t.style[i]=n}},$o=["Webkit","Moz","ms"],qo=S((function(t){if(Wo=Wo||document.createElement("div").style,t=O(t),"filter"!==t&&t in Wo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<$o.length;n++){var i=$o[n]+e;if(i in Wo)return i}}));function Ko(t,e){var n=e.data,i=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(i.staticStyle)&&o(i.style))){var r,a,l=e.elm,u=i.staticStyle,c=i.normalizedStyle||i.style||{},h=u||c,d=Uo(e.data.style)||{};e.data.normalizedStyle=s(d.__ob__)?R({},d):d;var f=Ho(e,!0);for(a in h)o(f[a])&&Go(l,a,"");for(a in f)r=f[a],Go(l,a,null==r?"":r)}}var Zo={create:Ko,update:Ko},Xo=/\s+/;function Qo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Xo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Jo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Xo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function ts(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&R(e,es(t.name||"v")),R(e,t),e}return"string"===typeof t?es(t):void 0}}var es=S((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),ns=tt&&!it,is="transition",rs="animation",os="transition",ss="transitionend",as="animation",ls="animationend";ns&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(os="WebkitTransition",ss="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(as="WebkitAnimation",ls="webkitAnimationEnd"));var us=tt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function cs(t){us((function(){us(t)}))}function hs(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Qo(t,e))}function ds(t,e){t._transitionClasses&&k(t._transitionClasses,e),Jo(t,e)}function fs(t,e,n){var i=vs(t,e),r=i.type,o=i.timeout,s=i.propCount;if(!r)return n();var a=r===is?ss:ls,l=0,u=function(){t.removeEventListener(a,c),n()},c=function(e){e.target===t&&++l>=s&&u()};setTimeout((function(){l<s&&u()}),o+1),t.addEventListener(a,c)}var ps=/\b(transform|all)(,|$)/;function vs(t,e){var n,i=window.getComputedStyle(t),r=(i[os+"Delay"]||"").split(", "),o=(i[os+"Duration"]||"").split(", "),s=gs(r,o),a=(i[as+"Delay"]||"").split(", "),l=(i[as+"Duration"]||"").split(", "),u=gs(a,l),c=0,h=0;e===is?s>0&&(n=is,c=s,h=o.length):e===rs?u>0&&(n=rs,c=u,h=l.length):(c=Math.max(s,u),n=c>0?s>u?is:rs:null,h=n?n===is?o.length:l.length:0);var d=n===is&&ps.test(i[os+"Property"]);return{type:n,timeout:c,propCount:h,hasTransform:d}}function gs(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return ms(e)+ms(t[n])})))}function ms(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ys(t,e){var n=t.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=ts(t.data.transition);if(!o(i)&&!s(n._enterCb)&&1===n.nodeType){var r=i.css,a=i.type,l=i.enterClass,u=i.enterToClass,d=i.enterActiveClass,f=i.appearClass,p=i.appearToClass,v=i.appearActiveClass,g=i.beforeEnter,m=i.enter,y=i.afterEnter,b=i.enterCancelled,w=i.beforeAppear,k=i.appear,x=i.afterAppear,E=i.appearCancelled,S=i.duration,T=Tn,O=Tn.$vnode;while(O&&O.parent)T=O.context,O=O.parent;var C=!T._isMounted||!t.isRootInsert;if(!C||k||""===k){var I=C&&f?f:l,N=C&&v?v:d,M=C&&p?p:u,A=C&&w||g,D=C&&c(k)?k:m,P=C&&x||y,R=C&&E||b,L=_(h(S)?S.enter:S);0;var F=!1!==r&&!it,j=ws(D),z=n._enterCb=H((function(){F&&(ds(n,M),ds(n,N)),z.cancelled?(F&&ds(n,I),R&&R(n)):P&&P(n),n._enterCb=null}));t.data.show||ie(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),D&&D(n,z)})),A&&A(n),F&&(hs(n,I),hs(n,N),cs((function(){ds(n,I),z.cancelled||(hs(n,M),j||(bs(L)?setTimeout(z,L):fs(n,a,z)))}))),t.data.show&&(e&&e(),D&&D(n,z)),F||j||z()}}}function _s(t,e){var n=t.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=ts(t.data.transition);if(o(i)||1!==n.nodeType)return e();if(!s(n._leaveCb)){var r=i.css,a=i.type,l=i.leaveClass,u=i.leaveToClass,c=i.leaveActiveClass,d=i.beforeLeave,f=i.leave,p=i.afterLeave,v=i.leaveCancelled,g=i.delayLeave,m=i.duration,y=!1!==r&&!it,b=ws(f),w=_(h(m)?m.leave:m);0;var k=n._leaveCb=H((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(ds(n,u),ds(n,c)),k.cancelled?(y&&ds(n,l),v&&v(n)):(e(),p&&p(n)),n._leaveCb=null}));g?g(x):x()}function x(){k.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),y&&(hs(n,l),hs(n,c),cs((function(){ds(n,l),k.cancelled||(hs(n,u),b||(bs(w)?setTimeout(k,w):fs(n,a,k)))}))),f&&f(n,k),y||b||k())}}function bs(t){return"number"===typeof t&&!isNaN(t)}function ws(t){if(o(t))return!1;var e=t.fns;return s(e)?ws(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function ks(t,e){!0!==e.data.show&&ys(e)}var xs=tt?{create:ks,activate:ks,remove:function(t,e){!0!==t.data.show?_s(t,e):e()}}:{},Es=[bo,xo,Do,jo,Zo,xs],Ss=Es.concat(go),Ts=ao({nodeOps:Qr,modules:Ss});it&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Ps(t,"input")}));var Os={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ie(n,"postpatch",(function(){Os.componentUpdated(t,e,n)})):Cs(t,e,n.context),t._vOptions=[].map.call(t.options,Ms)):("textarea"===n.tag||jr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",As),t.addEventListener("compositionend",Ds),t.addEventListener("change",Ds),it&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Cs(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,Ms);if(r.some((function(t,e){return!B(t,i[e])}))){var o=t.multiple?e.value.some((function(t){return Ns(t,r)})):e.value!==e.oldValue&&Ns(e.value,r);o&&Ps(t,"change")}}}};function Cs(t,e,n){Is(t,e,n),(nt||rt)&&setTimeout((function(){Is(t,e,n)}),0)}function Is(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var o,s,a=0,l=t.options.length;a<l;a++)if(s=t.options[a],r)o=U(i,Ms(s))>-1,s.selected!==o&&(s.selected=o);else if(B(Ms(s),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function Ns(t,e){return e.every((function(e){return!B(e,t)}))}function Ms(t){return"_value"in t?t._value:t.value}function As(t){t.target.composing=!0}function Ds(t){t.target.composing&&(t.target.composing=!1,Ps(t.target,"input"))}function Ps(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Rs(t){return!t.componentInstance||t.data&&t.data.transition?t:Rs(t.componentInstance._vnode)}var Ls={bind:function(t,e,n){var i=e.value;n=Rs(n);var r=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,ys(n,(function(){t.style.display=o}))):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=Rs(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,i?ys(n,(function(){t.style.display=t.__vOriginalDisplay})):_s(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},Fs={model:Os,show:Ls},js={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function zs(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?zs(We(e.children)):t}function Bs(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var i in r)e[O(i)]=r[i];return e}function Us(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Hs(t){while(t=t.parent)if(t.data.transition)return!0}function Ws(t,e){return e.key===t.key&&e.tag===t.tag}var Ys=function(t){return t.tag||Oe(t)},Vs=function(t){return"show"===t.name},Gs={name:"transition",props:js,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Ys),n.length)){0;var i=this.mode;0;var r=n[0];if(Hs(this.$vnode))return r;var o=zs(r);if(!o)return r;if(this._leaving)return Us(t,r);var s="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?s+"comment":s+o.tag:u(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=Bs(this),l=this._vnode,c=zs(l);if(o.data.directives&&o.data.directives.some(Vs)&&(o.data.show=!0),c&&c.data&&!Ws(o,c)&&!Oe(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=R({},a);if("out-in"===i)return this._leaving=!0,ie(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Us(t,r);if("in-out"===i){if(Oe(o))return l;var d,f=function(){d()};ie(a,"afterEnter",f),ie(a,"enterCancelled",f),ie(h,"delayLeave",(function(t){d=t}))}}return r}}},$s=R({tag:String,moveClass:String},js);delete $s.mode;var qs={props:$s,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=On(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=Bs(this),a=0;a<r.length;a++){var l=r[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(i){var u=[],c=[];for(a=0;a<i.length;a++){l=i[a];l.data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?u.push(l):c.push(l)}this.kept=t(e,null,u),this.removed=c}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ks),t.forEach(Zs),t.forEach(Xs),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;hs(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(ss,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(ss,t),n._moveCb=null,ds(n,e))})}})))},methods:{hasMove:function(t,e){if(!ns)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Jo(n,t)})),Qo(n,e),n.style.display="none",this.$el.appendChild(n);var i=vs(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function Ks(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Zs(t){t.data.newPos=t.elm.getBoundingClientRect()}function Xs(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(i,"px,").concat(r,"px)"),o.transitionDuration="0s"}}var Qs={Transition:Gs,TransitionGroup:qs};Qi.config.mustUseProp=vr,Qi.config.isReservedTag=Pr,Qi.config.isReservedAttr=fr,Qi.config.getTagNamespace=Rr,Qi.config.isUnknownElement=Fr,R(Qi.options.directives,Fs),R(Qi.options.components,Qs),Qi.prototype.__patch__=tt?Ts:F,Qi.prototype.$mount=function(t,e){return t=t&&tt?zr(t):void 0,Nn(this,t,e)},tt&&setTimeout((function(){$.devtools&&dt&&dt.emit("init",Qi)}),0)},432:function(t,e,n){(function(e,i){t.exports=i(n(246))})("undefined"!==typeof self&&self,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){"use strict";var i=n("2d00"),r=n("5ca1"),o=n("2aba"),s=n("32e9"),a=n("84f2"),l=n("41a0"),u=n("7f20"),c=n("38fd"),h=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),f="@@iterator",p="keys",v="values",g=function(){return this};t.exports=function(t,e,n,m,y,_,b){l(n,e,m);var w,k,x,E=function(t){if(!d&&t in C)return C[t];switch(t){case p:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T=y==v,O=!1,C=t.prototype,I=C[h]||C[f]||y&&C[y],N=I||E(y),M=y?T?E("entries"):N:void 0,A="Array"==e&&C.entries||I;if(A&&(x=c(A.call(new t)),x!==Object.prototype&&x.next&&(u(x,S,!0),i||"function"==typeof x[h]||s(x,h,g))),T&&I&&I.name!==v&&(O=!0,N=function(){return I.call(this)}),i&&!b||!d&&!O&&C[h]||s(C,h,N),a[e]=N,a[S]=g,y)if(w={values:T?N:E(v),keys:_?N:E(p),entries:M},b)for(k in w)k in C||o(C,k,w[k]);else r(r.P+r.F*(d||O),e,w);return w}},"02f4":function(t,e,n){var i=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),l=i(n),u=a.length;return l<0||l>=u?t?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var i=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var i=n("ce10"),r=n("e11e");t.exports=Object.keys||function(t){return i(t,r)}},1495:function(t,e,n){var i=n("86cc"),r=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){r(t);var n,s=o(e),a=s.length,l=0;while(a>l)i.f(t,n=s[l++],e[n]);return t}},"214f":function(t,e,n){"use strict";n("b0c5");var i=n("2aba"),r=n("32e9"),o=n("79e5"),s=n("be13"),a=n("2b4c"),l=n("520a"),u=a("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=a(t),f=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=f?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!e})):void 0;if(!f||!p||"replace"===t&&!c||"split"===t&&!h){var v=/./[d],g=n(s,d,""[t],(function(t,e,n,i,r){return e.exec===l?f&&!r?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),m=g[0],y=g[1];i(String.prototype,t,m),r(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"230e":function(t,e,n){var i=n("d3f4"),r=n("7726").document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},"23c6":function(t,e,n){var i=n("2d95"),r=n("2b4c")("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"2aba":function(t,e,n){var i=n("7726"),r=n("32e9"),o=n("69a8"),s=n("ca5a")("src"),a=n("fa5b"),l="toString",u=(""+a).split(l);n("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(l&&(o(n,s)||r(n,s,t[e]?""+t[e]:u.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},"2aeb":function(t,e,n){var i=n("cb7c"),r=n("1495"),o=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},l="prototype",u=function(){var t,e=n("230e")("iframe"),i=o.length,r="<",s=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+s+"document.F=Object"+r+"/script"+s),t.close(),u=t.F;while(i--)delete u[l][o[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[l]=i(t),n=new a,a[l]=null,n[s]=t):n=u(),void 0===e?n:r(n,e)}},"2b4c":function(t,e,n){var i=n("5537")("wks"),r=n("ca5a"),o=n("7726").Symbol,s="function"==typeof o,a=t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))};a.store=i},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2fdb":function(t,e,n){"use strict";var i=n("5ca1"),r=n("d2c8"),o="includes";i(i.P+i.F*n("5147")(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(t,e,n){var i=n("86cc"),r=n("4630");t.exports=n("9e1e")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},"38fd":function(t,e,n){var i=n("69a8"),r=n("4bf8"),o=n("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"41a0":function(t,e,n){"use strict";var i=n("2aeb"),r=n("4630"),o=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},"456d":function(t,e,n){var i=n("4bf8"),r=n("0d58");n("5eda")("keys",(function(){return function(t){return r(i(t))}}))},4588:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,n){var i=n("be13");t.exports=function(t){return Object(i(t))}},5147:function(t,e,n){var i=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(r){}}return!0}},"520a":function(t,e,n){"use strict";var i=n("0bfb"),r=RegExp.prototype.exec,o=String.prototype.replace,s=r,a="lastIndex",l=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[a]||0!==e[a]}(),u=void 0!==/()??/.exec("")[1],c=l||u;c&&(s=function(t){var e,n,s,c,h=this;return u&&(n=new RegExp("^"+h.source+"$(?!\\s)",i.call(h))),l&&(e=h[a]),s=r.call(h,t),l&&s&&(h[a]=h.global?s.index+s[0].length:e),u&&s&&s.length>1&&o.call(s[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)})),s}),t.exports=s},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var i=n("8378"),r=n("7726"),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:"¬© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,n){var i=n("7726"),r=n("8378"),o=n("32e9"),s=n("2aba"),a=n("9b43"),l="prototype",u=function(t,e,n){var c,h,d,f,p=t&u.F,v=t&u.G,g=t&u.S,m=t&u.P,y=t&u.B,_=v?i:g?i[e]||(i[e]={}):(i[e]||{})[l],b=v?r:r[e]||(r[e]={}),w=b[l]||(b[l]={});for(c in v&&(n=e),n)h=!p&&_&&void 0!==_[c],d=(h?_:n)[c],f=y&&h?a(d,i):m&&"function"==typeof d?a(Function.call,d):d,_&&s(_,c,d,t&u.U),b[c]!=d&&o(b,c,f),m&&w[c]!=d&&(w[c]=d)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},"5eda":function(t,e,n){var i=n("5ca1"),r=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},"5f1b":function(t,e,n){"use strict";var i=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"613b":function(t,e,n){var i=n("5537")("keys"),r=n("ca5a");t.exports=function(t){return i[t]||(i[t]=r(t))}},"626a":function(t,e,n){var i=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},6762:function(t,e,n){"use strict";var i=n("5ca1"),r=n("c366")(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var i=n("626a"),r=n("be13");t.exports=function(t){return i(r(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var i=n("d3f4");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},7333:function(t,e,n){"use strict";var i=n("0d58"),r=n("2621"),o=n("52a7"),s=n("4bf8"),a=n("626a"),l=Object.assign;t.exports=!l||n("79e5")((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i}))?function(t,e){var n=s(t),l=arguments.length,u=1,c=r.f,h=o.f;while(l>u){var d,f=a(arguments[u++]),p=c?i(f).concat(c(f)):i(f),v=p.length,g=0;while(v>g)h.call(f,d=p[g++])&&(n[d]=f[d])}return n}:l},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var i=n("4588"),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7f20":function(t,e,n){var i=n("86cc").f,r=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},8378:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var i=n("cb7c"),r=n("c69a"),o=n("6a99"),s=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"9b43":function(t,e,n){var i=n("d8e8");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var i=n("2b4c")("unscopables"),r=Array.prototype;void 0==r[i]&&n("32e9")(r,i,{}),t.exports=function(t){r[i][t]=!0}},"9def":function(t,e,n){var i=n("4588"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(e,n){e.exports=t},a481:function(t,e,n){"use strict";var i=n("cb7c"),r=n("4bf8"),o=n("9def"),s=n("4588"),a=n("0390"),l=n("5f1b"),u=Math.max,c=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,v){return[function(i,r){var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=v(n,t,this,e);if(r.done)return r.value;var h=i(t),d=String(this),f="function"===typeof e;f||(e=String(e));var m=h.global;if(m){var y=h.unicode;h.lastIndex=0}var _=[];while(1){var b=l(h,d);if(null===b)break;if(_.push(b),!m)break;var w=String(b[0]);""===w&&(h.lastIndex=a(d,o(h.lastIndex),y))}for(var k="",x=0,E=0;E<_.length;E++){b=_[E];for(var S=String(b[0]),T=u(c(s(b.index),d.length),0),O=[],C=1;C<b.length;C++)O.push(p(b[C]));var I=b.groups;if(f){var N=[S].concat(O,T,d);void 0!==I&&N.push(I);var M=String(e.apply(void 0,N))}else M=g(S,d,T,O,I,e);T>=x&&(k+=d.slice(x,T)+M,x=T+S.length)}return k+d.slice(x)}];function g(t,e,i,o,s,a){var l=i+t.length,u=o.length,c=f;return void 0!==s&&(s=r(s),c=d),n.call(a,c,(function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(l);case"<":a=s[r.slice(1,-1)];break;default:var c=+r;if(0===c)return n;if(c>u){var d=h(c/10);return 0===d?n:d<=u?void 0===o[d-1]?r.charAt(1):o[d-1]+r.charAt(1):n}a=o[c-1]}return void 0===a?"":a}))}}))},aae3:function(t,e,n){var i=n("d3f4"),r=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},ac6a:function(t,e,n){for(var i=n("cadf"),r=n("0d58"),o=n("2aba"),s=n("7726"),a=n("32e9"),l=n("84f2"),u=n("2b4c"),c=u("iterator"),h=u("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),v=0;v<p.length;v++){var g,m=p[v],y=f[m],_=s[m],b=_&&_.prototype;if(b&&(b[c]||a(b,c,d),b[h]||a(b,h,m),l[m]=d,y))for(g in i)b[g]||o(b,g,i[g],!0)}},b0c5:function(t,e,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var i=n("6821"),r=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},c649:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return l}));n("a481");function i(){return"undefined"!==typeof window?window.console:t.console}var r=i();function o(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var s=/-(\w)/g,a=o((function(t){return t.replace(s,(function(t,e){return e?e.toUpperCase():""}))}));function l(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function u(t,e,n){var i=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,i)}}).call(this,n("c8ba"))},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},cadf:function(t,e,n){"use strict";var i=n("9c6c"),r=n("d53b"),o=n("84f2"),s=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},cb7c:function(t,e,n){var i=n("d3f4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,n){var i=n("69a8"),r=n("6821"),o=n("c366")(!1),s=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=r(t),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);while(e.length>l)i(a,n=e[l++])&&(~o(u,n)||u.push(n));return u}},d2c8:function(t,e,n){var i=n("aae3"),r=n("be13");t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(t,e,n){"use strict";var i=n("5ca1"),r=n("9def"),o=n("d2c8"),s="startsWith",a=""[s];i(i.P+i.F*n("5147")(s),"String",{startsWith:function(t){var e=o(this,t,s),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(i){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},f751:function(t,e,n){var i=n("5ca1");i(i.S+i.F,"Object",{assign:n("7333")})},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var i=n("7726").document;t.exports=i&&i.documentElement},fb15:function(t,e,n){"use strict";var i;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]));n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d");function r(t){if(Array.isArray(t))return t}function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw o}}return n}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){return r(t)||o(t,e)||a(t,e)||l()}n("6762"),n("2fdb");function c(t){if(Array.isArray(t))return s(t)}function h(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return c(t)||h(t)||a(t)||d()}var p=n("a352"),v=n.n(p),g=n("c649");function m(t,e,n){return void 0===n||(t=t||{},t[e]=n),t}function y(t,e){return t.map((function(t){return t.elm})).indexOf(e)}function _(t,e,n,i){if(!t)return[];var r=t.map((function(t){return t.elm})),o=e.length-i,s=f(e).map((function(t,e){return e>=o?r.length:r.indexOf(t)}));return n?s.filter((function(t){return-1!==t})):s}function b(t,e){var n=this;this.$nextTick((function(){return n.$emit(t.toLowerCase(),e)}))}function w(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),b.call(e,t,n)}}function k(t){return["transition-group","TransitionGroup"].includes(t)}function x(t){if(!t||1!==t.length)return!1;var e=u(t,1),n=e[0].componentOptions;return!!n&&k(n.tag)}function E(t,e,n){return t[n]||(e[n]?e[n]():void 0)}function S(t,e,n){var i=0,r=0,o=E(e,n,"header");o&&(i=o.length,t=t?[].concat(f(o),f(t)):f(o));var s=E(e,n,"footer");return s&&(r=s.length,t=t?[].concat(f(t),f(s)):f(s)),{children:t,headerOffset:i,footerOffset:r}}function T(t,e){var n=null,i=function(t,e){n=m(n,t,e)},r=Object.keys(t).filter((function(t){return"id"===t||t.startsWith("data-")})).reduce((function(e,n){return e[n]=t[n],e}),{});if(i("attrs",r),!e)return n;var o=e.on,s=e.props,a=e.attrs;return i("on",o),i("props",s),Object.assign(n.attrs,a),n}var O=["Start","Add","Remove","Update","End"],C=["Choose","Unchoose","Sort","Filter","Clone"],I=["Move"].concat(O,C).map((function(t){return"on"+t})),N=null,M={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},A={name:"draggable",inheritAttrs:!1,props:M,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=x(e);var n=S(e,this.$slots,this.$scopedSlots),i=n.children,r=n.headerOffset,o=n.footerOffset;this.headerOffset=r,this.footerOffset=o;var s=T(this.$attrs,this.componentData);return t(this.getTag(),s,i)},created:function(){null!==this.list&&null!==this.value&&g["b"].error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&g["b"].warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&g["b"].warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};O.forEach((function(n){e["on"+n]=w.call(t,n)})),C.forEach((function(n){e["on"+n]=b.bind(t,n)}));var n=Object.keys(this.$attrs).reduce((function(e,n){return e[Object(g["a"])(n)]=t.$attrs[n],e}),{}),i=Object.assign({},this.options,n,e,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in i)&&(i.draggable=">*"),this._sortable=new v.a(this.rootContainer,i),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var n=Object(g["a"])(e);-1===I.indexOf(n)&&this._sortable.option(n,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick((function(){t.visibleIndexes=_(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)}))},getUnderlyingVm:function(t){var e=y(this.getChildrenNodes()||[],t);if(-1===e)return null;var n=this.realList[e];return{index:e,element:n}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&k(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},alterList:function(t){if(this.list)t(this.list);else{var e=f(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,f(t))};this.alterList(e)},updatePosition:function(t,e){var n=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,i=this.getUnderlyingPotencialDraggableComponent(e);if(!i)return{component:i};var r=i.realList,o={list:r,component:i};if(e!==n&&r&&i.getUnderlyingVm){var s=i.getUnderlyingVm(n);if(s)return Object.assign(s,o)}return o},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){var e=this.getChildrenNodes();e[t].data=null;var n=this.getComponent();n.children=[],n.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),N=t.item},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){Object(g["d"])(t.item);var n=this.getVmIndex(t.newIndex);this.spliceList(n,0,e),this.computeIndexes();var i={element:e,newIndex:n};this.emitChanges({added:i})}},onDragRemove:function(t){if(Object(g["c"])(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})}else Object(g["d"])(t.clone)},onDragUpdate:function(t){Object(g["d"])(t.item),Object(g["c"])(t.from,t.item,t.oldIndex);var e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);var i={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:i})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=f(e.to.children).filter((function(t){return"none"!==t.style["display"]})),i=n.indexOf(e.related),r=t.component.getVmIndex(i),o=-1!==n.indexOf(N);return o||!e.willInsertAfter?r:r+1},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var i=this.getRelatedContextFromMoveEvent(t),r=this.context,o=this.computeFutureIndex(i,t);Object.assign(r,{futureIndex:o});var s=Object.assign({},t,{relatedContext:i,draggedContext:r});return n(s,e)},onDragEnd:function(){this.computeIndexes(),N=null}}};"undefined"!==typeof window&&"Vue"in window&&window.Vue.component("draggable",A);var D=A;e["default"]=D}})["default"]}))},9306:(t,e,n)=>{"use strict";var i=n(4901),r=n(6823),o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not a function")}},5548:(t,e,n)=>{"use strict";var i=n(3517),r=n(6823),o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not a constructor")}},3506:(t,e,n)=>{"use strict";var i=n(3925),r=String,o=TypeError;t.exports=function(t){if(i(t))return t;throw new o("Can't set "+r(t)+" as a prototype")}},7080:(t,e,n)=>{"use strict";var i=n(4402).has;t.exports=function(t){return i(t),t}},6469:(t,e,n)=>{"use strict";var i=n(8227),r=n(9979),o=n(4913).f,s=i("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},7829:(t,e,n)=>{"use strict";var i=n(8183).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},679:(t,e,n)=>{"use strict";var i=n(1625),r=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new r("Incorrect invocation")}},8551:(t,e,n)=>{"use strict";var i=n(34),r=String,o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not an object")}},7811:t=>{"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:(t,e,n)=>{"use strict";var i=n(6706),r=n(4576),o=TypeError;t.exports=i(ArrayBuffer.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==r(t))throw new o("ArrayBuffer expected");return t.byteLength}},3238:(t,e,n)=>{"use strict";var i=n(9504),r=n(7394),o=i(ArrayBuffer.prototype.slice);t.exports=function(t){if(0!==r(t))return!1;try{return o(t,0,0),!1}catch(e){return!0}}},5636:(t,e,n)=>{"use strict";var i=n(4475),r=n(9504),o=n(6706),s=n(7696),a=n(3238),l=n(7394),u=n(4483),c=n(1548),h=i.structuredClone,d=i.ArrayBuffer,f=i.DataView,p=i.TypeError,v=Math.min,g=d.prototype,m=f.prototype,y=r(g.slice),_=o(g,"resizable","get"),b=o(g,"maxByteLength","get"),w=r(m.getInt8),k=r(m.setInt8);t.exports=(c||u)&&function(t,e,n){var i,r=l(t),o=void 0===e?r:s(e),g=!_||!_(t);if(a(t))throw new p("ArrayBuffer is detached");if(c&&(t=h(t,{transfer:[t]}),r===o&&(n||g)))return t;if(r>=o&&(!n||g))i=y(t,0,o);else{var m=n&&!g&&b?{maxByteLength:b(t)}:void 0;i=new d(o,m);for(var x=new f(t),E=new f(i),S=v(o,r),T=0;T<S;T++)k(E,T,w(x,T))}return c||u(t),i}},4644:(t,e,n)=>{"use strict";var i,r,o,s=n(7811),a=n(3724),l=n(4475),u=n(4901),c=n(34),h=n(9297),d=n(6955),f=n(6823),p=n(6699),v=n(6840),g=n(2106),m=n(1625),y=n(2787),_=n(2967),b=n(8227),w=n(3392),k=n(1181),x=k.enforce,E=k.get,S=l.Int8Array,T=S&&S.prototype,O=l.Uint8ClampedArray,C=O&&O.prototype,I=S&&y(S),N=T&&y(T),M=Object.prototype,A=l.TypeError,D=b("toStringTag"),P=w("TYPED_ARRAY_TAG"),R="TypedArrayConstructor",L=s&&!!_&&"Opera"!==d(l.opera),F=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},z={BigInt64Array:8,BigUint64Array:8},B=function(t){if(!c(t))return!1;var e=d(t);return"DataView"===e||h(j,e)||h(z,e)},U=function(t){var e=y(t);if(c(e)){var n=E(e);return n&&h(n,R)?n[R]:U(e)}},H=function(t){if(!c(t))return!1;var e=d(t);return h(j,e)||h(z,e)},W=function(t){if(H(t))return t;throw new A("Target is not a typed array")},Y=function(t){if(u(t)&&(!_||m(I,t)))return t;throw new A(f(t)+" is not a typed array constructor")},V=function(t,e,n,i){if(a){if(n)for(var r in j){var o=l[r];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(s){try{o.prototype[t]=e}catch(u){}}}N[t]&&!n||v(N,t,n?e:L&&T[t]||e,i)}},G=function(t,e,n){var i,r;if(a){if(_){if(n)for(i in j)if(r=l[i],r&&h(r,t))try{delete r[t]}catch(o){}if(I[t]&&!n)return;try{return v(I,t,n?e:L&&I[t]||e)}catch(o){}}for(i in j)r=l[i],!r||r[t]&&!n||v(r,t,e)}};for(i in j)r=l[i],o=r&&r.prototype,o?x(o)[R]=r:L=!1;for(i in z)r=l[i],o=r&&r.prototype,o&&(x(o)[R]=r);if((!L||!u(I)||I===Function.prototype)&&(I=function(){throw new A("Incorrect invocation")},L))for(i in j)l[i]&&_(l[i],I);if((!L||!N||N===M)&&(N=I.prototype,L))for(i in j)l[i]&&_(l[i].prototype,N);if(L&&y(C)!==N&&_(C,N),a&&!h(N,D))for(i in F=!0,g(N,D,{configurable:!0,get:function(){return c(this)?this[P]:void 0}}),j)l[i]&&p(l[i],P,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:F&&P,aTypedArray:W,aTypedArrayConstructor:Y,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:G,getTypedArrayConstructor:U,isView:B,isTypedArray:H,TypedArray:I,TypedArrayPrototype:N}},6346:(t,e,n)=>{"use strict";var i=n(4475),r=n(9504),o=n(3724),s=n(7811),a=n(350),l=n(6699),u=n(2106),c=n(6279),h=n(9039),d=n(679),f=n(1291),p=n(8014),v=n(7696),g=n(5617),m=n(8490),y=n(2787),_=n(2967),b=n(4373),w=n(7680),k=n(3167),x=n(7740),E=n(687),S=n(1181),T=a.PROPER,O=a.CONFIGURABLE,C="ArrayBuffer",I="DataView",N="prototype",M="Wrong length",A="Wrong index",D=S.getterFor(C),P=S.getterFor(I),R=S.set,L=i[C],F=L,j=F&&F[N],z=i[I],B=z&&z[N],U=Object.prototype,H=i.Array,W=i.RangeError,Y=r(b),V=r([].reverse),G=m.pack,$=m.unpack,q=function(t){return[255&t]},K=function(t){return[255&t,t>>8&255]},Z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},X=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Q=function(t){return G(g(t),23,4)},J=function(t){return G(t,52,8)},tt=function(t,e,n){u(t[N],e,{configurable:!0,get:function(){return n(this)[e]}})},et=function(t,e,n,i){var r=P(t),o=v(n),s=!!i;if(o+e>r.byteLength)throw new W(A);var a=r.bytes,l=o+r.byteOffset,u=w(a,l,l+e);return s?u:V(u)},nt=function(t,e,n,i,r,o){var s=P(t),a=v(n),l=i(+r),u=!!o;if(a+e>s.byteLength)throw new W(A);for(var c=s.bytes,h=a+s.byteOffset,d=0;d<e;d++)c[h+d]=l[u?d:e-d-1]};if(s){var it=T&&L.name!==C;h((function(){L(1)}))&&h((function(){new L(-1)}))&&!h((function(){return new L,new L(1.5),new L(NaN),1!==L.length||it&&!O}))?it&&O&&l(L,"name",C):(F=function(t){return d(this,j),k(new L(v(t)),this,F)},F[N]=j,j.constructor=F,x(F,L)),_&&y(B)!==U&&_(B,U);var rt=new z(new F(2)),ot=r(B.setInt8);rt.setInt8(0,2147483648),rt.setInt8(1,2147483649),!rt.getInt8(0)&&rt.getInt8(1)||c(B,{setInt8:function(t,e){ot(this,t,e<<24>>24)},setUint8:function(t,e){ot(this,t,e<<24>>24)}},{unsafe:!0})}else F=function(t){d(this,j);var e=v(t);R(this,{type:C,bytes:Y(H(e),0),byteLength:e}),o||(this.byteLength=e,this.detached=!1)},j=F[N],z=function(t,e,n){d(this,B),d(t,j);var i=D(t),r=i.byteLength,s=f(e);if(s<0||s>r)throw new W("Wrong offset");if(n=void 0===n?r-s:p(n),s+n>r)throw new W(M);R(this,{type:I,buffer:t,byteLength:n,byteOffset:s,bytes:i.bytes}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=s)},B=z[N],o&&(tt(F,"byteLength",D),tt(z,"buffer",P),tt(z,"byteLength",P),tt(z,"byteOffset",P)),c(B,{getInt8:function(t){return et(this,1,t)[0]<<24>>24},getUint8:function(t){return et(this,1,t)[0]},getInt16:function(t){var e=et(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=et(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return X(et(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return X(et(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return $(et(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return $(et(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){nt(this,1,t,q,e)},setUint8:function(t,e){nt(this,1,t,q,e)},setInt16:function(t,e){nt(this,2,t,K,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){nt(this,2,t,K,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){nt(this,4,t,Z,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){nt(this,4,t,Z,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){nt(this,4,t,Q,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){nt(this,8,t,J,e,arguments.length>2&&arguments[2])}});E(F,C),E(z,I),t.exports={ArrayBuffer:F,DataView:z}},4373:(t,e,n)=>{"use strict";var i=n(8981),r=n(5610),o=n(6198);t.exports=function(t){var e=i(this),n=o(e),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);while(u>a)e[a++]=t;return e}},5370:(t,e,n)=>{"use strict";var i=n(6198);t.exports=function(t,e,n){var r=0,o=arguments.length>2?n:i(e),s=new t(o);while(o>r)s[r]=e[r++];return s}},9617:(t,e,n)=>{"use strict";var i=n(5397),r=n(5610),o=n(6198),s=function(t){return function(e,n,s){var a=i(e),l=o(a);if(0===l)return!t&&-1;var u,c=r(s,l);if(t&&n!==n){while(l>c)if(u=a[c++],u!==u)return!0}else for(;l>c;c++)if((t||c in a)&&a[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},3839:(t,e,n)=>{"use strict";var i=n(6080),r=n(7055),o=n(8981),s=n(6198),a=function(t){var e=1===t;return function(n,a,l){var u,c,h=o(n),d=r(h),f=s(d),p=i(a,l);while(f-- >0)if(u=d[f],c=p(u,f,h),c)switch(t){case 0:return u;case 1:return f}return e?-1:void 0}};t.exports={findLast:a(0),findLastIndex:a(1)}},9213:(t,e,n)=>{"use strict";var i=n(6080),r=n(9504),o=n(7055),s=n(8981),a=n(6198),l=n(1469),u=r([].push),c=function(t){var e=1===t,n=2===t,r=3===t,c=4===t,h=6===t,d=7===t,f=5===t||h;return function(p,v,g,m){for(var y,_,b=s(p),w=o(b),k=a(w),x=i(v,g),E=0,S=m||l,T=e?S(p,k):n||d?S(p,0):void 0;k>E;E++)if((f||E in w)&&(y=w[E],_=x(y,E,b),t))if(e)T[E]=_;else if(_)switch(t){case 3:return!0;case 5:return y;case 6:return E;case 2:u(T,y)}else switch(t){case 4:return!1;case 7:u(T,y)}return h?-1:r||c?c:T}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},4598:(t,e,n)=>{"use strict";var i=n(9039);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){return 1},1)}))}},926:(t,e,n)=>{"use strict";var i=n(9306),r=n(8981),o=n(7055),s=n(6198),a=TypeError,l="Reduce of empty array with no initial value",u=function(t){return function(e,n,u,c){var h=r(e),d=o(h),f=s(h);if(i(n),0===f&&u<2)throw new a(l);var p=t?f-1:0,v=t?-1:1;if(u<2)while(1){if(p in d){c=d[p],p+=v;break}if(p+=v,t?p<0:f<=p)throw new a(l)}for(;t?p>=0:f>p;p+=v)p in d&&(c=n(c,d[p],p,h));return c}};t.exports={left:u(!1),right:u(!0)}},4527:(t,e,n)=>{"use strict";var i=n(3724),r=n(4376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7680:(t,e,n)=>{"use strict";var i=n(9504);t.exports=i([].slice)},4488:(t,e,n)=>{"use strict";var i=n(7680),r=Math.floor,o=function(t,e){var n=t.length;if(n<8){var s,a,l=1;while(l<n){a=l,s=t[l];while(a&&e(t[a-1],s)>0)t[a]=t[--a];a!==l++&&(t[a]=s)}}else{var u=r(n/2),c=o(i(t,0,u),e),h=o(i(t,u),e),d=c.length,f=h.length,p=0,v=0;while(p<d||v<f)t[p+v]=p<d&&v<f?e(c[p],h[v])<=0?c[p++]:h[v++]:p<d?c[p++]:h[v++]}return t};t.exports=o},9814:(t,e,n)=>{"use strict";var i=n(4376),r=n(3517),o=n(34),s=n(8227),a=s("species"),l=Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,r(e)&&(e===l||i(e.prototype))?e=void 0:o(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?l:e}},1469:(t,e,n)=>{"use strict";var i=n(9814);t.exports=function(t,e){return new(i(t))(0===e?0:e)}},7628:(t,e,n)=>{"use strict";var i=n(6198);t.exports=function(t,e){for(var n=i(t),r=new e(n),o=0;o<n;o++)r[o]=t[n-o-1];return r}},9928:(t,e,n)=>{"use strict";var i=n(6198),r=n(1291),o=RangeError;t.exports=function(t,e,n,s){var a=i(t),l=r(n),u=l<0?a+l:l;if(u>=a||u<0)throw new o("Incorrect index");for(var c=new e(a),h=0;h<a;h++)c[h]=h===u?s:t[h];return c}},4428:(t,e,n)=>{"use strict";var i=n(8227),r=i("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}t.exports=function(t,e){try{if(!e&&!o)return!1}catch(l){return!1}var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(l){}return n}},4576:(t,e,n)=>{"use strict";var i=n(9504),r=i({}.toString),o=i("".slice);t.exports=function(t){return o(r(t),8,-1)}},6955:(t,e,n)=>{"use strict";var i=n(2140),r=n(4901),o=n(4576),s=n(8227),a=s("toStringTag"),l=Object,u="Arguments"===o(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=i?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=l(t),a))?n:u?o(e):"Object"===(i=o(e))&&r(e.callee)?"Arguments":i}},7740:(t,e,n)=>{"use strict";var i=n(9297),r=n(5031),o=n(7347),s=n(4913);t.exports=function(t,e,n){for(var a=r(e),l=s.f,u=o.f,c=0;c<a.length;c++){var h=a[c];i(t,h)||n&&i(n,h)||l(t,h,u(e,h))}}},2211:(t,e,n)=>{"use strict";var i=n(9039);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2529:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},6699:(t,e,n)=>{"use strict";var i=n(3724),r=n(4913),o=n(6980);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6980:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2278:(t,e,n)=>{"use strict";var i=n(3724),r=n(4913),o=n(6980);t.exports=function(t,e,n){i?r.f(t,e,o(0,n)):t[e]=n}},2106:(t,e,n)=>{"use strict";var i=n(283),r=n(4913);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},6840:(t,e,n)=>{"use strict";var i=n(4901),r=n(4913),o=n(283),s=n(9433);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:e;if(i(n)&&o(n,u,a),a.global)l?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(c){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6279:(t,e,n)=>{"use strict";var i=n(6840);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},9433:(t,e,n)=>{"use strict";var i=n(4475),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},4606:(t,e,n)=>{"use strict";var i=n(6823),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw new r("Cannot delete property "+i(e)+" of "+i(t))}},3724:(t,e,n)=>{"use strict";var i=n(9039);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:(t,e,n)=>{"use strict";var i,r,o,s,a=n(4475),l=n(9714),u=n(1548),c=a.structuredClone,h=a.ArrayBuffer,d=a.MessageChannel,f=!1;if(u)f=function(t){c(t,{transfer:[t]})};else if(h)try{d||(i=l("worker_threads"),i&&(d=i.MessageChannel)),d&&(r=new d,o=new h(2),s=function(t){r.port1.postMessage(null,[t])},2===o.byteLength&&(s(o),0===o.byteLength&&(f=s)))}catch(p){}t.exports=f},4055:(t,e,n)=>{"use strict";var i=n(4475),r=n(34),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},6837:t=>{"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},5002:t=>{"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7400:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:(t,e,n)=>{"use strict";var i=n(4055),r=i("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},8834:(t,e,n)=>{"use strict";var i=n(9392),r=i.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},7290:(t,e,n)=>{"use strict";var i=n(516),r=n(9088);t.exports=!i&&!r&&"object"==typeof window&&"object"==typeof document},516:t=>{"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},3202:(t,e,n)=>{"use strict";var i=n(9392);t.exports=/MSIE|Trident/.test(i)},9088:(t,e,n)=>{"use strict";var i=n(4475),r=n(4576);t.exports="process"===r(i.process)},9392:t=>{"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:(t,e,n)=>{"use strict";var i,r,o=n(4475),s=n(9392),a=o.process,l=o.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(i=c.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),t.exports=r},9160:(t,e,n)=>{"use strict";var i=n(9392),r=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},8727:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:(t,e,n)=>{"use strict";var i=n(9504),r=Error,o=i("".replace),s=function(t){return String(new r(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);t.exports=function(t,e){if(l&&"string"==typeof t&&!r.prepareStackTrace)while(e--)t=o(t,a,"");return t}},747:(t,e,n)=>{"use strict";var i=n(6699),r=n(6193),o=n(4659),s=Error.captureStackTrace;t.exports=function(t,e,n,a){o&&(s?s(t,e):i(t,"stack",r(n,a)))}},4659:(t,e,n)=>{"use strict";var i=n(9039),r=n(6980);t.exports=!i((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},6518:(t,e,n)=>{"use strict";var i=n(4475),r=n(7347).f,o=n(6699),s=n(6840),a=n(9433),l=n(7740),u=n(2796);t.exports=function(t,e){var n,c,h,d,f,p,v=t.target,g=t.global,m=t.stat;if(c=g?i:m?i[v]||a(v,{}):i[v]&&i[v].prototype,c)for(h in e){if(f=e[h],t.dontCallGetSet?(p=r(c,h),d=p&&p.value):d=c[h],n=u(g?h:v+(m?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(t.sham||d&&d.sham)&&o(f,"sham",!0),s(c,h,f,t)}}},9039:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},9228:(t,e,n)=>{"use strict";n(7495);var i=n(9565),r=n(6840),o=n(7323),s=n(9039),a=n(8227),l=n(6699),u=a("species"),c=RegExp.prototype;t.exports=function(t,e,n,h){var d=a(t),f=!s((function(){var e={};return e[d]=function(){return 7},7!==""[t](e)})),p=f&&!s((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!f||!p||n){var v=/./[d],g=e(d,""[t],(function(t,e,n,r,s){var a=e.exec;return a===o||a===c.exec?f&&!s?{done:!0,value:i(v,e,n,r)}:{done:!0,value:i(t,n,e,r)}:{done:!1}}));r(String.prototype,t,g[0]),r(c,d,g[1])}h&&l(c[d],"sham",!0)}},8745:(t,e,n)=>{"use strict";var i=n(616),r=Function.prototype,o=r.apply,s=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(o):function(){return s.apply(o,arguments)})},6080:(t,e,n)=>{"use strict";var i=n(7476),r=n(9306),o=n(616),s=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},616:(t,e,n)=>{"use strict";var i=n(9039);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:(t,e,n)=>{"use strict";var i=n(616),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},350:(t,e,n)=>{"use strict";var i=n(3724),r=n(9297),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&"something"===function(){}.name,u=a&&(!i||i&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},6706:(t,e,n)=>{"use strict";var i=n(9504),r=n(9306);t.exports=function(t,e,n){try{return i(r(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(o){}}},7476:(t,e,n)=>{"use strict";var i=n(4576),r=n(9504);t.exports=function(t){if("Function"===i(t))return r(t)}},9504:(t,e,n)=>{"use strict";var i=n(616),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);t.exports=i?s:function(t){return function(){return o.apply(t,arguments)}}},4124:(t,e,n)=>{"use strict";var i=n(4475);t.exports=function(t,e){var n=i[t],r=n&&n.prototype;return r&&r[e]}},7751:(t,e,n)=>{"use strict";var i=n(4475),r=n(4901),o=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t]):i[t]&&i[t][e]}},1767:t=>{"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},851:(t,e,n)=>{"use strict";var i=n(6955),r=n(5966),o=n(4117),s=n(6269),a=n(8227),l=a("iterator");t.exports=function(t){if(!o(t))return r(t,l)||r(t,"@@iterator")||s[i(t)]}},81:(t,e,n)=>{"use strict";var i=n(9565),r=n(9306),o=n(8551),s=n(6823),a=n(851),l=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(r(n))return o(i(n,t));throw new l(s(t)+" is not iterable")}},5966:(t,e,n)=>{"use strict";var i=n(9306),r=n(4117);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},3789:(t,e,n)=>{"use strict";var i=n(9306),r=n(8551),o=n(9565),s=n(1291),a=n(1767),l="Invalid size",u=RangeError,c=TypeError,h=Math.max,d=function(t,e){this.set=t,this.size=h(e,0),this.has=i(t.has),this.keys=i(t.keys)};d.prototype={getIterator:function(){return a(r(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){r(t);var e=+t.size;if(e!==e)throw new c(l);var n=s(e);if(n<0)throw new u(l);return new d(t,n)}},2478:(t,e,n)=>{"use strict";var i=n(9504),r=n(8981),o=Math.floor,s=i("".charAt),a=i("".replace),l=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,i,h,d){var f=n+t.length,p=i.length,v=c;return void 0!==h&&(h=r(h),v=u),a(d,v,(function(r,a){var u;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,n);case"'":return l(e,f);case"<":u=h[l(a,1,-1)];break;default:var c=+a;if(0===c)return r;if(c>p){var d=o(c/10);return 0===d?r:d<=p?void 0===i[d-1]?s(a,1):i[d-1]+s(a,1):r}u=i[c-1]}return void 0===u?"":u}))}},4475:function(t,e,n){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(t,e,n)=>{"use strict";var i=n(9504),r=n(8981),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},421:t=>{"use strict";t.exports={}},397:(t,e,n)=>{"use strict";var i=n(7751);t.exports=i("document","documentElement")},5917:(t,e,n)=>{"use strict";var i=n(3724),r=n(9039),o=n(4055);t.exports=!i&&!r((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8490:t=>{"use strict";var e=Array,n=Math.abs,i=Math.pow,r=Math.floor,o=Math.log,s=Math.LN2,a=function(t,a,l){var u,c,h,d=e(l),f=8*l-a-1,p=(1<<f)-1,v=p>>1,g=23===a?i(2,-24)-i(2,-77):0,m=t<0||0===t&&1/t<0?1:0,y=0;t=n(t),t!==t||t===1/0?(c=t!==t?1:0,u=p):(u=r(o(t)/s),h=i(2,-u),t*h<1&&(u--,h*=2),t+=u+v>=1?g/h:g*i(2,1-v),t*h>=2&&(u++,h/=2),u+v>=p?(c=0,u=p):u+v>=1?(c=(t*h-1)*i(2,a),u+=v):(c=t*i(2,v-1)*i(2,a),u=0));while(a>=8)d[y++]=255&c,c/=256,a-=8;u=u<<a|c,f+=a;while(f>0)d[y++]=255&u,u/=256,f-=8;return d[--y]|=128*m,d},l=function(t,e){var n,r=t.length,o=8*r-e-1,s=(1<<o)-1,a=s>>1,l=o-7,u=r-1,c=t[u--],h=127&c;c>>=7;while(l>0)h=256*h+t[u--],l-=8;n=h&(1<<-l)-1,h>>=-l,l+=e;while(l>0)n=256*n+t[u--],l-=8;if(0===h)h=1-a;else{if(h===s)return n?NaN:c?-1/0:1/0;n+=i(2,e),h-=a}return(c?-1:1)*n*i(2,h-e)};t.exports={pack:a,unpack:l}},7055:(t,e,n)=>{"use strict";var i=n(9504),r=n(9039),o=n(4576),s=Object,a=i("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},3167:(t,e,n)=>{"use strict";var i=n(4901),r=n(34),o=n(2967);t.exports=function(t,e,n){var s,a;return o&&i(s=e.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&o(t,a),t}},3706:(t,e,n)=>{"use strict";var i=n(9504),r=n(4901),o=n(7629),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},7584:(t,e,n)=>{"use strict";var i=n(34),r=n(6699);t.exports=function(t,e){i(e)&&"cause"in e&&r(t,"cause",e.cause)}},1181:(t,e,n)=>{"use strict";var i,r,o,s=n(8622),a=n(4475),l=n(34),u=n(6699),c=n(9297),h=n(7629),d=n(6119),f=n(421),p="Object already initialized",v=a.TypeError,g=a.WeakMap,m=function(t){return o(t)?r(t):i(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}};if(s||h.state){var _=h.state||(h.state=new g);_.get=_.get,_.has=_.has,_.set=_.set,i=function(t,e){if(_.has(t))throw new v(p);return e.facade=t,_.set(t,e),e},r=function(t){return _.get(t)||{}},o=function(t){return _.has(t)}}else{var b=d("state");f[b]=!0,i=function(t,e){if(c(t,b))throw new v(p);return e.facade=t,u(t,b,e),e},r=function(t){return c(t,b)?t[b]:{}},o=function(t){return c(t,b)}}t.exports={set:i,get:r,has:o,enforce:m,getterFor:y}},4209:(t,e,n)=>{"use strict";var i=n(8227),r=n(6269),o=i("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},4376:(t,e,n)=>{"use strict";var i=n(4576);t.exports=Array.isArray||function(t){return"Array"===i(t)}},1108:(t,e,n)=>{"use strict";var i=n(6955);t.exports=function(t){var e=i(t);return"BigInt64Array"===e||"BigUint64Array"===e}},4901:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},3517:(t,e,n)=>{"use strict";var i=n(9504),r=n(9039),o=n(4901),s=n(6955),a=n(7751),l=n(3706),u=function(){},c=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=i(h.exec),f=!h.test(u),p=function(t){if(!o(t))return!1;try{return c(u,[],t),!0}catch(e){return!1}},v=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(h,l(t))}catch(e){return!0}};v.sham=!0,t.exports=!c||r((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?v:p},2796:(t,e,n)=>{"use strict";var i=n(9039),r=n(4901),o=/#|\.prototype\./,s=function(t,e){var n=l[a(t)];return n===c||n!==u&&(r(e)?i(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";t.exports=s},2087:(t,e,n)=>{"use strict";var i=n(34),r=Math.floor;t.exports=Number.isInteger||function(t){return!i(t)&&isFinite(t)&&r(t)===t}},4117:t=>{"use strict";t.exports=function(t){return null===t||void 0===t}},34:(t,e,n)=>{"use strict";var i=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},3925:(t,e,n)=>{"use strict";var i=n(34);t.exports=function(t){return i(t)||null===t}},6395:t=>{"use strict";t.exports=!1},788:(t,e,n)=>{"use strict";var i=n(34),r=n(4576),o=n(8227),s=o("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"===r(t))}},757:(t,e,n)=>{"use strict";var i=n(7751),r=n(4901),o=n(1625),s=n(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&o(e.prototype,a(t))}},507:(t,e,n)=>{"use strict";var i=n(9565);t.exports=function(t,e,n){var r,o,s=n?t:t.iterator,a=t.next;while(!(r=i(a,s)).done)if(o=e(r.value),void 0!==o)return o}},2652:(t,e,n)=>{"use strict";var i=n(6080),r=n(9565),o=n(8551),s=n(6823),a=n(4209),l=n(6198),u=n(1625),c=n(81),h=n(851),d=n(9539),f=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var g,m,y,_,b,w,k,x=n&&n.that,E=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),C=i(e,x),I=function(t){return g&&d(g,"normal",t),new p(!0,t)},N=function(t){return E?(o(t),O?C(t[0],t[1],I):C(t[0],t[1])):O?C(t,I):C(t)};if(S)g=t.iterator;else if(T)g=t;else{if(m=h(t),!m)throw new f(s(t)+" is not iterable");if(a(m)){for(y=0,_=l(t);_>y;y++)if(b=N(t[y]),b&&u(v,b))return b;return new p(!1)}g=c(t,m)}w=S?t.next:g.next;while(!(k=r(w,g)).done){try{b=N(k.value)}catch(M){d(g,"throw",M)}if("object"==typeof b&&b&&u(v,b))return b}return new p(!1)}},9539:(t,e,n)=>{"use strict";var i=n(9565),r=n(8551),o=n(5966);t.exports=function(t,e,n){var s,a;r(t);try{if(s=o(t,"return"),!s){if("throw"===e)throw n;return n}s=i(s,t)}catch(l){a=!0,s=l}if("throw"===e)throw n;if(a)throw s;return r(s),n}},3994:(t,e,n)=>{"use strict";var i=n(7657).IteratorPrototype,r=n(9979),o=n(6980),s=n(687),a=n(6269),l=function(){return this};t.exports=function(t,e,n,u){var c=e+" Iterator";return t.prototype=r(i,{next:o(+!u,n)}),s(t,c,!1,!0),a[c]=l,t}},1088:(t,e,n)=>{"use strict";var i=n(6518),r=n(9565),o=n(6395),s=n(350),a=n(4901),l=n(3994),u=n(2787),c=n(2967),h=n(687),d=n(6699),f=n(6840),p=n(8227),v=n(6269),g=n(7657),m=s.PROPER,y=s.CONFIGURABLE,_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,w=p("iterator"),k="keys",x="values",E="entries",S=function(){return this};t.exports=function(t,e,n,s,p,g,T){l(n,e,s);var O,C,I,N=function(t){if(t===p&&R)return R;if(!b&&t&&t in D)return D[t];switch(t){case k:return function(){return new n(this,t)};case x:return function(){return new n(this,t)};case E:return function(){return new n(this,t)}}return function(){return new n(this)}},M=e+" Iterator",A=!1,D=t.prototype,P=D[w]||D["@@iterator"]||p&&D[p],R=!b&&P||N(p),L="Array"===e&&D.entries||P;if(L&&(O=u(L.call(new t)),O!==Object.prototype&&O.next&&(o||u(O)===_||(c?c(O,_):a(O[w])||f(O,w,S)),h(O,M,!0,!0),o&&(v[M]=S))),m&&p===x&&P&&P.name!==x&&(!o&&y?d(D,"name",x):(A=!0,R=function(){return r(P,this)})),p)if(C={values:N(x),keys:g?R:N(k),entries:N(E)},T)for(I in C)(b||A||!(I in D))&&f(D,I,C[I]);else i({target:e,proto:!0,forced:b||A},C);return o&&!T||D[w]===R||f(D,w,R,{name:p}),v[e]=R,C}},7657:(t,e,n)=>{"use strict";var i,r,o,s=n(9039),a=n(4901),l=n(34),u=n(9979),c=n(2787),h=n(6840),d=n(8227),f=n(6395),p=d("iterator"),v=!1;[].keys&&(o=[].keys(),"next"in o?(r=c(c(o)),r!==Object.prototype&&(i=r)):v=!0);var g=!l(i)||s((function(){var t={};return i[p].call(t)!==t}));g?i={}:f&&(i=u(i)),a(i[p])||h(i,p,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},6269:t=>{"use strict";t.exports={}},6198:(t,e,n)=>{"use strict";var i=n(8014);t.exports=function(t){return i(t.length)}},283:(t,e,n)=>{"use strict";var i=n(9504),r=n(9039),o=n(4901),s=n(9297),a=n(3724),l=n(350).CONFIGURABLE,u=n(3706),c=n(1181),h=c.enforce,d=c.get,f=String,p=Object.defineProperty,v=i("".slice),g=i("".replace),m=i([].join),y=a&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=t.exports=function(t,e,n){"Symbol("===v(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||l&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&s(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=h(t);return s(i,"source")||(i.source=m(_,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return o(this)&&d(this).source||u(this)}),"toString")},2248:(t,e,n)=>{"use strict";var i=n(9504),r=Map.prototype;t.exports={Map,set:i(r.set),get:i(r.get),has:i(r.has),remove:i(r["delete"]),proto:r}},3164:(t,e,n)=>{"use strict";var i=n(7782),r=Math.abs,o=2220446049250313e-31,s=1/o,a=function(t){return t+s-s};t.exports=function(t,e,n,s){var l=+t,u=r(l),c=i(l);if(u<s)return c*a(u/s/e)*s*e;var h=(1+e/o)*u,d=h-(h-u);return d>n||d!==d?c*(1/0):c*d}},5617:(t,e,n)=>{"use strict";var i=n(3164),r=1.1920928955078125e-7,o=34028234663852886e22,s=11754943508222875e-54;t.exports=Math.fround||function(t){return i(t,r,o,s)}},7782:t=>{"use strict";t.exports=Math.sign||function(t){var e=+t;return 0===e||e!==e?e:e<0?-1:1}},741:t=>{"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},6043:(t,e,n)=>{"use strict";var i=n(9306),r=TypeError,o=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw new r("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new o(t)}},2603:(t,e,n)=>{"use strict";var i=n(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},9979:(t,e,n)=>{"use strict";var i,r=n(8551),o=n(6801),s=n(8727),a=n(421),l=n(397),u=n(4055),c=n(6119),h=">",d="<",f="prototype",p="script",v=c("IE_PROTO"),g=function(){},m=function(t){return d+p+h+t+d+"/"+p+h},y=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=u("iframe"),n="java"+p+":";return e.style.display="none",l.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(m("document.F=Object")),t.close(),t.F},b=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}b="undefined"!=typeof document?document.domain&&i?y(i):_():y(i);var t=s.length;while(t--)delete b[f][s[t]];return b()};a[v]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[f]=r(t),n=new g,g[f]=null,n[v]=t):n=b(),void 0===e?n:o.f(n,e)}},6801:(t,e,n)=>{"use strict";var i=n(3724),r=n(8686),o=n(4913),s=n(8551),a=n(5397),l=n(1072);e.f=i&&!r?Object.defineProperties:function(t,e){s(t);var n,i=a(e),r=l(e),u=r.length,c=0;while(u>c)o.f(t,n=r[c++],i[n]);return t}},4913:(t,e,n)=>{"use strict";var i=n(3724),r=n(5917),o=n(8686),s=n(8551),a=n(6969),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";e.f=i?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var i=c(t,e);i&&i[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(s(t),e=a(e),s(n),r)try{return u(t,e,n)}catch(i){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:(t,e,n)=>{"use strict";var i=n(3724),r=n(9565),o=n(8773),s=n(6980),a=n(5397),l=n(6969),u=n(9297),c=n(5917),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=l(e),c)try{return h(t,e)}catch(n){}if(u(t,e))return s(!r(o.f,t,e),t[e])}},8480:(t,e,n)=>{"use strict";var i=n(1828),r=n(8727),o=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},3717:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},2787:(t,e,n)=>{"use strict";var i=n(9297),r=n(4901),o=n(8981),s=n(6119),a=n(2211),l=s("IE_PROTO"),u=Object,c=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=o(t);if(i(e,l))return e[l];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof u?c:null}},1625:(t,e,n)=>{"use strict";var i=n(9504);t.exports=i({}.isPrototypeOf)},1828:(t,e,n)=>{"use strict";var i=n(9504),r=n(9297),o=n(5397),s=n(9617).indexOf,a=n(421),l=i([].push);t.exports=function(t,e){var n,i=o(t),u=0,c=[];for(n in i)!r(a,n)&&r(i,n)&&l(c,n);while(e.length>u)r(i,n=e[u++])&&(~s(c,n)||l(c,n));return c}},1072:(t,e,n)=>{"use strict";var i=n(1828),r=n(8727);t.exports=Object.keys||function(t){return i(t,r)}},8773:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},2967:(t,e,n)=>{"use strict";var i=n(6706),r=n(34),o=n(7750),s=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=i(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(a){}return function(n,i){return o(n),s(i),r(n)?(e?t(n,i):n.__proto__=i,n):n}}():void 0)},4270:(t,e,n)=>{"use strict";var i=n(9565),r=n(4901),o=n(34),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!o(a=i(n,t)))return a;if(r(n=t.valueOf)&&!o(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!o(a=i(n,t)))return a;throw new s("Can't convert object to primitive value")}},5031:(t,e,n)=>{"use strict";var i=n(7751),r=n(9504),o=n(8480),s=n(3717),a=n(8551),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?l(e,n(t)):e}},550:(t,e,n)=>{"use strict";var i=n(4475);t.exports=i.Promise},3438:(t,e,n)=>{"use strict";var i=n(8551),r=n(34),o=n(6043);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t),s=n.resolve;return s(e),n.promise}},1056:(t,e,n)=>{"use strict";var i=n(4913).f;t.exports=function(t,e,n){n in t||i(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},6682:(t,e,n)=>{"use strict";var i=n(9565),r=n(8551),o=n(4901),s=n(4576),a=n(7323),l=TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var u=i(n,t,e);return null!==u&&r(u),u}if("RegExp"===s(t))return i(a,t,e);throw new l("RegExp#exec called on incompatible receiver")}},7323:(t,e,n)=>{"use strict";var i=n(9565),r=n(9504),o=n(655),s=n(7979),a=n(8429),l=n(5745),u=n(9979),c=n(1181).get,h=n(3635),d=n(8814),f=l("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,v=p,g=r("".charAt),m=r("".indexOf),y=r("".replace),_=r("".slice),b=function(){var t=/a/,e=/b*/g;return i(p,t,"a"),i(p,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),w=a.BROKEN_CARET,k=void 0!==/()??/.exec("")[1],x=b||k||w||h||d;x&&(v=function(t){var e,n,r,a,l,h,d,x=this,E=c(x),S=o(t),T=E.raw;if(T)return T.lastIndex=x.lastIndex,e=i(v,T,S),x.lastIndex=T.lastIndex,e;var O=E.groups,C=w&&x.sticky,I=i(s,x),N=x.source,M=0,A=S;if(C&&(I=y(I,"y",""),-1===m(I,"g")&&(I+="g"),A=_(S,x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==g(S,x.lastIndex-1))&&(N="(?: "+N+")",A=" "+A,M++),n=new RegExp("^(?:"+N+")",I)),k&&(n=new RegExp("^"+N+"$(?!\\s)",I)),b&&(r=x.lastIndex),a=i(p,C?n:x,A),C?a?(a.input=_(a.input,M),a[0]=_(a[0],M),a.index=x.lastIndex,x.lastIndex+=a[0].length):x.lastIndex=0:b&&a&&(x.lastIndex=x.global?a.index+a[0].length:r),k&&a&&a.length>1&&i(f,a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&O)for(a.groups=h=u(null),l=0;l<O.length;l++)d=O[l],h[d[0]]=a[d[1]];return a}),t.exports=v},7979:(t,e,n)=>{"use strict";var i=n(8551);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},1034:(t,e,n)=>{"use strict";var i=n(9565),r=n(9297),o=n(1625),s=n(7979),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||r(t,"flags")||!o(a,t)?e:i(s,t)}},8429:(t,e,n)=>{"use strict";var i=n(9039),r=n(4475),o=r.RegExp,s=i((function(){var t=o("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),a=s||i((function(){return!o("a","y").sticky})),l=s||i((function(){var t=o("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:a,UNSUPPORTED_Y:s}},3635:(t,e,n)=>{"use strict";var i=n(9039),r=n(4475),o=r.RegExp;t.exports=i((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},8814:(t,e,n)=>{"use strict";var i=n(9039),r=n(4475),o=r.RegExp;t.exports=i((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},7750:(t,e,n)=>{"use strict";var i=n(4117),r=TypeError;t.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},9286:(t,e,n)=>{"use strict";var i=n(4402),r=n(8469),o=i.Set,s=i.add;t.exports=function(t){var e=new o;return r(t,(function(t){s(e,t)})),e}},3440:(t,e,n)=>{"use strict";var i=n(7080),r=n(4402),o=n(9286),s=n(5170),a=n(3789),l=n(8469),u=n(507),c=r.has,h=r.remove;t.exports=function(t){var e=i(this),n=a(t),r=o(e);return s(e)<=n.size?l(e,(function(t){n.includes(t)&&h(r,t)})):u(n.getIterator(),(function(t){c(e,t)&&h(r,t)})),r}},4402:(t,e,n)=>{"use strict";var i=n(9504),r=Set.prototype;t.exports={Set,add:i(r.add),has:i(r.has),remove:i(r["delete"]),proto:r}},8750:(t,e,n)=>{"use strict";var i=n(7080),r=n(4402),o=n(5170),s=n(3789),a=n(8469),l=n(507),u=r.Set,c=r.add,h=r.has;t.exports=function(t){var e=i(this),n=s(t),r=new u;return o(e)>n.size?l(n.getIterator(),(function(t){h(e,t)&&c(r,t)})):a(e,(function(t){n.includes(t)&&c(r,t)})),r}},4449:(t,e,n)=>{"use strict";var i=n(7080),r=n(4402).has,o=n(5170),s=n(3789),a=n(8469),l=n(507),u=n(9539);t.exports=function(t){var e=i(this),n=s(t);if(o(e)<=n.size)return!1!==a(e,(function(t){if(n.includes(t))return!1}),!0);var c=n.getIterator();return!1!==l(c,(function(t){if(r(e,t))return u(c,"normal",!1)}))}},3838:(t,e,n)=>{"use strict";var i=n(7080),r=n(5170),o=n(8469),s=n(3789);t.exports=function(t){var e=i(this),n=s(t);return!(r(e)>n.size)&&!1!==o(e,(function(t){if(!n.includes(t))return!1}),!0)}},8527:(t,e,n)=>{"use strict";var i=n(7080),r=n(4402).has,o=n(5170),s=n(3789),a=n(507),l=n(9539);t.exports=function(t){var e=i(this),n=s(t);if(o(e)<n.size)return!1;var u=n.getIterator();return!1!==a(u,(function(t){if(!r(e,t))return l(u,"normal",!1)}))}},8469:(t,e,n)=>{"use strict";var i=n(9504),r=n(507),o=n(4402),s=o.Set,a=o.proto,l=i(a.forEach),u=i(a.keys),c=u(new s).next;t.exports=function(t,e,n){return n?r({iterator:u(t),next:c},e):l(t,e)}},4916:(t,e,n)=>{"use strict";var i=n(7751),r=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=i("Set");try{(new e)[t](r(0));try{return(new e)[t](r(-1)),!1}catch(n){return!0}}catch(o){return!1}}},5170:(t,e,n)=>{"use strict";var i=n(6706),r=n(4402);t.exports=i(r.proto,"size","get")||function(t){return t.size}},7633:(t,e,n)=>{"use strict";var i=n(7751),r=n(2106),o=n(8227),s=n(3724),a=o("species");t.exports=function(t){var e=i(t);s&&e&&!e[a]&&r(e,a,{configurable:!0,get:function(){return this}})}},3650:(t,e,n)=>{"use strict";var i=n(7080),r=n(4402),o=n(9286),s=n(3789),a=n(507),l=r.add,u=r.has,c=r.remove;t.exports=function(t){var e=i(this),n=s(t).getIterator(),r=o(e);return a(n,(function(t){u(e,t)?c(r,t):l(r,t)})),r}},687:(t,e,n)=>{"use strict";var i=n(4913).f,r=n(9297),o=n(8227),s=o("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!r(t,s)&&i(t,s,{configurable:!0,value:e})}},4204:(t,e,n)=>{"use strict";var i=n(7080),r=n(4402).add,o=n(9286),s=n(3789),a=n(507);t.exports=function(t){var e=i(this),n=s(t).getIterator(),l=o(e);return a(n,(function(t){r(l,t)})),l}},6119:(t,e,n)=>{"use strict";var i=n(5745),r=n(3392),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},7629:(t,e,n)=>{"use strict";var i=n(6395),r=n(4475),o=n(9433),s="__core-js_shared__",a=t.exports=r[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.37.1",mode:i?"pure":"global",copyright:"¬© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(t,e,n)=>{"use strict";var i=n(7629);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},2293:(t,e,n)=>{"use strict";var i=n(8551),r=n(5548),o=n(4117),s=n(8227),a=s("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||o(n=i(s)[a])?e:r(n)}},8183:(t,e,n)=>{"use strict";var i=n(9504),r=n(1291),o=n(655),s=n(7750),a=i("".charAt),l=i("".charCodeAt),u=i("".slice),c=function(t){return function(e,n){var i,c,h=o(s(e)),d=r(n),f=h.length;return d<0||d>=f?t?"":void 0:(i=l(h,d),i<55296||i>56319||d+1===f||(c=l(h,d+1))<56320||c>57343?t?a(h,d):i:t?u(h,d,d+2):c-56320+(i-55296<<10)+65536)}};t.exports={codeAt:c(!1),charAt:c(!0)}},1548:(t,e,n)=>{"use strict";var i=n(4475),r=n(9039),o=n(7388),s=n(7290),a=n(516),l=n(9088),u=i.structuredClone;t.exports=!!u&&!r((function(){if(a&&o>92||l&&o>94||s&&o>97)return!1;var t=new ArrayBuffer(8),e=u(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},4495:(t,e,n)=>{"use strict";var i=n(7388),r=n(9039),o=n(4475),s=o.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},5610:(t,e,n)=>{"use strict";var i=n(1291),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},5854:(t,e,n)=>{"use strict";var i=n(2777),r=TypeError;t.exports=function(t){var e=i(t,"number");if("number"==typeof e)throw new r("Can't convert number to bigint");return BigInt(e)}},7696:(t,e,n)=>{"use strict";var i=n(1291),r=n(8014),o=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw new o("Wrong length or index");return n}},5397:(t,e,n)=>{"use strict";var i=n(7055),r=n(7750);t.exports=function(t){return i(r(t))}},1291:(t,e,n)=>{"use strict";var i=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},8014:(t,e,n)=>{"use strict";var i=n(1291),r=Math.min;t.exports=function(t){var e=i(t);return e>0?r(e,9007199254740991):0}},8981:(t,e,n)=>{"use strict";var i=n(7750),r=Object;t.exports=function(t){return r(i(t))}},8229:(t,e,n)=>{"use strict";var i=n(9590),r=RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw new r("Wrong offset");return n}},9590:(t,e,n)=>{"use strict";var i=n(1291),r=RangeError;t.exports=function(t){var e=i(t);if(e<0)throw new r("The argument can't be less than 0");return e}},2777:(t,e,n)=>{"use strict";var i=n(9565),r=n(34),o=n(757),s=n(5966),a=n(4270),l=n(8227),u=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,l=s(t,c);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:(t,e,n)=>{"use strict";var i=n(2777),r=n(757);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},2140:(t,e,n)=>{"use strict";var i=n(8227),r=i("toStringTag"),o={};o[r]="z",t.exports="[object z]"===String(o)},655:(t,e,n)=>{"use strict";var i=n(6955),r=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},8319:t=>{"use strict";var e=Math.round;t.exports=function(t){var n=e(t);return n<0?0:n>255?255:255&n}},9714:(t,e,n)=>{"use strict";var i=n(9088);t.exports=function(t){try{if(i)return Function('return require("'+t+'")')()}catch(e){}}},6823:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},5823:(t,e,n)=>{"use strict";var i=n(6518),r=n(4475),o=n(9565),s=n(3724),a=n(2805),l=n(4644),u=n(6346),c=n(679),h=n(6980),d=n(6699),f=n(2087),p=n(8014),v=n(7696),g=n(8229),m=n(8319),y=n(6969),_=n(9297),b=n(6955),w=n(34),k=n(757),x=n(9979),E=n(1625),S=n(2967),T=n(8480).f,O=n(3251),C=n(9213).forEach,I=n(7633),N=n(2106),M=n(4913),A=n(7347),D=n(5370),P=n(1181),R=n(3167),L=P.get,F=P.set,j=P.enforce,z=M.f,B=A.f,U=r.RangeError,H=u.ArrayBuffer,W=H.prototype,Y=u.DataView,V=l.NATIVE_ARRAY_BUFFER_VIEWS,G=l.TYPED_ARRAY_TAG,$=l.TypedArray,q=l.TypedArrayPrototype,K=l.isTypedArray,Z="BYTES_PER_ELEMENT",X="Wrong length",Q=function(t,e){N(t,e,{configurable:!0,get:function(){return L(this)[e]}})},J=function(t){var e;return E(W,t)||"ArrayBuffer"===(e=b(t))||"SharedArrayBuffer"===e},tt=function(t,e){return K(t)&&!k(e)&&e in t&&f(+e)&&e>=0},et=function(t,e){return e=y(e),tt(t,e)?h(2,t[e]):B(t,e)},nt=function(t,e,n){return e=y(e),!(tt(t,e)&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?z(t,e,n):(t[e]=n.value,t)};s?(V||(A.f=et,M.f=nt,Q(q,"buffer"),Q(q,"byteOffset"),Q(q,"byteLength"),Q(q,"length")),i({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:et,defineProperty:nt}),t.exports=function(t,e,n){var s=t.match(/\d+/)[0]/8,l=t+(n?"Clamped":"")+"Array",u="get"+t,h="set"+t,f=r[l],y=f,_=y&&y.prototype,b={},k=function(t,e){var n=L(t);return n.view[u](e*s+n.byteOffset,!0)},E=function(t,e,i){var r=L(t);r.view[h](e*s+r.byteOffset,n?m(i):i,!0)},N=function(t,e){z(t,e,{get:function(){return k(this,e)},set:function(t){return E(this,e,t)},enumerable:!0})};V?a&&(y=e((function(t,e,n,i){return c(t,_),R(function(){return w(e)?J(e)?void 0!==i?new f(e,g(n,s),i):void 0!==n?new f(e,g(n,s)):new f(e):K(e)?D(y,e):o(O,y,e):new f(v(e))}(),t,y)})),S&&S(y,$),C(T(f),(function(t){t in y||d(y,t,f[t])})),y.prototype=_):(y=e((function(t,e,n,i){c(t,_);var r,a,l,u=0,h=0;if(w(e)){if(!J(e))return K(e)?D(y,e):o(O,y,e);r=e,h=g(n,s);var d=e.byteLength;if(void 0===i){if(d%s)throw new U(X);if(a=d-h,a<0)throw new U(X)}else if(a=p(i)*s,a+h>d)throw new U(X);l=a/s}else l=v(e),a=l*s,r=new H(a);F(t,{buffer:r,byteOffset:h,byteLength:a,length:l,view:new Y(r)});while(u<l)N(t,u++)})),S&&S(y,$),_=y.prototype=x(q)),_.constructor!==y&&d(_,"constructor",y),j(_).TypedArrayConstructor=y,G&&d(_,G,l);var M=y!==f;b[l]=y,i({global:!0,constructor:!0,forced:M,sham:!V},b),Z in y||d(y,Z,s),Z in _||d(_,Z,s),I(l)}):t.exports=function(){}},2805:(t,e,n)=>{"use strict";var i=n(4475),r=n(9039),o=n(4428),s=n(4644).NATIVE_ARRAY_BUFFER_VIEWS,a=i.ArrayBuffer,l=i.Int8Array;t.exports=!s||!r((function(){l(1)}))||!r((function(){new l(-1)}))||!o((function(t){new l,new l(null),new l(1.5),new l(t)}),!0)||r((function(){return 1!==new l(new a(2),1,void 0).length}))},3251:(t,e,n)=>{"use strict";var i=n(6080),r=n(9565),o=n(5548),s=n(8981),a=n(6198),l=n(81),u=n(851),c=n(4209),h=n(1108),d=n(4644).aTypedArrayConstructor,f=n(5854);t.exports=function(t){var e,n,p,v,g,m,y,_,b=o(this),w=s(t),k=arguments.length,x=k>1?arguments[1]:void 0,E=void 0!==x,S=u(w);if(S&&!c(S)){y=l(w,S),_=y.next,w=[];while(!(m=r(_,y)).done)w.push(m.value)}for(E&&k>2&&(x=i(x,arguments[2])),n=a(w),p=new(d(b))(n),v=h(p),e=0;n>e;e++)g=E?x(w[e],e):w[e],p[e]=v?f(g):+g;return p}},3392:(t,e,n)=>{"use strict";var i=n(9504),r=0,o=Math.random(),s=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+o,36)}},7040:(t,e,n)=>{"use strict";var i=n(4495);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(t,e,n)=>{"use strict";var i=n(3724),r=n(9039);t.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:t=>{"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},8622:(t,e,n)=>{"use strict";var i=n(4475),r=n(4901),o=i.WeakMap;t.exports=r(o)&&/native code/.test(String(o))},8227:(t,e,n)=>{"use strict";var i=n(4475),r=n(5745),o=n(9297),s=n(3392),a=n(4495),l=n(7040),u=i.Symbol,c=r("wks"),h=l?u["for"]||u:u&&u.withoutSetter||s;t.exports=function(t){return o(c,t)||(c[t]=a&&o(u,t)?u[t]:h("Symbol."+t)),c[t]}},4601:(t,e,n)=>{"use strict";var i=n(7751),r=n(9297),o=n(6699),s=n(1625),a=n(2967),l=n(7740),u=n(1056),c=n(3167),h=n(2603),d=n(7584),f=n(747),p=n(3724),v=n(6395);t.exports=function(t,e,n,g){var m="stackTraceLimit",y=g?2:1,_=t.split("."),b=_[_.length-1],w=i.apply(null,_);if(w){var k=w.prototype;if(!v&&r(k,"cause")&&delete k.cause,!n)return w;var x=i("Error"),E=e((function(t,e){var n=h(g?e:t,void 0),i=g?new w(t):new w;return void 0!==n&&o(i,"message",n),f(i,E,i.stack,2),this&&s(k,this)&&c(i,this,E),arguments.length>y&&d(i,arguments[y]),i}));if(E.prototype=k,"Error"!==b?a?a(E,x):l(E,x,{name:!0}):p&&m in w&&(u(E,w,m),u(E,w,"prepareStackTrace")),l(E,w),!v)try{k.name!==b&&o(k,"name",b),k.constructor=E}catch(S){}return E}}},6573:(t,e,n)=>{"use strict";var i=n(3724),r=n(2106),o=n(3238),s=ArrayBuffer.prototype;i&&!("detached"in s)&&r(s,"detached",{configurable:!0,get:function(){return o(this)}})},7936:(t,e,n)=>{"use strict";var i=n(6518),r=n(5636);r&&i({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return r(this,arguments.length?arguments[0]:void 0,!1)}})},8100:(t,e,n)=>{"use strict";var i=n(6518),r=n(5636);r&&i({target:"ArrayBuffer",proto:!0},{transfer:function(){return r(this,arguments.length?arguments[0]:void 0,!0)}})},3792:(t,e,n)=>{"use strict";var i=n(5397),r=n(6469),o=n(6269),s=n(1181),a=n(4913).f,l=n(1088),u=n(2529),c=n(6395),h=n(3724),d="Array Iterator",f=s.set,p=s.getterFor(d);t.exports=l(Array,"Array",(function(t,e){f(this,{type:d,target:i(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,u(void 0,!0);switch(t.kind){case"keys":return u(n,!1);case"values":return u(e[n],!1)}return u([n,e[n]],!1)}),"values");var v=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!c&&h&&"values"!==v.name)try{a(v,"name",{value:"values"})}catch(g){}},4114:(t,e,n)=>{"use strict";var i=n(6518),r=n(8981),o=n(6198),s=n(4527),a=n(6837),l=n(9039),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=u||!c();i({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=r(this),n=o(e),i=arguments.length;a(n+i);for(var l=0;l<i;l++)e[n]=arguments[l],n++;return s(e,n),n}})},8863:(t,e,n)=>{"use strict";var i=n(6518),r=n(926).right,o=n(4598),s=n(7388),a=n(9088),l=!a&&s>79&&s<83,u=l||!o("reduceRight");i({target:"Array",proto:!0,forced:u},{reduceRight:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},2712:(t,e,n)=>{"use strict";var i=n(6518),r=n(926).left,o=n(4598),s=n(7388),a=n(9088),l=!a&&s>79&&s<83,u=l||!o("reduce");i({target:"Array",proto:!0,forced:u},{reduce:function(t){var e=arguments.length;return r(this,t,e,e>1?arguments[1]:void 0)}})},7145:(t,e,n)=>{"use strict";var i=n(6518),r=n(9504),o=n(9306),s=n(5397),a=n(5370),l=n(4124),u=n(6469),c=Array,h=r(l("Array","sort"));i({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&o(t);var e=s(this),n=a(c,e);return h(n,t)}}),u("toSorted")},237:(t,e,n)=>{"use strict";var i=n(6469);i("flatMap")},3514:(t,e,n)=>{"use strict";var i=n(6469);i("flat")},3609:(t,e,n)=>{"use strict";var i=n(6518),r=n(8981),o=n(6198),s=n(4527),a=n(4606),l=n(6837),u=1!==[].unshift(0),c=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},h=u||!c();i({target:"Array",proto:!0,arity:1,forced:h},{unshift:function(t){var e=r(this),n=o(e),i=arguments.length;if(i){l(n+i);var u=n;while(u--){var c=u+i;u in e?e[c]=e[u]:a(e,c)}for(var h=0;h<i;h++)e[h]=arguments[h]}return s(e,n+i)}})},6280:(t,e,n)=>{"use strict";var i=n(6518),r=n(4475),o=n(8745),s=n(4601),a="WebAssembly",l=r[a],u=7!==new Error("e",{cause:7}).cause,c=function(t,e){var n={};n[t]=s(t,e,u),i({global:!0,constructor:!0,arity:1,forced:u},n)},h=function(t,e){if(l&&l[t]){var n={};n[t]=s(a+"."+t,e,u),i({target:a,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(t){return function(e){return o(t,this,arguments)}})),c("EvalError",(function(t){return function(e){return o(t,this,arguments)}})),c("RangeError",(function(t){return function(e){return o(t,this,arguments)}})),c("ReferenceError",(function(t){return function(e){return o(t,this,arguments)}})),c("SyntaxError",(function(t){return function(e){return o(t,this,arguments)}})),c("TypeError",(function(t){return function(e){return o(t,this,arguments)}})),c("URIError",(function(t){return function(e){return o(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return o(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return o(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return o(t,this,arguments)}}))},9391:(t,e,n)=>{"use strict";var i=n(6518),r=n(6395),o=n(550),s=n(9039),a=n(7751),l=n(4901),u=n(2293),c=n(3438),h=n(6840),d=o&&o.prototype,f=!!o&&s((function(){d["finally"].call({then:function(){}},(function(){}))}));if(i({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(t){var e=u(this,a("Promise")),n=l(t);return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),!r&&l(o)){var p=a("Promise").prototype["finally"];d["finally"]!==p&&h(d,"finally",p,{unsafe:!0})}},7495:(t,e,n)=>{"use strict";var i=n(6518),r=n(7323);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},7642:(t,e,n)=>{"use strict";var i=n(6518),r=n(3440),o=n(4916);i({target:"Set",proto:!0,real:!0,forced:!o("difference")},{difference:r})},8004:(t,e,n)=>{"use strict";var i=n(6518),r=n(9039),o=n(8750),s=n(4916),a=!s("intersection")||r((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));i({target:"Set",proto:!0,real:!0,forced:a},{intersection:o})},3853:(t,e,n)=>{"use strict";var i=n(6518),r=n(4449),o=n(4916);i({target:"Set",proto:!0,real:!0,forced:!o("isDisjointFrom")},{isDisjointFrom:r})},5876:(t,e,n)=>{"use strict";var i=n(6518),r=n(3838),o=n(4916);i({target:"Set",proto:!0,real:!0,forced:!o("isSubsetOf")},{isSubsetOf:r})},2475:(t,e,n)=>{"use strict";var i=n(6518),r=n(8527),o=n(4916);i({target:"Set",proto:!0,real:!0,forced:!o("isSupersetOf")},{isSupersetOf:r})},5024:(t,e,n)=>{"use strict";var i=n(6518),r=n(3650),o=n(4916);i({target:"Set",proto:!0,real:!0,forced:!o("symmetricDifference")},{symmetricDifference:r})},1698:(t,e,n)=>{"use strict";var i=n(6518),r=n(4204),o=n(4916);i({target:"Set",proto:!0,real:!0,forced:!o("union")},{union:r})},9978:(t,e,n)=>{"use strict";var i=n(6518),r=n(9565),o=n(9504),s=n(7750),a=n(4901),l=n(4117),u=n(788),c=n(655),h=n(5966),d=n(1034),f=n(2478),p=n(8227),v=n(6395),g=p("replace"),m=TypeError,y=o("".indexOf),_=o("".replace),b=o("".slice),w=Math.max;i({target:"String",proto:!0},{replaceAll:function(t,e){var n,i,o,p,k,x,E,S,T,O=s(this),C=0,I=0,N="";if(!l(t)){if(n=u(t),n&&(i=c(s(d(t))),!~y(i,"g")))throw new m("`.replaceAll` does not allow non-global regexes");if(o=h(t,g),o)return r(o,t,O,e);if(v&&n)return _(c(O),t,e)}p=c(O),k=c(t),x=a(e),x||(e=c(e)),E=k.length,S=w(1,E),C=y(p,k);while(-1!==C)T=x?c(e(k,C,p)):f(k,p,C,[],void 0,e),N+=b(p,I,C)+T,I=C+E,C=C+S>p.length?-1:y(p,k,C+S);return I<p.length&&(N+=b(p,I)),N}})},5440:(t,e,n)=>{"use strict";var i=n(8745),r=n(9565),o=n(9504),s=n(9228),a=n(9039),l=n(8551),u=n(4901),c=n(4117),h=n(1291),d=n(8014),f=n(655),p=n(7750),v=n(7829),g=n(5966),m=n(2478),y=n(6682),_=n(8227),b=_("replace"),w=Math.max,k=Math.min,x=o([].concat),E=o([].push),S=o("".indexOf),T=o("".slice),O=function(t){return void 0===t?t:String(t)},C=function(){return"$0"==="a".replace(/./,"$0")}(),I=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),N=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));s("replace",(function(t,e,n){var o=I?"$":"$0";return[function(t,n){var i=p(this),o=c(t)?void 0:g(t,b);return o?r(o,t,i,n):r(e,f(i),t,n)},function(t,r){var s=l(this),a=f(t);if("string"==typeof r&&-1===S(r,o)&&-1===S(r,"$<")){var c=n(e,s,a,r);if(c.done)return c.value}var p=u(r);p||(r=f(r));var g,_=s.global;_&&(g=s.unicode,s.lastIndex=0);var b,C=[];while(1){if(b=y(s,a),null===b)break;if(E(C,b),!_)break;var I=f(b[0]);""===I&&(s.lastIndex=v(a,d(s.lastIndex),g))}for(var N="",M=0,A=0;A<C.length;A++){b=C[A];for(var D,P=f(b[0]),R=w(k(h(b.index),a.length),0),L=[],F=1;F<b.length;F++)E(L,O(b[F]));var j=b.groups;if(p){var z=x([P],L,R,a);void 0!==j&&E(z,j),D=f(i(r,void 0,z))}else D=m(P,a,R,L,j,r);R>=M&&(N+=T(a,M,R)+D,M=R+P.length)}return N+T(a,M)}]}),!N||!C||I)},8140:(t,e,n)=>{"use strict";var i=n(4644),r=n(6198),o=n(1291),s=i.aTypedArray,a=i.exportTypedArrayMethod;a("at",(function(t){var e=s(this),n=r(e),i=o(t),a=i>=0?i:n+i;return a<0||a>=n?void 0:e[a]}))},5044:(t,e,n)=>{"use strict";var i=n(4644),r=n(4373),o=n(5854),s=n(6955),a=n(9565),l=n(9504),u=n(9039),c=i.aTypedArray,h=i.exportTypedArrayMethod,d=l("".slice),f=u((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t}));h("fill",(function(t){var e=arguments.length;c(this);var n="Big"===d(s(this),0,3)?o(t):+t;return a(r,this,n,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),f)},1134:(t,e,n)=>{"use strict";var i=n(4644),r=n(3839).findLastIndex,o=i.aTypedArray,s=i.exportTypedArrayMethod;s("findLastIndex",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},1903:(t,e,n)=>{"use strict";var i=n(4644),r=n(3839).findLast,o=i.aTypedArray,s=i.exportTypedArrayMethod;s("findLast",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},8345:(t,e,n)=>{"use strict";var i=n(2805),r=n(4644).exportTypedArrayStaticMethod,o=n(3251);r("from",o,i)},8845:(t,e,n)=>{"use strict";var i=n(4475),r=n(9565),o=n(4644),s=n(6198),a=n(8229),l=n(8981),u=n(9039),c=i.RangeError,h=i.Int8Array,d=h&&h.prototype,f=d&&d.set,p=o.aTypedArray,v=o.exportTypedArrayMethod,g=!u((function(){var t=new Uint8ClampedArray(2);return r(f,t,{length:1,0:3},1),3!==t[1]})),m=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));v("set",(function(t){p(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=l(t);if(g)return r(f,this,n,e);var i=this.length,o=s(n),u=0;if(o+e>i)throw new c("Wrong length");while(u<o)this[e+u]=n[u++]}),!g||m)},373:(t,e,n)=>{"use strict";var i=n(4475),r=n(7476),o=n(9039),s=n(9306),a=n(4488),l=n(4644),u=n(8834),c=n(3202),h=n(7388),d=n(9160),f=l.aTypedArray,p=l.exportTypedArrayMethod,v=i.Uint16Array,g=v&&r(v.prototype.sort),m=!!g&&!(o((function(){g(new v(2),null)}))&&o((function(){g(new v(2),{})}))),y=!!g&&!o((function(){if(h)return h<74;if(u)return u<67;if(c)return!0;if(d)return d<602;var t,e,n=new v(516),i=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,i[t]=t-2*e+3;for(g(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==i[t])return!0})),_=function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!==n?-1:e!==e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}};p("sort",(function(t){return void 0!==t&&s(t),y?g(this,t):a(f(this),_(t))}),!y||m)},7467:(t,e,n)=>{"use strict";var i=n(7628),r=n(4644),o=r.aTypedArray,s=r.exportTypedArrayMethod,a=r.getTypedArrayConstructor;s("toReversed",(function(){return i(o(this),a(this))}))},4732:(t,e,n)=>{"use strict";var i=n(4644),r=n(9504),o=n(9306),s=n(5370),a=i.aTypedArray,l=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,c=r(i.TypedArrayPrototype.sort);u("toSorted",(function(t){void 0!==t&&o(t);var e=a(this),n=s(l(e),e);return c(n,t)}))},1489:(t,e,n)=>{"use strict";var i=n(5823);i("Uint8",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},9577:(t,e,n)=>{"use strict";var i=n(9928),r=n(4644),o=n(1108),s=n(1291),a=n(5854),l=r.aTypedArray,u=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();c("with",{with:function(t,e){var n=l(this),r=s(t),c=o(n)?a(e):+e;return i(n,u(n),r,c)}}["with"],!h)},3375:(t,e,n)=>{"use strict";n(7642)},9225:(t,e,n)=>{"use strict";n(8004)},3972:(t,e,n)=>{"use strict";n(3853)},9209:(t,e,n)=>{"use strict";n(5876)},5714:(t,e,n)=>{"use strict";n(2475)},7561:(t,e,n)=>{"use strict";n(5024)},6197:(t,e,n)=>{"use strict";n(1698)},2953:(t,e,n)=>{"use strict";var i=n(4475),r=n(7400),o=n(9296),s=n(3792),a=n(6699),l=n(687),u=n(8227),c=u("iterator"),h=s.values,d=function(t,e){if(t){if(t[c]!==h)try{a(t,c,h)}catch(i){t[c]=h}if(l(t,e,!0),r[e])for(var n in s)if(t[n]!==s[n])try{a(t,n,s[n])}catch(i){t[n]=s[n]}}};for(var f in r)d(i[f]&&i[f].prototype,f);d(o,"DOMTokenList")},4979:(t,e,n)=>{"use strict";var i=n(6518),r=n(4475),o=n(7751),s=n(6980),a=n(4913).f,l=n(9297),u=n(679),c=n(3167),h=n(2603),d=n(5002),f=n(6193),p=n(3724),v=n(6395),g="DOMException",m=o("Error"),y=o(g),_=function(){u(this,b);var t=arguments.length,e=h(t<1?void 0:arguments[0]),n=h(t<2?void 0:arguments[1],"Error"),i=new y(e,n),r=new m(e);return r.name=g,a(i,"stack",s(1,f(r.stack,1))),c(i,this,_),i},b=_.prototype=y.prototype,w="stack"in new m(g),k="stack"in new y(1,2),x=y&&p&&Object.getOwnPropertyDescriptor(r,g),E=!!x&&!(x.writable&&x.configurable),S=w&&!E&&!k;i({global:!0,constructor:!0,forced:v||S},{DOMException:S?_:y});var T=o(g),O=T.prototype;if(O.constructor!==T)for(var C in v||a(O,"constructor",s(1,T)),d)if(l(d,C)){var I=d[C],N=I.s;l(T,N)||a(T,N,s(6,I.c))}},1678:(t,e,n)=>{"use strict";var i=n(6395),r=n(6518),o=n(4475),s=n(7751),a=n(9504),l=n(9039),u=n(3392),c=n(4901),h=n(3517),d=n(4117),f=n(34),p=n(757),v=n(2652),g=n(8551),m=n(6955),y=n(9297),_=n(2278),b=n(6699),w=n(6198),k=n(2812),x=n(1034),E=n(2248),S=n(4402),T=n(8469),O=n(4483),C=n(4659),I=n(1548),N=o.Object,M=o.Array,A=o.Date,D=o.Error,P=o.TypeError,R=o.PerformanceMark,L=s("DOMException"),F=E.Map,j=E.has,z=E.get,B=E.set,U=S.Set,H=S.add,W=S.has,Y=s("Object","keys"),V=a([].push),G=a((!0).valueOf),$=a(1..valueOf),q=a("".valueOf),K=a(A.prototype.getTime),Z=u("structuredClone"),X="DataCloneError",Q="Transferring",J=function(t){return!l((function(){var e=new o.Set([7]),n=t(e),i=t(N(7));return n===e||!n.has(7)||!f(i)||7!==+i}))&&t},tt=function(t,e){return!l((function(){var n=new e,i=t({a:n,b:n});return!(i&&i.a===i.b&&i.a instanceof e&&i.a.stack===n.stack)}))},et=function(t){return!l((function(){var e=t(new o.AggregateError([1],Z,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==Z||3!==e.cause}))},nt=o.structuredClone,it=i||!tt(nt,D)||!tt(nt,L)||!et(nt),rt=!nt&&J((function(t){return new R(Z,{detail:t}).detail})),ot=J(nt)||rt,st=function(t){throw new L("Uncloneable type: "+t,X)},at=function(t,e){throw new L((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",X)},lt=function(t,e){return ot||at(e),ot(t)},ut=function(){var t;try{t=new o.DataTransfer}catch(e){try{t=new o.ClipboardEvent("").clipboardData}catch(n){}}return t&&t.items&&t.files?t:null},ct=function(t,e,n){if(j(e,t))return z(e,t);var i,r,s,a,l,u,h=n||m(t);if("SharedArrayBuffer"===h)i=ot?ot(t):t;else{var d=o.DataView;d||c(t.slice)||at("ArrayBuffer");try{if(c(t.slice)&&!t.resizable)i=t.slice(0);else{r=t.byteLength,s="maxByteLength"in t?{maxByteLength:t.maxByteLength}:void 0,i=new ArrayBuffer(r,s),a=new d(t),l=new d(i);for(u=0;u<r;u++)l.setUint8(u,a.getUint8(u))}}catch(f){throw new L("ArrayBuffer is detached",X)}}return B(e,t,i),i},ht=function(t,e,n,i,r){var s=o[e];return f(s)||at(e),new s(ct(t.buffer,r),n,i)},dt=function(t,e){if(p(t)&&st("Symbol"),!f(t))return t;if(e){if(j(e,t))return z(e,t)}else e=new F;var n,i,r,a,l,u,h,d,v=m(t);switch(v){case"Array":r=M(w(t));break;case"Object":r={};break;case"Map":r=new F;break;case"Set":r=new U;break;case"RegExp":r=new RegExp(t.source,x(t));break;case"Error":switch(i=t.name,i){case"AggregateError":r=new(s(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":r=new(s(i));break;case"CompileError":case"LinkError":case"RuntimeError":r=new(s("WebAssembly",i));break;default:r=new D}break;case"DOMException":r=new L(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":r=ct(t,e,v);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":u="DataView"===v?t.byteLength:t.length,r=ht(t,v,t.byteOffset,u,e);break;case"DOMQuad":try{r=new DOMQuad(dt(t.p1,e),dt(t.p2,e),dt(t.p3,e),dt(t.p4,e))}catch(g){r=lt(t,v)}break;case"File":if(ot)try{r=ot(t),m(r)!==v&&(r=void 0)}catch(g){}if(!r)try{r=new File([t],t.name,t)}catch(g){}r||at(v);break;case"FileList":if(a=ut(),a){for(l=0,u=w(t);l<u;l++)a.items.add(dt(t[l],e));r=a.files}else r=lt(t,v);break;case"ImageData":try{r=new ImageData(dt(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(g){r=lt(t,v)}break;default:if(ot)r=ot(t);else switch(v){case"BigInt":r=N(t.valueOf());break;case"Boolean":r=N(G(t));break;case"Number":r=N($(t));break;case"String":r=N(q(t));break;case"Date":r=new A(K(t));break;case"Blob":try{r=t.slice(0,t.size,t.type)}catch(g){at(v)}break;case"DOMPoint":case"DOMPointReadOnly":n=o[v];try{r=n.fromPoint?n.fromPoint(t):new n(t.x,t.y,t.z,t.w)}catch(g){at(v)}break;case"DOMRect":case"DOMRectReadOnly":n=o[v];try{r=n.fromRect?n.fromRect(t):new n(t.x,t.y,t.width,t.height)}catch(g){at(v)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=o[v];try{r=n.fromMatrix?n.fromMatrix(t):new n(t)}catch(g){at(v)}break;case"AudioData":case"VideoFrame":c(t.clone)||at(v);try{r=t.clone()}catch(g){st(v)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":at(v);default:st(v)}}switch(B(e,t,r),v){case"Array":case"Object":for(h=Y(t),l=0,u=w(h);l<u;l++)d=h[l],_(r,d,dt(t[d],e));break;case"Map":t.forEach((function(t,n){B(r,dt(n,e),dt(t,e))}));break;case"Set":t.forEach((function(t){H(r,dt(t,e))}));break;case"Error":b(r,"message",dt(t.message,e)),y(t,"cause")&&b(r,"cause",dt(t.cause,e)),"AggregateError"===i?r.errors=dt(t.errors,e):"SuppressedError"===i&&(r.error=dt(t.error,e),r.suppressed=dt(t.suppressed,e));case"DOMException":C&&b(r,"stack",dt(t.stack,e))}return r},ft=function(t,e){if(!f(t))throw new P("Transfer option cannot be converted to a sequence");var n=[];v(t,(function(t){V(n,g(t))}));var i,r,s,a,l,u,d=0,p=w(n),y=new U;while(d<p){if(i=n[d++],r=m(i),"ArrayBuffer"===r?W(y,i):j(e,i))throw new L("Duplicate transferable",X);if("ArrayBuffer"!==r){if(I)a=nt(i,{transfer:[i]});else switch(r){case"ImageBitmap":s=o.OffscreenCanvas,h(s)||at(r,Q);try{l=new s(i.width,i.height),u=l.getContext("bitmaprenderer"),u.transferFromImageBitmap(i),a=l.transferToImageBitmap()}catch(_){}break;case"AudioData":case"VideoFrame":c(i.clone)&&c(i.close)||at(r,Q);try{a=i.clone(),i.close()}catch(_){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":at(r,Q)}if(void 0===a)throw new L("This object cannot be transferred: "+r,X);B(e,i,a)}else H(y,i)}return y},pt=function(t){T(t,(function(t){I?ot(t,{transfer:[t]}):c(t.transfer)?t.transfer():O?O(t):at("ArrayBuffer",Q)}))};r({global:!0,enumerable:!0,sham:!I,forced:it},{structuredClone:function(t){var e,n,i=k(arguments.length,1)>1&&!d(arguments[1])?g(arguments[1]):void 0,r=i?i.transfer:void 0;void 0!==r&&(e=new F,n=ft(r,e));var o=dt(t,e);return n&&pt(n),o}})},7547:(t,e,n)=>{"use strict";n.d(e,{MF:()=>vt,j6:()=>ht,om:()=>ct,Sx:()=>mt,Wp:()=>gt,KO:()=>yt});var i=n(5125),r=n(3424),o=n(6743);const s=(t,e)=>e.some((e=>t instanceof e));let a,l;function u(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap;function g(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{e(k(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&h.set(e,t)})).catch((()=>{})),v.set(e,t),e}function m(t){if(d.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{e(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)}));d.set(t,e)}let y={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return d.get(t);if("objectStoreNames"===e)return t.objectStoreNames||f.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return k(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function _(t){y=t(y)}function b(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?c().includes(t)?function(...e){return t.apply(x(this),e),k(h.get(this))}:function(...e){return k(t.apply(x(this),e))}:function(e,...n){const i=t.call(x(this),e,...n);return f.set(i,e.sort?e.sort():[e]),k(i)}}function w(t){return"function"===typeof t?b(t):(t instanceof IDBTransaction&&m(t),s(t,u())?new Proxy(t,y):t)}function k(t){if(t instanceof IDBRequest)return g(t);if(p.has(t))return p.get(t);const e=w(t);return e!==t&&(p.set(t,e),v.set(e,t)),e}const x=t=>v.get(t);function E(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(t,e),a=k(s);return i&&s.addEventListener("upgradeneeded",(t=>{i(k(s.result),t.oldVersion,t.newVersion,k(s.transaction),t)})),n&&s.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{o&&t.addEventListener("close",(()=>o())),r&&t.addEventListener("versionchange",(t=>r(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}const S=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],O=new Map;function C(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(O.get(e))return O.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=T.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!S.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,r?"readwrite":"readonly");let s=o.store;return i&&(s=s.index(e.shift())),(await Promise.all([s[n](...e),r&&o.done]))[0]};return O.set(e,o),o}_((t=>({...t,get:(e,n,i)=>C(e,n)||t.get(e,n,i),has:(e,n)=>!!C(e,n)||t.has(e,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class I{constructor(t){this.container=t}getPlatformInfoString(){const t=this.container.getProviders();return t.map((t=>{if(N(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}function N(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}const M="@firebase/app",A="0.9.13",D=new r.Vy("@firebase/app"),P="@firebase/app-compat",R="@firebase/analytics-compat",L="@firebase/analytics",F="@firebase/app-check-compat",j="@firebase/app-check",z="@firebase/auth",B="@firebase/auth-compat",U="@firebase/database",H="@firebase/database-compat",W="@firebase/functions",Y="@firebase/functions-compat",V="@firebase/installations",G="@firebase/installations-compat",$="@firebase/messaging",q="@firebase/messaging-compat",K="@firebase/performance",Z="@firebase/performance-compat",X="@firebase/remote-config",Q="@firebase/remote-config-compat",J="@firebase/storage",tt="@firebase/storage-compat",et="@firebase/firestore",nt="@firebase/firestore-compat",it="firebase",rt="9.23.0",ot="[DEFAULT]",st={[M]:"fire-core",[P]:"fire-core-compat",[L]:"fire-analytics",[R]:"fire-analytics-compat",[j]:"fire-app-check",[F]:"fire-app-check-compat",[z]:"fire-auth",[B]:"fire-auth-compat",[U]:"fire-rtdb",[H]:"fire-rtdb-compat",[W]:"fire-fn",[Y]:"fire-fn-compat",[V]:"fire-iid",[G]:"fire-iid-compat",[$]:"fire-fcm",[q]:"fire-fcm-compat",[K]:"fire-perf",[Z]:"fire-perf-compat",[X]:"fire-rc",[Q]:"fire-rc-compat",[J]:"fire-gcs",[tt]:"fire-gcs-compat",[et]:"fire-fst",[nt]:"fire-fst-compat","fire-js":"fire-js",[it]:"fire-js-all"},at=new Map,lt=new Map;function ut(t,e){try{t.container.addComponent(e)}catch(n){D.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ct(t){const e=t.name;if(lt.has(e))return D.debug(`There were multiple attempts to register component ${e}.`),!1;lt.set(e,t);for(const n of at.values())ut(n,t);return!0}function ht(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const dt={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ft=new o.FA("app","Firebase",dt);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pt{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt=rt;function gt(t,e={}){let n=t;if("object"!==typeof e){const t=e;e={name:t}}const r=Object.assign({name:ot,automaticDataCollectionEnabled:!1},e),s=r.name;if("string"!==typeof s||!s)throw ft.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.T9)()),!n)throw ft.create("no-options");const a=at.get(s);if(a){if((0,o.bD)(n,a.options)&&(0,o.bD)(r,a.config))return a;throw ft.create("duplicate-app",{appName:s})}const l=new i.h1(s);for(const i of lt.values())l.addComponent(i);const u=new pt(n,r,l);return at.set(s,u),u}function mt(t=ot){const e=at.get(t);if(!e&&t===ot&&(0,o.T9)())return gt();if(!e)throw ft.create("no-app",{appName:t});return e}function yt(t,e,n){var r;let o=null!==(r=st[t])&&void 0!==r?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const t=[`Unable to register library "${o}" with version "${e}":`];return s&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void D.warn(t.join(" "))}ct(new i.uA(`${o}-version`,(()=>({library:o,version:e})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const _t="firebase-heartbeat-database",bt=1,wt="firebase-heartbeat-store";let kt=null;function xt(){return kt||(kt=E(_t,bt,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wt)}}}).catch((t=>{throw ft.create("idb-open",{originalErrorMessage:t.message})}))),kt}async function Et(t){try{const e=await xt(),n=await e.transaction(wt).objectStore(wt).get(Tt(t));return n}catch(e){if(e instanceof o.g)D.warn(e.message);else{const t=ft.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});D.warn(t.message)}}}async function St(t,e){try{const n=await xt(),i=n.transaction(wt,"readwrite"),r=i.objectStore(wt);await r.put(e,Tt(t)),await i.done}catch(n){if(n instanceof o.g)D.warn(n.message);else{const t=ft.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});D.warn(t.message)}}}function Tt(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot=1024,Ct=2592e6;class It{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new At(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate(),e=t.getPlatformInfoString(),n=Nt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf(),n=Date.now();return n-e<=Ct})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Nt(),{heartbeatsToSend:e,unsentEntries:n}=Mt(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Nt(){const t=new Date;return t.toISOString().substring(0,10)}function Mt(t,e=Ot){const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),Dt(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Dt(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class At{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then((()=>!0)).catch((()=>!1))}async read(){const t=await this._canUseIndexedDBPromise;if(t){const t=await Et(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Dt(t){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){ct(new i.uA("platform-logger",(t=>new I(t)),"PRIVATE")),ct(new i.uA("heartbeat",(t=>new It(t)),"PRIVATE")),yt(M,A,t),yt(M,A,"esm2017"),yt("fire-js","")}Pt("")},5125:(t,e,n)=>{"use strict";n.d(e,{h1:()=>u,uA:()=>r});var i=n(6743);class r{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new i.cY;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(l(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(t=o){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=o){return this.instances.has(t)}getOptions(t=o){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,o]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(r);n===t&&o.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}return n||null}normalizeInstanceIdentifier(t=o){return this.component?this.component.multipleInstances?t:o:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(t){return t===o?void 0:t}function l(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){const e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new s(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},3424:(t,e,n)=>{"use strict";n.d(e,{$b:()=>r,Vy:()=>u});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=[];var r;(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(r||(r={}));const o={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},s=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=a[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class u{constructor(t){this.name=t,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?o[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}},2362:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(5438);function r(t,e,n){return(e=(0,i.A)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},5438:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var i=n(5929);n(6280);function r(t,e){if("object"!=(0,i.A)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=(0,i.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function o(t){var e=r(t,"string");return"symbol"==(0,i.A)(e)?e:e+""}},5929:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});n(2953);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}},223:(t,e,n)=>{"use strict";n.d(e,{Wp:()=>i.Wp});var i=n(7547),r="firebase",o="9.23.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,i.KO)(r,o,"app")},2958:(t,e,n)=>{"use strict";n.d(e,{HF:()=>fe,eJ:()=>Se,xI:()=>Fi,x9:()=>Te,CI:()=>Ie});var i=n(6743),r=n(7547),o=n(1635),s=n(3424),a=n(5125);function l(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u=l,c=new i.FA("auth","Firebase",l()),h=new s.Vy("@firebase/auth");function d(t,...e){h.logLevel<=s.$b.WARN&&h.warn(`Auth (${r.MF}): ${t}`,...e)}function f(t,...e){h.logLevel<=s.$b.ERROR&&h.error(`Auth (${r.MF}): ${t}`,...e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(t,...e){throw m(t,...e)}function v(t,...e){return m(t,...e)}function g(t,e,n){const r=Object.assign(Object.assign({},u()),{[e]:n}),o=new i.FA("auth","Firebase",r);return o.create(e,{appName:t.name})}function m(t,...e){if("string"!==typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return c.create(t,...e)}function y(t,e,...n){if(!t)throw m(e,...n)}function _(t){const e="INTERNAL ASSERTION FAILED: "+t;throw f(e),new Error(e)}function b(t,e){t||_(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function k(){return"http:"===x()||"https:"===x()}function x(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(k()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}function S(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(t,e){this.shortDelay=t,this.longDelay=e,b(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return E()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t,e){b(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"},N=new T(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function A(t,e,n,r,o={}){return D(t,o,(async()=>{let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=(0,i.Am)(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),C.fetch()(R(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))}async function D(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},I),e);try{const e=new L(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw F(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const e=i.ok?o.errorMessage:o.error.message,[n,s]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw F(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw F(t,"email-already-in-use",o);if("USER_DISABLED"===n)throw F(t,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw g(t,a,s);p(t,a)}}catch(o){if(o instanceof i.g)throw o;p(t,"network-request-failed",{message:String(o)})}}async function P(t,e,n,i,r={}){const o=await A(t,e,n,i,r);return"mfaPendingCredential"in o&&p(t,"multi-factor-auth-required",{_serverResponse:o}),o}function R(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?O(t.config,r):`${t.config.apiScheme}://${r}`}class L{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(v(this.auth,"network-request-failed"))),N.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function F(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=v(t,e,i);return r.customData._tokenResponse=n,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j(t,e){return A(t,"POST","/v1/accounts:delete",e)}async function z(t,e){return A(t,"POST","/v1/accounts:lookup",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U(t,e=!1){const n=(0,i.Ku)(t),r=await n.getIdToken(e),o=W(r);y(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s["sign_in_provider"];return{claims:o,token:r,authTime:B(H(o.auth_time)),issuedAtTime:B(H(o.iat)),expirationTime:B(H(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s["sign_in_second_factor"])||null}}function H(t){return 1e3*Number(t)}function W(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,i.u)(n);return t?JSON.parse(t):(f("Failed to decode base64 JWT payload"),null)}catch(o){return f("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Y(t){const e=W(t);return y(e,"internal-error"),y("undefined"!==typeof e.exp,"internal-error"),y("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof i.g&&G(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function G({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0,n=t-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===t||void 0===t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K(t){var e;const n=t.auth,i=await t.getIdToken(),r=await V(t,z(n,{idToken:i}));y(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const s=(null===(e=o.providerUserInfo)||void 0===e?void 0:e.length)?Q(o.providerUserInfo):[],a=X(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),c=!!l&&u,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new q(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Z(t){const e=(0,i.Ku)(t);await K(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X(t,e){const n=t.filter((t=>!e.some((e=>e.providerId===t.providerId))));return[...n,...e]}function Q(t){return t.map((t=>{var{providerId:e}=t,n=(0,o.Tt)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(t,e){const n=await D(t,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=R(t,r,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",C.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){y(t.idToken,"internal-error"),y("undefined"!==typeof t.idToken,"internal-error"),y("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):Y(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return y(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await J(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,o=new tt;return n&&(y("string"===typeof n,"internal-error",{appName:t}),o.refreshToken=n),i&&(y("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),r&&(y("number"===typeof r,"internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return _("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){y("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class nt{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=(0,o.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new q(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await V(this,this.stsTokenManager.getToken(this.auth,t));return y(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return U(this,t)}reload(){return Z(this)}_assign(t){this!==t&&(y(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new nt(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await K(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await V(this,j(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,o,s,a,l,u;const c=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(o=e.photoURL)&&void 0!==o?o:void 0,p=null!==(s=e.tenantId)&&void 0!==s?s:void 0,v=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,m=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:x}=e;y(_&&x,t,"internal-error");const E=tt.fromJSON(this.name,x);y("string"===typeof _,t,"internal-error"),et(c,t.name),et(h,t.name),y("boolean"===typeof b,t,"internal-error"),y("boolean"===typeof w,t,"internal-error"),et(d,t.name),et(f,t.name),et(p,t.name),et(v,t.name),et(g,t.name),et(m,t.name);const S=new nt({uid:_,auth:t,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:m});return k&&Array.isArray(k)&&(S.providerData=k.map((t=>Object.assign({},t)))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(t,e,n=!1){const i=new tt;i.updateFromServerResponse(e);const r=new nt({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await K(r),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it=new Map;function rt(t){b(t instanceof Function,"Expected a class definition");let e=it.get(t);return e?(b(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,it.set(t,e),e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}ot.type="NONE";const st=ot;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e,n){return`firebase:${t}:${e}:${n}`}class lt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=at(this.userKey,i.apiKey,r),this.fullPersistenceKey=at("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?nt._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new lt(rt(st),t,n);const i=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=i[0]||rt(st);const o=at(n,t.config.apiKey,t.name);let s=null;for(const u of e)try{const e=await u._get(o);if(e){const n=nt._fromJSON(t,e);u!==r&&(s=n),r=u;break}}catch(l){}const a=i.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(o,s.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(o)}catch(l){}}))),new lt(r,t,n)):new lt(r,t,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ft(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ct(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vt(e))return"Blackberry";if(gt(e))return"Webos";if(ht(e))return"Safari";if((e.includes("chrome/")||dt(e))&&!e.includes("edge/"))return"Chrome";if(pt(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ct(t=(0,i.ZQ)()){return/firefox\//i.test(t)}function ht(t=(0,i.ZQ)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dt(t=(0,i.ZQ)()){return/crios\//i.test(t)}function ft(t=(0,i.ZQ)()){return/iemobile/i.test(t)}function pt(t=(0,i.ZQ)()){return/android/i.test(t)}function vt(t=(0,i.ZQ)()){return/blackberry/i.test(t)}function gt(t=(0,i.ZQ)()){return/webos/i.test(t)}function mt(t=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yt(t=(0,i.ZQ)()){var e;return mt(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function _t(){return(0,i.lT)()&&10===document.documentMode}function bt(t=(0,i.ZQ)()){return mt(t)||pt(t)||gt(t)||vt(t)||/windows phone/i.test(t)||ft(t)}function wt(){try{return!(!window||window===window.top)}catch(t){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e=[]){let n;switch(t){case"Browser":n=ut((0,i.ZQ)());break;case"Worker":n=`${ut((0,i.ZQ)())}-${t}`;break;default:n=t}const o=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.MF}/${o}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xt(t,e){return A(t,"GET","/v2/recaptchaConfig",M(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return void 0!==t&&void 0!==t.enterprise}class St{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}function Ot(t){return new Promise(((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=v("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",Tt().appendChild(i)}))}function Ct(t){return`__${t}${Math.floor(1e6*Math.random())}`}const It="https://www.google.com/recaptcha/enterprise.js?render=",Nt="recaptcha-enterprise",Mt="NO_RECAPTCHA";class At{constructor(t){this.type=Nt,this.auth=Lt(t)}async verify(t="verify",e=!1){async function n(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{xt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new St(i);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))}function i(e,n,i){const r=window.grecaptcha;Et(r)?r.enterprise.ready((()=>{r.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n(Mt)}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((t,r)=>{n(this.auth).then((n=>{if(!e&&Et(window.grecaptcha))i(n,t,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Ot(It+n).then((()=>{i(n,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function Dt(t,e,n,i=!1){const r=new At(t);let o;try{o=await r.verify(n)}catch(a){o=await r.verify(n,!0)}const s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,i)=>{try{const i=t(e);n(i)}catch(r){i(r)}}));n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const t of e)try{t()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ft(this),this.idTokenSubscription=new Ft(this),this.beforeStateQueue=new Pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=rt(e)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await lt.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(t);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(i=s.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await K(t)}catch(e){if("auth/network-request-failed"!==(null===e||void 0===e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=S()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,i.Ku)(t):null;return e&&y(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&y(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(rt(t))}))}async initializeRecaptchaConfig(){const t=await xt(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),e=new St(t);if(null==this.tenantId?this._agentRecaptchaConfig=e:this._tenantRecaptchaConfigs[this.tenantId]=e,e.emailPasswordEnabled){const t=new At(this);t.verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new i.FA("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&rt(t)||this._popupRedirectResolver;y(e,this,"argument-error"),this.redirectPersistenceManager=await lt.create(this,[rt(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e),o=this._isInitialized?Promise.resolve():this._initializationPromise;return y(o,this,"internal-error"),o.then((()=>r(this.currentUser))),"function"===typeof e?t.addObserver(e,n,i):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&d(`Error while retrieving App Check token: ${e.error}`),null===e||void 0===e?void 0:e.token}}function Lt(t){return(0,i.Ku)(t)}class Ft{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,i.tD)((t=>this.observer=t))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){const n=(0,r.j6)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==e&&void 0!==e?e:{}))return t;p(t,"already-initialized")}const o=n.initialize({options:e});return o}function zt(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(rt);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null===e||void 0===e?void 0:e.popupRedirectResolver)}function Bt(t,e,n){const i=Lt(t);y(i._canInitEmulator,i,"emulator-config-failed"),y(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ut(e),{host:s,port:a}=Ht(e),l=null===a?"":`:${a}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Yt()}function Ut(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ht(t){const e=Ut(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:Wt(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:Wt(e)}}}function Wt(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yt(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return _("not implemented")}_getIdTokenResponse(t){return _("not implemented")}_linkToIdToken(t,e){return _("not implemented")}_getReauthenticationResolver(t){return _("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gt(t,e){return A(t,"POST","/v1/accounts:update",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function $t(t,e){return P(t,"POST","/v1/accounts:signInWithPassword",M(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function qt(t,e){return P(t,"POST","/v1/accounts:signInWithEmailLink",M(t,e))}async function Kt(t,e){return P(t,"POST","/v1/accounts:signInWithEmailLink",M(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt extends Vt{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Zt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Zt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){var e;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(e=t._getRecaptchaConfig())||void 0===e?void 0:e.emailPasswordEnabled){const e=await Dt(t,n,"signInWithPassword");return $t(t,e)}return $t(t,n).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Dt(t,n,"signInWithPassword");return $t(t,e)}return Promise.reject(e)}));case"emailLink":return qt(t,{email:this._email,oobCode:this._password});default:p(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Gt(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Kt(t,{idToken:e,email:this._email,oobCode:this._password});default:p(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xt(t,e){return P(t,"POST","/v1/accounts:signInWithIdp",M(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="http://localhost";class Jt extends Vt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Jt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):p("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=(0,o.Tt)(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Jt(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){const e=this.buildRequest();return Xt(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Xt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Xt(t,e)}buildRequest(){const t={requestUri:Qt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e["id_token"]=this.idToken),this.accessToken&&(e["access_token"]=this.accessToken),this.secret&&(e["oauth_token_secret"]=this.secret),e["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(e["nonce"]=this.nonce),t.postBody=(0,i.Am)(e)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function te(t,e){return A(t,"POST","/v1/accounts:sendVerificationCode",M(t,e))}async function ee(t,e){return P(t,"POST","/v1/accounts:signInWithPhoneNumber",M(t,e))}async function ne(t,e){const n=await P(t,"POST","/v1/accounts:signInWithPhoneNumber",M(t,e));if(n.temporaryProof)throw F(t,"account-exists-with-different-credential",n);return n}const ie={["USER_NOT_FOUND"]:"user-not-found"};async function re(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return P(t,"POST","/v1/accounts:signInWithPhoneNumber",M(t,n),ie)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe extends Vt{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new oe({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new oe({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return ee(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return ne(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return re(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new oe({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ae(t){const e=(0,i.I9)((0,i.hp)(t))["link"],n=e?(0,i.I9)((0,i.hp)(e))["deep_link_id"]:null,r=(0,i.I9)((0,i.hp)(t))["deep_link_id"],o=r?(0,i.I9)((0,i.hp)(r))["link"]:null;return o||r||n||e||t}class le{constructor(t){var e,n,r,o,s,a;const l=(0,i.I9)((0,i.hp)(t)),u=null!==(e=l["apiKey"])&&void 0!==e?e:null,c=null!==(n=l["oobCode"])&&void 0!==n?n:null,h=se(null!==(r=l["mode"])&&void 0!==r?r:null);y(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=null!==(o=l["continueUrl"])&&void 0!==o?o:null,this.languageCode=null!==(s=l["languageCode"])&&void 0!==s?s:null,this.tenantId=null!==(a=l["tenantId"])&&void 0!==a?a:null}static parseLink(t){const e=ae(t);try{return new le(e)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ue{constructor(){this.providerId=ue.PROVIDER_ID}static credential(t,e){return Zt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=le.parseLink(e);return y(n,"argument-error"),Zt._fromEmailAndCode(t,n.code,n.tenantId)}}ue.PROVIDER_ID="password",ue.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ue.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ce{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he extends ce{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class de extends he{constructor(){super("facebook.com")}static credential(t){return Jt._fromParams({providerId:de.PROVIDER_ID,signInMethod:de.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return de.credentialFromTaggedObject(t)}static credentialFromError(t){return de.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return de.credential(t.oauthAccessToken)}catch(e){return null}}}de.FACEBOOK_SIGN_IN_METHOD="facebook.com",de.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fe extends he{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Jt._fromParams({providerId:fe.PROVIDER_ID,signInMethod:fe.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return fe.credentialFromTaggedObject(t)}static credentialFromError(t){return fe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return fe.credential(e,n)}catch(i){return null}}}fe.GOOGLE_SIGN_IN_METHOD="google.com",fe.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pe extends he{constructor(){super("github.com")}static credential(t){return Jt._fromParams({providerId:pe.PROVIDER_ID,signInMethod:pe.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pe.credentialFromTaggedObject(t)}static credentialFromError(t){return pe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pe.credential(t.oauthAccessToken)}catch(e){return null}}}pe.GITHUB_SIGN_IN_METHOD="github.com",pe.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ve extends he{constructor(){super("twitter.com")}static credential(t,e){return Jt._fromParams({providerId:ve.PROVIDER_ID,signInMethod:ve.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ve.credentialFromTaggedObject(t)}static credentialFromError(t){return ve.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return ve.credential(e,n)}catch(i){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ge(t,e){return P(t,"POST","/v1/accounts:signUp",M(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ve.TWITTER_SIGN_IN_METHOD="twitter.com",ve.PROVIDER_ID="twitter.com";class me{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,i=!1){const r=await nt._fromIdTokenResponse(t,n,i),o=ye(n),s=new me({user:r,providerId:o,_tokenResponse:n,operationType:e});return s}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=ye(n);return new me({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function ye(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _e extends i.g{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,_e.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new _e(t,e,n,i)}}function be(t,e,n,i){const r="reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return r.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw _e._fromErrorAndOperation(t,n,e,i);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function we(t,e,n=!1){const i=await V(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return me._forOperation(t,"link",i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ke(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await V(t,be(i,r,e,t),n);y(o.idToken,i,"internal-error");const s=W(o.idToken);y(s,i,"internal-error");const{sub:a}=s;return y(t.uid===a,i,"user-mismatch"),me._forOperation(t,r,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&p(i,"user-mismatch"),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xe(t,e,n=!1){const i="signIn",r=await be(t,i,e),o=await me._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function Ee(t,e){return xe(Lt(t),e)}async function Se(t,e,n){var i;const r=Lt(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const t=await Dt(r,o,"signUpPassword");s=ge(r,t)}else s=ge(r,o).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const t=await Dt(r,o,"signUpPassword");return ge(r,t)}return Promise.reject(t)}));const a=await s.catch((t=>Promise.reject(t))),l=await me._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function Te(t,e,n){return Ee((0,i.Ku)(t),ue.credential(e,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n,r){return(0,i.Ku)(t).onIdTokenChanged(e,n,r)}function Ce(t,e,n){return(0,i.Ku)(t).beforeAuthStateChanged(e,n)}function Ie(t){return(0,i.Ku)(t).signOut()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ne(t,e){return A(t,"POST","/v2/accounts/mfaEnrollment:start",M(t,e))}function Me(t,e){return A(t,"POST","/v2/accounts/mfaEnrollment:finalize",M(t,e))}function Ae(t,e){return A(t,"POST","/v2/accounts/mfaEnrollment:start",M(t,e))}function De(t,e){return A(t,"POST","/v2/accounts/mfaEnrollment:finalize",M(t,e))}new WeakMap;const Pe="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Pe,"1"),this.storage.removeItem(Pe),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(){const t=(0,i.ZQ)();return ht(t)||mt(t)}const Fe=1e3,je=10;class ze extends Re{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Le()&&wt(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);_t()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,je):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),Fe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ze.type="LOCAL";const Be=ze;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue extends Re{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Ue.type="SESSION";const He=Ue;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return Promise.all(t.map((async t=>{try{const e=await t;return{fulfilled:!0,value:e}}catch(e){return{fulfilled:!1,reason:e}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Ye(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,o=this.handlersMap[i];if(!(null===o||void 0===o?void 0:o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map((async t=>t(e.origin,r))),a=await We(s);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ve(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ye.receivers=[];class Ge{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise(((s,a)=>{const l=Ve("",20);i.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),s(e.data.response);break;default:clearTimeout(u),clearTimeout(r),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return window}function qe(t){$e().location.href=t}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return"undefined"!==typeof $e()["WorkerGlobalScope"]&&"function"===typeof $e()["importScripts"]}async function Ze(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const t=await navigator.serviceWorker.ready;return t.active}catch(t){return null}}function Xe(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}function Qe(){return Ke()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="firebaseLocalStorageDb",tn=1,en="firebaseLocalStorage",nn="fbase_key";class rn{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function on(t,e){return t.transaction([en],e?"readwrite":"readonly").objectStore(en)}function sn(){const t=indexedDB.deleteDatabase(Je);return new rn(t).toPromise()}function an(){const t=indexedDB.open(Je,tn);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(en,{keyPath:nn})}catch(i){n(i)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(en)?e(n):(n.close(),await sn(),e(await an()))}))}))}async function ln(t,e,n){const i=on(t,!0).put({[nn]:e,value:n});return new rn(i).toPromise()}async function un(t,e){const n=on(t,!1).get(e),i=await new rn(n).toPromise();return void 0===i?null:i.value}function cn(t,e){const n=on(t,!0).delete(e);return new rn(n).toPromise()}const hn=800,dn=3;class fn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await an()),this.db}async _withRetries(t){let e=0;while(1)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>dn)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ke()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ye._getInstance(Qe()),this.receiver._subscribe("keyChanged",(async(t,e)=>{const n=await this._poll();return{keyProcessed:n.includes(e.key)}})),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await Ze(),!this.activeServiceWorker)return;this.sender=new Ge(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&Xe()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await an();return await ln(t,Pe,"1"),await cn(t,Pe),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>ln(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>un(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>cn(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=on(t,!1).getAll();return new rn(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),hn)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}fn.type="LOCAL";const pn=fn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,e){return A(t,"POST","/v2/accounts/mfaSignIn:start",M(t,e))}function gn(t,e){return A(t,"POST","/v2/accounts/mfaSignIn:finalize",M(t,e))}function mn(t,e){return A(t,"POST","/v2/accounts/mfaSignIn:finalize",M(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ct("rcb"),new T(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const yn="recaptcha";async function _n(t,e,n){var i;const r=await n.verify();try{let o;if(y("string"===typeof r,t,"argument-error"),y(n.type===yn,t,"argument-error"),o="string"===typeof e?{phoneNumber:e}:e,"session"in o){const e=o.session;if("phoneNumber"in o){y("enroll"===e.type,t,"internal-error");const n=await Ne(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{y("signin"===e.type,t,"internal-error");const n=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid;y(n,t,"missing-multi-factor-info");const s=await vn(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await te(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bn{constructor(t){this.providerId=bn.PROVIDER_ID,this.auth=Lt(t)}verifyPhoneNumber(t,e){return _n(this.auth,t,(0,i.Ku)(e))}static credential(t,e){return oe._fromVerification(t,e)}static credentialFromResult(t){const e=t;return bn.credentialFromTaggedObject(e)}static credentialFromError(t){return bn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?oe._fromTokenResponse(e,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wn(t,e){return e?rt(e):(y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.PROVIDER_ID="phone",bn.PHONE_SIGN_IN_METHOD="phone";class kn extends Vt{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Xt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Xt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function xn(t){return xe(t.auth,new kn(t),t.bypassAuthState)}function En(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),ke(n,new kn(t),t.bypassAuthState)}async function Sn(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),we(n,new kn(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,e,n,i,r=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:o,type:s}=t;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xn;case"linkViaPopup":case"linkViaRedirect":return Sn;case"reauthViaPopup":case"reauthViaRedirect":return En;default:p(this.auth,"internal-error")}}resolve(t){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new T(2e3,1e4);class Cn extends Tn{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Cn.currentPopupAction&&Cn.currentPopupAction.cancel(),Cn.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return y(t,this.auth,"internal-error"),t}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const t=Ve();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(v(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(v(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cn.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(v(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,On.get())};t()}}Cn.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const In="pendingRedirect",Nn=new Map;class Mn extends Tn{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Nn.get(this.auth._key());if(!t){try{const e=await An(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}Nn.set(this.auth._key(),t)}return this.bypassAuthState||Nn.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function An(t,e){const n=Rn(e),i=Pn(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}function Dn(t,e){Nn.set(t._key(),e)}function Pn(t){return rt(t._redirectPersistence)}function Rn(t){return at(In,t.config.apiKey,t.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ln(t,e,n=!1){const i=Lt(t),r=wn(i,e),o=new Mn(i,r,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Fn=6e5;class jn{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!Un(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Bn(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(v(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Fn&&this.cachedEventUids.clear(),this.cachedEventUids.has(zn(t))}saveEventToCache(t){this.cachedEventUids.add(zn(t)),this.lastProcessedEventTime=Date.now()}}function zn(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Bn({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}function Un(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bn(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hn(t,e={}){return A(t,"GET","/v1/projects",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yn=/^https?/;async function Vn(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Hn(t);for(const i of e)try{if(Gn(i))return}catch(n){}p(t,"unauthorized-domain")}function Gn(t){const e=w(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Yn.test(n))return!1;if(Wn.test(t))return i===t;const r=t.replace(/\./g,"\\."),o=new RegExp("^(.+\\."+r+"|"+r+")$","i");return o.test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new T(3e4,6e4);function qn(){const t=$e().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function Kn(t){return new Promise(((e,n)=>{var i,r,o;function s(){qn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qn(),n(v(t,"network-request-failed"))},timeout:$n.get()})}if(null===(r=null===(i=$e().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(o=$e().gapi)||void 0===o?void 0:o.load)){const e=Ct("iframefcb");return $e()[e]=()=>{gapi.load?s():n(v(t,"network-request-failed"))},Ot(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>n(t)))}s()}})).catch((t=>{throw Zn=null,t}))}let Zn=null;function Xn(t){return Zn=Zn||Kn(t),Zn}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new T(5e3,15e3),Jn="__/auth/iframe",ti="emulator/auth/iframe",ei={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ii(t){const e=t.config;y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O(e,ti):`https://${t.config.authDomain}/${Jn}`,o={apiKey:e.apiKey,appName:t.name,v:r.MF},s=ni.get(t.config.apiHost);s&&(o.eid=s);const a=t._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,i.Am)(o).slice(1)}`}async function ri(t){const e=await Xn(t),n=$e().gapi;return y(n,t,"internal-error"),e.open({where:document.body,url:ii(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ei,dontclear:!0},(e=>new Promise((async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=v(t,"network-request-failed"),o=$e().setTimeout((()=>{i(r)}),Qn.get());function s(){$e().clearTimeout(o),n(e)}e.ping(s).then(s,(()=>{i(r)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},si=500,ai=600,li="_blank",ui="http://localhost";class ci{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function hi(t,e,n,r=si,o=ai){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},oi),{width:r.toString(),height:o.toString(),top:s,left:a}),c=(0,i.ZQ)().toLowerCase();n&&(l=dt(c)?li:n),ct(c)&&(e=e||ui,u.scrollbars="yes");const h=Object.entries(u).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(yt(c)&&"_self"!==l)return di(e||"",l),new ci(null);const d=window.open(e||"",l,h);y(d,t,"popup-blocked");try{d.focus()}catch(f){}return new ci(d)}function di(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="__/auth/handler",pi="emulator/auth/handler",vi=encodeURIComponent("fac");async function gi(t,e,n,o,s,a){y(t.config.authDomain,t,"auth-domain-config-required"),y(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:o,v:r.MF,eventId:s};if(e instanceof ce){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",(0,i.Im)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))l[t]=e}if(e instanceof he){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(l.scopes=t.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const i of Object.keys(u))void 0===u[i]&&delete u[i];const c=await t._getAppCheckToken(),h=c?`#${vi}=${encodeURIComponent(c)}`:"";return`${mi(t)}?${(0,i.Am)(u).slice(1)}${h}`}function mi({config:t}){return t.emulator?O(t,pi):`https://${t.authDomain}/${fi}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="webStorageSupport";class _i{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=He,this._completeRedirectFn=Ln,this._overrideRedirectResult=Dn}async _openPopup(t,e,n,i){var r;b(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await gi(t,e,n,w(),i);return hi(t,o,Ve())}async _openRedirect(t,e,n,i){await this._originValidation(t);const r=await gi(t,e,n,w(),i);return qe(r),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await ri(t),n=new jn(t);return e.register("authEvent",(e=>{y(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");const i=n.onEvent(e.authEvent);return{status:i?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){const n=this.iframes[t._key()];n.send(yi,{type:yi},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[yi];void 0!==r&&e(!!r),p(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Vn(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return bt()||ht()||mt()}}const bi=_i;class wi{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return _("unexpected MultiFactorSessionType")}}}class ki extends wi{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new ki(t)}_finalizeEnroll(t,e,n){return Me(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return gn(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class xi{constructor(){}static assertion(t){return ki._fromCredential(t)}}xi.FACTOR_ID="phone";class Ei{static assertionForEnrollment(t,e){return Si._fromSecret(t,e)}static assertionForSignIn(t,e){return Si._fromEnrollmentId(t,e)}static async generateSecret(t){const e=t;y("undefined"!==typeof e.auth,"internal-error");const n=await Ae(e.auth,{idToken:e.credential,totpEnrollmentInfo:{}});return Ti._fromStartTotpMfaEnrollmentResponse(n,e.auth)}}Ei.FACTOR_ID="totp";class Si extends wi{constructor(t,e,n){super("totp"),this.otp=t,this.enrollmentId=e,this.secret=n}static _fromSecret(t,e){return new Si(e,void 0,t)}static _fromEnrollmentId(t,e){return new Si(e,t)}async _finalizeEnroll(t,e,n){return y("undefined"!==typeof this.secret,t,"argument-error"),De(t,{idToken:e,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(t,e){y(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error");const n={verificationCode:this.otp};return mn(t,{mfaPendingCredential:e,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class Ti{constructor(t,e,n,i,r,o,s){this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=e,this.codeLength=n,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=r}static _fromStartTotpMfaEnrollmentResponse(t,e){return new Ti(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,e)}_makeTotpVerificationInfo(t){return{sessionInfo:this.sessionInfo,verificationCode:t}}generateQrCodeUrl(t,e){var n;let i=!1;return(Oi(t)||Oi(e))&&(i=!0),i&&(Oi(t)&&(t=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Oi(e)&&(e=this.auth.name)),`otpauth://totp/${e}:${t}?secret=${this.secretKey}&issuer=${e}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Oi(t){return"undefined"===typeof t||0===(null===t||void 0===t?void 0:t.length)}var Ci="@firebase/auth",Ii="0.23.2";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ni{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const e=await this.auth.currentUser.getIdToken(t);return{accessToken:e}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Ai(t){(0,r.om)(new a.uA("auth",((e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;y(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kt(t)},u=new Rt(i,r,o,l);return zt(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{const i=t.getProvider("auth-internal");i.initialize()}))),(0,r.om)(new a.uA("auth-internal",(t=>{const e=Lt(t.getProvider("auth").getImmediate());return(t=>new Ni(t))(e)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(Ci,Ii,Mi(t)),(0,r.KO)(Ci,Ii,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=300,Pi=(0,i.XA)("authIdTokenMaxAge")||Di;let Ri=null;const Li=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Pi)return;const r=null===n||void 0===n?void 0:n.token;Ri!==r&&(Ri=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Fi(t=(0,r.Sx)()){const e=(0,r.j6)(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jt(t,{popupRedirectResolver:bi,persistence:[pn,Be,He]}),o=(0,i.XA)("authTokenSyncURL");if(o){const t=Li(o);Ce(n,t,(()=>t(n.currentUser))),Oe(n,(e=>t(e)))}const s=(0,i.Tj)("auth");return s&&Bt(n,`http://${s}`),n}Ai("Browser")},9933:(t,e,n)=>{"use strict";n.d(e,{Jt:()=>Bs,C3:()=>Zs,KR:()=>Fs,hZ:()=>zs});var i=n(7547),r=n(5125),o=n(6743),s=n(3424);const a="@firebase/database",l="0.14.4";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let u="";function c(t){u=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.As)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.$L)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,o.gR)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(e){}return new d},p=f("localStorage"),v=f("sessionStorage"),g=new s.Vy("@firebase/database"),m=function(){let t=1;return function(){return t++}}(),y=function(t){const e=(0,o.kj)(t),n=new o.gz;n.update(e);const i=n.digest();return o.K3.encodeByteArray(i)},_=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?e+=_.apply(null,i):e+="object"===typeof i?(0,o.As)(i):i,e+=" "}return e};let b=null,w=!0;const k=function(t,e){(0,o.vA)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=s.$b.VERBOSE,b=g.log.bind(g),e&&v.set("logging_enabled",!0)):"function"===typeof t?b=t:(b=null,v.remove("logging_enabled"))},x=function(...t){if(!0===w&&(w=!1,null===b&&!0===v.get("logging_enabled")&&k(!0)),b){const e=_.apply(null,t);b(e)}},E=function(t){return function(...e){x(t,...e)}},S=function(...t){const e="FIREBASE INTERNAL ERROR: "+_(...t);g.error(e)},T=function(...t){const e=`FIREBASE FATAL ERROR: ${_(...t)}`;throw g.error(e),new Error(e)},O=function(...t){const e="FIREBASE WARNING: "+_(...t);g.warn(e)},C=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},I=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},N=function(t){if((0,o.$g)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},M="[MIN_NAME]",A="[MAX_NAME]",D=function(t,e){if(t===e)return 0;if(t===M||e===A)return-1;if(e===M||t===A)return 1;{const n=G(t),i=G(e);return null!==n?null!==i?n-i===0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}},P=function(t,e){return t===e?0:t<e?-1:1},R=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.As)(e))},L=function(t){if("object"!==typeof t||null===t)return(0,o.As)(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)0!==i&&(n+=","),n+=(0,o.As)(e[i]),n+=":",n+=L(t[e[i]]);return n+="}",n},F=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function j(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const z=function(t){(0,o.vA)(!I(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,a,l,u;0===t?(s=0,a=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=l+i,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(u=n;u;u-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const h=c.join("");let d="";for(u=0;u<64;u+=8){let t=parseInt(h.substr(u,8),2).toString(16);1===t.length&&(t="0"+t),d+=t}return d.toLowerCase()},B=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},U=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function H(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const W=new RegExp("^-?(0*)\\d{1,10}$"),Y=-2147483648,V=2147483647,G=function(t){if(W.test(t)){const e=Number(t);if(e>=Y&&e<=V)return e}return null},$=function(t){try{t()}catch(e){setTimeout((()=>{const t=e.stack||"";throw O("Exception was thrown by user callback.",t),e}),Math.floor(0))}},q=function(){const t="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},K=function(t,e){const n=setTimeout(t,e);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno["unrefTimer"]?Deno.unrefTimer(n):"object"===typeof n&&n["unref"]&&n["unref"](),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Z{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null===e||void 0===e?void 0:e.getImmediate({optional:!0}),this.appCheck||null===e||void 0===e||e.get().then((t=>this.appCheck=t))}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise(((e,n)=>{setTimeout((()=>{this.appCheck?this.getToken(t).then(e,n):e(null)}),0)}))}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((e=>e.addTokenListener(t)))}notifyForInvalidToken(){O(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((t=>this.auth_=t))}getToken(t){return this.auth_?this.auth_.getToken(t).catch((t=>t&&"auth/token-not-initialized"===t.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t))):new Promise(((e,n)=>{setTimeout((()=>{this.auth_?this.getToken(t).then(e,n):e(null)}),0)}))}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((e=>e.addAuthTokenListener(t)))}removeTokenChangeListener(t){this.authProvider_.get().then((e=>e.removeAuthTokenListener(t)))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(t)}}class Q{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Q.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const J="5",tt="v",et="s",nt="r",it="f",rt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ot="ls",st="p",at="ac",lt="websocket",ut="long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ct{constructor(t,e,n,i,r=!1,o="",s=!1,a=!1){this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function ht(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function dt(t,e,n){let i;if((0,o.vA)("string"===typeof e,"typeof type must == string"),(0,o.vA)("object"===typeof n,"typeof params must == object"),e===lt)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ut)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}ht(t)&&(n["ns"]=t.namespace);const r=[];return j(n,((t,e)=>{r.push(t+"="+e)})),i+r.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,o.gR)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,o.A4)(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={},vt={};function gt(t){const e=t.toString();return pt[e]||(pt[e]=new ft),pt[e]}function mt(t,e){const n=t.toString();return vt[n]||(vt[n]=e()),vt[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){this.pendingResponses[t]=e;while(this.pendingResponses[this.currentResponseNum]){const t=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let e=0;e<t.length;++e)t[e]&&$((()=>{this.onMessage_(t[e])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="start",bt="close",wt="pLPCommand",kt="pRTLPCB",xt="id",Et="pw",St="ser",Tt="cb",Ot="seg",Ct="ts",It="d",Nt="dframe",Mt=1870,At=30,Dt=Mt-At,Pt=25e3,Rt=3e4;class Lt{constructor(t,e,n,i,r,o,s){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=gt(e),this.urlFn=t=>(this.appCheckToken&&(t[at]=this.appCheckToken),dt(e,ut,t))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new yt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(Rt)),N((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ft(((...t)=>{const[e,n,i,r,o]=t;if(this.incrementIncomingBytes_(t),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,e===_t)this.id=n,this.password=i;else{if(e!==bt)throw new Error("Unrecognized command received: "+e);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...t)=>{const[e,n]=t;this.incrementIncomingBytes_(t),this.myPacketOrderer.handleResponse(e,n)}),(()=>{this.onClosed_()}),this.urlFn);const t={};t[_t]="t",t[St]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(t[Tt]=this.scriptTagHolder.uniqueCallbackIdentifier),t[tt]=J,this.transportSessionId&&(t[et]=this.transportSessionId),this.lastSessionId&&(t[ot]=this.lastSessionId),this.applicationId&&(t[st]=this.applicationId),this.appCheckToken&&(t[at]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&rt.test(location.hostname)&&(t[nt]=it);const e=this.urlFn(t);this.log_("Connecting via long-poll to "+e),this.scriptTagHolder.addTag(e,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lt.forceAllow_=!0}static forceDisallow(){Lt.forceDisallow_=!0}static isAvailable(){return!(0,o.$g)()&&(!!Lt.forceAllow_||!Lt.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!B()&&!U())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,o.As)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,o.KA)(e),i=F(n,Dt);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,o.$g)())return;this.myDisconnFrame=document.createElement("iframe");const n={};n[Nt]="t",n[xt]=t,n[Et]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,o.As)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Ft{constructor(t,e,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.$g)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=m(),window[wt+this.uniqueCallbackIdentifier]=t,window[kt+this.uniqueCallbackIdentifier]=e,this.myIFrame=Ft.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){const t=document.domain;n='<script>document.domain="'+t+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){x("frame writing exception"),r.stack&&x(r.stack),x(r)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{const e=t.contentWindow.document;e||x("No IE domain setting required")}catch(e){const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){this.myID=t,this.myPW=e,this.alive=!0;while(this.newRequest_());}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[xt]=this.myID,t[Et]=this.myPW,t[St]=this.currentSerial;let e=this.urlFn(t),n="",i=0;while(this.pendingSegs.length>0){const t=this.pendingSegs[0];if(!(t.d.length+At+n.length<=Mt))break;{const t=this.pendingSegs.shift();n=n+"&"+Ot+i+"="+t.seg+"&"+Ct+i+"="+t.ts+"&"+It+i+"="+t.d,i++}}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(n,Math.floor(Pt)),r=()=>{clearTimeout(i),n()};this.addTag(t,r)}addTag(t,e){(0,o.$g)()?this.doNodeLongPoll(t,e):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{x("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt=16384,zt=45e3;let Bt=null;"undefined"!==typeof MozWebSocket?Bt=MozWebSocket:"undefined"!==typeof WebSocket&&(Bt=WebSocket);class Ut{constructor(t,e,n,i,r,o,s){this.connId=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=gt(e),this.connURL=Ut.connectionURL_(e,o,s,i,n),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,n,i,r){const s={};return s[tt]=J,!(0,o.$g)()&&"undefined"!==typeof location&&location.hostname&&rt.test(location.hostname)&&(s[nt]=it),e&&(s[et]=e),n&&(s[ot]=n),i&&(s[at]=i),r&&(s[st]=r),dt(t,lt,s)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{let t;if((0,o.$g)()){const e=this.nodeAdmin?"AdminNode":"Node";t={headers:{"User-Agent":`Firebase/${J}/${u}/${process.platform}/${e}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(t.headers["Authorization"]=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",BASE_URL:""},i=0===this.connURL.indexOf("wss://")?n["HTTPS_PROXY"]||n["https_proxy"]:n["HTTP_PROXY"]||n["http_proxy"];i&&(t["proxy"]={origin:i})}this.mySock=new Bt(this.connURL,[],t)}catch(n){this.log_("Error instantiating WebSocket.");const t=n.message||n.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=t=>{this.handleIncomingFrame(t)},this.mySock.onerror=t=>{this.log_("WebSocket error.  Closing connection.");const e=t.message||t.data;e&&this.log_(e),this.onClosed_()}}start(){}static forceDisallow(){Ut.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(e);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Bt&&!Ut.forceDisallow_}static previouslyFailed(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")}markConnectionHealthy(){p.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const e=(0,o.$L)(t);this.onMessage(e)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,o.vA)(null===this.frames,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const e=t["data"];if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{const t=this.extractFrameCount_(e);null!==t&&this.appendFrame_(t)}}send(t){this.resetKeepAlive();const e=(0,o.As)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=F(e,jt);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(zt))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ut.responsesRequiredToBeHealthy=2,Ut.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ht{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Lt,Ut]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const e=Ut&&Ut["isAvailable"]();let n=e&&!Ut.previouslyFailed();if(t.webSocketOnly&&(e||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Ut];else{const t=this.transports_=[];for(const e of Ht.ALL_TRANSPORTS)e&&e["isAvailable"]()&&t.push(e);Ht.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ht.globalTransportInitialized_=!1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Wt=6e4,Yt=5e3,Vt=10240,Gt=102400,$t="t",qt="d",Kt="s",Zt="r",Xt="e",Qt="o",Jt="a",te="n",ee="p",ne="h";class ie{constructor(t,e,n,i,r,o,s,a,l,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Ht(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(e,n)}),Math.floor(0));const i=t["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=K((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Gt?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Vt?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if($t in t){const e=t[$t];e===Jt?this.upgradeIfSecondaryHealthy_():e===Zt?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):e===Qt&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=R("t",t),n=R("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ee,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Jt,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:te,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=R("t",t),n=R("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=R($t,t);if(qt in t){const n=t[qt];if(e===ne){const t=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(t.h=this.repoInfo_.host),this.onHandshake_(t)}else if(e===te){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let t=0;t<this.pendingDataMessages.length;++t)this.onDataMessage_(this.pendingDataMessages[t]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===Kt?this.onConnectionShutdown_(n):e===Zt?this.onReset_(n):e===Xt?S("Server Error: "+n):e===Qt?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),J!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),K((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(Wt))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):K((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(Yt))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ee,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{put(t,e,n,i){}merge(t,e,n,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,o.vA)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let t=0;t<n.length;t++)n[t].callback.apply(n[t].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const i=this.getInitialEvent(t);i&&e.apply(n,i)}off(t,e,n){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(t){(0,o.vA)(this.allowedEvents_.find((e=>e===t)),"Unknown event: "+t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se extends oe{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.jZ)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new se}getInitialEvent(t){return(0,o.vA)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae=32,le=768;class ue{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let e=0;for(let t=0;t<this.pieces_.length;t++)this.pieces_[t].length>0&&(this.pieces_[e]=this.pieces_[t],e++);this.pieces_.length=e,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function ce(){return new ue("")}function he(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function de(t){return t.pieces_.length-t.pieceNum_}function fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function pe(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ve(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ge(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function me(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function ye(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof ue)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const t=e.split("/");for(let e=0;e<t.length;e++)t[e].length>0&&n.push(t[e])}return new ue(n,0)}function _e(t){return t.pieceNum_>=t.pieces_.length}function be(t,e){const n=he(t),i=he(e);if(null===n)return e;if(n===i)return be(fe(t),fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function we(t,e){if(de(t)!==de(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function ke(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(de(t)>de(e))return!1;while(n<t.pieces_.length){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class xe{constructor(t,e){this.errorPrefix_=e,this.parts_=ge(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.OE)(this.parts_[n]);Te(this)}}function Ee(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.OE)(e),Te(t)}function Se(t){const e=t.parts_.pop();t.byteLength_-=(0,o.OE)(e),t.parts_.length>0&&(t.byteLength_-=1)}function Te(t){if(t.byteLength_>le)throw new Error(t.errorPrefix_+"has a key path longer than "+le+" bytes ("+t.byteLength_+").");if(t.parts_.length>ae)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ae+") or object contains a cycle "+Oe(t))}function Oe(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce extends oe{constructor(){let t,e;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(e="visibilitychange",t="hidden"):"undefined"!==typeof document["mozHidden"]?(e="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document["msHidden"]?(e="msvisibilitychange",t="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,(()=>{const e=!document[t];e!==this.visible_&&(this.visible_=e,this.trigger("visible",e))}),!1)}static getInstance(){return new Ce}getInitialEvent(t){return(0,o.vA)("visible"===t,"Unknown event type: "+t),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=1e3,Ne=3e5,Me=3e4,Ae=1.3,De=3e4,Pe="server_kill",Re=3;class Le extends re{constructor(t,e,n,i,r,s,a,l){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Le.nextPersistentConnectionId_++,this.log_=E("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ie,this.maxReconnectDelay_=Ne,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,o.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ce.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&se.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,n){const i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_((0,o.As)(r)),(0,o.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(t){this.initConnection_();const e=new o.cY,n={p:t._path.toString(),q:t._queryObject},i={action:"g",request:n,onComplete:t=>{const n=t["d"];"ok"===t["s"]?e.resolve(n):e.reject(n)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),e.promise}listen(t,e,n,i){this.initConnection_();const r=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),(0,o.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.vA)(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(s).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,(n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(n)}))}sendListen_(t){const e=t.query,n=e._path.toString(),i=e._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n},o="q";t.tag&&(r["q"]=e._queryObject,r["t"]=t.tag),r["h"]=t.hashFn(),this.sendRequest(o,r,(r=>{const o=r["d"],s=r["s"];Le.warnOnListenWarnings_(o,e);const a=this.listens.get(n)&&this.listens.get(n).get(i);a===t&&(this.log_("listen response",r),"ok"!==s&&this.removeListen_(n,i),t.onComplete&&t.onComplete(s,o))}))}static warnOnListenWarnings_(t,e){if(t&&"object"===typeof t&&(0,o.gR)(t,"w")){const n=(0,o.yw)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const t='".indexOn": "'+e._queryParams.getIndex().toString()+'"',n=e._path.toString();O(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${t} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){const e=t&&40===t.length;(e||(0,o.qc)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Me)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=(0,o.Cv)(t)?"auth":"gauth",n={cred:t};null===this.authOverride_?n["noauth"]=!0:"object"===typeof this.authOverride_&&(n["authvar"]=this.authOverride_),this.sendRequest(e,n,(e=>{const n=e["s"],i=e["d"]||"error";this.authToken_===t&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(t=>{const e=t["s"],n=t["d"]||"error";"ok"===e?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,n)}))}unlisten(t,e){const n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),(0,o.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");const r=this.removeListen_(n,i);r&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,e)}sendUnlisten_(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);const r={p:t},o="n";i&&(r["q"]=n,r["t"]=i),this.sendRequest(o,r)}onDisconnectPut(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})}onDisconnectMerge(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,n,i){const r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(t=>{i&&setTimeout((()=>{i(t["s"],t["d"])}),Math.floor(0))}))}put(t,e,n,i){this.putInternal("p",t,e,n,i)}merge(t,e,n,i){this.putInternal("m",t,e,n,i)}putInternal(t,e,n,i,r){this.initConnection_();const o={p:e,d:n};void 0!==r&&(o["h"]=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,n,(n=>{this.log_(e+" response",n),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n["s"],n["d"])}))}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,(t=>{const e=t["s"];if("ok"!==e){const e=t["d"];this.log_("reportStats","Error sending stats: "+e)}}))}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,o.As)(t));const e=t["r"],n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t["b"]))}else{if("error"in t)throw"A server-side error has occurred: "+t["error"];"a"in t&&this.onDataPush_(t["a"],t["b"])}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e["p"],e["d"],!1,e["t"]):"m"===t?this.onDataUpdate_(e["p"],e["d"],!0,e["t"]):"c"===t?this.onListenRevoked_(e["p"],e["q"]):"ac"===t?this.onAuthRevoked_(e["s"],e["d"]):"apc"===t?this.onAppCheckRevoked_(e["s"],e["d"]):"sd"===t?this.onSecurityDebugPacket_(e):S("Unrecognized action received from server: "+(0,o.As)(t)+"\nAre you using the latest client?")}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,o.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ie,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ie,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){const t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>De&&(this.reconnectDelay_=Ie),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ae)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Le.nextConnectionId_++,r=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},u=function(t){(0,o.vA)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(t)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,a=new ie(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,n,(t=>{O(t+" ("+this.repoInfo_.toString()+")"),this.interrupt(Pe)}),r))}catch(S){this.log_("Failed to get token: "+S),s||(this.repoInfo_.nodeAdmin&&O(S),l())}}}interrupt(t){x("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){x("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Ie,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let n;n=e?e.map((t=>L(t))).join("$"):"default";const i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,e){const n=new ue(t).toString();let i;if(this.listens.has(n)){const t=this.listens.get(n);i=t.get(e),t.delete(e),0===t.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(t,e){x("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Re&&(this.reconnectDelay_=Me,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){x("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Re&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t["msg"].replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);while(this.onDisconnectRequestQueue_.length){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";(0,o.$g)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+u.replace(/\./g,"-")]=1,(0,o.jZ)()?t["framework.cordova"]=1:(0,o.lV)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=se.getInstance().currentlyOnline();return(0,o.Im)(this.interruptReasons_)&&t}}Le.nextPersistentConnectionId_=0,Le.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fe{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Fe(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new Fe(M,t),i=new Fe(M,e);return 0!==this.compare(n,i)}minPost(){return Fe.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ze;class Be extends je{static get __EMPTY_NODE(){return ze}static set __EMPTY_NODE(t){ze=t}compare(t,e){return D(t.name,e.name)}isDefinedOn(t){throw(0,o.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Fe.MIN}maxPost(){return new Fe(A,ze)}makePost(t,e){return(0,o.vA)("string"===typeof t,"KeyIndex indexValue must always be a string."),new Fe(t,ze)}toString(){return".key"}}const Ue=new Be;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,e,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;while(!t.isEmpty())if(o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_){e=e.left;while(!e.isEmpty())this.nodeStack_.push(e),e=e.right}else{e=e.right;while(!e.isEmpty())this.nodeStack_.push(e),e=e.left}return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class We{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:We.RED,this.left=null!=i?i:Ve.EMPTY_NODE,this.right=null!=r?r:Ve.EMPTY_NODE}copy(t,e,n,i,r){return new We(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ve.EMPTY_NODE;let t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let n,i;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ve.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}We.RED=!0,We.BLACK=!1;class Ye{copy(t,e,n,i,r){return this}insert(t,e,n){return new We(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ve{constructor(t,e=Ve.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ve(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(t){return new Ve(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,We.BLACK,null,null))}get(t){let e,n=this.root_;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,i=null;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return i?i.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new He(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new He(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new He(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new He(this.root_,null,this.comparator_,!0,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ge(t,e){return D(t.name,e.name)}function $e(t,e){return D(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qe;function Ke(t){qe=t}Ve.EMPTY_NODE=new Ye;const Ze=function(t){return"number"===typeof t?"number:"+z(t):"string:"+t},Xe=function(t){if(t.isLeafNode()){const e=t.val();(0,o.vA)("string"===typeof e||"number"===typeof e||"object"===typeof e&&(0,o.gR)(e,".sv"),"Priority must be a string or number.")}else(0,o.vA)(t===qe||t.isEmpty(),"priority of unexpected type.");(0,o.vA)(t===qe||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Qe,Je,tn;class en{constructor(t,e=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,(0,o.vA)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Xe(this.priorityNode_)}static set __childrenNodeConstructor(t){Qe=t}static get __childrenNodeConstructor(){return Qe}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new en(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return _e(t)?this:".priority"===he(t)?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const n=he(t);return null===n?e:e.isEmpty()&&".priority"!==n?this:((0,o.vA)(".priority"!==n||1===de(t),".priority must be the last token in a path"),this.updateImmediateChild(n,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ze(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===en.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof en.__childrenNodeConstructor?-1:((0,o.vA)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,n=typeof this.value_,i=en.VALUE_TYPE_ORDER.indexOf(e),r=en.VALUE_TYPE_ORDER.indexOf(n);return(0,o.vA)(i>=0,"Unknown leaf type: "+e),(0,o.vA)(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1}}function nn(t){Je=t}function rn(t){tn=t}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];class on extends je{compare(t,e){const n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?D(t.name,e.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Fe.MIN}maxPost(){return new Fe(A,new en("[PRIORITY-POST]",tn))}makePost(t,e){const n=Je(t);return new Fe(e,new en("[PRIORITY-POST]",n))}toString(){return".priority"}}const sn=new on,an=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){const e=t=>parseInt(Math.log(t)/an,10),n=t=>parseInt(Array(t+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const i=n(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const un=function(t,e,n,i){t.sort(e);const r=function(e,i){const o=i-e;let s,a;if(0===o)return null;if(1===o)return s=t[e],a=n?n(s):s,new We(a,s.node,We.BLACK,null,null);{const l=parseInt(o/2,10)+e,u=r(e,l),c=r(l+1,i);return s=t[l],a=n?n(s):s,new We(a,s.node,We.BLACK,u,c)}},o=function(e){let i=null,o=null,s=t.length;const a=function(e,i){const o=s-e,a=s;s-=e;const u=r(o+1,a),c=t[o],h=n?n(c):c;l(new We(h,c.node,i,null,u))},l=function(t){i?(i.left=t,i=t):(o=t,i=t)};for(let t=0;t<e.count;++t){const n=e.nextBitIsOne(),i=Math.pow(2,e.count-(t+1));n?a(i,We.BLACK):(a(i,We.BLACK),a(i,We.RED))}return o},s=new ln(t.length),a=o(s);return new Ve(i||e,a)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cn;const hn={};class dn{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,o.vA)(hn&&sn,"ChildrenNode.ts has not been loaded"),cn=cn||new dn({".priority":hn},{".priority":sn}),cn}get(t){const e=(0,o.yw)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ve?e:null}hasIndex(t){return(0,o.gR)(this.indexSet_,t.toString())}addIndex(t,e){(0,o.vA)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=e.getIterator(Fe.Wrap);let s,a=r.getNext();while(a)i=i||t.isDefinedOn(a.node),n.push(a),a=r.getNext();s=i?un(n,t.getCompare()):hn;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=s,new dn(c,u)}addToIndexes(t,e){const n=(0,o.kH)(this.indexes_,((n,i)=>{const r=(0,o.yw)(this.indexSet_,i);if((0,o.vA)(r,"Missing index implementation for "+i),n===hn){if(r.isDefinedOn(t.node)){const n=[],i=e.getIterator(Fe.Wrap);let o=i.getNext();while(o)o.name!==t.name&&n.push(o),o=i.getNext();return n.push(t),un(n,r.getCompare())}return hn}{const i=e.get(t.name);let r=n;return i&&(r=r.remove(new Fe(t.name,i))),r.insert(t,t.node)}}));return new dn(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,o.kH)(this.indexes_,(n=>{if(n===hn)return n;{const i=e.get(t.name);return i?n.remove(new Fe(t.name,i)):n}}));return new dn(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn;class pn{constructor(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Xe(this.priorityNode_),this.children_.isEmpty()&&(0,o.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fn||(fn=new pn(new Ve($e),null,dn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fn}updatePriority(t){return this.children_.isEmpty()?this:new pn(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const e=this.children_.get(t);return null===e?fn:e}}getChild(t){const e=he(t);return null===e?this:this.getImmediateChild(e).getChild(fe(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,e){if((0,o.vA)(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);{const n=new Fe(t,e);let i,r;e.isEmpty()?(i=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(t,e),r=this.indexMap_.addToIndexes(n,this.children_));const o=i.isEmpty()?fn:this.priorityNode_;return new pn(i,o,r)}}updateChild(t,e){const n=he(t);if(null===n)return e;{(0,o.vA)(".priority"!==he(t)||1===de(t),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(fe(t),e);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let n=0,i=0,r=!0;if(this.forEachChild(sn,((o,s)=>{e[o]=s.val(t),n++,r&&pn.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1})),!t&&r&&i<2*n){const t=[];for(const n in e)t[n]=e[n];return t}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Ze(this.getPriority().val())+":"),this.forEachChild(sn,((e,n)=>{const i=n.hash();""!==i&&(t+=":"+e+":"+i)})),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_}getPredecessorChildName(t,e,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Fe(t,e));return n?n.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.minKey();return t&&t.name}return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new Fe(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.maxKey();return t&&t.name}return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new Fe(e,this.children_.get(e)):null}forEachChild(t,e){const n=this.resolveIndex_(t);return n?n.inorderTraversal((t=>e(t.name,t.node))):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(t=>t));{const n=this.children_.getIteratorFrom(t.name,Fe.Wrap);let i=n.peek();while(null!=i&&e.compare(i,t)<0)n.getNext(),i=n.peek();return n}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(t=>t));{const n=this.children_.getReverseIteratorFrom(t.name,Fe.Wrap);let i=n.peek();while(null!=i&&e.compare(i,t)>0)n.getNext(),i=n.peek();return n}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===gn?-1:0}withIndex(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new pn(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===Ue||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){const t=this.getIterator(sn),n=e.getIterator(sn);let i=t.getNext(),r=n.getNext();while(i&&r){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=t.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(t){return t===Ue?null:this.indexMap_.get(t.toString())}}pn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vn extends pn{constructor(){super(new Ve($e),pn.EMPTY_NODE,dn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return pn.EMPTY_NODE}isEmpty(){return!1}}const gn=new vn;Object.defineProperties(Fe,{MIN:{value:new Fe(M,pn.EMPTY_NODE)},MAX:{value:new Fe(A,gn)}}),Be.__EMPTY_NODE=pn.EMPTY_NODE,en.__childrenNodeConstructor=pn,Ke(gn),rn(gn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const mn=!0;function yn(t,e=null){if(null===t)return pn.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.vA)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t){const n=t;return new en(n,yn(e))}if(t instanceof Array||!mn){let n=pn.EMPTY_NODE;return j(t,((e,i)=>{if((0,o.gR)(t,e)&&"."!==e.substring(0,1)){const t=yn(i);!t.isLeafNode()&&t.isEmpty()||(n=n.updateImmediateChild(e,t))}})),n.updatePriority(yn(e))}{const n=[];let i=!1;const r=t;if(j(r,((t,e)=>{if("."!==t.substring(0,1)){const r=yn(e);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new Fe(t,r)))}})),0===n.length)return pn.EMPTY_NODE;const o=un(n,Ge,(t=>t.name),$e);if(i){const t=un(n,sn.getCompare());return new pn(o,yn(e),new dn({".priority":t},{".priority":sn}))}return new pn(o,yn(e),dn.Default)}}nn(yn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _n extends je{constructor(t){super(),this.indexPath_=t,(0,o.vA)(!_e(t)&&".priority"!==he(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?D(t.name,e.name):r}makePost(t,e){const n=yn(t),i=pn.EMPTY_NODE.updateChild(this.indexPath_,n);return new Fe(e,i)}maxPost(){const t=pn.EMPTY_NODE.updateChild(this.indexPath_,gn);return new Fe(A,t)}toString(){return ge(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends je{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?D(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Fe.MIN}maxPost(){return Fe.MAX}makePost(t,e){const n=yn(t);return new Fe(e,n)}toString(){return".value"}}const wn=new bn;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){return{type:"value",snapshotNode:t}}function xn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function En(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Sn(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Tn(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.index_=t}updateChild(t,e,n,i,r,s){(0,o.vA)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(En(e,a)):(0,o.vA)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(xn(e,n)):s.trackChildChange(Sn(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(sn,((t,i)=>{e.hasChild(t)||n.trackChildChange(En(t,i))})),e.isLeafNode()||e.forEachChild(sn,((e,i)=>{if(t.hasChild(e)){const r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(Sn(e,i,r))}else n.trackChildChange(xn(e,i))}))),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?pn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.indexedFilter_=new On(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Cn.getStartPost_(t),this.endPost_=Cn.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&n}updateChild(t,e,n,i,r,o){return this.matches(new Fe(e,n))||(n=pn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)}updateFullNode(t,e,n){e.isLeafNode()&&(e=pn.EMPTY_NODE);let i=e.withIndex(this.index_);i=i.updatePriority(pn.EMPTY_NODE);const r=this;return e.forEachChild(sn,((t,e)=>{r.matches(new Fe(t,e))||(i=i.updateImmediateChild(t,pn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,i,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const e=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?e<=0:e<0},this.withinEndPost=t=>{const e=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?e<=0:e<0},this.rangedFilter_=new Cn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,n,i,r,o){return this.rangedFilter_.matches(new Fe(e,n))||(n=pn.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)}updateFullNode(t,e,n){let i;if(e.isLeafNode()||e.isEmpty())i=pn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let t;i=pn.EMPTY_NODE.withIndex(this.index_),t=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;while(t.hasNext()&&n<this.limit_){const e=t.getNext();if(this.withinDirectionalStart(e)){if(!this.withinDirectionalEnd(e))break;i=i.updateImmediateChild(e.name,e.node),n++}}}else{let t;i=e.withIndex(this.index_),i=i.updatePriority(pn.EMPTY_NODE),t=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;while(t.hasNext()){const e=t.getNext(),r=n<this.limit_&&this.withinDirectionalStart(e)&&this.withinDirectionalEnd(e);r?n++:i=i.updateImmediateChild(e.name,pn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,i,r){let s;if(this.reverse_){const t=this.index_.getCompare();s=(e,n)=>t(n,e)}else s=this.index_.getCompare();const a=t;(0,o.vA)(a.numChildren()===this.limit_,"");const l=new Fe(e,n),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(e)){const t=a.getImmediateChild(e);let o=i.getChildAfterChild(this.index_,u,this.reverse_);while(null!=o&&(o.name===e||a.hasChild(o.name)))o=i.getChildAfterChild(this.index_,o,this.reverse_);const h=null==o?1:s(o,l),d=c&&!n.isEmpty()&&h>=0;if(d)return null!=r&&r.trackChildChange(Sn(e,n,t)),a.updateImmediateChild(e,n);{null!=r&&r.trackChildChange(En(e,t));const n=a.updateImmediateChild(e,pn.EMPTY_NODE),i=null!=o&&this.rangedFilter_.matches(o);return i?(null!=r&&r.trackChildChange(xn(o.name,o.node)),n.updateImmediateChild(o.name,o.node)):n}}return n.isEmpty()?t:c&&s(u,l)>=0?(null!=r&&(r.trackChildChange(En(u.name,u.node)),r.trackChildChange(xn(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(u.name,pn.EMPTY_NODE)):t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,o.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,o.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:M}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,o.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,o.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,o.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sn}copy(){const t=new Nn;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Mn(t){return t.loadsAllData()?new On(t.getIndex()):t.hasLimit()?new In(t):new Cn(t)}function An(t){const e={};if(t.isDefault())return e;let n;if(t.index_===sn?n="$priority":t.index_===wn?n="$value":t.index_===Ue?n="$key":((0,o.vA)(t.index_ instanceof _n,"Unrecognized index type!"),n=t.index_.toString()),e["orderBy"]=(0,o.As)(n),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=(0,o.As)(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+(0,o.As)(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=(0,o.As)(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+(0,o.As)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e["limitToFirst"]=t.limit_:e["limitToLast"]=t.limit_),e}function Dn(t){const e={};if(t.startSet_&&(e["sp"]=t.indexStartValue_,t.startNameSet_&&(e["sn"]=t.indexStartName_),e["sin"]=!t.startAfterSet_),t.endSet_&&(e["ep"]=t.indexEndValue_,t.endNameSet_&&(e["en"]=t.indexEndName_),e["ein"]=!t.endBeforeSet_),t.limitSet_){e["l"]=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e["vf"]=n}return t.index_!==sn&&(e["i"]=t.index_.toString()),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends re{constructor(t,e,n,i){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=E("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,o.vA)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,i){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const s=Pn.getListenId_(t,n),a={};this.listens_[s]=a;const l=An(t._queryParams);this.restRequest_(r+".json",l,((t,e)=>{let l=e;if(404===t&&(l=null,t=null),null===t&&this.onDataUpdate_(r,l,!1,n),(0,o.yw)(this.listens_,s)===a){let e;e=t?401===t?"permission_denied":"rest_error:"+t:"ok",i(e,null)}}))}unlisten(t,e){const n=Pn.getListenId_(t,e);delete this.listens_[n]}get(t){const e=An(t._queryParams),n=t._path.toString(),i=new o.cY;return this.restRequest_(n+".json",e,((t,e)=>{let r=e;404===t&&(r=null,t=null),null===t?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))})),i.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([i,r])=>{i&&i.accessToken&&(e["auth"]=i.accessToken),r&&r.token&&(e["ac"]=r.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,o.Am)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=(0,o.$L)(a.responseText)}catch(t){O("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&O("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(){this.rootNode_=pn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return{value:null,children:new Map}}function Fn(t,e,n){if(_e(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const i=he(e);t.children.has(i)||t.children.set(i,Ln());const r=t.children.get(i);e=fe(e),Fn(r,e,n)}}function jn(t,e,n){null!==t.value?n(e,t.value):zn(t,((t,i)=>{const r=new ue(e.toString()+"/"+t);jn(i,r,n)}))}function zn(t,e){t.children.forEach(((t,n)=>{e(n,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&j(this.last_,((t,n)=>{e[t]=e[t]-n})),this.last_=t,e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=1e4,Hn=3e4,Wn=3e5;class Yn{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Bn(t);const n=Un+(Hn-Un)*Math.random();K(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;j(t,((t,i)=>{i>0&&(0,o.gR)(this.statsToReport_,t)&&(e[t]=i,n=!0)})),n&&this.server_.reportStats(e),K(this.reportStats_.bind(this),Math.floor(2*Math.random()*Wn))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn;function Gn(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $n(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qn(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["OVERWRITE"]=0]="OVERWRITE",t[t["MERGE"]=1]="MERGE",t[t["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",t[t["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(Vn||(Vn={}));class Kn{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Vn.ACK_USER_WRITE,this.source=Gn()}operationForChild(t){if(_e(this.path)){if(null!=this.affectedTree.value)return(0,o.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ue(t));return new Kn(ce(),e,this.revert)}}return(0,o.vA)(he(this.path)===t,"operationForChild called for unrelated child."),new Kn(fe(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,e){this.source=t,this.path=e,this.type=Vn.LISTEN_COMPLETE}operationForChild(t){return _e(this.path)?new Zn(this.source,ce()):new Zn(this.source,fe(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Vn.OVERWRITE}operationForChild(t){return _e(this.path)?new Xn(this.source,ce(),this.snap.getImmediateChild(t)):new Xn(this.source,fe(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Vn.MERGE}operationForChild(t){if(_e(this.path)){const e=this.children.subtree(new ue(t));return e.isEmpty()?null:e.value?new Xn(this.source,ce(),e.value):new Qn(this.source,ce(),e)}return(0,o.vA)(he(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qn(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(_e(t))return this.isFullyInitialized()&&!this.filtered_;const e=he(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ei(t,e,n,i){const r=[],o=[];return e.forEach((e=>{"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(Tn(e.childName,e.snapshotNode))})),ni(t,r,"child_removed",e,i,n),ni(t,r,"child_added",e,i,n),ni(t,r,"child_moved",o,i,n),ni(t,r,"child_changed",e,i,n),ni(t,r,"value",e,i,n),r}function ni(t,e,n,i,r,o){const s=i.filter((t=>t.type===n));s.sort(((e,n)=>ri(t,e,n))),s.forEach((n=>{const i=ii(t,n,o);r.forEach((r=>{r.respondsTo(n.type)&&e.push(r.createEvent(i,t.query_))}))}))}function ii(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ri(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.Hk)("Should only compare child_ events.");const i=new Fe(e.childName,e.snapshotNode),r=new Fe(n.childName,n.snapshotNode);return t.index_.compare(i,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){return{eventCache:t,serverCache:e}}function si(t,e,n,i){return oi(new Jn(e,n,i),t.serverCache)}function ai(t,e,n,i){return oi(t.eventCache,new Jn(e,n,i))}function li(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ui(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci;const hi=()=>(ci||(ci=new Ve(P)),ci);class di{constructor(t,e=hi()){this.value=t,this.children=e}static fromObject(t){let e=new di(null);return j(t,((t,n)=>{e=e.set(new ue(t),n)})),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:ce(),value:this.value};if(_e(t))return null;{const n=he(t),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(fe(t),e);if(null!=r){const t=ye(new ue(n),r.path);return{path:t,value:r.value}}return null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,(()=>!0))}subtree(t){if(_e(t))return this;{const e=he(t),n=this.children.get(e);return null!==n?n.subtree(fe(t)):new di(null)}}set(t,e){if(_e(t))return new di(e,this.children);{const n=he(t),i=this.children.get(n)||new di(null),r=i.set(fe(t),e),o=this.children.insert(n,r);return new di(this.value,o)}}remove(t){if(_e(t))return this.children.isEmpty()?new di(null):new di(null,this.children);{const e=he(t),n=this.children.get(e);if(n){const i=n.remove(fe(t));let r;return r=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&r.isEmpty()?new di(null):new di(this.value,r)}return this}}get(t){if(_e(t))return this.value;{const e=he(t),n=this.children.get(e);return n?n.get(fe(t)):null}}setTree(t,e){if(_e(t))return e;{const n=he(t),i=this.children.get(n)||new di(null),r=i.setTree(fe(t),e);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new di(this.value,o)}}fold(t){return this.fold_(ce(),t)}fold_(t,e){const n={};return this.children.inorderTraversal(((i,r)=>{n[i]=r.fold_(ye(t,i),e)})),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,ce(),e)}findOnPath_(t,e,n){const i=!!this.value&&n(e,this.value);if(i)return i;if(_e(t))return null;{const i=he(t),r=this.children.get(i);return r?r.findOnPath_(fe(t),ye(e,i),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,ce(),e)}foreachOnPath_(t,e,n){if(_e(t))return this;{this.value&&n(e,this.value);const i=he(t),r=this.children.get(i);return r?r.foreachOnPath_(fe(t),ye(e,i),n):new di(null)}}foreach(t){this.foreach_(ce(),t)}foreach_(t,e){this.children.inorderTraversal(((n,i)=>{i.foreach_(ye(t,n),e)})),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal(((e,n)=>{n.value&&t(e,n.value)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this.writeTree_=t}static empty(){return new fi(new di(null))}}function pi(t,e,n){if(_e(e))return new fi(new di(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=be(r,e);return o=o.updateChild(s,n),new fi(t.writeTree_.set(r,o))}{const i=new di(n),r=t.writeTree_.setTree(e,i);return new fi(r)}}}function vi(t,e,n){let i=t;return j(n,((t,n)=>{i=pi(i,ye(e,t),n)})),i}function gi(t,e){if(_e(e))return fi.empty();{const n=t.writeTree_.setTree(e,new di(null));return new fi(n)}}function mi(t,e){return null!=yi(t,e)}function yi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(be(n.path,e)):null}function _i(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(sn,((t,n)=>{e.push(new Fe(t,n))})):t.writeTree_.children.inorderTraversal(((t,n)=>{null!=n.value&&e.push(new Fe(t,n.value))})),e}function bi(t,e){if(_e(e))return t;{const n=yi(t,e);return new fi(null!=n?new di(n):t.writeTree_.subtree(e))}}function wi(t){return t.writeTree_.isEmpty()}function ki(t,e){return xi(ce(),t.writeTree_,e)}function xi(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal(((e,r)=>{".priority"===e?((0,o.vA)(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=xi(ye(t,e),r,n)})),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(ye(t,".priority"),i)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){return Gi(e,t)}function Si(t,e,n,i,r){(0,o.vA)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=pi(t.visibleWrites,e,n)),t.lastWriteId=i}function Ti(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function Oi(t,e){const n=t.allWrites.findIndex((t=>t.writeId===e));(0,o.vA)(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,a=t.allWrites.length-1;while(r&&a>=0){const e=t.allWrites[a];e.visible&&(a>=n&&Ci(e,i.path)?r=!1:ke(i.path,e.path)&&(s=!0)),a--}if(r){if(s)return Ii(t),!0;if(i.snap)t.visibleWrites=gi(t.visibleWrites,i.path);else{const e=i.children;j(e,(e=>{t.visibleWrites=gi(t.visibleWrites,ye(i.path,e))}))}return!0}return!1}function Ci(t,e){if(t.snap)return ke(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ke(ye(t.path,n),e))return!0;return!1}function Ii(t){t.visibleWrites=Mi(t.allWrites,Ni,ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Ni(t){return t.visible}function Mi(t,e,n){let i=fi.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const t=s.path;let e;if(s.snap)ke(n,t)?(e=be(n,t),i=pi(i,e,s.snap)):ke(t,n)&&(e=be(t,n),i=pi(i,ce(),s.snap.getChild(e)));else{if(!s.children)throw(0,o.Hk)("WriteRecord should have .snap or .children");if(ke(n,t))e=be(n,t),i=vi(i,e,s.children);else if(ke(t,n))if(e=be(t,n),_e(e))i=vi(i,ce(),s.children);else{const t=(0,o.yw)(s.children,he(e));if(t){const n=t.getChild(fe(e));i=pi(i,ce(),n)}}}}}return i}function Ai(t,e,n,i,r){if(i||r){const o=bi(t.visibleWrites,e);if(!r&&wi(o))return n;if(r||null!=n||mi(o,ce())){const o=function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(ke(t.path,e)||ke(e,t.path))},s=Mi(t.allWrites,o,e),a=n||pn.EMPTY_NODE;return ki(s,a)}return null}{const i=yi(t.visibleWrites,e);if(null!=i)return i;{const i=bi(t.visibleWrites,e);if(wi(i))return n;if(null!=n||mi(i,ce())){const t=n||pn.EMPTY_NODE;return ki(i,t)}return null}}}function Di(t,e,n){let i=pn.EMPTY_NODE;const r=yi(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(sn,((t,e)=>{i=i.updateImmediateChild(t,e)})),i;if(n){const r=bi(t.visibleWrites,e);return n.forEachChild(sn,((t,e)=>{const n=ki(bi(r,new ue(t)),e);i=i.updateImmediateChild(t,n)})),_i(r).forEach((t=>{i=i.updateImmediateChild(t.name,t.node)})),i}{const n=bi(t.visibleWrites,e);return _i(n).forEach((t=>{i=i.updateImmediateChild(t.name,t.node)})),i}}function Pi(t,e,n,i,r){(0,o.vA)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ye(e,n);if(mi(t.visibleWrites,s))return null;{const e=bi(t.visibleWrites,s);return wi(e)?r.getChild(n):ki(e,r.getChild(n))}}function Ri(t,e,n,i){const r=ye(e,n),o=yi(t.visibleWrites,r);if(null!=o)return o;if(i.isCompleteForChild(n)){const e=bi(t.visibleWrites,r);return ki(e,i.getNode().getImmediateChild(n))}return null}function Li(t,e){return yi(t.visibleWrites,e)}function Fi(t,e,n,i,r,o,s){let a;const l=bi(t.visibleWrites,e),u=yi(l,ce());if(null!=u)a=u;else{if(null==n)return[];a=ki(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const t=[],e=s.getCompare(),n=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let l=n.getNext();while(l&&t.length<r)0!==e(l,i)&&t.push(l),l=n.getNext();return t}}function ji(){return{visibleWrites:fi.empty(),allWrites:[],lastWriteId:-1}}function zi(t,e,n,i){return Ai(t.writeTree,t.treePath,e,n,i)}function Bi(t,e){return Di(t.writeTree,t.treePath,e)}function Ui(t,e,n,i){return Pi(t.writeTree,t.treePath,e,n,i)}function Hi(t,e){return Li(t.writeTree,ye(t.treePath,e))}function Wi(t,e,n,i,r,o){return Fi(t.writeTree,t.treePath,e,n,i,r,o)}function Yi(t,e,n){return Ri(t.writeTree,t.treePath,e,n)}function Vi(t,e){return Gi(ye(t.treePath,e),t.writeTree)}function Gi(t,e){return{treePath:t,writeTree:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,o.vA)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.vA)(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===e&&"child_removed"===r)this.changeMap.set(n,Sn(n,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===r)this.changeMap.set(n,En(n,i.oldSnap));else if("child_changed"===e&&"child_added"===r)this.changeMap.set(n,xn(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==r)throw(0,o.Hk)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,Sn(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}}const Ki=new qi;class Zi{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const e=null!=this.optCompleteServerCache_?new Jn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yi(this.writes_,t,e)}}getChildAfterChild(t,e,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ui(this.viewCache_),r=Wi(this.writes_,i,e,1,n,t);return 0===r.length?null:r[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){return{filter:t}}function Qi(t,e){(0,o.vA)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,o.vA)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Ji(t,e,n,i,r){const s=new $i;let a,l;if(n.type===Vn.OVERWRITE){const u=n;u.source.fromUser?a=ir(t,e,u.path,u.snap,i,r,s):((0,o.vA)(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!_e(u.path),a=nr(t,e,u.path,u.snap,i,r,l,s))}else if(n.type===Vn.MERGE){const u=n;u.source.fromUser?a=or(t,e,u.path,u.children,i,r,s):((0,o.vA)(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),a=ar(t,e,u.path,u.children,i,r,l,s))}else if(n.type===Vn.ACK_USER_WRITE){const o=n;a=o.revert?cr(t,e,o.path,i,r,s):lr(t,e,o.path,o.affectedTree,i,r,s)}else{if(n.type!==Vn.LISTEN_COMPLETE)throw(0,o.Hk)("Unknown operation type: "+n.type);a=ur(t,e,n.path,i,s)}const u=s.getChanges();return tr(e,a,u),{viewCache:a,changes:u}}function tr(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=li(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(kn(li(e)))}}function er(t,e,n,i,r,s){const a=e.eventCache;if(null!=Hi(i,n))return e;{let l,u;if(_e(n))if((0,o.vA)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const n=ui(e),r=n instanceof pn?n:pn.EMPTY_NODE,o=Bi(i,r);l=t.filter.updateFullNode(e.eventCache.getNode(),o,s)}else{const n=zi(i,ui(e));l=t.filter.updateFullNode(e.eventCache.getNode(),n,s)}else{const c=he(n);if(".priority"===c){(0,o.vA)(1===de(n),"Can't have a priority with additional path components");const r=a.getNode();u=e.serverCache.getNode();const s=Ui(i,n,r,u);l=null!=s?t.filter.updatePriority(r,s):a.getNode()}else{const o=fe(n);let h;if(a.isCompleteForChild(c)){u=e.serverCache.getNode();const t=Ui(i,n,a.getNode(),u);h=null!=t?a.getNode().getImmediateChild(c).updateChild(o,t):a.getNode().getImmediateChild(c)}else h=Yi(i,c,e.serverCache);l=null!=h?t.filter.updateChild(a.getNode(),c,h,o,r,s):a.getNode()}}return si(e,l,a.isFullyInitialized()||_e(n),t.filter.filtersNodes())}}function nr(t,e,n,i,r,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(_e(n))u=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const t=l.getNode().updateChild(n,i);u=c.updateFullNode(l.getNode(),t,null)}else{const t=he(n);if(!l.isCompleteForPath(n)&&de(n)>1)return e;const r=fe(n),o=l.getNode().getImmediateChild(t),s=o.updateChild(r,i);u=".priority"===t?c.updatePriority(l.getNode(),s):c.updateChild(l.getNode(),t,s,r,Ki,null)}const h=ai(e,u,l.isFullyInitialized()||_e(n),c.filtersNodes()),d=new Zi(r,h,o);return er(t,h,n,r,d,a)}function ir(t,e,n,i,r,o,s){const a=e.eventCache;let l,u;const c=new Zi(r,e,o);if(_e(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,s),l=si(e,u,!0,t.filter.filtersNodes());else{const r=he(n);if(".priority"===r)u=t.filter.updatePriority(e.eventCache.getNode(),i),l=si(e,u,a.isFullyInitialized(),a.isFiltered());else{const o=fe(n),u=a.getNode().getImmediateChild(r);let h;if(_e(o))h=i;else{const t=c.getCompleteChild(r);h=null!=t?".priority"===pe(o)&&t.getChild(me(o)).isEmpty()?t:t.updateChild(o,i):pn.EMPTY_NODE}if(u.equals(h))l=e;else{const n=t.filter.updateChild(a.getNode(),r,h,o,c,s);l=si(e,n,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function rr(t,e){return t.eventCache.isCompleteForChild(e)}function or(t,e,n,i,r,o,s){let a=e;return i.foreach(((i,l)=>{const u=ye(n,i);rr(e,he(u))&&(a=ir(t,a,u,l,r,o,s))})),i.foreach(((i,l)=>{const u=ye(n,i);rr(e,he(u))||(a=ir(t,a,u,l,r,o,s))})),a}function sr(t,e,n){return n.foreach(((t,n)=>{e=e.updateChild(t,n)})),e}function ar(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,u=e;l=_e(n)?i:new di(null).setTree(n,i);const c=e.serverCache.getNode();return l.children.inorderTraversal(((n,i)=>{if(c.hasChild(n)){const l=e.serverCache.getNode().getImmediateChild(n),c=sr(t,l,i);u=nr(t,u,new ue(n),c,r,o,s,a)}})),l.children.inorderTraversal(((n,i)=>{const l=!e.serverCache.isCompleteForChild(n)&&null===i.value;if(!c.hasChild(n)&&!l){const l=e.serverCache.getNode().getImmediateChild(n),c=sr(t,l,i);u=nr(t,u,new ue(n),c,r,o,s,a)}})),u}function lr(t,e,n,i,r,o,s){if(null!=Hi(r,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(_e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return nr(t,e,n,l.getNode().getChild(n),r,o,a,s);if(_e(n)){let i=new di(null);return l.getNode().forEachChild(Ue,((t,e)=>{i=i.set(new ue(t),e)})),ar(t,e,n,i,r,o,a,s)}return e}{let u=new di(null);return i.foreach(((t,e)=>{const i=ye(n,t);l.isCompleteForPath(i)&&(u=u.set(t,l.getNode().getChild(i)))})),ar(t,e,n,u,r,o,a,s)}}function ur(t,e,n,i,r){const o=e.serverCache,s=ai(e,o.getNode(),o.isFullyInitialized()||_e(n),o.isFiltered());return er(t,s,n,i,Ki,r)}function cr(t,e,n,i,r,s){let a;if(null!=Hi(i,n))return e;{const l=new Zi(i,e,r),u=e.eventCache.getNode();let c;if(_e(n)||".priority"===he(n)){let n;if(e.serverCache.isFullyInitialized())n=zi(i,ui(e));else{const t=e.serverCache.getNode();(0,o.vA)(t instanceof pn,"serverChildren would be complete if leaf node"),n=Bi(i,t)}c=t.filter.updateFullNode(u,n,s)}else{const r=he(n);let o=Yi(i,r,e.serverCache);null==o&&e.serverCache.isCompleteForChild(r)&&(o=u.getImmediateChild(r)),c=null!=o?t.filter.updateChild(u,r,o,fe(n),l,s):e.eventCache.getNode().hasChild(r)?t.filter.updateChild(u,r,pn.EMPTY_NODE,fe(n),l,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=zi(i,ui(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||null!=Hi(i,ce()),si(e,c,a,t.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new On(n.getIndex()),r=Mn(n);this.processor_=Xi(r);const o=e.serverCache,s=e.eventCache,a=i.updateFullNode(pn.EMPTY_NODE,o.getNode(),null),l=r.updateFullNode(pn.EMPTY_NODE,s.getNode(),null),u=new Jn(a,o.isFullyInitialized(),i.filtersNodes()),c=new Jn(l,s.isFullyInitialized(),r.filtersNodes());this.viewCache_=oi(c,u),this.eventGenerator_=new ti(this.query_)}get query(){return this.query_}}function dr(t){return t.viewCache_.serverCache.getNode()}function fr(t){return li(t.viewCache_)}function pr(t,e){const n=ui(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_e(e)&&!n.getImmediateChild(he(e)).isEmpty())?n.getChild(e):null}function vr(t){return 0===t.eventRegistrations_.length}function gr(t,e){t.eventRegistrations_.push(e)}function mr(t,e,n){const i=[];if(n){(0,o.vA)(null==e,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach((t=>{const e=t.createCancelEvent(n,r);e&&i.push(e)}))}if(e){let n=[];for(let i=0;i<t.eventRegistrations_.length;++i){const r=t.eventRegistrations_[i];if(r.matches(e)){if(e.hasAnyCallback()){n=n.concat(t.eventRegistrations_.slice(i+1));break}}else n.push(r)}t.eventRegistrations_=n}else t.eventRegistrations_=[];return i}function yr(t,e,n,i){e.type===Vn.MERGE&&null!==e.source.queryId&&((0,o.vA)(ui(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.vA)(li(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=Ji(t.processor_,r,e,n,i);return Qi(t.processor_,s.viewCache),(0,o.vA)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,br(t,s.changes,s.viewCache.eventCache.getNode(),null)}function _r(t,e){const n=t.viewCache_.eventCache,i=[];if(!n.getNode().isLeafNode()){const t=n.getNode();t.forEachChild(sn,((t,e)=>{i.push(xn(t,e))}))}return n.isFullyInitialized()&&i.push(kn(n.getNode())),br(t,i,n.getNode(),e)}function br(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return ei(t.eventGenerator_,e,n,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wr,kr;class xr{constructor(){this.views=new Map}}function Er(t){(0,o.vA)(!wr,"__referenceConstructor has already been defined"),wr=t}function Sr(){return(0,o.vA)(wr,"Reference.ts has not been loaded"),wr}function Tr(t){return 0===t.views.size}function Or(t,e,n,i){const r=e.source.queryId;if(null!==r){const s=t.views.get(r);return(0,o.vA)(null!=s,"SyncTree gave us an op for an invalid query."),yr(s,e,n,i)}{let r=[];for(const o of t.views.values())r=r.concat(yr(o,e,n,i));return r}}function Cr(t,e,n,i,r){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let t=zi(n,r?i:null),o=!1;t?o=!0:i instanceof pn?(t=Bi(n,i),o=!1):(t=pn.EMPTY_NODE,o=!1);const s=oi(new Jn(t,o,!1),new Jn(i,r,!1));return new hr(e,s)}return s}function Ir(t,e,n,i,r,o){const s=Cr(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),gr(s,n),_r(s,n)}function Nr(t,e,n,i){const r=e._queryIdentifier,o=[];let s=[];const a=Rr(t);if("default"===r)for(const[l,u]of t.views.entries())s=s.concat(mr(u,n,i)),vr(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const e=t.views.get(r);e&&(s=s.concat(mr(e,n,i)),vr(e)&&(t.views.delete(r),e.query._queryParams.loadsAllData()||o.push(e.query)))}return a&&!Rr(t)&&o.push(new(Sr())(e._repo,e._path)),{removed:o,events:s}}function Mr(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ar(t,e){let n=null;for(const i of t.views.values())n=n||pr(i,e);return n}function Dr(t,e){const n=e._queryParams;if(n.loadsAllData())return Lr(t);{const n=e._queryIdentifier;return t.views.get(n)}}function Pr(t,e){return null!=Dr(t,e)}function Rr(t){return null!=Lr(t)}function Lr(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){(0,o.vA)(!kr,"__referenceConstructor has already been defined"),kr=t}function jr(){return(0,o.vA)(kr,"Reference.ts has not been loaded"),kr}let zr=1;class Br{constructor(t){this.listenProvider_=t,this.syncPointTree_=new di(null),this.pendingWriteTree_=ji(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ur(t,e,n,i,r){return Si(t.pendingWriteTree_,e,n,i,r),r?Jr(t,new Xn(Gn(),e,n)):[]}function Hr(t,e,n=!1){const i=Ti(t.pendingWriteTree_,e),r=Oi(t.pendingWriteTree_,e);if(r){let e=new di(null);return null!=i.snap?e=e.set(ce(),!0):j(i.children,(t=>{e=e.set(new ue(t),!0)})),Jr(t,new Kn(i.path,e,n))}return[]}function Wr(t,e,n){return Jr(t,new Xn($n(),e,n))}function Yr(t,e,n){const i=di.fromObject(n);return Jr(t,new Qn($n(),e,i))}function Vr(t,e){return Jr(t,new Zn($n(),e))}function Gr(t,e,n){const i=oo(t,n);if(i){const n=so(i),r=n.path,o=n.queryId,s=be(r,e),a=new Zn(qn(o),s);return ao(t,r,a)}return[]}function $r(t,e,n,i,r=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||Pr(s,e))){const l=Nr(s,e,n,i);Tr(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!r){const n=-1!==u.findIndex((t=>t._queryParams.loadsAllData())),r=t.syncPointTree_.findOnPath(o,((t,e)=>Rr(e)));if(n&&!r){const e=t.syncPointTree_.subtree(o);if(!e.isEmpty()){const n=lo(e);for(let e=0;e<n.length;++e){const i=n[e],r=i.query,o=no(t,i);t.listenProvider_.startListening(uo(r),io(t,r),o.hashFn,o.onComplete)}}}if(!r&&u.length>0&&!i)if(n){const n=null;t.listenProvider_.stopListening(uo(e),n)}else u.forEach((e=>{const n=t.queryToTagMap.get(ro(e));t.listenProvider_.stopListening(uo(e),n)}))}co(t,u)}return a}function qr(t,e,n,i){const r=oo(t,i);if(null!=r){const i=so(r),o=i.path,s=i.queryId,a=be(o,e),l=new Xn(qn(s),a,n);return ao(t,o,l)}return[]}function Kr(t,e,n,i){const r=oo(t,i);if(r){const i=so(r),o=i.path,s=i.queryId,a=be(o,e),l=di.fromObject(n),u=new Qn(qn(s),a,l);return ao(t,o,u)}return[]}function Zr(t,e,n,i=!1){const r=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(r,((t,e)=>{const n=be(t,r);s=s||Ar(e,n),a=a||Rr(e)}));let l,u=t.syncPointTree_.get(r);if(u?(a=a||Rr(u),s=s||Ar(u,ce())):(u=new xr,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=s)l=!0;else{l=!1,s=pn.EMPTY_NODE;const e=t.syncPointTree_.subtree(r);e.foreachChild(((t,e)=>{const n=Ar(e,ce());n&&(s=s.updateImmediateChild(t,n))}))}const c=Pr(u,e);if(!c&&!e._queryParams.loadsAllData()){const n=ro(e);(0,o.vA)(!t.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=ho();t.queryToTagMap.set(n,i),t.tagToQueryMap.set(i,n)}const h=Ei(t.pendingWriteTree_,r);let d=Ir(u,e,n,h,s,l);if(!c&&!a&&!i){const n=Dr(u,e);d=d.concat(fo(t,e,n))}return d}function Xr(t,e,n){const i=!0,r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,((t,n)=>{const i=be(t,e),r=Ar(n,i);if(r)return r}));return Ai(r,e,o,n,i)}function Qr(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,((t,e)=>{const r=be(t,n);i=i||Ar(e,r)}));let r=t.syncPointTree_.get(n);r?i=i||Ar(r,ce()):(r=new xr,t.syncPointTree_=t.syncPointTree_.set(n,r));const o=null!=i,s=o?new Jn(i,!0,!1):null,a=Ei(t.pendingWriteTree_,e._path),l=Cr(r,e,a,o?s.getNode():pn.EMPTY_NODE,o);return fr(l)}function Jr(t,e){return to(e,t.syncPointTree_,null,Ei(t.pendingWriteTree_,ce()))}function to(t,e,n,i){if(_e(t.path))return eo(t,e,n,i);{const r=e.get(ce());null==n&&null!=r&&(n=Ar(r,ce()));let o=[];const s=he(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const t=n?n.getImmediateChild(s):null,e=Vi(i,s);o=o.concat(to(a,l,t,e))}return r&&(o=o.concat(Or(r,t,i,n))),o}}function eo(t,e,n,i){const r=e.get(ce());null==n&&null!=r&&(n=Ar(r,ce()));let o=[];return e.children.inorderTraversal(((e,r)=>{const s=n?n.getImmediateChild(e):null,a=Vi(i,e),l=t.operationForChild(e);l&&(o=o.concat(eo(l,r,s,a)))})),r&&(o=o.concat(Or(r,t,i,n))),o}function no(t,e){const n=e.query,i=io(t,n);return{hashFn:()=>{const t=dr(e)||pn.EMPTY_NODE;return t.hash()},onComplete:e=>{if("ok"===e)return i?Gr(t,n._path,i):Vr(t,n._path);{const i=H(e,n);return $r(t,n,null,i)}}}}function io(t,e){const n=ro(e);return t.queryToTagMap.get(n)}function ro(t){return t._path.toString()+"$"+t._queryIdentifier}function oo(t,e){return t.tagToQueryMap.get(e)}function so(t){const e=t.indexOf("$");return(0,o.vA)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function ao(t,e,n){const i=t.syncPointTree_.get(e);(0,o.vA)(i,"Missing sync point for query tag that we're tracking");const r=Ei(t.pendingWriteTree_,e);return Or(i,n,r,null)}function lo(t){return t.fold(((t,e,n)=>{if(e&&Rr(e)){const t=Lr(e);return[t]}{let t=[];return e&&(t=Mr(e)),j(n,((e,n)=>{t=t.concat(n)})),t}}))}function uo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(jr())(t._repo,t._path):t}function co(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const e=ro(i),n=t.queryToTagMap.get(e);t.queryToTagMap.delete(e),t.tagToQueryMap.delete(n)}}}function ho(){return zr++}function fo(t,e,n){const i=e._path,r=io(t,e),s=no(t,n),a=t.listenProvider_.startListening(uo(e),r,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(i);if(r)(0,o.vA)(!Rr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const e=l.fold(((t,e,n)=>{if(!_e(t)&&e&&Rr(e))return[Lr(e).query];{let t=[];return e&&(t=t.concat(Mr(e).map((t=>t.query)))),j(n,((e,n)=>{t=t.concat(n)})),t}}));for(let n=0;n<e.length;++n){const i=e[n];t.listenProvider_.stopListening(uo(i),io(t,i))}}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new po(e)}node(){return this.node_}}class vo{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ye(this.path_,t);return new vo(this.syncTree_,e)}node(){return Xr(this.syncTree_,this.path_)}}const go=function(t){return t=t||{},t["timestamp"]=t["timestamp"]||(new Date).getTime(),t},mo=function(t,e,n){return t&&"object"===typeof t?((0,o.vA)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?yo(t[".sv"],e,n):"object"===typeof t[".sv"]?_o(t[".sv"],e):void(0,o.vA)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},yo=function(t,e,n){switch(t){case"timestamp":return n["timestamp"];default:(0,o.vA)(!1,"Unexpected server value: "+t)}},_o=function(t,e,n){t.hasOwnProperty("increment")||(0,o.vA)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t["increment"];"number"!==typeof i&&(0,o.vA)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,o.vA)(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r,a=s.getValue();return"number"!==typeof a?i:a+i},bo=function(t,e,n,i){return ko(e,new vo(n,t),i)},wo=function(t,e,n){return ko(t,new po(e),n)};function ko(t,e,n){const i=t.getPriority().val(),r=mo(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const i=t,o=mo(i.getValue(),e,n);return o!==i.getValue()||r!==i.getPriority().val()?new en(o,yn(r)):t}{const i=t;return o=i,r!==i.getPriority().val()&&(o=o.updatePriority(new en(r))),i.forEachChild(sn,((t,i)=>{const r=ko(i,e.getImmediateChild(t),n);r!==i&&(o=o.updateImmediateChild(t,r))})),o}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function Eo(t,e){let n=e instanceof ue?e:new ue(e),i=t,r=he(n);while(null!==r){const t=(0,o.yw)(i.node.children,r)||{children:{},childCount:0};i=new xo(r,i,t),n=fe(n),r=he(n)}return i}function So(t){return t.node.value}function To(t,e){t.node.value=e,Do(t)}function Oo(t){return t.node.childCount>0}function Co(t){return void 0===So(t)&&!Oo(t)}function Io(t,e){j(t.node.children,((n,i)=>{e(new xo(n,t,i))}))}function No(t,e,n,i){n&&!i&&e(t),Io(t,(t=>{No(t,e,!0,i)})),n&&i&&e(t)}function Mo(t,e,n){let i=n?t:t.parent;while(null!==i){if(e(i))return!0;i=i.parent}return!1}function Ao(t){return new ue(null===t.parent?t.name:Ao(t.parent)+"/"+t.name)}function Do(t){null!==t.parent&&Po(t.parent,t.name,t)}function Po(t,e,n){const i=Co(n),r=(0,o.gR)(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Do(t)):i||r||(t.node.children[e]=n.node,t.node.childCount++,Do(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=/[\[\].#$\/\u0000-\u001F\u007F]/,Lo=/[\[\].#$\u0000-\u001F\u007F]/,Fo=10485760,jo=function(t){return"string"===typeof t&&0!==t.length&&!Ro.test(t)},zo=function(t){return"string"===typeof t&&0!==t.length&&!Lo.test(t)},Bo=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zo(t)},Uo=function(t,e,n,i){i&&void 0===e||Ho((0,o.dI)(t,"value"),e,n)},Ho=function(t,e,n){const i=n instanceof ue?new xe(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Oe(i));if("function"===typeof e)throw new Error(t+"contains a function "+Oe(i)+" with contents = "+e.toString());if(I(e))throw new Error(t+"contains "+e.toString()+" "+Oe(i));if("string"===typeof e&&e.length>Fo/3&&(0,o.OE)(e)>Fo)throw new Error(t+"contains a string greater than "+Fo+" utf8 bytes "+Oe(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"===typeof e){let n=!1,r=!1;if(j(e,((e,o)=>{if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!jo(e)))throw new Error(t+" contains an invalid key ("+e+") "+Oe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');Ee(i,e),Ho(t,o,i),Se(i)})),n&&r)throw new Error(t+' contains ".value" child '+Oe(i)+" in addition to actual children.")}},Wo=function(t,e,n,i){if((!i||void 0!==n)&&!zo(n))throw new Error((0,o.dI)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Yo=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Wo(t,e,n,i)},Vo=function(t,e){if(".info"===he(e))throw new Error(t+" failed = Can't modify data under /.info/")},Go=function(t,e){const n=e.path.toString();if("string"!==typeof e.repoInfo.host||0===e.repoInfo.host.length||!jo(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!Bo(n))throw new Error((0,o.dI)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $o{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qo(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null===n||we(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function Ko(t,e,n){qo(t,n),Zo(t,(t=>ke(t,e)||ke(e,t)))}function Zo(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(Xo(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Xo(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const i=n.getEventRunner();b&&x("event: "+n.toString()),$(i)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="repo_interrupt",Jo=25;class ts{constructor(t,e,n,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $o,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ln(),this.transactionQueueTree_=new xo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function es(t,e,n){if(t.stats_=gt(t.repoInfo_),t.forceRestClient_||q())t.server_=new Pn(t.repoInfo_,((e,n,i,r)=>{rs(t,e,n,i,r)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((()=>os(t,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.As)(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Le(t.repoInfo_,e,((e,n,i,r)=>{rs(t,e,n,i,r)}),(e=>{os(t,e)}),(e=>{ss(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener((e=>{t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((e=>{t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=mt(t.repoInfo_,(()=>new Yn(t.stats_,t.server_))),t.infoData_=new Rn,t.infoSyncTree_=new Br({startListening:(e,n,i,r)=>{let o=[];const s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Wr(t.infoSyncTree_,e._path,s),setTimeout((()=>{r("ok")}),0)),o},stopListening:()=>{}}),as(t,"connected",!1),t.serverSyncTree_=new Br({startListening:(e,n,i,r)=>(t.server_.listen(e,i,n,((n,i)=>{const o=r(n,i);Ko(t.eventQueue_,e._path,o)})),[]),stopListening:(e,n)=>{t.server_.unlisten(e,n)}})}function ns(t){const e=t.infoData_.getNode(new ue(".info/serverTimeOffset")),n=e.val()||0;return(new Date).getTime()+n}function is(t){return go({timestamp:ns(t)})}function rs(t,e,n,i,r){t.dataUpdateCount++;const s=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(r)if(i){const e=(0,o.kH)(n,(t=>yn(t)));a=Kr(t.serverSyncTree_,s,e,r)}else{const e=yn(n);a=qr(t.serverSyncTree_,s,e,r)}else if(i){const e=(0,o.kH)(n,(t=>yn(t)));a=Yr(t.serverSyncTree_,s,e)}else{const e=yn(n);a=Wr(t.serverSyncTree_,s,e)}let l=s;a.length>0&&(l=ys(t,s)),Ko(t.eventQueue_,l,a)}function os(t,e){as(t,"connected",e),!1===e&&hs(t)}function ss(t,e){j(e,((e,n)=>{as(t,e,n)}))}function as(t,e,n){const i=new ue("/.info/"+e),r=yn(n);t.infoData_.updateSnapshot(i,r);const o=Wr(t.infoSyncTree_,i,r);Ko(t.eventQueue_,i,o)}function ls(t){return t.nextWriteId_++}function us(t,e,n){const i=Qr(t.serverSyncTree_,e);return null!=i?Promise.resolve(i):t.server_.get(e).then((i=>{const r=yn(i).withIndex(e._queryParams.getIndex());let o;if(Zr(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())o=Wr(t.serverSyncTree_,e._path,r);else{const n=io(t.serverSyncTree_,e);o=qr(t.serverSyncTree_,e._path,r,n)}return Ko(t.eventQueue_,e._path,o),$r(t.serverSyncTree_,e,n,null,!0),r}),(n=>(fs(t,"get for query "+(0,o.As)(e)+" failed: "+n),Promise.reject(new Error(n)))))}function cs(t,e,n,i,r){fs(t,"set",{path:e.toString(),value:n,priority:i});const o=is(t),s=yn(n,i),a=Xr(t.serverSyncTree_,e),l=wo(s,a,o),u=ls(t),c=Ur(t.serverSyncTree_,e,l,u,!0);qo(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),((n,i)=>{const o="ok"===n;o||O("set at "+e+" failed: "+n);const s=Hr(t.serverSyncTree_,u,!o);Ko(t.eventQueue_,e,s),ps(t,r,n,i)}));const h=Es(t,e);ys(t,h),Ko(t.eventQueue_,h,[])}function hs(t){fs(t,"onDisconnectEvents");const e=is(t),n=Ln();jn(t.onDisconnect_,ce(),((i,r)=>{const o=bo(i,r,t.serverSyncTree_,e);Fn(n,i,o)}));let i=[];jn(n,ce(),((e,n)=>{i=i.concat(Wr(t.serverSyncTree_,e,n));const r=Es(t,e);ys(t,r)})),t.onDisconnect_=Ln(),Ko(t.eventQueue_,ce(),i)}function ds(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Qo)}function fs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),x(n,...e)}function ps(t,e,n,i){e&&$((()=>{if("ok"===n)e(null);else{const t=(n||"error").toUpperCase();let r=t;i&&(r+=": "+i);const o=new Error(r);o.code=t,e(o)}}))}function vs(t,e,n){return Xr(t.serverSyncTree_,e,n)||pn.EMPTY_NODE}function gs(t,e=t.transactionQueueTree_){if(e||xs(t,e),So(e)){const n=ws(t,e);(0,o.vA)(n.length>0,"Sending zero length transaction queue");const i=n.every((t=>0===t.status));i&&ms(t,Ao(e),n)}else Oo(e)&&Io(e,(e=>{gs(t,e)}))}function ms(t,e,n){const i=n.map((t=>t.currentWriteId)),r=vs(t,e,i);let s=r;const a=r.hash();for(let c=0;c<n.length;c++){const t=n[c];(0,o.vA)(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;const i=be(e,t.path);s=s.updateChild(i,t.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,(i=>{fs(t,"transaction put response",{path:u.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let e=0;e<n.length;e++)n[e].status=2,r=r.concat(Hr(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&i.push((()=>n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved))),n[e].unwatcher();xs(t,Eo(t.transactionQueueTree_,e)),gs(t,t.transactionQueueTree_),Ko(t.eventQueue_,e,r);for(let t=0;t<i.length;t++)$(i[t])}else{if("datastale"===i)for(let t=0;t<n.length;t++)3===n[t].status?n[t].status=4:n[t].status=0;else{O("transaction at "+u.toString()+" failed: "+i);for(let t=0;t<n.length;t++)n[t].status=4,n[t].abortReason=i}ys(t,e)}}),a)}function ys(t,e){const n=bs(t,e),i=Ao(n),r=ws(t,n);return _s(t,r,i),i}function _s(t,e,n){if(0===e.length)return;const i=[];let r=[];const s=e.filter((t=>0===t.status)),a=s.map((t=>t.currentWriteId));for(let l=0;l<e.length;l++){const s=e[l],u=be(n,s.path);let c,h=!1;if((0,o.vA)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,c=s.abortReason,r=r.concat(Hr(t.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=Jo)h=!0,c="maxretry",r=r.concat(Hr(t.serverSyncTree_,s.currentWriteId,!0));else{const n=vs(t,s.path,a);s.currentInputSnapshot=n;const i=e[l].update(n.val());if(void 0!==i){Ho("transaction failed: Data returned ",i,s.path);let e=yn(i);const l="object"===typeof i&&null!=i&&(0,o.gR)(i,".priority");l||(e=e.updatePriority(n.getPriority()));const u=s.currentWriteId,c=is(t),h=wo(e,n,c);s.currentOutputSnapshotRaw=e,s.currentOutputSnapshotResolved=h,s.currentWriteId=ls(t),a.splice(a.indexOf(u),1),r=r.concat(Ur(t.serverSyncTree_,s.path,h,s.currentWriteId,s.applyLocally)),r=r.concat(Hr(t.serverSyncTree_,u,!0))}else h=!0,c="nodata",r=r.concat(Hr(t.serverSyncTree_,s.currentWriteId,!0))}Ko(t.eventQueue_,n,r),r=[],h&&(e[l].status=2,function(t){setTimeout(t,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&("nodata"===c?i.push((()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot))):i.push((()=>e[l].onComplete(new Error(c),!1,null)))))}xs(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)$(i[o]);gs(t,t.transactionQueueTree_)}function bs(t,e){let n,i=t.transactionQueueTree_;n=he(e);while(null!==n&&void 0===So(i))i=Eo(i,n),e=fe(e),n=he(e);return i}function ws(t,e){const n=[];return ks(t,e,n),n.sort(((t,e)=>t.order-e.order)),n}function ks(t,e,n){const i=So(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Io(e,(e=>{ks(t,e,n)}))}function xs(t,e){const n=So(e);if(n){let t=0;for(let e=0;e<n.length;e++)2!==n[e].status&&(n[t]=n[e],t++);n.length=t,To(e,n.length>0?n:void 0)}Io(e,(e=>{xs(t,e)}))}function Es(t,e){const n=Ao(bs(t,e)),i=Eo(t.transactionQueueTree_,e);return Mo(i,(e=>{Ss(t,e)})),Ss(t,i),No(i,(e=>{Ss(t,e)})),n}function Ss(t,e){const n=So(e);if(n){const i=[];let r=[],s=-1;for(let e=0;e<n.length;e++)3===n[e].status||(1===n[e].status?((0,o.vA)(s===e-1,"All SENT items should be at beginning of queue."),s=e,n[e].status=3,n[e].abortReason="set"):((0,o.vA)(0===n[e].status,"Unexpected transaction status in abort"),n[e].unwatcher(),r=r.concat(Hr(t.serverSyncTree_,n[e].currentWriteId,!0)),n[e].onComplete&&i.push(n[e].onComplete.bind(null,new Error("set"),!1,null))));-1===s?To(e,void 0):n.length=s+1,Ko(t.eventQueue_,Ao(e),r);for(let t=0;t<i.length;t++)$(i[t])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let t=n[r];try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(i){}e+="/"+t}return e}function Os(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):O(`Invalid query segment '${n}' in query '${t}'`)}return e}const Cs=function(t,e){const n=Is(t),i=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||C();const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ct(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new ue(n.pathString)}},Is=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",l=443;if("string"===typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");-1===c&&(c=t.length);let h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(r=Ts(t.substring(c,h)));const d=Os(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const t=e.indexOf(".");i=e.substring(0,t).toLowerCase(),n=e.substring(t+1),o=i}"ns"in d&&(o=d["ns"])}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},Ns="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";(function(){let t=0;const e=[]})();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ms{constructor(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.As)(this.snapshot.exportVal())}}class As{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,o.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ps{constructor(t,e,n,i){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=i}get key(){return _e(this._path)?null:pe(this._path)}get ref(){return new Rs(this._repo,this._path)}get _queryIdentifier(){const t=Dn(this._queryParams),e=L(t);return"{}"===e?"default":e}get _queryObject(){return Dn(this._queryParams)}isEqual(t){if(t=(0,o.Ku)(t),!(t instanceof Ps))return!1;const e=this._repo===t._repo,n=we(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return e&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ve(this._path)}}class Rs extends Ps{constructor(t,e){super(t,e,new Nn,!1)}get parent(){const t=me(this._path);return null===t?null:new Rs(this._repo,t)}get root(){let t=this;while(null!==t.parent)t=t.parent;return t}}class Ls{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ue(t),n=js(this.ref,t);return new Ls(this._node.getChild(e),n,sn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){if(this._node.isLeafNode())return!1;const e=this._node;return!!e.forEachChild(this._index,((e,n)=>t(new Ls(n,js(this.ref,e),sn))))}hasChild(t){const e=new ue(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fs(t,e){return t=(0,o.Ku)(t),t._checkNotDeleted("ref"),void 0!==e?js(t._root,e):t._root}function js(t,e){return t=(0,o.Ku)(t),null===he(t._path)?Yo("child","path",e,!1):Wo("child","path",e,!1),new Rs(t._repo,ye(t._path,e))}function zs(t,e){t=(0,o.Ku)(t),Vo("set",t._path),Uo("set",e,t._path,!1);const n=new o.cY;return cs(t._repo,t._path,e,null,n.wrapCallback((()=>{}))),n.promise}function Bs(t){t=(0,o.Ku)(t);const e=new Ds((()=>{})),n=new Us(e);return us(t._repo,t,n).then((e=>new Ls(e,new Rs(t._repo,t._path),t._queryParams.getIndex())))}class Us{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new Ms("value",this,new Ls(t.snapshotNode,new Rs(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new As(this,t,e):null}matches(t){return t instanceof Us&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}Er(Rs),Fr(Rs);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Hs="FIREBASE_DATABASE_EMULATOR_HOST",Ws={};let Ys=!1;function Vs(t,e,n,i){t.repoInfo_=new ct(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function Gs(t,e,n,i,r){let o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=Cs(o,r),u=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",BASE_URL:""}[Hs]),a?(s=!0,o=`http://${a}?ns=${u.namespace}`,l=Cs(o,r),u=l.repoInfo):s=!l.repoInfo.secure;const c=r&&s?new Q(Q.OWNER):new X(t.name,t.options,e);Go("Invalid Firebase Database URL",l),_e(l.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");const h=qs(u,t,c,new Z(t.name,n));return new Ks(h,t)}function $s(t,e){const n=Ws[e];n&&n[t.key]===t||T(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ds(t),delete n[t.key]}function qs(t,e,n,i){let r=Ws[e.name];r||(r={},Ws[e.name]=r);let o=r[t.toURLString()];return o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ts(t,Ys,n,i),r[t.toURLString()]=o,o}class Ks{constructor(t,e){this._repoInternal=t,this.app=e,this["type"]="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(es(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rs(this._repo,ce())),this._rootInternal}_delete(){return null!==this._rootInternal&&($s(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&T("Cannot call "+t+" on a deleted database.")}}function Zs(t=(0,i.Sx)(),e){const n=(0,i.j6)(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const t=(0,o.yU)("database");t&&Xs(n,...t)}return n}function Xs(t,e,n,i={}){t=(0,o.Ku)(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Q(Q.OWNER);else if(i.mockUserToken){const e="string"===typeof i.mockUserToken?i.mockUserToken:(0,o.Fy)(i.mockUserToken,t.app.options.projectId);s=new Q(e)}Vs(r,e,n,s)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qs(t){c(i.MF),(0,i.om)(new r.uA("database",((t,{instanceIdentifier:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return Gs(n,i,r,e)}),"PUBLIC").setMultipleInstances(!0)),(0,i.KO)(a,l,t),(0,i.KO)(a,l,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Le.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Le.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Qs()},3075:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>po});
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
const i=4,r=0,o=1,s=2;function a(t){let e=t.length;while(--e>=0)t[e]=0}const l=0,u=1,c=2,h=3,d=258,f=29,p=256,v=p+1+f,g=30,m=19,y=2*v+1,_=15,b=16,w=7,k=256,x=16,E=17,S=18,T=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),O=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),C=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N=512,M=new Array(2*(v+2));a(M);const A=new Array(2*g);a(A);const D=new Array(N);a(D);const P=new Array(d-h+1);a(P);const R=new Array(f);a(R);const L=new Array(g);function F(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}let j,z,B;function U(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}a(L);const H=t=>t<256?D[t]:D[256+(t>>>7)],W=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Y=(t,e,n)=>{t.bi_valid>b-n?(t.bi_buf|=e<<t.bi_valid&65535,W(t,t.bi_buf),t.bi_buf=e>>b-t.bi_valid,t.bi_valid+=n-b):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},V=(t,e,n)=>{Y(t,n[2*e],n[2*e+1])},G=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},$=t=>{16===t.bi_valid?(W(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)},q=(t,e)=>{const n=e.dyn_tree,i=e.max_code,r=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,c,h,d,f,p,v=0;for(d=0;d<=_;d++)t.bl_count[d]=0;for(n[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<y;u++)c=t.heap[u],d=n[2*n[2*c+1]+1]+1,d>l&&(d=l,v++),n[2*c+1]=d,c>i||(t.bl_count[d]++,f=0,c>=a&&(f=s[c-a]),p=n[2*c],t.opt_len+=p*(d+f),o&&(t.static_len+=p*(r[2*c+1]+f)));if(0!==v){do{d=l-1;while(0===t.bl_count[d])d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[l]--,v-=2}while(v>0);for(d=l;0!==d;d--){c=t.bl_count[d];while(0!==c)h=t.heap[--u],h>i||(n[2*h+1]!==d&&(t.opt_len+=(d-n[2*h+1])*n[2*h],n[2*h+1]=d),c--)}}},K=(t,e,n)=>{const i=new Array(_+1);let r,o,s=0;for(r=1;r<=_;r++)s=s+n[r-1]<<1,i[r]=s;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=G(i[e]++,e))}},Z=()=>{let t,e,n,i,r;const o=new Array(_+1);for(n=0,i=0;i<f-1;i++)for(R[i]=n,t=0;t<1<<T[i];t++)P[n++]=i;for(P[n-1]=i,r=0,i=0;i<16;i++)for(L[i]=r,t=0;t<1<<O[i];t++)D[r++]=i;for(r>>=7;i<g;i++)for(L[i]=r<<7,t=0;t<1<<O[i]-7;t++)D[256+r++]=i;for(e=0;e<=_;e++)o[e]=0;t=0;while(t<=143)M[2*t+1]=8,t++,o[8]++;while(t<=255)M[2*t+1]=9,t++,o[9]++;while(t<=279)M[2*t+1]=7,t++,o[7]++;while(t<=287)M[2*t+1]=8,t++,o[8]++;for(K(M,v+1,o),t=0;t<g;t++)A[2*t+1]=5,A[2*t]=G(t,5);j=new F(M,T,p+1,v,_),z=new F(A,O,0,g,_),B=new F(new Array(0),C,0,m,w)},X=t=>{let e;for(e=0;e<v;e++)t.dyn_ltree[2*e]=0;for(e=0;e<g;e++)t.dyn_dtree[2*e]=0;for(e=0;e<m;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*k]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Q=t=>{t.bi_valid>8?W(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},J=(t,e,n,i)=>{const r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]},tt=(t,e,n)=>{const i=t.heap[n];let r=n<<1;while(r<=t.heap_len){if(r<t.heap_len&&J(e,t.heap[r+1],t.heap[r],t.depth)&&r++,J(e,i,t.heap[r],t.depth))break;t.heap[n]=t.heap[r],n=r,r<<=1}t.heap[n]=i},et=(t,e,n)=>{let i,r,o,s,a=0;if(0!==t.sym_next)do{i=255&t.pending_buf[t.sym_buf+a++],i+=(255&t.pending_buf[t.sym_buf+a++])<<8,r=t.pending_buf[t.sym_buf+a++],0===i?V(t,r,e):(o=P[r],V(t,o+p+1,e),s=T[o],0!==s&&(r-=R[o],Y(t,r,s)),i--,o=H(i),V(t,o,n),s=O[o],0!==s&&(i-=L[o],Y(t,i,s)))}while(a<t.sym_next);V(t,k,e)},nt=(t,e)=>{const n=e.dyn_tree,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,l,u=-1;for(t.heap_len=0,t.heap_max=y,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):n[2*s+1]=0;while(t.heap_len<2)l=t.heap[++t.heap_len]=u<2?++u:0,n[2*l]=1,t.depth[l]=0,t.opt_len--,r&&(t.static_len-=i[2*l+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)tt(t,n,s);l=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],tt(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*l]=n[2*s]+n[2*a],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=l,t.heap[1]=l++,tt(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],q(t,e),K(n,u,t.bl_count)},it=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<l&&r===s||(a<u?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*x]++):a<=10?t.bl_tree[2*E]++:t.bl_tree[2*S]++,a=0,o=r,0===s?(l=138,u=3):r===s?(l=6,u=3):(l=7,u=4))},rt=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<l&&r===s)){if(a<u)do{V(t,r,t.bl_tree)}while(0!==--a);else 0!==r?(r!==o&&(V(t,r,t.bl_tree),a--),V(t,x,t.bl_tree),Y(t,a-3,2)):a<=10?(V(t,E,t.bl_tree),Y(t,a-3,3)):(V(t,S,t.bl_tree),Y(t,a-11,7));a=0,o=r,0===s?(l=138,u=3):r===s?(l=6,u=3):(l=7,u=4)}},ot=t=>{let e;for(it(t,t.dyn_ltree,t.l_desc.max_code),it(t,t.dyn_dtree,t.d_desc.max_code),nt(t,t.bl_desc),e=m-1;e>=3;e--)if(0!==t.bl_tree[2*I[e]+1])break;return t.opt_len+=3*(e+1)+5+5+4,e},st=(t,e,n,i)=>{let r;for(Y(t,e-257,5),Y(t,n-1,5),Y(t,i-4,4),r=0;r<i;r++)Y(t,t.bl_tree[2*I[r]+1],3);rt(t,t.dyn_ltree,e-1),rt(t,t.dyn_dtree,n-1)},at=t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return r;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<p;e++)if(0!==t.dyn_ltree[2*e])return o;return r};let lt=!1;const ut=t=>{lt||(Z(),lt=!0),t.l_desc=new U(t.dyn_ltree,j),t.d_desc=new U(t.dyn_dtree,z),t.bl_desc=new U(t.bl_tree,B),t.bi_buf=0,t.bi_valid=0,X(t)},ct=(t,e,n,i)=>{Y(t,(l<<1)+(i?1:0),3),Q(t),W(t,n),W(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},ht=t=>{Y(t,u<<1,3),V(t,k,M),$(t)},dt=(t,e,n,r)=>{let o,a,l=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=at(t)),nt(t,t.l_desc),nt(t,t.d_desc),l=ot(t),o=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==e?ct(t,e,n,r):t.strategy===i||a===o?(Y(t,(u<<1)+(r?1:0),3),et(t,M,A)):(Y(t,(c<<1)+(r?1:0),3),st(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),et(t,t.dyn_ltree,t.dyn_dtree)),X(t),r&&Q(t)},ft=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(P[n]+p+1)]++,t.dyn_dtree[2*H(e)]++),t.sym_next===t.sym_end);var pt=ut,vt=ct,gt=dt,mt=ft,yt=ht,_t={_tr_init:pt,_tr_stored_block:vt,_tr_flush_block:gt,_tr_tally:mt,_tr_align:yt};const bt=(t,e,n,i)=>{let r=65535&t,o=t>>>16&65535,s=0;while(0!==n){s=n>2e3?2e3:n,n-=s;do{r=r+e[i++]|0,o=o+r|0}while(--s);r%=65521,o%=65521}return r|o<<16};var wt=bt;const kt=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e},xt=new Uint32Array(kt()),Et=(t,e,n,i)=>{const r=xt,o=i+n;t^=-1;for(let s=i;s<o;s++)t=t>>>8^r[255&(t^e[s])];return~t};var St=Et,Tt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ot={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ct,_tr_stored_block:It,_tr_flush_block:Nt,_tr_tally:Mt,_tr_align:At}=_t,{Z_NO_FLUSH:Dt,Z_PARTIAL_FLUSH:Pt,Z_FULL_FLUSH:Rt,Z_FINISH:Lt,Z_BLOCK:Ft,Z_OK:jt,Z_STREAM_END:zt,Z_STREAM_ERROR:Bt,Z_DATA_ERROR:Ut,Z_BUF_ERROR:Ht,Z_DEFAULT_COMPRESSION:Wt,Z_FILTERED:Yt,Z_HUFFMAN_ONLY:Vt,Z_RLE:Gt,Z_FIXED:$t,Z_DEFAULT_STRATEGY:qt,Z_UNKNOWN:Kt,Z_DEFLATED:Zt}=Ot,Xt=9,Qt=15,Jt=8,te=29,ee=256,ne=ee+1+te,ie=30,re=19,oe=2*ne+1,se=15,ae=3,le=258,ue=le+ae+1,ce=32,he=42,de=57,fe=69,pe=73,ve=91,ge=103,me=113,ye=666,_e=1,be=2,we=3,ke=4,xe=3,Ee=(t,e)=>(t.msg=Tt[e],e),Se=t=>2*t-(t>4?9:0),Te=t=>{let e=t.length;while(--e>=0)t[e]=0},Oe=t=>{let e,n,i,r=t.w_size;e=t.hash_size,i=e;do{n=t.head[--i],t.head[i]=n>=r?n-r:0}while(--e);e=r,i=e;do{n=t.prev[--i],t.prev[i]=n>=r?n-r:0}while(--e)};let Ce=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Ie=Ce;const Ne=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},Me=(t,e)=>{Nt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ne(t.strm)},Ae=(t,e)=>{t.pending_buf[t.pending++]=e},De=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Pe=(t,e,n,i)=>{let r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),n),1===t.state.wrap?t.adler=wt(t.adler,e,r,n):2===t.state.wrap&&(t.adler=St(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)},Re=(t,e)=>{let n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-ue?t.strstart-(t.w_size-ue):0,u=t.window,c=t.w_mask,h=t.prev,d=t.strstart+le;let f=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,u[n+s]===p&&u[n+s-1]===f&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<d);if(i=le-(d-o),o=d-le,i>s){if(t.match_start=e,s=i,i>=a)break;f=u[o+s-1],p=u[o+s]}}}while((e=h[e&c])>l&&0!==--r);return s<=t.lookahead?s:t.lookahead},Le=t=>{const e=t.w_size;let n,i,r;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ue)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Oe(t),i+=e),0===t.strm.avail_in)break;if(n=Pe(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=ae){r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=Ie(t,t.ins_h,t.window[r+1]);while(t.insert)if(t.ins_h=Ie(t,t.ins_h,t.window[r+ae-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,t.lookahead+t.insert<ae)break}}while(t.lookahead<ue&&0!==t.strm.avail_in)},Fe=(t,e)=>{let n,i,r,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(n=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r)break;if(r=t.strm.avail_out-r,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>r&&(n=r),n<o&&(0===n&&e!==Lt||e===Dt||n!==i+t.strm.avail_in))break;s=e===Lt&&n===i+t.strm.avail_in?1:0,It(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Ne(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(Pe(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?ke:e!==Dt&&e!==Lt&&0===t.strm.avail_in&&t.strstart===t.block_start?be:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(Pe(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,o=r>t.w_size?t.w_size:r,i=t.strstart-t.block_start,(i>=o||(i||e===Lt)&&e!==Dt&&0===t.strm.avail_in&&i<=r)&&(n=i>r?r:i,s=e===Lt&&0===t.strm.avail_in&&n===i?1:0,It(t,t.block_start,n,s),t.block_start+=n,Ne(t.strm)),s?we:_e)},je=(t,e)=>{let n,i;for(;;){if(t.lookahead<ue){if(Le(t),t.lookahead<ue&&e===Dt)return _e;if(0===t.lookahead)break}if(n=0,t.lookahead>=ae&&(t.ins_h=Ie(t,t.ins_h,t.window[t.strstart+ae-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ue&&(t.match_length=Re(t,n)),t.match_length>=ae)if(i=Mt(t,t.strstart-t.match_start,t.match_length-ae),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ae){t.match_length--;do{t.strstart++,t.ins_h=Ie(t,t.ins_h,t.window[t.strstart+ae-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ie(t,t.ins_h,t.window[t.strstart+1]);else i=Mt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(Me(t,!1),0===t.strm.avail_out))return _e}return t.insert=t.strstart<ae-1?t.strstart:ae-1,e===Lt?(Me(t,!0),0===t.strm.avail_out?we:ke):t.sym_next&&(Me(t,!1),0===t.strm.avail_out)?_e:be},ze=(t,e)=>{let n,i,r;for(;;){if(t.lookahead<ue){if(Le(t),t.lookahead<ue&&e===Dt)return _e;if(0===t.lookahead)break}if(n=0,t.lookahead>=ae&&(t.ins_h=Ie(t,t.ins_h,t.window[t.strstart+ae-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ae-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ue&&(t.match_length=Re(t,n),t.match_length<=5&&(t.strategy===Yt||t.match_length===ae&&t.strstart-t.match_start>4096)&&(t.match_length=ae-1)),t.prev_length>=ae&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-ae,i=Mt(t,t.strstart-1-t.prev_match,t.prev_length-ae),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=Ie(t,t.ins_h,t.window[t.strstart+ae-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ae-1,t.strstart++,i&&(Me(t,!1),0===t.strm.avail_out))return _e}else if(t.match_available){if(i=Mt(t,0,t.window[t.strstart-1]),i&&Me(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return _e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=Mt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ae-1?t.strstart:ae-1,e===Lt?(Me(t,!0),0===t.strm.avail_out?we:ke):t.sym_next&&(Me(t,!1),0===t.strm.avail_out)?_e:be},Be=(t,e)=>{let n,i,r,o;const s=t.window;for(;;){if(t.lookahead<=le){if(Le(t),t.lookahead<=le&&e===Dt)return _e;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ae&&t.strstart>0&&(r=t.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){o=t.strstart+le;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=le-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ae?(n=Mt(t,1,t.match_length-ae),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Mt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Me(t,!1),0===t.strm.avail_out))return _e}return t.insert=0,e===Lt?(Me(t,!0),0===t.strm.avail_out?we:ke):t.sym_next&&(Me(t,!1),0===t.strm.avail_out)?_e:be},Ue=(t,e)=>{let n;for(;;){if(0===t.lookahead&&(Le(t),0===t.lookahead)){if(e===Dt)return _e;break}if(t.match_length=0,n=Mt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Me(t,!1),0===t.strm.avail_out))return _e}return t.insert=0,e===Lt?(Me(t,!0),0===t.strm.avail_out?we:ke):t.sym_next&&(Me(t,!1),0===t.strm.avail_out)?_e:be};function He(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}const We=[new He(0,0,0,0,Fe),new He(4,4,8,4,je),new He(4,5,16,8,je),new He(4,6,32,32,je),new He(4,4,16,16,ze),new He(8,16,32,32,ze),new He(8,16,128,128,ze),new He(8,32,128,256,ze),new He(32,128,258,1024,ze),new He(32,258,258,4096,ze)],Ye=t=>{t.window_size=2*t.w_size,Te(t.head),t.max_lazy_match=We[t.level].max_lazy,t.good_match=We[t.level].good_length,t.nice_match=We[t.level].nice_length,t.max_chain_length=We[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ae-1,t.match_available=0,t.ins_h=0};function Ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Zt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*oe),this.dyn_dtree=new Uint16Array(2*(2*ie+1)),this.bl_tree=new Uint16Array(2*(2*re+1)),Te(this.dyn_ltree),Te(this.dyn_dtree),Te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(se+1),this.heap=new Uint16Array(2*ne+1),Te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ne+1),Te(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ge=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==he&&e.status!==de&&e.status!==fe&&e.status!==pe&&e.status!==ve&&e.status!==ge&&e.status!==me&&e.status!==ye?1:0},$e=t=>{if(Ge(t))return Ee(t,Bt);t.total_in=t.total_out=0,t.data_type=Kt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?de:e.wrap?he:me,t.adler=2===e.wrap?0:1,e.last_flush=-2,Ct(e),jt},qe=t=>{const e=$e(t);return e===jt&&Ye(t.state),e},Ke=(t,e)=>Ge(t)||2!==t.state.wrap?Bt:(t.state.gzhead=e,jt),Ze=(t,e,n,i,r,o)=>{if(!t)return Bt;let s=1;if(e===Wt&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>Xt||n!==Zt||i<8||i>15||e<0||e>9||o<0||o>$t||8===i&&1!==s)return Ee(t,Bt);8===i&&(i=9);const a=new Ve;return t.state=a,a.strm=t,a.status=he,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+ae-1)/ae),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,qe(t)},Xe=(t,e)=>Ze(t,e,Zt,Qt,Jt,qt),Qe=(t,e)=>{if(Ge(t)||e>Ft||e<0)return t?Ee(t,Bt):Bt;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===ye&&e!==Lt)return Ee(t,0===t.avail_out?Ht:Bt);const i=n.last_flush;if(n.last_flush=e,0!==n.pending){if(Ne(t),0===t.avail_out)return n.last_flush=-1,jt}else if(0===t.avail_in&&Se(e)<=Se(i)&&e!==Lt)return Ee(t,Ht);if(n.status===ye&&0!==t.avail_in)return Ee(t,Ht);if(n.status===he&&0===n.wrap&&(n.status=me),n.status===he){let e=Zt+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=Vt||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=i<<6,0!==n.strstart&&(e|=ce),e+=31-e%31,De(n,e),0!==n.strstart&&(De(n,t.adler>>>16),De(n,65535&t.adler)),t.adler=1,n.status=me,Ne(t),0!==n.pending)return n.last_flush=-1,jt}if(n.status===de)if(t.adler=0,Ae(n,31),Ae(n,139),Ae(n,8),n.gzhead)Ae(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ae(n,255&n.gzhead.time),Ae(n,n.gzhead.time>>8&255),Ae(n,n.gzhead.time>>16&255),Ae(n,n.gzhead.time>>24&255),Ae(n,9===n.level?2:n.strategy>=Vt||n.level<2?4:0),Ae(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ae(n,255&n.gzhead.extra.length),Ae(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=St(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=fe;else if(Ae(n,0),Ae(n,0),Ae(n,0),Ae(n,0),Ae(n,0),Ae(n,9===n.level?2:n.strategy>=Vt||n.level<2?4:0),Ae(n,xe),n.status=me,Ne(t),0!==n.pending)return n.last_flush=-1,jt;if(n.status===fe){if(n.gzhead.extra){let e=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;while(n.pending+i>n.pending_buf_size){let r=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=St(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=r,Ne(t),0!==n.pending)return n.last_flush=-1,jt;e=0,i-=r}let r=new Uint8Array(n.gzhead.extra);n.pending_buf.set(r.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>e&&(t.adler=St(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=pe}if(n.status===pe){if(n.gzhead.name){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=St(t.adler,n.pending_buf,n.pending-i,i)),Ne(t),0!==n.pending)return n.last_flush=-1,jt;i=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ae(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>i&&(t.adler=St(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=ve}if(n.status===ve){if(n.gzhead.comment){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=St(t.adler,n.pending_buf,n.pending-i,i)),Ne(t),0!==n.pending)return n.last_flush=-1,jt;i=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ae(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>i&&(t.adler=St(t.adler,n.pending_buf,n.pending-i,i))}n.status=ge}if(n.status===ge){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ne(t),0!==n.pending))return n.last_flush=-1,jt;Ae(n,255&t.adler),Ae(n,t.adler>>8&255),t.adler=0}if(n.status=me,Ne(t),0!==n.pending)return n.last_flush=-1,jt}if(0!==t.avail_in||0!==n.lookahead||e!==Dt&&n.status!==ye){let i=0===n.level?Fe(n,e):n.strategy===Vt?Ue(n,e):n.strategy===Gt?Be(n,e):We[n.level].func(n,e);if(i!==we&&i!==ke||(n.status=ye),i===_e||i===we)return 0===t.avail_out&&(n.last_flush=-1),jt;if(i===be&&(e===Pt?At(n):e!==Ft&&(It(n,0,0,!1),e===Rt&&(Te(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Ne(t),0===t.avail_out))return n.last_flush=-1,jt}return e!==Lt?jt:n.wrap<=0?zt:(2===n.wrap?(Ae(n,255&t.adler),Ae(n,t.adler>>8&255),Ae(n,t.adler>>16&255),Ae(n,t.adler>>24&255),Ae(n,255&t.total_in),Ae(n,t.total_in>>8&255),Ae(n,t.total_in>>16&255),Ae(n,t.total_in>>24&255)):(De(n,t.adler>>>16),De(n,65535&t.adler)),Ne(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?jt:zt)},Je=t=>{if(Ge(t))return Bt;const e=t.state.status;return t.state=null,e===me?Ee(t,Ut):jt},tn=(t,e)=>{let n=e.length;if(Ge(t))return Bt;const i=t.state,r=i.wrap;if(2===r||1===r&&i.status!==he||i.lookahead)return Bt;if(1===r&&(t.adler=wt(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===r&&(Te(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(n-i.w_size,n),0),e=t,n=i.w_size}const o=t.avail_in,s=t.next_in,a=t.input;t.avail_in=n,t.next_in=0,t.input=e,Le(i);while(i.lookahead>=ae){let t=i.strstart,e=i.lookahead-(ae-1);do{i.ins_h=Ie(i,i.ins_h,i.window[t+ae-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=ae-1,Le(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=ae-1,i.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,i.wrap=r,jt};var en=Xe,nn=Ze,rn=qe,on=$e,sn=Ke,an=Qe,ln=Je,un=tn,cn="pako deflate (from Nodeca project)",hn={deflateInit:en,deflateInit2:nn,deflateReset:rn,deflateResetKeep:on,deflateSetHeader:sn,deflate:an,deflateEnd:ln,deflateSetDictionary:un,deflateInfo:cn};const dn=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var fn=function(t){const e=Array.prototype.slice.call(arguments,1);while(e.length){const n=e.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const e in n)dn(n,e)&&(t[e]=n[e])}}return t},pn=t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,r=0,o=t.length;i<o;i++){let e=t[i];n.set(e,r),r+=e.length}return n},vn={assign:fn,flattenChunks:pn};let gn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(vo){gn=!1}const mn=new Uint8Array(256);for(let go=0;go<256;go++)mn[go]=go>=252?6:go>=248?5:go>=240?4:go>=224?3:go>=192?2:1;mn[254]=mn[254]=1;var yn=t=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)n=t.charCodeAt(r),55296===(64512&n)&&r+1<s&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,r=0;o<a;r++)n=t.charCodeAt(r),55296===(64512&n)&&r+1<s&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e};const _n=(t,e)=>{if(e<65534&&t.subarray&&gn)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var bn=(t,e)=>{const n=e||t.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,r;const o=new Array(2*n);for(r=0,i=0;i<n;){let e=t[i++];if(e<128){o[r++]=e;continue}let s=mn[e];if(s>4)o[r++]=65533,i+=s-1;else{e&=2===s?31:3===s?15:7;while(s>1&&i<n)e=e<<6|63&t[i++],s--;s>1?o[r++]=65533:e<65536?o[r++]=e:(e-=65536,o[r++]=55296|e>>10&1023,o[r++]=56320|1023&e)}}return _n(o,r)},wn=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;while(n>=0&&128===(192&t[n]))n--;return n<0||0===n?e:n+mn[t[n]]>e?n:e},kn={string2buf:yn,buf2string:bn,utf8border:wn};function xn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var En=xn;const Sn=Object.prototype.toString,{Z_NO_FLUSH:Tn,Z_SYNC_FLUSH:On,Z_FULL_FLUSH:Cn,Z_FINISH:In,Z_OK:Nn,Z_STREAM_END:Mn,Z_DEFAULT_COMPRESSION:An,Z_DEFAULT_STRATEGY:Dn,Z_DEFLATED:Pn}=Ot;function Rn(t){this.options=vn.assign({level:An,method:Pn,chunkSize:16384,windowBits:15,memLevel:8,strategy:Dn},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new En,this.strm.avail_out=0;let n=hn.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Nn)throw new Error(Tt[n]);if(e.header&&hn.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"===typeof e.dictionary?kn.string2buf(e.dictionary):"[object ArrayBuffer]"===Sn.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=hn.deflateSetDictionary(this.strm,t),n!==Nn)throw new Error(Tt[n]);this._dict_set=!0}}function Ln(t,e){const n=new Rn(e);if(n.push(t,!0),n.err)throw n.msg||Tt[n.err];return n.result}function Fn(t,e){return e=e||{},e.raw=!0,Ln(t,e)}function jn(t,e){return e=e||{},e.gzip=!0,Ln(t,e)}Rn.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?In:Tn,"string"===typeof t?n.input=kn.string2buf(t):"[object ArrayBuffer]"===Sn.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(o===On||o===Cn)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(r=hn.deflate(n,o),r===Mn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=hn.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Nn;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Rn.prototype.onData=function(t){this.chunks.push(t)},Rn.prototype.onEnd=function(t){t===Nn&&(this.result=vn.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var zn=Rn,Bn=Ln,Un=Fn,Hn=jn,Wn=Ot,Yn={Deflate:zn,deflate:Bn,deflateRaw:Un,gzip:Hn,constants:Wn};const Vn=16209,Gn=16191;var $n=function(t,e){let n,i,r,o,s,a,l,u,c,h,d,f,p,v,g,m,y,_,b,w,k,x,E,S;const T=t.state;n=t.next_in,E=t.input,i=n+(t.avail_in-5),r=t.next_out,S=t.output,o=r-(e-t.avail_out),s=r+(t.avail_out-257),a=T.dmax,l=T.wsize,u=T.whave,c=T.wnext,h=T.window,d=T.hold,f=T.bits,p=T.lencode,v=T.distcode,g=(1<<T.lenbits)-1,m=(1<<T.distbits)-1;t:do{f<15&&(d+=E[n++]<<f,f+=8,d+=E[n++]<<f,f+=8),y=p[d&g];e:for(;;){if(_=y>>>24,d>>>=_,f-=_,_=y>>>16&255,0===_)S[r++]=65535&y;else{if(!(16&_)){if(0===(64&_)){y=p[(65535&y)+(d&(1<<_)-1)];continue e}if(32&_){T.mode=Gn;break t}t.msg="invalid literal/length code",T.mode=Vn;break t}b=65535&y,_&=15,_&&(f<_&&(d+=E[n++]<<f,f+=8),b+=d&(1<<_)-1,d>>>=_,f-=_),f<15&&(d+=E[n++]<<f,f+=8,d+=E[n++]<<f,f+=8),y=v[d&m];n:for(;;){if(_=y>>>24,d>>>=_,f-=_,_=y>>>16&255,!(16&_)){if(0===(64&_)){y=v[(65535&y)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",T.mode=Vn;break t}if(w=65535&y,_&=15,f<_&&(d+=E[n++]<<f,f+=8,f<_&&(d+=E[n++]<<f,f+=8)),w+=d&(1<<_)-1,w>a){t.msg="invalid distance too far back",T.mode=Vn;break t}if(d>>>=_,f-=_,_=r-o,w>_){if(_=w-_,_>u&&T.sane){t.msg="invalid distance too far back",T.mode=Vn;break t}if(k=0,x=h,0===c){if(k+=l-_,_<b){b-=_;do{S[r++]=h[k++]}while(--_);k=r-w,x=S}}else if(c<_){if(k+=l+c-_,_-=c,_<b){b-=_;do{S[r++]=h[k++]}while(--_);if(k=0,c<b){_=c,b-=_;do{S[r++]=h[k++]}while(--_);k=r-w,x=S}}}else if(k+=c-_,_<b){b-=_;do{S[r++]=h[k++]}while(--_);k=r-w,x=S}while(b>2)S[r++]=x[k++],S[r++]=x[k++],S[r++]=x[k++],b-=3;b&&(S[r++]=x[k++],b>1&&(S[r++]=x[k++]))}else{k=r-w;do{S[r++]=S[k++],S[r++]=S[k++],S[r++]=S[k++],b-=3}while(b>2);b&&(S[r++]=S[k++],b>1&&(S[r++]=S[k++]))}break}}break}}while(n<i&&r<s);b=f>>3,n-=b,f-=b<<3,d&=(1<<f)-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<s?s-r+257:257-(r-s),T.hold=d,T.bits=f};const qn=15,Kn=852,Zn=592,Xn=0,Qn=1,Jn=2,ti=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ei=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ni=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ii=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ri=(t,e,n,i,r,o,s,a)=>{const l=a.bits;let u,c,h,d,f,p,v=0,g=0,m=0,y=0,_=0,b=0,w=0,k=0,x=0,E=0,S=null;const T=new Uint16Array(qn+1),O=new Uint16Array(qn+1);let C,I,N,M=null;for(v=0;v<=qn;v++)T[v]=0;for(g=0;g<i;g++)T[e[n+g]]++;for(_=l,y=qn;y>=1;y--)if(0!==T[y])break;if(_>y&&(_=y),0===y)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(m=1;m<y;m++)if(0!==T[m])break;for(_<m&&(_=m),k=1,v=1;v<=qn;v++)if(k<<=1,k-=T[v],k<0)return-1;if(k>0&&(t===Xn||1!==y))return-1;for(O[1]=0,v=1;v<qn;v++)O[v+1]=O[v]+T[v];for(g=0;g<i;g++)0!==e[n+g]&&(s[O[e[n+g]]++]=g);if(t===Xn?(S=M=s,p=20):t===Qn?(S=ti,M=ei,p=257):(S=ni,M=ii,p=0),E=0,g=0,v=m,f=o,b=_,w=0,h=-1,x=1<<_,d=x-1,t===Qn&&x>Kn||t===Jn&&x>Zn)return 1;for(;;){C=v-w,s[g]+1<p?(I=0,N=s[g]):s[g]>=p?(I=M[s[g]-p],N=S[s[g]-p]):(I=96,N=0),u=1<<v-w,c=1<<b,m=c;do{c-=u,r[f+(E>>w)+c]=C<<24|I<<16|N}while(0!==c);u=1<<v-1;while(E&u)u>>=1;if(0!==u?(E&=u-1,E+=u):E=0,g++,0===--T[v]){if(v===y)break;v=e[n+s[g]]}if(v>_&&(E&d)!==h){0===w&&(w=_),f+=m,b=v-w,k=1<<b;while(b+w<y){if(k-=T[b+w],k<=0)break;b++,k<<=1}if(x+=1<<b,t===Qn&&x>Kn||t===Jn&&x>Zn)return 1;h=E&d,r[h]=_<<24|b<<16|f-o}}return 0!==E&&(r[f+E]=v-w<<24|64<<16),a.bits=_,0};var oi=ri;const si=0,ai=1,li=2,{Z_FINISH:ui,Z_BLOCK:ci,Z_TREES:hi,Z_OK:di,Z_STREAM_END:fi,Z_NEED_DICT:pi,Z_STREAM_ERROR:vi,Z_DATA_ERROR:gi,Z_MEM_ERROR:mi,Z_BUF_ERROR:yi,Z_DEFLATED:_i}=Ot,bi=16180,wi=16181,ki=16182,xi=16183,Ei=16184,Si=16185,Ti=16186,Oi=16187,Ci=16188,Ii=16189,Ni=16190,Mi=16191,Ai=16192,Di=16193,Pi=16194,Ri=16195,Li=16196,Fi=16197,ji=16198,zi=16199,Bi=16200,Ui=16201,Hi=16202,Wi=16203,Yi=16204,Vi=16205,Gi=16206,$i=16207,qi=16208,Ki=16209,Zi=16210,Xi=16211,Qi=852,Ji=592,tr=15,er=tr,nr=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function ir(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const rr=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<bi||e.mode>Xi?1:0},or=t=>{if(rr(t))return vi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=bi,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Qi),e.distcode=e.distdyn=new Int32Array(Ji),e.sane=1,e.back=-1,di},sr=t=>{if(rr(t))return vi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,or(t)},ar=(t,e)=>{let n;if(rr(t))return vi;const i=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?vi:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,sr(t))},lr=(t,e)=>{if(!t)return vi;const n=new ir;t.state=n,n.strm=t,n.window=null,n.mode=bi;const i=ar(t,e);return i!==di&&(t.state=null),i},ur=t=>lr(t,er);let cr,hr,dr=!0;const fr=t=>{if(dr){cr=new Int32Array(512),hr=new Int32Array(32);let e=0;while(e<144)t.lens[e++]=8;while(e<256)t.lens[e++]=9;while(e<280)t.lens[e++]=7;while(e<288)t.lens[e++]=8;oi(ai,t.lens,0,288,cr,0,t.work,{bits:9}),e=0;while(e<32)t.lens[e++]=5;oi(li,t.lens,0,32,hr,0,t.work,{bits:5}),dr=!1}t.lencode=cr,t.lenbits=9,t.distcode=hr,t.distbits=5},pr=(t,e,n,i)=>{let r;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(e.subarray(n-i,n-i+r),o.wnext),i-=r,i?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},vr=(t,e)=>{let n,i,r,o,s,a,l,u,c,h,d,f,p,v,g,m,y,_,b,w,k,x,E=0;const S=new Uint8Array(4);let T,O;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rr(t)||!t.output||!t.input&&0!==t.avail_in)return vi;n=t.state,n.mode===Mi&&(n.mode=Ai),s=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,u=n.hold,c=n.bits,h=a,d=l,x=di;t:for(;;)switch(n.mode){case bi:if(0===n.wrap){n.mode=Ai;break}while(c<16){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&u,S[1]=u>>>8&255,n.check=St(n.check,S,2,0),u=0,c=0,n.mode=wi;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Ki;break}if((15&u)!==_i){t.msg="unknown compression method",n.mode=Ki;break}if(u>>>=4,c-=4,k=8+(15&u),0===n.wbits&&(n.wbits=k),k>15||k>n.wbits){t.msg="invalid window size",n.mode=Ki;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&u?Ii:Mi,u=0,c=0;break;case wi:while(c<16){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if(n.flags=u,(255&n.flags)!==_i){t.msg="unknown compression method",n.mode=Ki;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Ki;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&u,S[1]=u>>>8&255,n.check=St(n.check,S,2,0)),u=0,c=0,n.mode=ki;case ki:while(c<32){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(S[0]=255&u,S[1]=u>>>8&255,S[2]=u>>>16&255,S[3]=u>>>24&255,n.check=St(n.check,S,4,0)),u=0,c=0,n.mode=xi;case xi:while(c<16){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(S[0]=255&u,S[1]=u>>>8&255,n.check=St(n.check,S,2,0)),u=0,c=0,n.mode=Ei;case Ei:if(1024&n.flags){while(c<16){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(S[0]=255&u,S[1]=u>>>8&255,n.check=St(n.check,S,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=Si;case Si:if(1024&n.flags&&(f=n.length,f>a&&(f=a),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+f),k)),512&n.flags&&4&n.wrap&&(n.check=St(n.check,i,f,o)),a-=f,o+=f,n.length-=f),n.length))break t;n.length=0,n.mode=Ti;case Ti:if(2048&n.flags){if(0===a)break t;f=0;do{k=i[o+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=St(n.check,i,f,o)),a-=f,o+=f,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=Oi;case Oi:if(4096&n.flags){if(0===a)break t;f=0;do{k=i[o+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=St(n.check,i,f,o)),a-=f,o+=f,k)break t}else n.head&&(n.head.comment=null);n.mode=Ci;case Ci:if(512&n.flags){while(c<16){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if(4&n.wrap&&u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Ki;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Mi;break;case Ii:while(c<32){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}t.adler=n.check=nr(u),u=0,c=0,n.mode=Ni;case Ni:if(0===n.havedict)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,pi;t.adler=n.check=1,n.mode=Mi;case Mi:if(e===ci||e===hi)break t;case Ai:if(n.last){u>>>=7&c,c-=7&c,n.mode=Gi;break}while(c<3){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}switch(n.last=1&u,u>>>=1,c-=1,3&u){case 0:n.mode=Di;break;case 1:if(fr(n),n.mode=zi,e===hi){u>>>=2,c-=2;break t}break;case 2:n.mode=Li;break;case 3:t.msg="invalid block type",n.mode=Ki}u>>>=2,c-=2;break;case Di:u>>>=7&c,c-=7&c;while(c<32){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if((65535&u)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ki;break}if(n.length=65535&u,u=0,c=0,n.mode=Pi,e===hi)break t;case Pi:n.mode=Ri;case Ri:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),0===f)break t;r.set(i.subarray(o,o+f),s),a-=f,o+=f,l-=f,s+=f,n.length-=f;break}n.mode=Mi;break;case Li:while(c<14){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if(n.nlen=257+(31&u),u>>>=5,c-=5,n.ndist=1+(31&u),u>>>=5,c-=5,n.ncode=4+(15&u),u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ki;break}n.have=0,n.mode=Fi;case Fi:while(n.have<n.ncode){while(c<3){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}n.lens[C[n.have++]]=7&u,u>>>=3,c-=3}while(n.have<19)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},x=oi(si,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,x){t.msg="invalid code lengths set",n.mode=Ki;break}n.have=0,n.mode=ji;case ji:while(n.have<n.nlen+n.ndist){for(;;){if(E=n.lencode[u&(1<<n.lenbits)-1],g=E>>>24,m=E>>>16&255,y=65535&E,g<=c)break;if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if(y<16)u>>>=g,c-=g,n.lens[n.have++]=y;else{if(16===y){O=g+2;while(c<O){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if(u>>>=g,c-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=Ki;break}k=n.lens[n.have-1],f=3+(3&u),u>>>=2,c-=2}else if(17===y){O=g+3;while(c<O){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}u>>>=g,c-=g,k=0,f=3+(7&u),u>>>=3,c-=3}else{O=g+7;while(c<O){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}u>>>=g,c-=g,k=0,f=11+(127&u),u>>>=7,c-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ki;break}while(f--)n.lens[n.have++]=k}}if(n.mode===Ki)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Ki;break}if(n.lenbits=9,T={bits:n.lenbits},x=oi(ai,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,x){t.msg="invalid literal/lengths set",n.mode=Ki;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},x=oi(li,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,x){t.msg="invalid distances set",n.mode=Ki;break}if(n.mode=zi,e===hi)break t;case zi:n.mode=Bi;case Bi:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,$n(t,d),s=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===Mi&&(n.back=-1);break}for(n.back=0;;){if(E=n.lencode[u&(1<<n.lenbits)-1],g=E>>>24,m=E>>>16&255,y=65535&E,g<=c)break;if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if(m&&0===(240&m)){for(_=g,b=m,w=y;;){if(E=n.lencode[w+((u&(1<<_+b)-1)>>_)],g=E>>>24,m=E>>>16&255,y=65535&E,_+g<=c)break;if(0===a)break t;a--,u+=i[o++]<<c,c+=8}u>>>=_,c-=_,n.back+=_}if(u>>>=g,c-=g,n.back+=g,n.length=y,0===m){n.mode=Vi;break}if(32&m){n.back=-1,n.mode=Mi;break}if(64&m){t.msg="invalid literal/length code",n.mode=Ki;break}n.extra=15&m,n.mode=Ui;case Ui:if(n.extra){O=n.extra;while(c<O){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Hi;case Hi:for(;;){if(E=n.distcode[u&(1<<n.distbits)-1],g=E>>>24,m=E>>>16&255,y=65535&E,g<=c)break;if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if(0===(240&m)){for(_=g,b=m,w=y;;){if(E=n.distcode[w+((u&(1<<_+b)-1)>>_)],g=E>>>24,m=E>>>16&255,y=65535&E,_+g<=c)break;if(0===a)break t;a--,u+=i[o++]<<c,c+=8}u>>>=_,c-=_,n.back+=_}if(u>>>=g,c-=g,n.back+=g,64&m){t.msg="invalid distance code",n.mode=Ki;break}n.offset=y,n.extra=15&m,n.mode=Wi;case Wi:if(n.extra){O=n.extra;while(c<O){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ki;break}n.mode=Yi;case Yi:if(0===l)break t;if(f=d-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ki;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),v=n.window}else v=r,p=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{r[s++]=v[p++]}while(--f);0===n.length&&(n.mode=Bi);break;case Vi:if(0===l)break t;r[s++]=n.length,l--,n.mode=Bi;break;case Gi:if(n.wrap){while(c<32){if(0===a)break t;a--,u|=i[o++]<<c,c+=8}if(d-=l,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?St(n.check,r,d,s-d):wt(n.check,r,d,s-d)),d=l,4&n.wrap&&(n.flags?u:nr(u))!==n.check){t.msg="incorrect data check",n.mode=Ki;break}u=0,c=0}n.mode=$i;case $i:if(n.wrap&&n.flags){while(c<32){if(0===a)break t;a--,u+=i[o++]<<c,c+=8}if(4&n.wrap&&u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Ki;break}u=0,c=0}n.mode=qi;case qi:x=fi;break t;case Ki:x=gi;break t;case Zi:return mi;case Xi:default:return vi}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||d!==t.avail_out&&n.mode<Ki&&(n.mode<Gi||e!==ui))&&pr(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?St(n.check,r,d,t.next_out-d):wt(n.check,r,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Mi?128:0)+(n.mode===zi||n.mode===Pi?256:0),(0===h&&0===d||e===ui)&&x===di&&(x=yi),x},gr=t=>{if(rr(t))return vi;let e=t.state;return e.window&&(e.window=null),t.state=null,di},mr=(t,e)=>{if(rr(t))return vi;const n=t.state;return 0===(2&n.wrap)?vi:(n.head=e,e.done=!1,di)},yr=(t,e)=>{const n=e.length;let i,r,o;return rr(t)?vi:(i=t.state,0!==i.wrap&&i.mode!==Ni?vi:i.mode===Ni&&(r=1,r=wt(r,e,n,0),r!==i.check)?gi:(o=pr(t,e,n,n),o?(i.mode=Zi,mi):(i.havedict=1,di)))};var _r=sr,br=ar,wr=or,kr=ur,xr=lr,Er=vr,Sr=gr,Tr=mr,Or=yr,Cr="pako inflate (from Nodeca project)",Ir={inflateReset:_r,inflateReset2:br,inflateResetKeep:wr,inflateInit:kr,inflateInit2:xr,inflate:Er,inflateEnd:Sr,inflateGetHeader:Tr,inflateSetDictionary:Or,inflateInfo:Cr};function Nr(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Mr=Nr;const Ar=Object.prototype.toString,{Z_NO_FLUSH:Dr,Z_FINISH:Pr,Z_OK:Rr,Z_STREAM_END:Lr,Z_NEED_DICT:Fr,Z_STREAM_ERROR:jr,Z_DATA_ERROR:zr,Z_MEM_ERROR:Br}=Ot;function Ur(t){this.options=vn.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new En,this.strm.avail_out=0;let n=Ir.inflateInit2(this.strm,e.windowBits);if(n!==Rr)throw new Error(Tt[n]);if(this.header=new Mr,Ir.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=kn.string2buf(e.dictionary):"[object ArrayBuffer]"===Ar.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ir.inflateSetDictionary(this.strm,e.dictionary),n!==Rr)))throw new Error(Tt[n])}function Hr(t,e){const n=new Ur(e);if(n.push(t),n.err)throw n.msg||Tt[n.err];return n.result}function Wr(t,e){return e=e||{},e.raw=!0,Hr(t,e)}Ur.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Pr:Dr,"[object ArrayBuffer]"===Ar.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=Ir.inflate(n,s),o===Fr&&r&&(o=Ir.inflateSetDictionary(n,r),o===Rr?o=Ir.inflate(n,s):o===zr&&(o=Fr));while(n.avail_in>0&&o===Lr&&n.state.wrap>0&&0!==t[n.next_in])Ir.inflateReset(n),o=Ir.inflate(n,s);switch(o){case jr:case zr:case Fr:case Br:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===Lr))if("string"===this.options.to){let t=kn.utf8border(n.output,n.next_out),e=n.next_out-t,r=kn.buf2string(n.output,t);n.next_out=e,n.avail_out=i-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Rr||0!==a){if(o===Lr)return o=Ir.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Ur.prototype.onData=function(t){this.chunks.push(t)},Ur.prototype.onEnd=function(t){t===Rr&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=vn.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Yr=Ur,Vr=Hr,Gr=Wr,$r=Hr,qr=Ot,Kr={Inflate:Yr,inflate:Vr,inflateRaw:Gr,ungzip:$r,constants:qr};const{Deflate:Zr,deflate:Xr,deflateRaw:Qr,gzip:Jr}=Yn,{Inflate:to,inflate:eo,inflateRaw:no,ungzip:io}=Kr;var ro=Zr,oo=Xr,so=Qr,ao=Jr,lo=to,uo=eo,co=no,ho=io,fo=Ot,po={Deflate:ro,deflate:oo,deflateRaw:so,gzip:ao,Inflate:lo,inflate:uo,inflateRaw:co,ungzip:ho,constants:fo}},1635:(t,e,n)=>{"use strict";n.d(e,{C6:()=>r,Tt:()=>o});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError}}]);
//# sourceMappingURL=chunk-vendors.b02b8784.js.map